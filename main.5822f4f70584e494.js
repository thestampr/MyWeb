"use strict";(self.webpackChunkresume=self.webpackChunkresume||[]).push([[179],{863:()=>{function Ft(n){return"function"==typeof n}function xu(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Nh=xu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function cl(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Jt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(Ft(i))try{i()}catch(s){e=s instanceof Nh?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{UM(s)}catch(o){e=e??[],o instanceof Nh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Nh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)UM(e);else{if(e instanceof Jt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&cl(t,e)}remove(e){const{_finalizers:t}=this;t&&cl(t,e),e instanceof Jt&&e._removeParent(this)}}Jt.EMPTY=(()=>{const n=new Jt;return n.closed=!0,n})();const FM=Jt.EMPTY;function BM(n){return n instanceof Jt||n&&"closed"in n&&Ft(n.remove)&&Ft(n.add)&&Ft(n.unsubscribe)}function UM(n){Ft(n)?n():n.unsubscribe()}const ia={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Fh={setTimeout(n,e,...t){const{delegate:i}=Fh;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Fh;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function zM(n){Fh.setTimeout(()=>{const{onUnhandledError:e}=ia;if(!e)throw n;e(n)})}function s_(){}const YN=o_("C",void 0,void 0);function o_(n,e,t){return{kind:n,value:e,error:t}}let ra=null;function Bh(n){if(ia.useDeprecatedSynchronousErrorHandling){const e=!ra;if(e&&(ra={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=ra;if(ra=null,t)throw i}}else n()}class a_ extends Jt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,BM(e)&&e.add(this)):this.destination=nF}static create(e,t,i){return new wu(e,t,i)}next(e){this.isStopped?c_(function ZN(n){return o_("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?c_(function KN(n){return o_("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?c_(YN,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const JN=Function.prototype.bind;function l_(n,e){return JN.call(n,e)}class eF{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Uh(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Uh(i)}else Uh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Uh(t)}}}class wu extends a_{constructor(e,t,i){let r;if(super(),Ft(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&ia.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&l_(e.next,s),error:e.error&&l_(e.error,s),complete:e.complete&&l_(e.complete,s)}):r=e}this.destination=new eF(r)}}function Uh(n){ia.useDeprecatedSynchronousErrorHandling?function QN(n){ia.useDeprecatedSynchronousErrorHandling&&ra&&(ra.errorThrown=!0,ra.error=n)}(n):zM(n)}function c_(n,e){const{onStoppedNotification:t}=ia;t&&Fh.setTimeout(()=>t(n,e))}const nF={closed:!0,next:s_,error:function tF(n){throw n},complete:s_},u_="function"==typeof Symbol&&Symbol.observable||"@@observable";function xo(n){return n}function HM(n){return 0===n.length?xo:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let Xt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const s=function sF(n){return n&&n instanceof a_||function rF(n){return n&&Ft(n.next)&&Ft(n.error)&&Ft(n.complete)}(n)&&BM(n)}(t)?t:new wu(t,i,r);return Bh(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=VM(i))((r,s)=>{const o=new wu({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[u_](){return this}pipe(...t){return HM(t)(this)}toPromise(t){return new(t=VM(t))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function VM(n){var e;return null!==(e=n??ia.Promise)&&void 0!==e?e:Promise}const oF=xu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Re=(()=>{class n extends Xt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new GM(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new oF}next(t){Bh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Bh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Bh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:s}=this;return i||r?FM:(this.currentObservers=null,s.push(t),new Jt(()=>{this.currentObservers=null,cl(s,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){const t=new Xt;return t.source=this,t}}return n.create=(e,t)=>new GM(e,t),n})();class GM extends Re{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:FM}}function WM(n){return Ft(n?.lift)}function pn(n){return e=>{if(WM(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ln(n,e,t,i,r){return new aF(n,e,t,i,r)}class aF extends a_{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Qe(n,e){return pn((t,i)=>{let r=0;t.subscribe(ln(i,s=>{i.next(n.call(e,s,r++))}))})}function sa(n){return this instanceof sa?(this.v=n,this):new sa(n)}function dF(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function XM(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}const h_=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function qM(n){return Ft(n?.then)}function YM(n){return Ft(n[u_])}function KM(n){return Symbol.asyncIterator&&Ft(n?.[Symbol.asyncIterator])}function ZM(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const QM=function fF(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function JM(n){return Ft(n?.[QM])}function eE(n){return function uF(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){i[h]&&(r[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof sa?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(i[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield sa(t.read());if(r)return yield sa(void 0);yield yield sa(i)}}finally{t.releaseLock()}})}function tE(n){return Ft(n?.getReader)}function ti(n){if(n instanceof Xt)return n;if(null!=n){if(YM(n))return function pF(n){return new Xt(e=>{const t=n[u_]();if(Ft(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(h_(n))return function mF(n){return new Xt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(qM(n))return function gF(n){return new Xt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,zM)})}(n);if(KM(n))return nE(n);if(JM(n))return function _F(n){return new Xt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(tE(n))return function vF(n){return nE(eE(n))}(n)}throw ZM(n)}function nE(n){return new Xt(e=>{(function yF(n,e){var t,i,r,s;return function lF(n,e,t,i){return new(t||(t=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function r(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=dF(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Ds(n,e,t,i=0,r=!1){const s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function mn(n,e,t=1/0){return Ft(e)?mn((i,r)=>Qe((s,o)=>e(i,s,r,o))(ti(n(i,r))),t):("number"==typeof e&&(t=e),pn((i,r)=>function bF(n,e,t,i,r,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=g=>c<i?p(g):l.push(g),p=g=>{s&&e.next(g),c++;let _=!1;ti(t(g,u++)).subscribe(ln(e,m=>{r?.(m),s?f(m):e.next(m)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<i;){const m=l.shift();o?Ds(e,o,()=>p(m)):p(m)}h()}catch(m){e.error(m)}}))};return n.subscribe(ln(e,f,()=>{d=!0,h()})),()=>{a?.()}}(i,r,n,t)))}function Is(n=1/0){return mn(xo,n)}const Or=new Xt(n=>n.complete());function iE(n){return n&&Ft(n.schedule)}function f_(n){return n[n.length-1]}function rE(n){return Ft(f_(n))?n.pop():void 0}function Mu(n){return iE(f_(n))?n.pop():void 0}function sE(n,e=0){return pn((t,i)=>{t.subscribe(ln(i,r=>Ds(i,n,()=>i.next(r),e),()=>Ds(i,n,()=>i.complete(),e),r=>Ds(i,n,()=>i.error(r),e)))})}function oE(n,e=0){return pn((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function aE(n,e){if(!n)throw new Error("Iterable cannot be null");return new Xt(t=>{Ds(t,e,()=>{const i=n[Symbol.asyncIterator]();Ds(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Vn(n,e){return e?function AF(n,e){if(null!=n){if(YM(n))return function MF(n,e){return ti(n).pipe(oE(e),sE(e))}(n,e);if(h_(n))return function SF(n,e){return new Xt(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(qM(n))return function EF(n,e){return ti(n).pipe(oE(e),sE(e))}(n,e);if(KM(n))return aE(n,e);if(JM(n))return function CF(n,e){return new Xt(t=>{let i;return Ds(t,e,()=>{i=n[QM](),Ds(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void t.error(o)}s?t.complete():t.next(r)},0,!0)}),()=>Ft(i?.return)&&i.return()})}(n,e);if(tE(n))return function TF(n,e){return aE(eE(n),e)}(n,e)}throw ZM(n)}(n,e):ti(n)}function Rs(...n){const e=Mu(n),t=function wF(n,e){return"number"==typeof f_(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?ti(i[0]):Is(t)(Vn(i,e)):Or}function lE(n={}){const{connector:e=(()=>new Re),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return pn((g,_)=>{c++,!d&&!u&&h();const m=l=l??e();_.add(()=>{c--,0===c&&!d&&!u&&(a=p_(p,r))}),m.subscribe(_),!o&&c>0&&(o=new wu({next:y=>m.next(y),error:y=>{d=!0,h(),a=p_(f,t,y),m.error(y)},complete:()=>{u=!0,h(),a=p_(f,i),m.complete()}}),ti(g).subscribe(o))})(s)}}function p_(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new wu({next:()=>{i.unsubscribe(),n()}});return ti(e(...t)).subscribe(i)}function Kt(n){for(let e in n)if(n[e]===Kt)return e;throw Error("Could not find renamed property on target object.")}function m_(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function en(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(en).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function g_(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const DF=Kt({__forward_ref__:Kt});function __(n){return n.__forward_ref__=__,n.toString=function(){return en(this())},n}function Je(n){return v_(n)?n():n}function v_(n){return"function"==typeof n&&n.hasOwnProperty(DF)&&n.__forward_ref__===__}function y_(n){return n&&!!n.\u0275providers}const zh="https://g.co/ng/security#xss";class ce extends Error{constructor(e,t){super(Hh(e,t)),this.code=e}}function Hh(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function lt(n){return"string"==typeof n?n:null==n?"":String(n)}function Vh(n,e){throw new ce(-201,!1)}function fr(n,e){null==n&&function Wt(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function ve(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ut(n){return{providers:n.providers||[],imports:n.imports||[]}}function Gh(n){return cE(n,Wh)||cE(n,dE)}function cE(n,e){return n.hasOwnProperty(e)?n[e]:null}function uE(n){return n&&(n.hasOwnProperty(b_)||n.hasOwnProperty(BF))?n[b_]:null}const Wh=Kt({\u0275prov:Kt}),b_=Kt({\u0275inj:Kt}),dE=Kt({ngInjectableDef:Kt}),BF=Kt({ngInjectorDef:Kt});var et=(()=>((et=et||{})[et.Default=0]="Default",et[et.Host=1]="Host",et[et.Self=2]="Self",et[et.SkipSelf=4]="SkipSelf",et[et.Optional=8]="Optional",et))();let x_;function pr(n){const e=x_;return x_=n,e}function hE(n,e,t){const i=Gh(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&et.Optional?null:void 0!==e?e:void Vh(en(n))}const on=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Eu={},w_="__NG_DI_FLAG__",jh="ngTempTokenPath",zF="ngTokenPath",HF=/\n/gm,VF="\u0275",fE="__source";let Su;function ul(n){const e=Su;return Su=n,e}function GF(n,e=et.Default){if(void 0===Su)throw new ce(-203,!1);return null===Su?hE(n,void 0,e):Su.get(n,e&et.Optional?null:void 0,e)}function W(n,e=et.Default){return(function UF(){return x_}()||GF)(Je(n),e)}function we(n,e=et.Default){return W(n,$h(e))}function $h(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function M_(n){const e=[];for(let t=0;t<n.length;t++){const i=Je(n[t]);if(Array.isArray(i)){if(0===i.length)throw new ce(900,!1);let r,s=et.Default;for(let o=0;o<i.length;o++){const a=i[o],l=WF(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}e.push(W(r,s))}else e.push(W(i))}return e}function Cu(n,e){return n[w_]=e,n.prototype[w_]=e,n}function WF(n){return n[w_]}function Ps(n){return{toString:n}.toString()}var es=(()=>((es=es||{})[es.OnPush=0]="OnPush",es[es.Default=1]="Default",es))(),Lr=(()=>{return(n=Lr||(Lr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Lr;var n})();const Os={},zt=[],Xh=Kt({\u0275cmp:Kt}),E_=Kt({\u0275dir:Kt}),S_=Kt({\u0275pipe:Kt}),mE=Kt({\u0275mod:Kt}),Ls=Kt({\u0275fac:Kt}),Tu=Kt({__NG_ELEMENT_ID__:Kt});let XF=0;function tn(n){return Ps(()=>{const e=_E(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===es.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Lr.Emulated,id:"c"+XF++,styles:n.styles||zt,_:null,schemas:n.schemas||null,tView:null};vE(t);const i=n.dependencies;return t.directiveDefs=qh(i,!1),t.pipeDefs=qh(i,!0),t})}function YF(n){return $t(n)||ai(n)}function KF(n){return null!==n}function jt(n){return Ps(()=>({type:n.type,bootstrap:n.bootstrap||zt,declarations:n.declarations||zt,imports:n.imports||zt,exports:n.exports||zt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function gE(n,e){if(null==n)return Os;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,e&&(e[r]=s)}return t}function Ke(n){return Ps(()=>{const e=_E(n);return vE(e),e})}function $t(n){return n[Xh]||null}function ai(n){return n[E_]||null}function Fi(n){return n[S_]||null}function Ki(n,e){const t=n[mE]||null;if(!t&&!0===e)throw new Error(`Type ${en(n)} does not have '\u0275mod' property.`);return t}function _E(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||zt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gE(n.inputs,e),outputs:gE(n.outputs)}}function vE(n){n.features?.forEach(e=>e(n))}function qh(n,e){if(!n)return null;const t=e?Fi:YF;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(KF)}const ks=0,Pe=1,gt=2,gn=3,kr=4,oa=5,li=6,hl=7,Sn=8,Yh=9,Kh=10,vt=11,C_=12,Au=13,yE=14,fl=15,ci=16,Du=17,pl=18,ts=19,Iu=20,bE=21,an=22,T_=1,xE=2,Zh=7,Qh=8,ml=9,bi=10;function Zi(n){return Array.isArray(n)&&"object"==typeof n[T_]}function Nr(n){return Array.isArray(n)&&!0===n[T_]}function A_(n){return 0!=(4&n.flags)}function Ru(n){return n.componentOffset>-1}function Jh(n){return 1==(1&n.flags)}function Fr(n){return!!n.template}function QF(n){return 0!=(256&n[gt])}function aa(n,e){return n.hasOwnProperty(Ls)?n[Ls]:null}class t2{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function ns(){return EE}function EE(n){return n.type.prototype.ngOnChanges&&(n.setInput=r2),n2}function n2(){const n=CE(this),e=n?.current;if(e){const t=n.previous;if(t===Os)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function r2(n,e,t,i){const r=this.declaredInputs[t],s=CE(n)||function s2(n,e){return n[SE]=e}(n,{previous:Os,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new t2(l&&l.currentValue,e,a===Os),n[i]=e}ns.ngInherit=!0;const SE="__ngSimpleChanges__";function CE(n){return n[SE]||null}const mr=function(n,e,t){};function ni(n){for(;Array.isArray(n);)n=n[ks];return n}function ef(n,e){return ni(e[n])}function Qi(n,e){return ni(e[n.index])}function DE(n,e){return n.data[e]}function Bi(n,e){const t=e[n];return Zi(t)?t:t[ks]}function tf(n){return 64==(64&n[gt])}function Mo(n,e){return null==e?null:n[e]}function IE(n){n[pl]=0}function I_(n,e){n[oa]+=e;let t=n,i=n[gn];for(;null!==i&&(1===e&&1===t[oa]||-1===e&&0===t[oa]);)i[oa]+=e,t=i,i=i[gn]}const ct={lFrame:zE(null),bindingsEnabled:!0};function PE(){return ct.bindingsEnabled}function ue(){return ct.lFrame.lView}function Ot(){return ct.lFrame.tView}function _l(n){return ct.lFrame.contextLView=n,n[Sn]}function vl(n){return ct.lFrame.contextLView=null,n}function ii(){let n=OE();for(;null!==n&&64===n.type;)n=n.parent;return n}function OE(){return ct.lFrame.currentTNode}function is(n,e){const t=ct.lFrame;t.currentTNode=n,t.isParent=e}function R_(){return ct.lFrame.isParent}function P_(){ct.lFrame.isParent=!1}function xi(){const n=ct.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function yl(){return ct.lFrame.bindingIndex++}function Fs(n){const e=ct.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function v2(n,e){const t=ct.lFrame;t.bindingIndex=t.bindingRootIndex=n,O_(e)}function O_(n){ct.lFrame.currentDirectiveIndex=n}function L_(n){const e=ct.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function FE(){return ct.lFrame.currentQueryIndex}function k_(n){ct.lFrame.currentQueryIndex=n}function b2(n){const e=n[Pe];return 2===e.type?e.declTNode:1===e.type?n[li]:null}function BE(n,e,t){if(t&et.SkipSelf){let r=e,s=n;for(;!(r=r.parent,null!==r||t&et.Host||(r=b2(s),null===r||(s=s[fl],10&r.type))););if(null===r)return!1;e=r,n=s}const i=ct.lFrame=UE();return i.currentTNode=e,i.lView=n,!0}function N_(n){const e=UE(),t=n[Pe];ct.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function UE(){const n=ct.lFrame,e=null===n?null:n.child;return null===e?zE(n):e}function zE(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function HE(){const n=ct.lFrame;return ct.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const VE=HE;function F_(){const n=HE();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function wi(){return ct.lFrame.selectedIndex}function la(n){ct.lFrame.selectedIndex=n}function un(){const n=ct.lFrame;return DE(n.tView,n.selectedIndex)}function nf(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks??(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks??(n.viewHooks=[])).push(t,c),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks??(n.destroyHooks=[])).push(t,u)}}function rf(n,e,t){GE(n,e,3,t)}function sf(n,e,t,i){(3&n[gt])===t&&GE(n,e,t,i)}function B_(n,e){let t=n[gt];(3&t)===e&&(t&=2047,t+=1,n[gt]=t)}function GE(n,e,t,i){const s=i??-1,o=e.length-1;let a=0;for(let l=void 0!==i?65535&n[pl]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[pl]+=65536),(a<s||-1==s)&&(D2(n,t,e,l),n[pl]=(4294901760&n[pl])+l+2),l++}function D2(n,e,t,i){const r=t[i]<0,s=t[i+1],a=n[r?-t[i]:t[i]];if(r){if(n[gt]>>11<n[pl]>>16&&(3&n[gt])===e){n[gt]+=2048,mr(4,a,s);try{s.call(a)}finally{mr(5,a,s)}}}else{mr(4,a,s);try{s.call(a)}finally{mr(5,a,s)}}}const bl=-1;class Ou{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function z_(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{const s=r,o=t[++i];jE(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function WE(n){return 3===n||4===n||6===n}function jE(n){return 64===n.charCodeAt(0)}function Lu(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||$E(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function $E(n,e,t,i,r){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function XE(n){return n!==bl}function af(n){return 32767&n}function lf(n,e){let t=function O2(n){return n>>16}(n),i=e;for(;t>0;)i=i[fl],t--;return i}let H_=!0;function cf(n){const e=H_;return H_=n,e}const qE=255,YE=5;let L2=0;const rs={};function uf(n,e){const t=KE(n,e);if(-1!==t)return t;const i=e[Pe];i.firstCreatePass&&(n.injectorIndex=e.length,V_(i.data,n),V_(e,null),V_(i.blueprint,null));const r=G_(n,e),s=n.injectorIndex;if(XE(r)){const o=af(r),a=lf(r,e),l=a[Pe].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function V_(n,e){n.push(0,0,0,0,0,0,0,0,e)}function KE(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function G_(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=iS(r),null===i)return bl;if(t++,r=r[fl],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return bl}function W_(n,e,t){!function k2(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Tu)&&(i=t[Tu]),null==i&&(i=t[Tu]=L2++);const r=i&qE;e.data[n+(r>>YE)]|=1<<r}(n,e,t)}function ZE(n,e,t){if(t&et.Optional||void 0!==n)return n;Vh()}function QE(n,e,t,i){if(t&et.Optional&&void 0===i&&(i=null),!(t&(et.Self|et.Host))){const r=n[Yh],s=pr(void 0);try{return r?r.get(e,i,t&et.Optional):hE(e,i,t&et.Optional)}finally{pr(s)}}return ZE(i,0,t)}function JE(n,e,t,i=et.Default,r){if(null!==n){if(1024&e[gt]){const o=function z2(n,e,t,i,r){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[gt]&&!(256&o[gt]);){const a=eS(s,o,t,i|et.Self,rs);if(a!==rs)return a;let l=s.parent;if(!l){const c=o[bE];if(c){const u=c.get(t,rs,i);if(u!==rs)return u}l=iS(o),o=o[fl]}s=l}return r}(n,e,t,i,rs);if(o!==rs)return o}const s=eS(n,e,t,i,rs);if(s!==rs)return s}return QE(e,t,i,r)}function eS(n,e,t,i,r){const s=function B2(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Tu)?n[Tu]:void 0;return"number"==typeof e?e>=0?e&qE:U2:e}(t);if("function"==typeof s){if(!BE(e,n,i))return i&et.Host?ZE(r,0,i):QE(e,t,i,r);try{const o=s(i);if(null!=o||i&et.Optional)return o;Vh()}finally{VE()}}else if("number"==typeof s){let o=null,a=KE(n,e),l=bl,c=i&et.Host?e[ci][li]:null;for((-1===a||i&et.SkipSelf)&&(l=-1===a?G_(n,e):e[a+8],l!==bl&&nS(i,!1)?(o=e[Pe],a=af(l),e=lf(l,e)):a=-1);-1!==a;){const u=e[Pe];if(tS(s,a,u.data)){const d=F2(a,e,t,o,i,c);if(d!==rs)return d}l=e[a+8],l!==bl&&nS(i,e[Pe].data[a+8]===c)&&tS(s,a,e)?(o=u,a=af(l),e=lf(l,e)):a=-1}}return r}function F2(n,e,t,i,r,s){const o=e[Pe],a=o.data[n+8],u=df(a,o,t,null==i?Ru(a)&&H_:i!=o&&0!=(3&a.type),r&et.Host&&s===a);return null!==u?ca(e,o,u,a):rs}function df(n,e,t,i,r){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(r){const f=o[l];if(f&&Fr(f)&&f.type===t)return l}return null}function ca(n,e,t,i){let r=n[t];const s=e.data;if(function I2(n){return n instanceof Ou}(r)){const o=r;o.resolving&&function IF(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ce(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Gt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():lt(n)}(s[t]));const a=cf(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?pr(o.injectImpl):null;BE(n,i,et.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&function A2(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const o=EE(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o)}r&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,r),s&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&pr(l),cf(a),o.resolving=!1,VE()}}return r}function tS(n,e,t){return!!(t[e+(n>>YE)]&1<<n)}function nS(n,e){return!(n&et.Self||n&et.Host&&e)}class xl{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return JE(this._tNode,this._lView,e,$h(i),t)}}function U2(){return new xl(ii(),ue())}function Eo(n){return Ps(()=>{const e=n.prototype.constructor,t=e[Ls]||j_(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[Ls]||j_(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function j_(n){return v_(n)?()=>{const e=j_(Je(n));return e&&e()}:aa(n)}function iS(n){const e=n[Pe],t=e.type;return 2===t?e.declTNode:1===t?n[li]:null}function wl(n){return function N2(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const s=t[r];if(WE(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(s===e)return t[r+1];r+=2}}}return null}(ii(),n)}const El="__parameters__";function Cl(n,e,t){return Ps(()=>{const i=function $_(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(El)?l[El]:Object.defineProperty(l,El,{value:[]})[El];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class pe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ve({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ua(n,e){n.forEach(t=>Array.isArray(t)?ua(t,e):e(t))}function sS(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function hf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Fu(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function Ji(n,e,t){let i=Tl(n,e);return i>=0?n[1|i]=t:(i=~i,function W2(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function q_(n,e){const t=Tl(n,e);if(t>=0)return n[1|t]}function Tl(n,e){return function oS(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}(n,e,1)}const Al=Cu(Cl("Inject",n=>({token:n})),-1),Br=Cu(Cl("Optional"),8),So=Cu(Cl("SkipSelf"),4);var Ui=(()=>((Ui=Ui||{})[Ui.Important=1]="Important",Ui[Ui.DashCase=2]="DashCase",Ui))();const J_=new Map;let hB=0;const tv="__ngContext__";function ui(n,e){Zi(e)?(n[tv]=e[Iu],function pB(n){J_.set(n[Iu],n)}(e)):n[tv]=e}let nv;function iv(n,e){return nv(n,e)}function Hu(n){const e=n[gn];return Nr(e)?e[gn]:e}function rv(n){return CS(n[Au])}function sv(n){return CS(n[kr])}function CS(n){for(;null!==n&&!Nr(n);)n=n[kr];return n}function Il(n,e,t,i,r){if(null!=i){let s,o=!1;Nr(i)?s=i:Zi(i)&&(o=!0,i=i[ks]);const a=ni(i);0===n&&null!==t?null==r?PS(e,t,a):da(e,t,a,r||null,!0):1===n&&null!==t?da(e,t,a,r||null,!0):2===n?function hv(n,e,t){const i=gf(n,e);i&&function LB(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function FB(n,e,t,i,r){const s=t[Zh];s!==ni(t)&&Il(e,n,i,s,r);for(let a=bi;a<t.length;a++){const l=t[a];Vu(l[Pe],l,n,e,i,s)}}(e,n,s,t,r)}}function av(n,e,t){return n.createElement(e,t)}function AS(n,e){const t=n[ml],i=t.indexOf(e),r=e[gn];512&e[gt]&&(e[gt]&=-513,I_(r,-1)),t.splice(i,1)}function lv(n,e){if(n.length<=bi)return;const t=bi+e,i=n[t];if(i){const r=i[Du];null!==r&&r!==n&&AS(r,i),e>0&&(n[t-1][kr]=i[kr]);const s=hf(n,bi+e);!function CB(n,e){Vu(n,e,e[vt],2,null,null),e[ks]=null,e[li]=null}(i[Pe],i);const o=s[ts];null!==o&&o.detachView(s[Pe]),i[gn]=null,i[kr]=null,i[gt]&=-65}return i}function DS(n,e){if(!(128&e[gt])){const t=e[vt];t.destroyNode&&Vu(n,e,t,3,null,null),function DB(n){let e=n[Au];if(!e)return cv(n[Pe],n);for(;e;){let t=null;if(Zi(e))t=e[Au];else{const i=e[bi];i&&(t=i)}if(!t){for(;e&&!e[kr]&&e!==n;)Zi(e)&&cv(e[Pe],e),e=e[gn];null===e&&(e=n),Zi(e)&&cv(e[Pe],e),t=e&&e[kr]}e=t}}(e)}}function cv(n,e){if(!(128&e[gt])){e[gt]&=-65,e[gt]|=128,function OB(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof Ou)){const s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];mr(4,a,l);try{l.call(a)}finally{mr(5,a,l)}}else{mr(4,r,s);try{s.call(r)}finally{mr(5,r,s)}}}}}(n,e),function PB(n,e){const t=n.cleanup,i=e[hl];let r=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?i[r=o]():i[r=-o].unsubscribe(),s+=2}else{const o=i[r=t[s+1]];t[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)(0,i[s])();e[hl]=null}}(n,e),1===e[Pe].type&&e[vt].destroy();const t=e[Du];if(null!==t&&Nr(e[gn])){t!==e[gn]&&AS(t,e);const i=e[ts];null!==i&&i.detachView(n)}!function mB(n){J_.delete(n[Iu])}(e)}}function IS(n,e,t){return function RS(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[ks];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===Lr.None||s===Lr.Emulated)return null}return Qi(i,t)}}(n,e.parent,t)}function da(n,e,t,i,r){n.insertBefore(e,t,i,r)}function PS(n,e,t){n.appendChild(e,t)}function OS(n,e,t,i,r){null!==i?da(n,e,t,i,r):PS(n,e,t)}function gf(n,e){return n.parentNode(e)}function LS(n,e,t){return NS(n,e,t)}let uv,yf,mv,NS=function kS(n,e,t){return 40&n.type?Qi(n,t):null};function _f(n,e,t,i){const r=IS(n,i,e),s=e[vt],a=LS(i.parent||e[li],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)OS(s,r,t[l],a,!1);else OS(s,r,t,a,!1);void 0!==uv&&uv(s,i,e,t,r)}function vf(n,e){if(null!==e){const t=e.type;if(3&t)return Qi(e,n);if(4&t)return dv(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return vf(n,i);{const r=n[e.index];return Nr(r)?dv(-1,r):ni(r)}}if(32&t)return iv(e,n)()||ni(n[e.index]);{const i=BS(n,e);return null!==i?Array.isArray(i)?i[0]:vf(Hu(n[ci]),i):vf(n,e.next)}}return null}function BS(n,e){return null!==e?n[ci][li].projection[e.projection]:null}function dv(n,e){const t=bi+n+1;if(t<e.length){const i=e[t],r=i[Pe].firstChild;if(null!==r)return vf(i,r)}return e[Zh]}function fv(n,e,t,i,r,s,o){for(;null!=t;){const a=i[t.index],l=t.type;if(o&&0===e&&(a&&ui(ni(a),i),t.flags|=2),32!=(32&t.flags))if(8&l)fv(n,e,t.child,i,r,s,!1),Il(e,n,r,a,s);else if(32&l){const c=iv(t,i);let u;for(;u=c();)Il(e,n,r,u,s);Il(e,n,r,a,s)}else 16&l?US(n,e,i,t,r,s):Il(e,n,r,a,s);t=o?t.projectionNext:t.next}}function Vu(n,e,t,i,r,s){fv(t,i,n.firstChild,e,r,s,!1)}function US(n,e,t,i,r,s){const o=t[ci],l=o[li].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Il(e,n,r,l[c],s);else fv(n,e,l,o[gn],r,s,!0)}function zS(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function HS(n,e,t){const{mergedAttrs:i,classes:r,styles:s}=t;null!==i&&z_(n,e,i),null!==r&&zS(n,e,r),null!==s&&function UB(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function Rl(n){return function pv(){if(void 0===yf&&(yf=null,on.trustedTypes))try{yf=on.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return yf}()?.createHTML(n)||n}class ha{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${zh})`}}class WB extends ha{getTypeName(){return"HTML"}}class jB extends ha{getTypeName(){return"Style"}}class $B extends ha{getTypeName(){return"Script"}}class XB extends ha{getTypeName(){return"URL"}}class qB extends ha{getTypeName(){return"ResourceURL"}}function er(n){return n instanceof ha?n.changingThisBreaksApplicationSecurity:n}function ss(n,e){const t=function YB(n){return n instanceof ha&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${zh})`)}return t===e}class tU{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Rl(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class nU{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Rl(e),t}}const rU=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xf(n){return(n=String(n)).match(rU)?n:"unsafe:"+n}function Bs(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Gu(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const XS=Bs("area,br,col,hr,img,wbr"),qS=Bs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),YS=Bs("rp,rt"),_v=Gu(XS,Gu(qS,Bs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gu(YS,Bs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gu(YS,qS)),vv=Bs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),KS=Gu(vv,Bs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sU=Bs("script,style,template");class oU{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!_v.hasOwnProperty(t))return this.sanitizedSomething=!0,!sU.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!KS.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;vv[a]&&(l=xf(l)),this.buf.push(" ",o,'="',ZS(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();_v.hasOwnProperty(t)&&!XS.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(ZS(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const aU=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lU=/([^\#-~ |!])/g;function ZS(n){return n.replace(/&/g,"&amp;").replace(aU,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(lU,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let wf;function QS(n,e){let t=null;try{wf=wf||function $S(n){const e=new nU(n);return function iU(){try{return!!(new window.DOMParser).parseFromString(Rl(""),"text/html")}catch{return!1}}()?new tU(e):e}(n);let i=e?String(e):"";t=wf.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=wf.getInertBodyElement(i)}while(i!==s);return Rl((new oU).sanitizeChildren(yv(t)||t))}finally{if(t){const i=yv(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function yv(n){return"content"in n&&function cU(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ht=(()=>((Ht=Ht||{})[Ht.NONE=0]="NONE",Ht[Ht.HTML=1]="HTML",Ht[Ht.STYLE=2]="STYLE",Ht[Ht.SCRIPT=3]="SCRIPT",Ht[Ht.URL=4]="URL",Ht[Ht.RESOURCE_URL=5]="RESOURCE_URL",Ht))();function bv(n){const e=function Wu(){const n=ue();return n&&n[C_]}();return e?e.sanitize(Ht.URL,n)||"":ss(n,"URL")?er(n):xf(lt(n))}const Mf=new pe("ENVIRONMENT_INITIALIZER"),tC=new pe("INJECTOR",-1),nC=new pe("INJECTOR_DEF_TYPES");class iC{get(e,t=Eu){if(t===Eu){const i=new Error(`NullInjectorError: No provider for ${en(e)}!`);throw i.name="NullInjectorError",i}return t}}function _U(...n){return{\u0275providers:rC(0,n),\u0275fromNgModule:!0}}function rC(n,...e){const t=[],i=new Set;let r;return ua(e,s=>{const o=s;xv(o,t,[],i)&&(r||(r=[]),r.push(o))}),void 0!==r&&sC(r,t),t}function sC(n,e){for(let t=0;t<n.length;t++){const{providers:r}=n[t];wv(r,s=>{e.push(s)})}}function xv(n,e,t,i){if(!(n=Je(n)))return!1;let r=null,s=uE(n);const o=!s&&$t(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const l=n.ngModule;if(s=uE(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)xv(c,e,t,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;i.add(r);try{ua(s.imports,u=>{xv(u,e,t,i)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&sC(c,e)}if(!a){const c=aa(r)||(()=>new r);e.push({provide:r,useFactory:c,deps:zt},{provide:nC,useValue:r,multi:!0},{provide:Mf,useValue:()=>W(r),multi:!0})}const l=s.providers;null==l||a||wv(l,u=>{e.push(u)})}}return r!==n&&void 0!==n.providers}function wv(n,e){for(let t of n)y_(t)&&(t=t.\u0275providers),Array.isArray(t)?wv(t,e):e(t)}const vU=Kt({provide:String,useValue:Kt});function Mv(n){return null!==n&&"object"==typeof n&&vU in n}function fa(n){return"function"==typeof n}const Ev=new pe("Set Injector scope."),Ef={},bU={};let Sv;function Sf(){return void 0===Sv&&(Sv=new iC),Sv}class os{}class lC extends os{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Tv(e,o=>this.processProvider(o)),this.records.set(tC,Pl(void 0,this)),r.has("environment")&&this.records.set(os,Pl(void 0,this));const s=this.records.get(Ev);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(nC.multi,zt,et.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=ul(this),i=pr(void 0);try{return e()}finally{ul(t),pr(i)}}get(e,t=Eu,i=et.Default){this.assertNotDestroyed(),i=$h(i);const r=ul(this),s=pr(void 0);try{if(!(i&et.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function SU(n){return"function"==typeof n||"object"==typeof n&&n instanceof pe}(e)&&Gh(e);a=l&&this.injectableDefInScope(l)?Pl(Cv(e),Ef):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&et.Self?Sf():this.parent).get(e,t=i&et.Optional&&t===Eu?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[jh]=o[jh]||[]).unshift(en(e)),r)throw o;return function jF(n,e,t,i){const r=n[jh];throw e[fE]&&r.unshift(e[fE]),n.message=function $F(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==VF?n.slice(2):n;let r=en(e);if(Array.isArray(e))r=e.map(en).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):en(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(HF,"\n  ")}`}("\n"+n.message,r,t,i),n[zF]=r,n[jh]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{pr(s),ul(r)}}resolveInjectorInitializers(){const e=ul(this),t=pr(void 0);try{const i=this.get(Mf.multi,zt,et.Self);for(const r of i)r()}finally{ul(e),pr(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(en(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ce(205,!1)}processProvider(e){let t=fa(e=Je(e))?e:Je(e&&e.provide);const i=function wU(n){return Mv(n)?Pl(void 0,n.useValue):Pl(cC(n),Ef)}(e);if(fa(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=Pl(void 0,Ef,!0),r.factory=()=>M_(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===Ef&&(t.value=bU,t.value=t.factory()),"object"==typeof t.value&&t.value&&function EU(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Je(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Cv(n){const e=Gh(n),t=null!==e?e.factory:aa(n);if(null!==t)return t;if(n instanceof pe)throw new ce(204,!1);if(n instanceof Function)return function xU(n){const e=n.length;if(e>0)throw Fu(e,"?"),new ce(204,!1);const t=function NF(n){const e=n&&(n[Wh]||n[dE]);return e?(function FF(n){if(n.hasOwnProperty("name"))return n.name;(""+n).match(/^function\s*([^\s(]+)/)}(n),e):null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new ce(204,!1)}function cC(n,e,t){let i;if(fa(n)){const r=Je(n);return aa(r)||Cv(r)}if(Mv(n))i=()=>Je(n.useValue);else if(function aC(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...M_(n.deps||[]));else if(function oC(n){return!(!n||!n.useExisting)}(n))i=()=>W(Je(n.useExisting));else{const r=Je(n&&(n.useClass||n.provide));if(!function MU(n){return!!n.deps}(n))return aa(r)||Cv(r);i=()=>new r(...M_(n.deps))}return i}function Pl(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Tv(n,e){for(const t of n)Array.isArray(t)?Tv(t,e):t&&y_(t)?Tv(t.\u0275providers,e):e(t)}class CU{}class uC{}class AU{resolveComponentFactory(e){throw function TU(n){const e=Error(`No component factory found for ${en(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let pa=(()=>{class n{}return n.NULL=new AU,n})();function DU(){return Ol(ii(),ue())}function Ol(n,e){return new Bt(Qi(n,e))}let Bt=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=DU,n})();function IU(n){return n instanceof Bt?n.nativeElement:n}class ju{}let Cf=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function RU(){const n=ue(),t=Bi(ii().index,n);return(Zi(t)?t:n)[vt]}(),n})(),PU=(()=>{class n{}return n.\u0275prov=ve({token:n,providedIn:"root",factory:()=>null}),n})();class Ll{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const OU=new Ll("15.2.7"),Av={},Dv="ngOriginalError";function Iv(n){return n[Dv]}class Us{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Iv(e);for(;t&&Iv(t);)t=Iv(t);return t||null}}function kl(n){return n.ownerDocument.defaultView}function $u(n){return n.ownerDocument}function zs(n){return n instanceof Function?n():n}function fC(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}const pC="ng-template";function VU(n,e,t){let i=0,r=!0;for(;i<n.length;){let s=n[i++];if("string"==typeof s&&r){const o=n[i++];if(t&&"class"===s&&-1!==fC(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function mC(n){return 4===n.type&&n.value!==pC}function GU(n,e,t){return e===(4!==n.type||t?n.value:pC)}function WU(n,e,t){let i=4;const r=n.attrs||[],s=function XU(n){for(let e=0;e<n.length;e++)if(WE(n[e]))return e;return n.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!GU(n,l,t)||""===l&&1===e.length){if(Ur(i))return!1;o=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!VU(n.attrs,c,t)){if(Ur(i))return!1;o=!0}continue}const d=jU(8&i?"class":l,r,mC(n),t);if(-1===d){if(Ur(i))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==fC(f,c,0)||2&i&&c!==h){if(Ur(i))return!1;o=!0}}}}else{if(!o&&!Ur(i)&&!Ur(l))return!1;if(o&&Ur(l))continue;o=!1,i=l|1&i}}return Ur(i)||o}function Ur(n){return 0==(1&n)}function jU(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){const o=e[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function qU(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function gC(n,e,t=!1){for(let i=0;i<e.length;i++)if(WU(n,e[i],t))return!0;return!1}function YU(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function _C(n,e){return n?":not("+e.trim()+")":e}function KU(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Ur(o)&&(e+=_C(s,r),r=""),i=o,s=s||!Ur(i);t++}return""!==r&&(e+=_C(s,r)),e}const ut={};function Fe(n){vC(Ot(),ue(),wi()+n,!1)}function vC(n,e,t,i){if(!i)if(3==(3&e[gt])){const s=n.preOrderCheckHooks;null!==s&&rf(e,s,t)}else{const s=n.preOrderHooks;null!==s&&sf(e,s,0,t)}la(t)}function wC(n,e=null,t=null,i){const r=MC(n,e,t,i);return r.resolveInjectorInitializers(),r}function MC(n,e=null,t=null,i,r=new Set){const s=[t||zt,_U(n)];return i=i||("object"==typeof n?void 0:en(n)),new lC(s,e||Sf(),i||null,r)}let Yn=(()=>{class n{static create(t,i){if(Array.isArray(t))return wC({name:""},i,t,"");{const r=t.name??"";return wC({name:r},t.parent,t.providers,r)}}}return n.THROW_IF_NOT_FOUND=Eu,n.NULL=new iC,n.\u0275prov=ve({token:n,providedIn:"any",factory:()=>W(tC)}),n.__NG_ELEMENT_ID__=-1,n})();function H(n,e=et.Default){const t=ue();return null===t?W(n,e):JE(ii(),t,Je(n),e)}function Af(){throw new Error("invalid")}function IC(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const s=t[i+1];if(-1!==s){const o=n.data[s];k_(t[i]),o.contentQueries(2,e[s],s)}}}function Df(n,e,t,i,r,s,o,a,l,c,u){const d=e.blueprint.slice();return d[ks]=r,d[gt]=76|i,(null!==u||n&&1024&n[gt])&&(d[gt]|=1024),IE(d),d[gn]=d[fl]=n,d[Sn]=t,d[Kh]=o||n&&n[Kh],d[vt]=a||n&&n[vt],d[C_]=l||n&&n[C_]||null,d[Yh]=c||n&&n[Yh]||null,d[li]=s,d[Iu]=function fB(){return hB++}(),d[bE]=u,d[ci]=2==e.type?n[ci]:d,d}function Bl(n,e,t,i,r){let s=n.data[e];if(null===s)s=function kv(n,e,t,i,r){const s=OE(),o=R_(),l=n.data[e]=function M3(n,e,t,i,r,s){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,e,t,i,r),function _2(){return ct.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const o=function Pu(){const n=ct.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return is(s,!0),s}function Xu(n,e,t,i){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function Nv(n,e,t){N_(e);try{const i=n.viewQuery;null!==i&&jv(1,i,t);const r=n.template;null!==r&&RC(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&IC(n,e),n.staticViewQueries&&jv(2,n.viewQuery,t);const s=n.components;null!==s&&function b3(n,e){for(let t=0;t<e.length;t++)G3(n,e[t])}(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[gt]&=-5,F_()}}function If(n,e,t,i){const r=e[gt];if(128!=(128&r)){N_(e);try{IE(e),function kE(n){return ct.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&RC(n,e,t,2,i);const o=3==(3&r);if(o){const c=n.preOrderCheckHooks;null!==c&&rf(e,c,null)}else{const c=n.preOrderHooks;null!==c&&sf(e,c,0,null),B_(e,0)}if(function H3(n){for(let e=rv(n);null!==e;e=sv(e)){if(!e[xE])continue;const t=e[ml];for(let i=0;i<t.length;i++){const r=t[i];512&r[gt]||I_(r[gn],1),r[gt]|=512}}}(e),function z3(n){for(let e=rv(n);null!==e;e=sv(e))for(let t=bi;t<e.length;t++){const i=e[t],r=i[Pe];tf(i)&&If(r,i,r.template,i[Sn])}}(e),null!==n.contentQueries&&IC(n,e),o){const c=n.contentCheckHooks;null!==c&&rf(e,c)}else{const c=n.contentHooks;null!==c&&sf(e,c,1),B_(e,1)}!function v3(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)la(~r);else{const s=r,o=t[++i],a=t[++i];v2(o,s),a(2,e[s])}}}finally{la(-1)}}(n,e);const a=n.components;null!==a&&function y3(n,e){for(let t=0;t<e.length;t++)V3(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&jv(2,l,i),o){const c=n.viewCheckHooks;null!==c&&rf(e,c)}else{const c=n.viewHooks;null!==c&&sf(e,c,2),B_(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[gt]&=-41,512&e[gt]&&(e[gt]&=-513,I_(e[gn],-1))}finally{F_()}}}function RC(n,e,t,i,r){const s=wi(),o=2&i;try{la(-1),o&&e.length>an&&vC(n,e,an,!1),mr(o?2:0,r),t(i,r)}finally{la(s),mr(o?3:1,r)}}function Fv(n,e,t){if(A_(e)){const r=e.directiveEnd;for(let s=e.directiveStart;s<r;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function Bv(n,e,t){PE()&&(function I3(n,e,t,i){const r=t.directiveStart,s=t.directiveEnd;Ru(t)&&function F3(n,e,t){const i=Qi(e,n),r=PC(t),s=n[Kh],o=Rf(n,Df(n,r,null,t.onPush?32:16,i,e,s,s.createRenderer(i,t),null,null,null));n[e.index]=o}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||uf(t,e),ui(i,e);const o=t.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=ca(e,n,a,t);ui(c,e),null!==o&&B3(0,a-r,c,l,0,o),Fr(l)&&(Bi(t.index,e)[Sn]=ca(e,n,a,t))}}(n,e,t,Qi(t,e)),64==(64&t.flags)&&FC(n,e,t))}function Uv(n,e,t=Qi){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?t(e,n):n[o];n[r++]=a}}}function PC(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=zv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function zv(n,e,t,i,r,s,o,a,l,c){const u=an+i,d=u+r,h=function x3(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:ut);return t}(u,d),f="function"==typeof c?c():c;return h[Pe]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function OC(n,e,t,i){const r=UC(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&zC(n).push(i,r.length-1))}function LC(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const s=n[r];null===i?kC(t,e,r,s):i.hasOwnProperty(r)&&kC(t,e,i[r],s)}return t}function kC(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function tr(n,e,t,i,r,s,o,a){const l=Qi(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[i])?($v(n,t,u,i,r),Ru(e)&&function C3(n,e){const t=Bi(e,n);16&t[gt]||(t[gt]|=32)}(t,e.index)):3&e.type&&(i=function S3(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,e.value||"",i):r,s.setProperty(l,i,r))}function Hv(n,e,t,i){if(PE()){const r=null===i?null:{"":-1},s=function P3(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(gC(e,o.selectors,!1))if(i||(i=[]),Fr(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),Vv(n,e,a.length)}else i.unshift(o),Vv(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&NC(n,e,t,o,r,a),r&&function O3(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new ce(-301,!1);i.push(e[r],s)}}}(t,i,r)}t.mergedAttrs=Lu(t.mergedAttrs,t.attrs)}function NC(n,e,t,i,r,s){for(let c=0;c<i.length;c++)W_(uf(t,e),n,i[c].type);!function k3(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Xu(n,e,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];t.mergedAttrs=Lu(t.mergedAttrs,u.hostAttrs),N3(n,t,e,l,u),L3(l,u,r),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),l++}!function E3(n,e,t){const r=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<r;u++){const d=s[u],h=t?t.get(d):null,p=h?h.outputs:null;l=LC(d.inputs,u,l,h?h.inputs:null),c=LC(d.outputs,u,c,p);const g=null===l||null===o||mC(e)?null:U3(l,u,o);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function FC(n,e,t){const i=t.directiveStart,r=t.directiveEnd,s=t.index,o=function y2(){return ct.lFrame.currentDirectiveIndex}();try{la(s);for(let a=i;a<r;a++){const l=n.data[a],c=e[a];O_(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&R3(l,c)}}finally{la(-1),O_(o)}}function R3(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Vv(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function L3(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Fr(e)&&(t[""]=n)}}function N3(n,e,t,i,r){n.data[i]=r;const s=r.factory||(r.factory=aa(r.type)),o=new Ou(s,Fr(r),H);n.blueprint[i]=o,t[i]=o,function A3(n,e,t,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function D3(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,i,s)}}(n,e,i,Xu(n,t,r.hostVars,ut),r)}function as(n,e,t,i,r,s){const o=Qi(n,e);!function Gv(n,e,t,i,r,s,o){if(null==s)n.removeAttribute(e,r,t);else{const a=null==o?lt(s):o(s,i||"",r);n.setAttribute(e,r,a,t)}}(e[vt],o,s,n.value,t,i,r)}function B3(n,e,t,i,r,s){const o=s[e];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?i.setInput(t,d,c,u):t[u]=d}}}function U3(n,e,t){let i=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){i.push(s,o[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function BC(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null]}function V3(n,e){const t=Bi(e,n);if(tf(t)){const i=t[Pe];48&t[gt]?If(i,t,i.template,t[Sn]):t[oa]>0&&Wv(t)}}function Wv(n){for(let i=rv(n);null!==i;i=sv(i))for(let r=bi;r<i.length;r++){const s=i[r];if(tf(s))if(512&s[gt]){const o=s[Pe];If(o,s,o.template,s[Sn])}else s[oa]>0&&Wv(s)}const t=n[Pe].components;if(null!==t)for(let i=0;i<t.length;i++){const r=Bi(t[i],n);tf(r)&&r[oa]>0&&Wv(r)}}function G3(n,e){const t=Bi(e,n),i=t[Pe];(function W3(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),Nv(i,t,t[Sn])}function Rf(n,e){return n[Au]?n[yE][kr]=e:n[Au]=e,n[yE]=e,e}function Pf(n){for(;n;){n[gt]|=32;const e=Hu(n);if(QF(n)&&!e)return n;n=e}return null}function Of(n,e,t,i=!0){const r=e[Kh];r.begin&&r.begin();try{If(n,e,n.template,t)}catch(o){throw i&&VC(e,o),o}finally{r.end&&r.end()}}function jv(n,e,t){k_(0),e(n,t)}function UC(n){return n[hl]||(n[hl]=[])}function zC(n){return n.cleanup||(n.cleanup=[])}function HC(n,e,t){return(null===n||Fr(n))&&(t=function a2(n){for(;Array.isArray(n);){if("object"==typeof n[T_])return n;n=n[ks]}return null}(t[e.index])),t[vt]}function VC(n,e){const t=n[Yh],i=t?t.get(Us,null):null;i&&i.handleError(e)}function $v(n,e,t,i,r){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function Lf(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?r=g_(r,a):2==s&&(i=g_(i,a+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function kf(n,e,t,i,r=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&i.push(ni(s)),Nr(s))for(let a=bi;a<s.length;a++){const l=s[a],c=l[Pe].firstChild;null!==c&&kf(l[Pe],l,c,i)}const o=t.type;if(8&o)kf(n,e,t.child,i);else if(32&o){const a=iv(t,e);let l;for(;l=a();)i.push(l)}else if(16&o){const a=BS(e,t);if(Array.isArray(a))i.push(...a);else{const l=Hu(e[ci]);kf(l[Pe],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}class qu{get rootNodes(){const e=this._lView,t=e[Pe];return kf(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Sn]}set context(e){this._lView[Sn]=e}get destroyed(){return 128==(128&this._lView[gt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[gn];if(Nr(e)){const t=e[Qh],i=t?t.indexOf(this):-1;i>-1&&(lv(e,i),hf(t,i))}this._attachedToViewContainer=!1}DS(this._lView[Pe],this._lView)}onDestroy(e){OC(this._lView[Pe],this._lView,null,e)}markForCheck(){Pf(this._cdRefInjectingView||this._lView)}detach(){this._lView[gt]&=-65}reattach(){this._lView[gt]|=64}detectChanges(){Of(this._lView[Pe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function AB(n,e){Vu(n,e,e[vt],2,null,null)}(this._lView[Pe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ce(902,!1);this._appRef=e}}class j3 extends qu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Of(e[Pe],e,e[Sn],!1)}checkNoChanges(){}get context(){return null}}class GC extends pa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=$t(e);return new Yu(t,this.ngModule)}}function WC(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class X3{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=$h(i);const r=this.injector.get(e,Av,i);return r!==Av||t===Av?r:this.parentInjector.get(e,t,i)}}class Yu extends uC{get inputs(){return WC(this.componentDef.inputs)}get outputs(){return WC(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function ZU(n){return n.map(KU).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=(r=r||this.ngModule)instanceof os?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new X3(e,s):e,a=o.get(ju,null);if(null===a)throw new ce(407,!1);const l=o.get(PU,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=i?function w3(n,e,t){return n.selectRootElement(e,t===Lr.ShadowDom)}(c,i,this.componentDef.encapsulation):av(c,u,function $3(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,f=zv(0,null,null,1,0,null,null,null,null,null),p=Df(null,f,null,h,null,null,a,c,l,o,null);let g,_;N_(p);try{const m=this.componentDef;let y,v=null;m.findHostDirectiveDefs?(y=[],v=new Map,m.findHostDirectiveDefs(m,y,v),y.push(m)):y=[m];const b=function Y3(n,e){const t=n[Pe],i=an;return n[i]=e,Bl(t,i,2,"#host",null)}(p,d),x=function K3(n,e,t,i,r,s,o,a){const l=r[Pe];!function Z3(n,e,t,i){for(const r of n)e.mergedAttrs=Lu(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Lf(e,e.mergedAttrs,!0),null!==t&&HS(i,t,e))}(i,n,e,o);const c=s.createRenderer(e,t),u=Df(r,PC(t),null,t.onPush?32:16,r[n.index],n,s,c,a||null,null,null);return l.firstCreatePass&&Vv(l,n,i.length-1),Rf(r,u),r[n.index]=u}(b,d,m,y,p,a,c);_=DE(f,an),d&&function J3(n,e,t,i){if(i)z_(n,t,["ng-version",OU.full]);else{const{attrs:r,classes:s}=function QU(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&e.push(s,n[++i]):8===r&&t.push(s);else{if(!Ur(r))break;r=s}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&z_(n,t,r),s&&s.length>0&&zS(n,t,s.join(" "))}}(c,m,d,i),void 0!==t&&function ez(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const s=t[r];i.push(null!=s?Array.from(s):null)}}(_,this.ngContentSelectors,t),g=function Q3(n,e,t,i,r,s){const o=ii(),a=r[Pe],l=Qi(o,r);NC(a,r,o,t,null,i);for(let u=0;u<t.length;u++)ui(ca(r,a,o.directiveStart+u,o),r);FC(a,r,o),l&&ui(l,r);const c=ca(r,a,o.directiveStart+o.componentOffset,o);if(n[Sn]=r[Sn]=c,null!==s)for(const u of s)u(c,e);return Fv(a,o,n),c}(x,m,y,v,p,[tz]),Nv(f,p,null)}finally{F_()}return new q3(this.componentType,g,Ol(_,p),p,_)}}class q3 extends CU{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new j3(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){const s=this._rootLView;$v(s[Pe],s,r,e,t),Pf(Bi(this._tNode.index,s))}}get injector(){return new xl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function tz(){const n=ii();nf(ue()[Pe],n)}function dn(n){let e=function jC(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(Fr(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ce(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const o=n;o.inputs=Xv(n.inputs),o.declaredInputs=Xv(n.declaredInputs),o.outputs=Xv(n.outputs);const a=r.hostBindings;a&&sz(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&iz(n,l),c&&rz(n,c),m_(n.inputs,r.inputs),m_(n.declaredInputs,r.declaredInputs),m_(n.outputs,r.outputs),Fr(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===dn&&(t=!1)}}e=Object.getPrototypeOf(e)}!function nz(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Lu(r.hostAttrs,t=Lu(t,r.hostAttrs))}}(i)}function Xv(n){return n===Os?{}:n===zt?[]:n}function iz(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function rz(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,s)=>{e(i,r,s),t(i,r,s)}:e}function sz(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function Nf(n){return!!qv(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function qv(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ls(n,e,t){return n[e]=t}function Ku(n,e){return n[e]}function di(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function ma(n,e,t,i){const r=di(n,e,t);return di(n,e+1,i)||r}function Mi(n,e,t,i){const r=ue();return di(r,yl(),e)&&(Ot(),as(un(),r,n,e,t,i)),Mi}function zl(n,e,t,i){return di(n,yl(),t)?e+lt(t)+i:ut}function Ei(n,e,t,i,r,s,o,a){const l=ue(),c=Ot(),u=n+an,d=c.firstCreatePass?function mz(n,e,t,i,r,s,o,a,l){const c=e.consts,u=Bl(e,n,4,o||null,Mo(c,a));Hv(e,t,u,Mo(c,l)),nf(e,u);const d=u.tView=zv(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,i,r,s,o):c.data[u];is(d,!1);const h=l[vt].createComment("");_f(c,l,h,d),ui(h,l),Rf(l,l[u]=BC(h,l,h,d)),Jh(d)&&Bv(c,l,d),null!=o&&Uv(l,d,a)}function ql(n){return function gl(n,e){return n[e]}(function g2(){return ct.lFrame.contextLView}(),an+n)}function ze(n,e,t){const i=ue();return di(i,yl(),e)&&tr(Ot(),un(),i,n,e,i[vt],t,!1),ze}function Yv(n,e,t,i,r){const o=r?"class":"style";$v(n,t,e.inputs[o],o,i)}function G(n,e,t,i){const r=ue(),s=Ot(),o=an+n,a=r[vt],l=s.firstCreatePass?function _z(n,e,t,i,r,s){const o=e.consts,l=Bl(e,n,2,i,Mo(o,r));return Hv(e,t,l,Mo(o,s)),null!==l.attrs&&Lf(l,l.attrs,!1),null!==l.mergedAttrs&&Lf(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,r,e,t,i):s.data[o],c=r[o]=av(a,e,function T2(){return ct.lFrame.currentNamespace}()),u=Jh(l);return is(l,!0),HS(a,c,l),32!=(32&l.flags)&&_f(s,r,c,l),0===function d2(){return ct.lFrame.elementDepthCount}()&&ui(c,r),function h2(){ct.lFrame.elementDepthCount++}(),u&&(Bv(s,r,l),Fv(s,l,r)),null!==i&&Uv(r,l),G}function $(){let n=ii();R_()?P_():(n=n.parent,is(n,!1));const e=n;!function f2(){ct.lFrame.elementDepthCount--}();const t=Ot();return t.firstCreatePass&&(nf(t,n),A_(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function R2(n){return 0!=(8&n.flags)}(e)&&Yv(t,e,ue(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function P2(n){return 0!=(16&n.flags)}(e)&&Yv(t,e,ue(),e.stylesWithoutHost,!1),$}function We(n,e,t,i){return G(n,e,t,i),$(),We}function Yl(){return ue()}function Bf(n){return!!n&&"function"==typeof n.then}const oT=function sT(n){return!!n&&"function"==typeof n.subscribe};function st(n,e,t,i){const r=ue(),s=Ot(),o=ii();return aT(s,r,r[vt],o,n,e,i),st}function Qv(n,e){const t=ii(),i=ue(),r=Ot();return aT(r,i,HC(L_(r.data),t,i),t,n,e),Qv}function aT(n,e,t,i,r,s,o){const a=Jh(i),c=n.firstCreatePass&&zC(n),u=e[Sn],d=UC(e);let h=!0;if(3&i.type||o){const g=Qi(i,e),_=o?o(g):g,m=d.length,y=o?b=>o(ni(b[i.index])):i.index;let v=null;if(!o&&a&&(v=function yz(n,e,t,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===i){const a=e[hl],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,r,i.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,h=!1;else{s=cT(i,e,u,s,!1);const b=t.listen(_,r,s);d.push(s,b),c&&c.push(r,y,m,m+1)}}else s=cT(i,e,u,s,!1);const f=i.outputs;let p;if(h&&null!==f&&(p=f[r])){const g=p.length;if(g)for(let _=0;_<g;_+=2){const x=e[p[_]][p[_+1]].subscribe(s),M=d.length;d.push(s,x),c&&c.push(r,i.index,M,-(M+1))}}}function lT(n,e,t,i){try{return mr(6,e,t),!1!==t(i)}catch(r){return VC(n,r),!1}finally{mr(7,e,t)}}function cT(n,e,t,i,r){return function s(o){if(o===Function)return i;Pf(n.componentOffset>-1?Bi(n.index,e):e);let l=lT(e,t,i,o),c=s.__ngNextListenerFn__;for(;c;)l=lT(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function vr(n=1){return function x2(n){return(ct.lFrame.contextLView=function w2(n,e){for(;n>0;)e=e[fl],n--;return e}(n,ct.lFrame.contextLView))[Sn]}(n)}function bz(n,e){let t=null;const i=function $U(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?gC(n,s,!0):YU(i,s))return r}else t=r}return t}function Vs(n){const e=ue()[ci][li];if(!e.projection){const i=e.projection=Fu(n?n.length:1,null),r=i.slice();let s=e.child;for(;null!==s;){const o=n?bz(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function Si(n,e=0,t){const i=ue(),r=Ot(),s=Bl(r,an+n,16,null,t||null);null===s.projection&&(s.projection=e),P_(),32!=(32&s.flags)&&function NB(n,e,t){US(e[vt],0,e,t,IS(n,t,e),LS(t.parent||e[li],t,e))}(r,i,s)}function Uf(n,e,t,i,r){const s=ue(),o=zl(s,e,t,i);return o!==ut&&tr(Ot(),un(),s,n,o,s[vt],r,!1),Uf}function zf(n,e){return n<<17|e<<2}function Co(n){return n>>17&32767}function Jv(n){return 2|n}function ga(n){return(131068&n)>>2}function ey(n,e){return-131069&n|e<<2}function ty(n){return 1|n}function yT(n,e,t,i,r){const s=n[t+1],o=null===e;let a=i?Co(s):ga(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];Cz(n[a],e)&&(l=!0,n[a+1]=i?ty(u):Jv(u)),a=i?Co(u):ga(u)}l&&(n[t+1]=i?Jv(s):ty(s))}function Cz(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Tl(n,e)>=0}const Wn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bT(n){return n.substring(Wn.key,Wn.keyEnd)}function xT(n,e){const t=Wn.textEnd;return t===e?-1:(e=Wn.keyEnd=function Iz(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Wn.key=e,t),Kl(n,e,t))}function Kl(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Zu(n,e,t){return zr(n,e,t,!1),Zu}function ri(n,e){return zr(n,e,null,!0),ri}function us(n,e){for(let t=function Az(n){return function MT(n){Wn.key=0,Wn.keyEnd=0,Wn.value=0,Wn.valueEnd=0,Wn.textEnd=n.length}(n),xT(n,Kl(n,0,Wn.textEnd))}(e);t>=0;t=xT(e,t))Ji(n,bT(e),!0)}function zr(n,e,t,i){const r=ue(),s=Ot(),o=Fs(2);s.firstUpdatePass&&TT(s,n,o,i),e!==ut&&di(r,o,e)&&DT(s,s.data[wi()],r,r[vt],n,r[o+1]=function Hz(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=en(er(n)))),n}(e,t),i,o)}function CT(n,e){return e>=n.expandoStartIndex}function TT(n,e,t,i){const r=n.data;if(null===r[t+1]){const s=r[wi()],o=CT(n,t);RT(s,i)&&null===e&&!o&&(e=!1),e=function kz(n,e,t,i){const r=L_(n);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Qu(t=ny(null,n,e,t,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==r)if(t=ny(r,n,e,t,i),null===s){let l=function Nz(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==ga(i))return n[Co(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=ny(null,n,e,l[1],i),l=Qu(l,e.attrs,i),function Fz(n,e,t,i){n[Co(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else s=function Bz(n,e,t){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=Qu(i,n[s].hostAttrs,t);return Qu(i,e.attrs,t)}(n,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,i),function Ez(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Co(o),l=ga(o);n[i]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||Tl(t,u)>0)&&(c=!0)):u=t,r)if(0!==l){const h=Co(n[a+1]);n[i+1]=zf(h,a),0!==h&&(n[h+1]=ey(n[h+1],i)),n[a+1]=function wz(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=zf(a,0),0!==a&&(n[a+1]=ey(n[a+1],i)),a=i;else n[i+1]=zf(l,0),0===a?a=i:n[l+1]=ey(n[l+1],i),l=i;c&&(n[i+1]=Jv(n[i+1])),yT(n,u,i,!0),yT(n,u,i,!1),function Sz(n,e,t,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Tl(s,e)>=0&&(t[i+1]=ty(t[i+1]))}(e,u,n,i,s),o=zf(a,l),s?e.classBindings=o:e.styleBindings=o}(r,s,e,t,o,i)}}function ny(n,e,t,i,r){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],i=Qu(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function Qu(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ji(n,o,!!t||e[++s]))}return void 0===n?null:n}function DT(n,e,t,i,r,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function Mz(n){return 1==(1&n)}(c)?IT(l,e,t,r,ga(c),o):void 0;Hf(u)||(Hf(s)||function xz(n){return 2==(2&n)}(c)&&(s=IT(l,null,t,r,a,o)),function BB(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=-1===i.indexOf("-")?void 0:Ui.DashCase;null==r?n.removeStyle(t,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Ui.Important),n.setStyle(t,i,r,s))}}(i,o,ef(wi(),t),r,s))}function IT(n,e,t,i,r,s){const o=null===e;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[r+1];h===ut&&(h=d?zt:void 0);let f=d?q_(h,i):u===i?h:void 0;if(c&&!Hf(f)&&(f=q_(l,i)),Hf(f)&&(a=f,o))return a;const p=n[r+1];r=o?Co(p):ga(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=q_(l,i))}return a}function Hf(n){return void 0!==n}function RT(n,e){return 0!=(n.flags&(e?8:16))}function J(n,e=""){const t=ue(),i=Ot(),r=n+an,s=i.firstCreatePass?Bl(i,r,1,e,null):i.data[r],o=t[r]=function ov(n,e){return n.createText(e)}(t[vt],e);_f(i,t,o,s),is(s,!1)}function _a(n){return Gs("",n,""),_a}function Gs(n,e,t){const i=ue(),r=zl(i,n,e,t);return r!==ut&&function Hs(n,e,t){const i=ef(e,n);!function TS(n,e,t){n.setValue(e,t)}(n[vt],i,t)}(i,wi(),r),Gs}function Vf(n,e,t){!function Hr(n,e,t,i){const r=Ot(),s=Fs(2);r.firstUpdatePass&&TT(r,null,s,i);const o=ue();if(t!==ut&&di(o,s,t)){const a=r.data[wi()];if(RT(a,i)&&!CT(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=g_(l,t||"")),Yv(r,a,o,t,i)}else!function zz(n,e,t,i,r,s,o,a){r===ut&&(r=zt);let l=0,c=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const h=l<r.length?r[l+1]:void 0,f=c<s.length?s[c+1]:void 0;let g,p=null;u===d?(l+=2,c+=2,h!==f&&(p=d,g=f)):null===d||null!==u&&u<d?(l+=2,p=u):(c+=2,p=d,g=f),null!==p&&DT(n,e,t,i,p,g,o,a),u=l<r.length?r[l]:null,d=c<s.length?s[c]:null}}(r,a,o,o[vt],o[s+1],o[s+1]=function Uz(n,e,t){if(null==t||""===t)return zt;const i=[],r=er(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,s)}}(Ji,us,zl(ue(),n,e,t),!0)}function Gf(n,e,t){const i=ue();return di(i,yl(),e)&&tr(Ot(),un(),i,n,e,i[vt],t,!0),Gf}function iy(n,e,t){const i=ue();if(di(i,yl(),e)){const s=Ot(),o=un();tr(s,o,i,n,e,HC(L_(s.data),o,i),t,!0)}return iy}const Ql="en-US";let ZT=Ql;function oy(n,e,t,i,r){if(n=Je(n),Array.isArray(n))for(let s=0;s<n.length;s++)oy(n[s],e,t,i,r);else{const s=Ot(),o=ue();let a=fa(n)?n:Je(n.provide),l=cC(n);const c=ii(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(fa(n)||!n.multi){const f=new Ou(l,r,H),p=ly(a,e,r?u:u+h,d);-1===p?(W_(uf(c,o),s,a),ay(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=ly(a,e,u+h,d),p=ly(a,e,u,u+h),_=p>=0&&t[p];if(r&&!_||!r&&!(f>=0&&t[f])){W_(uf(c,o),s,a);const m=function rV(n,e,t,i,r){const s=new Ou(n,t,H);return s.multi=[],s.index=e,s.componentProviders=0,wA(s,r,i&&!t),s}(r?iV:nV,t.length,r,i,l);!r&&_&&(t[p].providerFactory=m),ay(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(m),o.push(m)}else ay(s,n,f>-1?f:p,wA(t[r?p:f],l,!r&&i));!r&&i&&_&&t[p].componentProviders++}}}function ay(n,e,t,i){const r=fa(e),s=function yU(n){return!!n.useClass}(e);if(r||s){const l=(s?Je(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function wA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function ly(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function nV(n,e,t,i){return cy(this.multi,[])}function iV(n,e,t,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ca(t,t[Pe],this.providerFactory.index,i);s=a.slice(0,o),cy(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],cy(r,s);return s}function cy(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ln(n,e=[]){return t=>{t.providersResolver=(i,r)=>function tV(n,e,t){const i=Ot();if(i.firstCreatePass){const r=Fr(n);oy(t,i.data,i.blueprint,r,!0),oy(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class Jl{}class MA{}class EA extends Jl{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new GC(this);const i=Ki(e);this._bootstrapComponents=zs(i.bootstrap),this._r3Injector=MC(e,t,[{provide:Jl,useValue:this},{provide:pa,useValue:this.componentFactoryResolver}],en(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class uy extends MA{constructor(e){super(),this.moduleType=e}create(e){return new EA(this.moduleType,e)}}class oV extends Jl{constructor(e,t,i){super(),this.componentFactoryResolver=new GC(this),this.instance=null;const r=new lC([...e,{provide:Jl,useValue:this},{provide:pa,useValue:this.componentFactoryResolver}],t||Sf(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function qf(n,e,t=null){return new oV(n,e,t).injector}let aV=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const i=rC(0,t.type),r=i.length>0?qf([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,r)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=ve({token:n,providedIn:"environment",factory:()=>new n(W(os))}),n})();function dy(n){n.getStandaloneInjector=e=>e.get(aV).getOrCreateStandaloneInjector(n)}function ya(n,e,t){const i=xi()+n,r=ue();return r[i]===ut?ls(r,i,t?e.call(t):e()):Ku(r,i)}function Ti(n,e,t,i){return function PA(n,e,t,i,r,s){const o=e+t;return di(n,o,r)?ls(n,o+1,s?i.call(s,r):i(r)):rd(n,o+1)}(ue(),xi(),n,e,t,i)}function Kn(n,e,t,i,r){return function OA(n,e,t,i,r,s,o){const a=e+t;return ma(n,a,r,s)?ls(n,a+2,o?i.call(o,r,s):i(r,s)):rd(n,a+2)}(ue(),xi(),n,e,t,i,r)}function fy(n,e,t,i,r,s){return function LA(n,e,t,i,r,s,o,a){const l=e+t;return function Ff(n,e,t,i,r){const s=ma(n,e,t,i);return di(n,e+2,r)||s}(n,l,r,s,o)?ls(n,l+3,a?i.call(a,r,s,o):i(r,s,o)):rd(n,l+3)}(ue(),xi(),n,e,t,i,r,s)}function RA(n,e,t,i,r,s,o,a){const l=xi()+n,c=ue(),u=function _r(n,e,t,i,r,s){const o=ma(n,e,t,i);return ma(n,e+2,r,s)||o}(c,l,t,i,r,s);return di(c,l+4,o)||u?ls(c,l+5,a?e.call(a,t,i,r,s,o):e(t,i,r,s,o)):Ku(c,l+5)}function rd(n,e){const t=n[e];return t===ut?void 0:t}function py(n){return e=>{setTimeout(n,void 0,e)}}const Mt=class AV extends Re{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=py(s),r&&(r=py(r)),o&&(o=py(o)));const a=super.subscribe({next:r,error:s,complete:o});return e instanceof Jt&&e.add(a),a}};function DV(){return this._results[Symbol.iterator]()}class ec{get changes(){return this._changes||(this._changes=new Mt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=ec.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=DV)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function gr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function V2(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let nr=(()=>{class n{}return n.__NG_ELEMENT_ID__=PV,n})();const IV=nr,RV=class extends IV{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e,t){const i=this._declarationTContainer.tView,r=Df(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,null,t||null);r[Du]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[ts];return null!==o&&(r[ts]=o.createEmbeddedView(i)),Nv(i,r,e),new qu(r)}};function PV(){return Yf(ii(),ue())}function Yf(n,e){return 4&n.type?new RV(e,n,Ol(n,e)):null}let hi=(()=>{class n{}return n.__NG_ELEMENT_ID__=OV,n})();function OV(){return UA(ii(),ue())}const LV=hi,FA=class extends LV{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Ol(this._hostTNode,this._hostLView)}get injector(){return new xl(this._hostTNode,this._hostLView)}get parentInjector(){const e=G_(this._hostTNode,this._hostLView);if(XE(e)){const t=lf(e,this._hostLView),i=af(e);return new xl(t[Pe].data[i+8],t)}return new xl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=BA(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-bi}createEmbeddedView(e,t,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,r),o}createComponent(e,t,i,r,s){const o=e&&!function Nu(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,i=d.injector,r=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?e:new Yu($t(e)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?c:this.parentInjector).get(os,null);h&&(s=h)}const u=l.create(c,r,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const i=e._lView,r=i[Pe];if(function u2(n){return Nr(n[gn])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=i[gn],h=new FA(d,d[li],d[gn]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function IB(n,e,t,i){const r=bi+i,s=t.length;i>0&&(t[r-1][kr]=e),i<s-bi?(e[kr]=t[r],sS(t,bi+i,e)):(t.push(e),e[kr]=null),e[gn]=t;const o=e[Du];null!==o&&t!==o&&function RB(n,e){const t=n[ml];e[ci]!==e[gn][gn][ci]&&(n[xE]=!0),null===t?n[ml]=[e]:t.push(e)}(o,e);const a=e[ts];null!==a&&a.insertView(n),e[gt]|=64}(r,i,o,s);const a=dv(s,o),l=i[vt],c=gf(l,o[Zh]);return null!==c&&function TB(n,e,t,i,r,s){i[ks]=r,i[li]=e,Vu(n,i,t,1,r,s)}(r,o[li],l,i,c,a),e.attachToViewContainerRef(),sS(my(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=BA(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=lv(this._lContainer,t);i&&(hf(my(this._lContainer),t),DS(i[Pe],i))}detach(e){const t=this._adjustIndex(e,-1),i=lv(this._lContainer,t);return i&&null!=hf(my(this._lContainer),t)?new qu(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function BA(n){return n[Qh]}function my(n){return n[Qh]||(n[Qh]=[])}function UA(n,e){let t;const i=e[n.index];if(Nr(i))t=i;else{let r;if(8&n.type)r=ni(i);else{const s=e[vt];r=s.createComment("");const o=Qi(n,e);da(s,gf(s,o),r,function kB(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=BC(i,e,r,n),Rf(e,t)}return new FA(t,n,e)}class gy{constructor(e){this.queryList=e,this.matches=null}clone(){return new gy(this.queryList)}setDirty(){this.queryList.setDirty()}}class _y{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new _y(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==WA(e,t).matches&&this.queries[t].setDirty()}}class zA{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class vy{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new vy(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class yy{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new yy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,t,kV(t,s)),this.matchTNodeWithReadOption(e,t,df(t,e,s,!1,!1))}else i===nr?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,df(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Bt||r===hi||r===nr&&4&t.type)this.addMatch(t.index,-2);else{const s=df(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function kV(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function FV(n,e,t,i){return-1===t?function NV(n,e){return 11&n.type?Ol(n,e):4&n.type?Yf(n,e):null}(e,n):-2===t?function BV(n,e,t){return t===Bt?Ol(e,n):t===nr?Yf(e,n):t===hi?UA(e,n):void 0}(n,e,i):ca(n,n[Pe],t,e)}function HA(n,e,t,i){const r=e[ts].queries[i];if(null===r.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:FV(e,s[c],o[l+1],t.metadata.read))}r.matches=a}return r.matches}function by(n,e,t,i){const r=n.queries.getByIndex(t),s=r.matches;if(null!==s){const o=HA(n,e,r,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=bi;d<u.length;d++){const h=u[d];h[Du]===h[gn]&&by(h[Pe],h,c,i)}if(null!==u[ml]){const d=u[ml];for(let h=0;h<d.length;h++){const f=d[h];by(f[Pe],f,c,i)}}}}}return i}function Ai(n){const e=ue(),t=Ot(),i=FE();k_(i+1);const r=WA(t,i);if(n.dirty&&function c2(n){return 4==(4&n[gt])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?by(t,e,i,[]):HA(t,e,r,i);n.reset(s,IU),n.notifyOnChanges()}return!0}return!1}function To(n,e,t){const i=Ot();i.firstCreatePass&&(GA(i,new zA(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),VA(i,ue(),e)}function Ao(n,e,t,i){const r=Ot();if(r.firstCreatePass){const s=ii();GA(r,new zA(e,t,i),s.index),function zV(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}VA(r,ue(),t)}function Di(){return function UV(n,e){return n[ts].queries[e].queryList}(ue(),FE())}function VA(n,e,t){const i=new ec(4==(4&t));OC(n,e,i,i.destroy),null===e[ts]&&(e[ts]=new _y),e[ts].queries.push(new gy(i))}function GA(n,e,t){null===n.queries&&(n.queries=new vy),n.queries.track(new yy(e,t))}function WA(n,e){return n.queries.getByIndex(e)}function ba(n,e){return Yf(n,e)}function Zf(...n){}const Qf=new pe("Application Initializer");let Jf=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Zf,this.reject=Zf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Bf(s))t.push(s);else if(oT(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(W(Qf,8))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ic=new pe("AppId",{providedIn:"root",factory:function lD(){return`${Cy()}${Cy()}${Cy()}`}});function Cy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const cD=new pe("Platform Initializer"),ep=new pe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ws=new pe("AnimationModuleType");let o4=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ds=new pe("LocaleId",{providedIn:"root",factory:()=>we(ds,et.Optional|et.SkipSelf)||function a4(){return typeof $localize<"u"&&$localize.locale||Ql}()});class c4{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let uD=(()=>{class n{compileModuleSync(t){return new uy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),s=zs(Ki(t).declarations).reduce((o,a)=>{const l=$t(a);return l&&o.push(new Yu(l)),o},[]);return new c4(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const h4=(()=>Promise.resolve(0))();function Ty(n){typeof Zone>"u"?h4.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class rt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mt(!1),this.onMicrotaskEmpty=new Mt(!1),this.onStable=new Mt(!1),this.onError=new Mt(!1),typeof Zone>"u")throw new ce(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function f4(){let n=on.requestAnimationFrame,e=on.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function g4(n){const e=()=>{!function m4(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(on,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Dy(n),n.isCheckStableRunning=!0,Ay(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Dy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,a)=>{try{return fD(n),t.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),pD(n)}},onInvoke:(t,i,r,s,o,a,l)=>{try{return fD(n),t.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),pD(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Dy(n),Ay(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!rt.isInAngularZone())throw new ce(909,!1)}static assertNotInAngularZone(){if(rt.isInAngularZone())throw new ce(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,p4,Zf,Zf);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const p4={};function Ay(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Dy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function fD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function pD(n){n._nesting--,Ay(n)}class _4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mt,this.onMicrotaskEmpty=new Mt,this.onStable=new Mt,this.onError=new Mt}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const mD=new pe(""),tp=new pe("");let Py,Iy=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Py||(function v4(n){Py=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{rt.assertNotInAngularZone(),Ty(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ty(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(W(rt),W(Ry),W(tp))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})(),Ry=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return Py?.findTestabilityInTree(this,t,i)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const js=!1;let Do=null;const gD=new pe("AllowMultipleToken"),Oy=new pe("PlatformDestroyListeners"),_D=new pe("appBootstrapListener");class vD{constructor(e,t){this.name=e,this.token=t}}function bD(n,e,t=[]){const i=`Platform: ${e}`,r=new pe(i);return(s=[])=>{let o=Ly();if(!o||o.injector.get(gD,!1)){const a=[...t,...s,{provide:r,useValue:!0}];n?n(a):function x4(n){if(Do&&!Do.get(gD,!1))throw new ce(400,!1);Do=n;const e=n.get(wD);(function yD(n){const e=n.get(cD,null);e&&e.forEach(t=>t())})(n)}(function xD(n=[],e){return Yn.create({name:e,providers:[{provide:Ev,useValue:"platform"},{provide:Oy,useValue:new Set([()=>Do=null])},...n]})}(a,i))}return function M4(n){const e=Ly();if(!e)throw new ce(401,!1);return e}()}}function Ly(){return Do?.get(wD)??null}let wD=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function ED(n,e){let t;return t="noop"===n?new _4:("zone.js"===n?void 0:n)||new rt(e),t}(i?.ngZone,function MD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),s=[{provide:rt,useValue:r}];return r.run(()=>{const o=Yn.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),l=a.injector.get(Us,null);if(!l)throw new ce(402,!1);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{np(this._modules,a),c.unsubscribe()})}),function SD(n,e,t){try{const i=t();return Bf(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(l,r,()=>{const c=a.injector.get(Jf);return c.runInitializers(),c.donePromise.then(()=>(function QT(n){fr(n,"Expected localeId to be defined"),"string"==typeof n&&(ZT=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(ds,Ql)||Ql),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,i=[]){const r=CD({},i);return function y4(n,e,t){const i=new uy(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(rc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new ce(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ce(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(Oy,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(W(Yn))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function CD(n,e){return Array.isArray(e)?e.reduce(CD,n):{...n,...e}}let rc=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,i,r){this._zone=t,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Xt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Xt(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{rt.assertNotInAngularZone(),Ty(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{rt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=Rs(s,o.pipe(lE()))}bootstrap(t,i){const r=t instanceof uC;if(!this._injector.get(Jf).done){!r&&function dl(n){const e=$t(n)||ai(n)||Fi(n);return null!==e&&e.standalone}(t);throw new ce(405,js)}let o;o=r?t:this._injector.get(pa).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function b4(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Jl),c=o.create(Yn.NULL,[],i||o.selector,a),u=c.location.nativeElement,d=c.injector.get(mD,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),np(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new ce(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;np(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(_D,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>np(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ce(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(W(rt),W(os),W(Us))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function np(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let ir=(()=>{class n{}return n.__NG_ELEMENT_ID__=S4,n})();function S4(n){return function C4(n,e,t){if(Ru(n)&&!t){const i=Bi(n.index,e);return new qu(i,i)}return 47&n.type?new qu(e[ci],e):null}(ii(),ue(),16==(16&n))}class RD{constructor(){}supports(e){return Nf(e)}create(e){return new P4(e)}}const R4=(n,e)=>e;class P4{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||R4}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){const o=!i||t&&t.currentIndex<OD(i,r,s)?t:i,a=OD(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Nf(e))throw new ce(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,o,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),i=!0),t=t._next}else r=0,function hz(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{o=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new O4(t,i),s,r),e}_verifyReinsertion(e,t,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new PD),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new PD),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class O4{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class L4{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class PD{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new L4,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function OD(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class LD{constructor(){}supports(e){return e instanceof Map||qv(e)}create(){return new k4}}class k4{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||qv(e)))throw new ce(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new N4(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class N4{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kD(){return new sp([new RD])}let sp=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||kD()),deps:[[n,new So,new Br]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new ce(901,!1)}}return n.\u0275prov=ve({token:n,providedIn:"root",factory:kD}),n})();function ND(){return new ad([new LD])}let ad=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||ND()),deps:[[n,new So,new Br]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new ce(901,!1)}}return n.\u0275prov=ve({token:n,providedIn:"root",factory:ND}),n})();const U4=bD(null,"core",[]);let z4=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(W(rc))},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({}),n})(),zy=null;function Io(){return zy}class G4{}const tt=new pe("DocumentToken");let Hy=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:function(){return function W4(){return W(FD)}()},providedIn:"platform"}),n})();const j4=new pe("Location Initialized");let FD=(()=>{class n extends Hy{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Io().getBaseHref(this._doc)}onPopState(t){const i=Io().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Io().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){BD()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){BD()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(W(tt))},n.\u0275prov=ve({token:n,factory:function(){return function $4(){return new FD(W(tt))}()},providedIn:"platform"}),n})();function BD(){return!!window.history.pushState}function Vy(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function UD(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function $s(n){return n&&"?"!==n[0]?"?"+n:n}let wa=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:function(){return we(HD)},providedIn:"root"}),n})();const zD=new pe("appBaseHref");let HD=(()=>{class n extends wa{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??we(tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Vy(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+$s(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const o=this.prepareExternalUrl(r+$s(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){const o=this.prepareExternalUrl(r+$s(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(W(Hy),W(zD,8))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X4=(()=>{class n extends wa{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Vy(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+$s(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+$s(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(W(Hy),W(zD,8))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})(),op=(()=>{class n{constructor(t){this._subject=new Mt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function K4(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(UD(VD(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+$s(i))}normalize(t){return n.stripTrailingSlash(function Y4(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,VD(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$s(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$s(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=$s,n.joinWithSlash=Vy,n.stripTrailingSlash=UD,n.\u0275fac=function(t){return new(t||n)(W(wa))},n.\u0275prov=ve({token:n,factory:function(){return function q4(){return new op(W(wa))}()},providedIn:"root"}),n})();function VD(n){return n.replace(/\/index.html$/,"")}function ZD(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}const Qy=/\s+/,QD=[];let hs=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=QD,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Qy):QD}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Qy):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,Boolean(t[i]));this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(Qy).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(H(sp),H(ad),H(Bt),H(Cf))},n.\u0275dir=Ke({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class LG{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gp=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new LG(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),t1(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{t1(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(H(hi),H(nr),H(sp))},n.\u0275dir=Ke({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function t1(n,e){n.context.$implicit=e.item}let Jy=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new NG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){n1("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){n1("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(H(hi),H(nr))},n.\u0275dir=Ke({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class NG{constructor(){this.$implicit=null,this.ngIf=null}}function n1(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${en(e)}'.`)}let sc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({}),n})();const o1="browser";let h5=(()=>{class n{}return n.\u0275prov=ve({token:n,providedIn:"root",factory:()=>new f5(W(tt),window)}),n})();class f5{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function p5(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=a1(this.window.history)||a1(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function a1(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class l1{}class H5 extends G4{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ob extends H5{static makeCurrent(){!function V4(n){zy||(zy=n)}(new ob)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function V5(){return dd=dd||document.querySelector("base"),dd?dd.getAttribute("href"):null}();return null==t?null:function G5(n){yp=yp||document.createElement("a"),yp.setAttribute("href",n);const e=yp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){dd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ZD(document.cookie,e)}}let yp,dd=null;const f1=new pe("TRANSITION_ID"),j5=[{provide:Qf,useFactory:function W5(n,e,t){return()=>{t.get(Jf).donePromise.then(()=>{const i=Io(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[f1,tt,Yn],multi:!0}];let X5=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();const bp=new pe("EventManagerPlugins");let xp=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(W(bp),W(rt))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();class p1{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=Io().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let m1=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,i){const r=this.usageCount;let s=r.get(t)??0;return s+=i,s>0?r.set(t,s):r.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})(),hd=(()=>{class n extends m1{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.forEach(s=>s.remove()),i.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,i){const r=this.doc.createElement("style");r.textContent=i,t.appendChild(r);const s=this.styleRef.get(i);s?s.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(W(tt))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();const ab={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},lb=/%COMP%/g,v1=new pe("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function y1(n,e){return e.flat(100).map(t=>t.replace(lb,n))}function b1(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let wp=(()=>{class n{constructor(t,i,r,s){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new cb(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(t,i);return r instanceof M1?r.applyToHost(t):r instanceof ub&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(i.encapsulation){case Lr.Emulated:s=new M1(o,a,i,this.appId,l);break;case Lr.ShadowDom:return new eW(o,a,t,i);default:s=new ub(o,a,i,l)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(W(xp),W(hd),W(ic),W(v1))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();class cb{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ab[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(w1(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(w1(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=ab[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=ab[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Ui.DashCase|Ui.Important)?e.style.setProperty(t,i,r&Ui.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Ui.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,b1(i)):this.eventManager.addEventListener(e,t,b1(i))}}function w1(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class eW extends cb{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=y1(r.id,r.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ub extends cb{constructor(e,t,i,r,s=i.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=y1(s,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class M1 extends ub{constructor(e,t,i,r,s){const o=r+"-"+i.id;super(e,t,i,s,o),this.contentAttr=function Z5(n){return"_ngcontent-%COMP%".replace(lb,n)}(o),this.hostAttr=function Q5(n){return"_nghost-%COMP%".replace(lb,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let tW=(()=>{class n extends p1{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(W(tt))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();const E1=["alt","control","meta","shift"],nW={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iW={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let rW=(()=>{class n extends p1{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Io().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),E1.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(t,i){let r=nW[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),E1.forEach(o=>{o!==r&&(0,iW[o])(t)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(W(tt))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();const lW=bD(U4,"browser",[{provide:ep,useValue:o1},{provide:cD,useValue:function sW(){ob.makeCurrent()},multi:!0},{provide:tt,useFactory:function aW(){return function GB(n){mv=n}(document),document},deps:[]}]),T1=new pe(""),A1=[{provide:tp,useClass:class $5{addToWindow(e){on.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},on.getAllAngularTestabilities=()=>e.getAllTestabilities(),on.getAllAngularRootElements=()=>e.getAllRootElements(),on.frameworkStabilizers||(on.frameworkStabilizers=[]),on.frameworkStabilizers.push(i=>{const r=on.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Io().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:mD,useClass:Iy,deps:[rt,Ry,tp]},{provide:Iy,useClass:Iy,deps:[rt,Ry,tp]}],D1=[{provide:Ev,useValue:"root"},{provide:Us,useFactory:function oW(){return new Us},deps:[]},{provide:bp,useClass:tW,multi:!0,deps:[tt,rt,ep]},{provide:bp,useClass:rW,multi:!0,deps:[tt]},{provide:wp,useClass:wp,deps:[xp,hd,ic,v1]},{provide:ju,useExisting:wp},{provide:m1,useExisting:hd},{provide:hd,useClass:hd,deps:[tt]},{provide:xp,useClass:xp,deps:[bp,rt]},{provide:l1,useClass:X5,deps:[]},[]];let I1=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:ic,useValue:t.appId},{provide:f1,useExisting:ic},j5]}}}return n.\u0275fac=function(t){return new(t||n)(W(T1,12))},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({providers:[...D1,...A1],imports:[sc,z4]}),n})(),R1=(()=>{class n{constructor(t){this._doc=t,this._dom=Io()}addTag(t,i=!1){return t?this._getOrCreateElement(t,i):null}addTags(t,i=!1){return t?t.reduce((r,s)=>(s&&r.push(this._getOrCreateElement(s,i)),r),[]):[]}getTag(t){return t&&this._doc.querySelector(`meta[${t}]`)||null}getTags(t){if(!t)return[];const i=this._doc.querySelectorAll(`meta[${t}]`);return i?[].slice.call(i):[]}updateTag(t,i){if(!t)return null;i=i||this._parseSelector(t);const r=this.getTag(i);return r?this._setMetaElementAttributes(t,r):this._getOrCreateElement(t,!0)}removeTag(t){this.removeTagElement(this.getTag(t))}removeTagElement(t){t&&this._dom.remove(t)}_getOrCreateElement(t,i=!1){if(!i){const o=this._parseSelector(t),a=this.getTags(o).filter(l=>this._containsAttributes(t,l))[0];if(void 0!==a)return a}const r=this._dom.createElement("meta");return this._setMetaElementAttributes(t,r),this._doc.getElementsByTagName("head")[0].appendChild(r),r}_setMetaElementAttributes(t,i){return Object.keys(t).forEach(r=>i.setAttribute(this._getMetaKeyMap(r),t[r])),i}_parseSelector(t){const i=t.name?"name":"property";return`${i}="${t[i]}"`}_containsAttributes(t,i){return Object.keys(t).every(r=>i.getAttribute(this._getMetaKeyMap(r))===t[r])}_getMetaKeyMap(t){return uW[t]||t}}return n.\u0275fac=function(t){return new(t||n)(W(tt))},n.\u0275prov=ve({token:n,factory:function(t){let i=null;return i=t?new t:function cW(){return new R1(W(tt))}(),i},providedIn:"root"}),n})();const uW={httpEquiv:"http-equiv"};let hb=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(W(tt))},n.\u0275prov=ve({token:n,factory:function(t){let i=null;return i=t?new t:function dW(){return new hb(W(tt))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let pb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:function(t){let i=null;return i=t?new(t||n):W(L1),i},providedIn:"root"}),n})(),L1=(()=>{class n extends pb{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case Ht.NONE:return i;case Ht.HTML:return ss(i,"HTML")?er(i):QS(this._doc,String(i)).toString();case Ht.STYLE:return ss(i,"Style")?er(i):i;case Ht.SCRIPT:if(ss(i,"Script"))return er(i);throw new Error("unsafe value used in a script context");case Ht.URL:return ss(i,"URL")?er(i):xf(String(i));case Ht.RESOURCE_URL:if(ss(i,"ResourceURL"))return er(i);throw new Error(`unsafe value used in a resource URL context (see ${zh})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${zh})`)}}bypassSecurityTrustHtml(t){return function KB(n){return new WB(n)}(t)}bypassSecurityTrustStyle(t){return function ZB(n){return new jB(n)}(t)}bypassSecurityTrustScript(t){return function QB(n){return new $B(n)}(t)}bypassSecurityTrustUrl(t){return function JB(n){return new XB(n)}(t)}bypassSecurityTrustResourceUrl(t){return function eU(n){return new qB(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(W(tt))},n.\u0275prov=ve({token:n,factory:function(t){let i=null;return i=t?new t:function gW(n){return new L1(n.get(tt))}(W(Yn)),i},providedIn:"root"}),n})();function vn(n){return null!=n&&"false"!=`${n}`}function fd(n,e=0){return function _W(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function pd(n){return Array.isArray(n)?n:[n]}function Fn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function $n(n){return n instanceof Bt?n.nativeElement:n}function He(...n){return Vn(n,Mu(n))}const{isArray:vW}=Array;function mb(n){return Qe(e=>function yW(n,e){return vW(e)?n(...e):n(e)}(n,e))}const bW=["addListener","removeListener"],xW=["addEventListener","removeEventListener"],wW=["on","off"];function qs(n,e,t,i){if(Ft(t)&&(i=t,t=void 0),i)return qs(n,e,t).pipe(mb(i));const[r,s]=function SW(n){return Ft(n.addEventListener)&&Ft(n.removeEventListener)}(n)?xW.map(o=>a=>n[o](e,a,t)):function MW(n){return Ft(n.addListener)&&Ft(n.removeListener)}(n)?bW.map(k1(n,e)):function EW(n){return Ft(n.on)&&Ft(n.off)}(n)?wW.map(k1(n,e)):[];if(!r&&h_(n))return mn(o=>qs(o,e,t))(ti(n));if(!r)throw new TypeError("Invalid event target");return new Xt(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function k1(n,e){return t=>i=>n[t](e,i)}class CW extends Jt{constructor(e,t){super()}schedule(e,t=0){return this}}const Mp={setInterval(n,e,...t){const{delegate:i}=Mp;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Mp;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class gb extends CW{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return Mp.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&Mp.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,cl(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const md={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=md;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new Jt(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=md;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=md;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},N1={now:()=>(N1.delegate||Date).now(),delegate:void 0};class gd{constructor(e,t=gd.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}gd.now=N1.now;class _b extends gd{constructor(e,t=gd.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const F1=new class AW extends _b{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class TW extends gb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=md.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(md.cancelAnimationFrame(t),e._scheduled=void 0)}});let vb,DW=1;const Ep={};function B1(n){return n in Ep&&(delete Ep[n],!0)}const IW={setImmediate(n){const e=DW++;return Ep[e]=!0,vb||(vb=Promise.resolve()),vb.then(()=>B1(e)&&n()),e},clearImmediate(n){B1(n)}},{setImmediate:RW,clearImmediate:PW}=IW,Sp={setImmediate(...n){const{delegate:e}=Sp;return(e?.setImmediate||RW)(...n)},clearImmediate(n){const{delegate:e}=Sp;return(e?.clearImmediate||PW)(n)},delegate:void 0},kW=new class LW extends _b{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class OW extends gb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Sp.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(Sp.clearImmediate(t),e._scheduled=void 0)}}),Cp=new _b(gb),NW=Cp;function U1(n=0,e,t=NW){let i=-1;return null!=e&&(iE(e)?t=e:i=e),new Xt(r=>{let s=function BW(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function yb(n,e=Cp){return function FW(n){return pn((e,t)=>{let i=!1,r=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const c=r;r=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(ln(t,c=>{i=!0,r=c,s||ti(n(c)).subscribe(s=ln(t,a,l))},()=>{o=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>U1(n,e))}function cn(n,e){return pn((t,i)=>{let r=0;t.subscribe(ln(i,s=>n.call(e,s,r++)&&i.next(s)))})}function Lt(n){return pn((e,t)=>{ti(n).subscribe(ln(t,()=>t.complete(),s_)),!t.closed&&e.subscribe(t)})}function Tp(...n){return function UW(){return Is(1)}()(Vn(n,Mu(n)))}function xr(...n){const e=Mu(n);return pn((t,i)=>{(e?Tp(n,t,e):Tp(n,t)).subscribe(i)})}let bb;try{bb=typeof Intl<"u"&&Intl.v8BreakIterator}catch{bb=!1}let _d,Ap,Ma,xb,Ri=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function d5(n){return n===o1}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!bb)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(W(ep))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ys(n){return function zW(){if(null==_d&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>_d=!0}))}finally{_d=_d||!1}return _d}()?n:!!n.capture}function H1(){if(null==Ma){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ma=!1,Ma;if("scrollBehavior"in document.documentElement.style)Ma=!0;else{const n=Element.prototype.scrollTo;Ma=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ma}function vd(){if("object"!=typeof document||!document)return 0;if(null==Ap){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),Ap=0,0===n.scrollLeft&&(n.scrollLeft=1,Ap=0===n.scrollLeft?1:2),n.remove()}return Ap}function wb(n){if(function HW(){if(null==xb){const n=typeof document<"u"?document.head:null;xb=!(!n||!n.createShadowRoot&&!n.attachShadow)}return xb}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Vi(n){return n.composedPath?n.composedPath()[0]:n.target}function Mb(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const VW=new pe("cdk-dir-doc",{providedIn:"root",factory:function GW(){return we(tt)}}),WW=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let jr=(()=>{class n{constructor(t){this.value="ltr",this.change=new Mt,t&&(this.value=function jW(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?WW.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(W(VW,8))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({}),n})();const $W=["contentWrapper"],XW=["*"],qW=new pe("VIRTUAL_SCROLL_STRATEGY");let ac=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Re,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Xt(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(yb(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):He()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(cn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=$n(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>qs(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(W(rt),W(Ri),W(tt,8))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V1=(()=>{class n{constructor(t,i,r,s){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new Re,this._elementScrolled=new Xt(o=>this.ngZone.runOutsideAngular(()=>qs(this.elementRef.nativeElement,"scroll").pipe(Lt(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=vd()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==vd()?t.left=t.right:1==vd()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;H1()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?r:i:"end"==t&&(t=o?i:r),o&&2==vd()?t==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&1==vd()?t==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(H(Bt),H(ac),H(rt),H(jr,8))},n.\u0275dir=Ke({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),Dp=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Re,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(yb(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(W(Ri),W(rt),W(tt,8))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const G1=new pe("VIRTUAL_SCROLLABLE");let ZW=(()=>{class n extends V1{constructor(t,i,r,s){super(t,i,r,s)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(H(Bt),H(ac),H(rt),H(jr,8))},n.\u0275dir=Ke({type:n,features:[dn]}),n})();const JW=typeof requestAnimationFrame<"u"?F1:kW;let e8=(()=>{class n extends ZW{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=vn(t)}constructor(t,i,r,s,o,a,l,c){super(t,a,r,o),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=s,this.scrollable=c,this._platform=we(Ri),this._detachedSubject=new Re,this._renderedRangeSubject=new Re,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Xt(u=>this._scrollStrategy.scrolledIndexChange.subscribe(d=>Promise.resolve().then(()=>this.ngZone.run(()=>u.next(d))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Jt.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(xr(null),yb(0,JW)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Lt(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function QW(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const s="horizontal"==this.orientation,o=s?"X":"Y";let l=`translate${o}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(l+=` translate${o}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const r="left",s="right",o="rtl"==this.dir?.value;i="start"==t?o?s:r:"end"==t?o?r:s:t||("horizontal"===this.orientation?"left":"top");const a=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-a}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(H(Bt),H(ir),H(rt),H(qW,8),H(jr,8),H(ac),H(Dp),H(G1,8))},n.\u0275cmp=tn({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&To($W,7),2&t){let r;Ai(r=Di())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&ri("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[Ln([{provide:V1,useFactory:(e,t)=>e||t,deps:[[new Br,new Al(G1)],n]}]),dn,dy],ngContentSelectors:XW,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(Vs(),G(0,"div",0,1),Si(2),$(),We(3,"div",2)),2&t&&(Fe(3),Zu("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),bd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({}),n})(),W1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({imports:[yd,bd,e8,yd,bd]}),n})();class wr extends Re{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function fi(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function An(n,e,t){const i=Ft(n)||e||t?{next:n,error:e,complete:t}:n;return i?pn((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(ln(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):xo}function Ab(n,e=Cp){return pn((t,i)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=s;s=null,i.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}t.subscribe(ln(i,c=>{s=c,o=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}function Db(n){return cn((e,t)=>n<=t)}function Ib(n,e=xo){return n=n??p8,pn((t,i)=>{let r,s=!0;t.subscribe(ln(i,o=>{const a=e(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}function p8(n,e){return n===e}let m8=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),g8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({providers:[m8]}),n})();const{isArray:_8}=Array,{getPrototypeOf:v8,prototype:y8,keys:b8}=Object;function j1(n){if(1===n.length){const e=n[0];if(_8(e))return{args:e,keys:null};if(function x8(n){return n&&"object"==typeof n&&v8(n)===y8}(e)){const t=b8(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function $1(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Rb(...n){const e=Mu(n),t=rE(n),{args:i,keys:r}=j1(n);if(0===i.length)return Vn([],e);const s=new Xt(function w8(n,e,t=xo){return i=>{X1(e,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)X1(e,()=>{const c=Vn(n[l],e);let u=!1;c.subscribe(ln(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,r?o=>$1(r,o):xo));return t?s.pipe(mb(t)):s}function X1(n,e,t){n?Ds(t,n,e):e()}function Gi(n){return n<=0?()=>Or:pn((e,t)=>{let i=0;e.subscribe(ln(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}const q1=new Set;let uc,M8=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):S8}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function E8(n){if(!q1.has(n))try{uc||(uc=document.createElement("style"),uc.setAttribute("type","text/css"),document.head.appendChild(uc)),uc.sheet&&(uc.sheet.insertRule(`@media ${n} {body{ }}`,0),q1.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(W(Ri))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function S8(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Pb=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Re}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Y1(pd(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=Rb(Y1(pd(t)).map(o=>this._registerQuery(o).observable));return s=Tp(s.pipe(Gi(1)),s.pipe(Db(1),Ab(0))),s.pipe(Qe(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new Xt(o=>{const a=l=>this._zone.run(()=>o.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(xr(i),Qe(({matches:o})=>({query:t,matches:o})),Lt(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(W(M8),W(rt))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Y1(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function Pp(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const Z1="cdk-describedby-message",Op="cdk-describedby-host";let Ob=0,D8=(()=>{class n{constructor(t,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Ob++,this._document=t,this._id=we(ic)+"-"+Ob++}describe(t,i,r){if(!this._canBeDescribed(t,i))return;const s=Lb(i,r);"string"!=typeof i?(Q1(i,this._id),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(t,s)||this._addMessageReference(t,s)}removeDescription(t,i,r){if(!i||!this._isElementNode(t))return;const s=Lb(i,r);if(this._isElementDescribedByMessage(t,s)&&this._removeMessageReference(t,s),"string"==typeof i){const o=this._messageRegistry.get(s);o&&0===o.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${Op}="${this._id}"]`);for(let i=0;i<t.length;i++)this._removeCdkDescribedByReferenceIds(t[i]),t[i].removeAttribute(Op);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,i){const r=this._document.createElement("div");Q1(r,this._id),r.textContent=t,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(Lb(t,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){const i=Pp(t,"aria-describedby").filter(r=>0!=r.indexOf(Z1));t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){const r=this._messageRegistry.get(i);(function T8(n,e,t){const i=Pp(n,e);i.some(r=>r.trim()==t.trim())||(i.push(t.trim()),n.setAttribute(e,i.join(" ")))})(t,"aria-describedby",r.messageElement.id),t.setAttribute(Op,this._id),r.referenceCount++}_removeMessageReference(t,i){const r=this._messageRegistry.get(i);r.referenceCount--,function A8(n,e,t){const r=Pp(n,e).filter(s=>s!=t.trim());r.length?n.setAttribute(e,r.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",r.messageElement.id),t.removeAttribute(Op)}_isElementDescribedByMessage(t,i){const r=Pp(t,"aria-describedby"),s=this._messageRegistry.get(i),o=s&&s.messageElement.id;return!!o&&-1!=r.indexOf(o)}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=t.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(W(tt),W(Ri))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Lb(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function Q1(n,e){n.id||(n.id=`${Z1}-${e}-${Ob++}`)}class I8{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Re,this._typeaheadSubscription=Jt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Re,this.change=new Re,e instanceof ec&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(An(t=>this._pressedLetters.push(t)),Ab(e),cn(()=>this._pressedLetters.length>0),Qe(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,o=i[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}return;default:return void((r||fi(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof ec?this._items.toArray():this._items}}class J1 extends I8{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function kb(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Nb(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const N8=new pe("cdk-input-modality-detector-options"),F8={ignoreKeys:[18,17,224,91,16]},dc=Ys({passive:!0,capture:!0});let Fb=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new wr(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Vi(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(kb(o)?"keyboard":"mouse"),this._mostRecentTarget=Vi(o))},this._onTouchstart=o=>{Nb(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Vi(o))},this._options={...F8,...s},this.modalityDetected=this._modality.pipe(Db(1)),this.modalityChanged=this.modalityDetected.pipe(Ib()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,dc),r.addEventListener("mousedown",this._onMousedown,dc),r.addEventListener("touchstart",this._onTouchstart,dc)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,dc),document.removeEventListener("mousedown",this._onMousedown,dc),document.removeEventListener("touchstart",this._onTouchstart,dc))}}return n.\u0275fac=function(t){return new(t||n)(W(Ri),W(rt),W(tt),W(N8,8))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const B8=new pe("liveAnnouncerElement",{providedIn:"root",factory:function U8(){return null}}),z8=new pe("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let H8=0,nI=(()=>{class n{constructor(t,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let s,o;return 1===i.length&&"number"==typeof i[0]?o=i[0]:[s,o]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+H8++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],o=s.getAttribute("aria-owns");o?-1===o.indexOf(t)&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}}return n.\u0275fac=function(t){return new(t||n)(W(B8,8),W(rt),W(tt),W(z8,8))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const V8=new pe("cdk-focus-monitor-default-options"),Lp=Ys({passive:!0,capture:!0});let Bb=(()=>{class n{constructor(t,i,r,s,o){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Re,this._rootNodeFocusAndBlurListener=a=>{for(let c=Vi(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(t,i=!1){const r=$n(t);if(!this._platform.isBrowser||1!==r.nodeType)return He(null);const s=wb(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;const a={checkChildren:i,subject:new Re,rootNode:s};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=$n(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=$n(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=Vi(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Lp),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Lp)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Lt(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Lp),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Lp),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(W(rt),W(Ri),W(Fb),W(tt,8),W(V8,8))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iI="cdk-high-contrast-black-on-white",rI="cdk-high-contrast-white-on-black",Ub="cdk-high-contrast-active";let sI=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=we(Pb).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Ub,iI,rI),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(Ub,iI):2===i&&t.add(Ub,rI)}}}return n.\u0275fac=function(t){return new(t||n)(W(Ri),W(tt))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),G8=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(W(sI))},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({imports:[g8]}),n})();function Mr(n,e){return pn((t,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();t.subscribe(ln(i,l=>{r?.unsubscribe();let c=0;const u=s++;ti(n(l,u)).subscribe(r=ln(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function zb(n,e,t){for(let i in e)if(e.hasOwnProperty(i)){const r=e[i];r?n.setProperty(i,r,t?.has(i)?"important":""):n.removeProperty(i)}return n}function hc(n,e){const t=e?"":"none";zb(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function oI(n,e,t){zb(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function kp(n,e){return e&&"none"!=e?n+" "+e:n}function aI(n){const e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function Hb(n,e){return n.getPropertyValue(e).split(",").map(i=>i.trim())}function Vb(n){const e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function Gb(n,e,t){const{top:i,bottom:r,left:s,right:o}=n;return t>=i&&t<=r&&e>=s&&e<=o}function xd(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function lI(n,e,t,i){const{top:r,right:s,bottom:o,left:a,width:l,height:c}=n,u=l*e,d=c*e;return i>r-d&&i<o+d&&t>a-u&&t<s+u}class cI{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Vb(t)})})}handleScroll(e){const t=Vi(e),i=this.positions.get(t);if(!i)return null;const r=i.scrollPosition;let s,o;if(t===this._document){const c=this.getViewportScrollPosition();s=c.top,o=c.left}else s=t.scrollTop,o=t.scrollLeft;const a=r.top-s,l=r.left-o;return this.positions.forEach((c,u)=>{c.clientRect&&t!==u&&t.contains(u)&&xd(c.clientRect,a,l)}),r.top=s,r.left=o,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function uI(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();e.removeAttribute("id");for(let r=0;r<t.length;r++)t[r].removeAttribute("id");return"canvas"===i?fI(n,e):("input"===i||"select"===i||"textarea"===i)&&hI(n,e),dI("canvas",n,e,fI),dI("input, textarea, select",n,e,hI),e}function dI(n,e,t,i){const r=e.querySelectorAll(n);if(r.length){const s=t.querySelectorAll(n);for(let o=0;o<r.length;o++)i(r[o],s[o])}}let $8=0;function hI(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${$8++}`)}function fI(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}const pI=Ys({passive:!0}),Np=Ys({passive:!1}),Wb=new Set(["position"]);class q8{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=vn(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(i=>hc(i,t)))}constructor(e,t,i,r,s,o){this._config=t,this._document=i,this._ngZone=r,this._viewportRuler=s,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Re,this._pointerMoveSubscription=Jt.EMPTY,this._pointerUpSubscription=Jt.EMPTY,this._scrollSubscription=Jt.EMPTY,this._resizeSubscription=Jt.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Re,this.started=new Re,this.released=new Re,this.ended=new Re,this.entered=new Re,this.exited=new Re,this.dropped=new Re,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const f=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),p=this._dropContainer;if(!f)return void this._endDragSequence(a);(!p||!p.isDragging()&&!p.isReceiving())&&(a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}a.preventDefault();const c=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(c),this._dropContainer)this._updateActiveDropContainer(c,l);else{const u=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,d=this._activeTransform;d.x=c.x-u.x+this._passiveTransform.x,d.y=c.y-u.y+this._passiveTransform.y,this._applyRootElementTransform(d.x,d.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:c,event:a,distance:this._getDragDistance(c),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new cI(i),o.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(i=>$n(i)),this._handles.forEach(i=>hc(i,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=$n(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,Np),t.addEventListener("touchstart",this._pointerDown,pI),t.addEventListener("dragstart",this._nativeDragStart,Np)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?$n(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),hc(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),hc(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){wd(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const i=this._rootElement,r=i.parentNode,s=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();r.insertBefore(o,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),oI(i,!1,Wb),this._document.body.appendChild(r.replaceChild(s,i)),this._getPreviewInsertionPoint(r,a).appendChild(this._preview),this.started.next({source:this,event:e}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const i=this.isDragging(),r=wd(t),s=!r&&0!==t.button,o=this._rootElement,a=Vi(t),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),c=r?Nb(t):kb(t);if(a&&a.draggable&&"mousedown"===t.type&&t.preventDefault(),i||s||l||c)return;if(this._handles.length){const h=o.style;this._rootElementTapHighlight=h.webkitTapHighlightColor||"",h.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(h=>this._updateOnScroll(h)),this._boundaryElement&&(this._boundaryRect=Vb(this._boundaryElement));const u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,e,t);const d=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:d.x,y:d.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){oI(this._rootElement,!0,Wb),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),r=this._getPointerPositionOnPage(e),s=this._getDragDistance(r),o=t._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:s,dropPoint:r,event:e}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:s,dropPoint:r,event:e}),t.drop(this,i,this._initialIndex,this._initialContainer,o,s,r,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:i,y:r}){let s=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,e,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,i=e?e.template:null;let r;if(i&&e){const s=e.matchSize?this._initialClientRect:null,o=e.viewContainer.createEmbeddedView(i,e.context);o.detectChanges(),r=gI(o,this._document),this._previewRef=o,e.matchSize?_I(r,s):r.style.transform=Fp(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=uI(this._rootElement),_I(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return zb(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Wb),hc(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>r.classList.add(s)):r.classList.add(t)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function j8(n){const e=getComputedStyle(n),t=Hb(e,"transition-property"),i=t.find(a=>"transform"===a||"all"===a);if(!i)return 0;const r=t.indexOf(i),s=Hb(e,"transition-duration"),o=Hb(e,"transition-delay");return aI(s[r])+aI(o[r])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=o=>{(!o||Vi(o)===this._preview&&"transform"===o.propertyName)&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(s))},s=setTimeout(r,1.5*t);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let i;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),i=gI(this._placeholderRef,this._document)):i=uI(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(e,t,i){const r=t===this._rootElement?null:t,s=r?r.getBoundingClientRect():e,o=wd(i)?i.targetTouches[0]:i,a=this._getViewportScrollPosition();return{x:s.left-e.left+(o.pageX-s.left-a.left),y:s.top-e.top+(o.pageY-s.top-a.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),i=wd(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,r=i.pageX-t.left,s=i.pageY-t.top;if(this._ownerSVGElement){const o=this._ownerSVGElement.getScreenCTM();if(o){const a=this._ownerSVGElement.createSVGPoint();return a.x=r,a.y=s,a.matrixTransform(o.inverse())}}return{x:r,y:s}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(e,this,this._initialClientRect,this._pickupPositionInElement):e;if("x"===this.lockAxis||"x"===t?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:s,y:o}=this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),u=a.top+o,d=a.bottom-(c-o);i=mI(i,a.left+s,a.right-(l-s)),r=mI(r,u,d)}return{x:i,y:r}}_updatePointerDirectionDelta(e){const{x:t,y:i}=e,r=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,o=Math.abs(t-s.x),a=Math.abs(i-s.y);return o>this._config.pointerDirectionChangeThreshold&&(r.x=t>s.x?1:-1,s.x=t),a>this._config.pointerDirectionChangeThreshold&&(r.y=i>s.y?1:-1,s.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,hc(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,Np),e.removeEventListener("touchstart",this._pointerDown,pI),e.removeEventListener("dragstart",this._nativeDragStart,Np)}_applyRootElementTransform(e,t){const i=Fp(e,t),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=kp(i,this._initialTransform)}_applyPreviewTransform(e,t){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=Fp(e,t);this._preview.style.transform=kp(r,i)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const s=r.left-i.left,o=i.right-r.right,a=r.top-i.top,l=i.bottom-r.bottom;r.width>i.width?(s>0&&(e+=s),o>0&&(e-=o)):e=0,r.height>i.height?(a>0&&(t+=a),l>0&&(t-=l)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:wd(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const i=Vi(e);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&xd(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=wb(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const i=this._previewContainer||"global";if("parent"===i)return e;if("global"===i){const r=this._document;return t||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return $n(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}}function Fp(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function mI(n,e,t){return Math.max(e,Math.min(t,n))}function wd(n){return"t"===n.type[0]}function gI(n,e){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const i=e.createElement("div");return t.forEach(r=>i.appendChild(r)),i}function _I(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=Fp(e.left,e.top)}function Md(n,e){return Math.max(0,Math.min(e,n))}class K8{constructor(e,t){this._element=e,this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(e){this.withItems(e)}sort(e,t,i,r){const s=this._itemPositions,o=this._getItemIndexFromPointerPosition(e,t,i,r);if(-1===o&&s.length>0)return null;const a="horizontal"===this.orientation,l=s.findIndex(_=>_.drag===e),c=s[o],d=c.clientRect,h=l>o?1:-1,f=this._getItemOffsetPx(s[l].clientRect,d,h),p=this._getSiblingOffsetPx(l,s,h),g=s.slice();return function Y8(n,e,t){const i=Md(e,n.length-1),r=Md(t,n.length-1);if(i===r)return;const s=n[i],o=r<i?-1:1;for(let a=i;a!==r;a+=o)n[a]=n[a+o];n[r]=s}(s,l,o),s.forEach((_,m)=>{if(g[m]===_)return;const y=_.drag===e,v=y?f:p,b=y?e.getPlaceholderElement():_.drag.getRootElement();_.offset+=v,a?(b.style.transform=kp(`translate3d(${Math.round(_.offset)}px, 0, 0)`,_.initialTransform),xd(_.clientRect,0,v)):(b.style.transform=kp(`translate3d(0, ${Math.round(_.offset)}px, 0)`,_.initialTransform),xd(_.clientRect,v,0))}),this._previousSwap.overlaps=Gb(d,t,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?r.x:r.y,{previousIndex:l,currentIndex:o}}enter(e,t,i,r){const s=null==r||r<0?this._getItemIndexFromPointerPosition(e,t,i):r,o=this._activeDraggables,a=o.indexOf(e),l=e.getPlaceholderElement();let c=o[s];if(c===e&&(c=o[s+1]),!c&&(null==s||-1===s||s<o.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(c=o[0]),a>-1&&o.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){const u=c.getRootElement();u.parentElement.insertBefore(l,u),o.splice(s,0,e)}else $n(this._element).appendChild(l),o.push(e);l.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables.forEach(e=>{const t=e.getRootElement();if(t){const i=this._itemPositions.find(r=>r.drag===e)?.initialTransform;t.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===e)}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:i})=>{xd(i,e,t)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const e="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:Vb(i)}}).sort((t,i)=>e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_getItemOffsetPx(e,t,i){const r="horizontal"===this.orientation;let s=r?t.left-e.left:t.top-e.top;return-1===i&&(s+=r?t.width-e.width:t.height-e.height),s}_getSiblingOffsetPx(e,t,i){const r="horizontal"===this.orientation,s=t[e].clientRect,o=t[e+-1*i];let a=s[r?"width":"height"]*i;if(o){const l=r?"left":"top",c=r?"right":"bottom";-1===i?a-=o.clientRect[l]-s[c]:a+=s[l]-o.clientRect[c]}return a}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const o=i[i.length-1].clientRect;return r?e>=o.right:t>=o.bottom}{const o=i[0].clientRect;return r?e<=o.left:t<=o.top}}_getItemIndexFromPointerPosition(e,t,i,r){const s="horizontal"===this.orientation,o=this._itemPositions.findIndex(({drag:a,clientRect:l})=>a!==e&&((!r||a!==this._previousSwap.drag||!this._previousSwap.overlaps||(s?r.x:r.y)!==this._previousSwap.delta)&&(s?t>=Math.floor(l.left)&&t<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom))));return-1!==o&&this._sortPredicate(o,e)?o:-1}}const yI=.05;class Z8{constructor(e,t,i,r,s){this._dragDropRegistry=t,this._ngZone=r,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Re,this.entered=new Re,this.exited=new Re,this.dropped=new Re,this.sorted=new Re,this.receivingStarted=new Re,this.receivingStopped=new Re,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Jt.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Re,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function W8(n=0,e=Cp){return n<0&&(n=0),U1(n,n,e)}(0,F1).pipe(Lt(this._stopScrollTimers)).subscribe(()=>{const o=this._scrollNode,a=this.autoScrollStep;1===this._verticalScrollDirection?o.scrollBy(0,-a):2===this._verticalScrollDirection&&o.scrollBy(0,a),1===this._horizontalScrollDirection?o.scrollBy(-a,0):2===this._horizontalScrollDirection&&o.scrollBy(a,0)})},this.element=$n(e),this._document=i,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new cI(i),this._sortStrategy=new K8(this.element,t),this._sortStrategy.withSortPredicate((o,a)=>this.sortPredicate(o,a,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,i,r,s,o,a,l={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:s,distance:o,dropPoint:a,event:l})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(r=>r.isDragging()).every(r=>-1===e.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._sortStrategy.direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._sortStrategy.orientation=e,this}withScrollableParents(e){const t=$n(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,i,r){if(this.sortingDisabled||!this._clientRect||!lI(this._clientRect,.05,t,i))return;const s=this._sortStrategy.sort(e,t,i,r);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let i,r=0,s=0;if(this._parentPositions.positions.forEach((o,a)=>{a===this._document||!o.clientRect||i||lI(o.clientRect,.05,e,t)&&([r,s]=function Q8(n,e,t,i){const r=bI(e,i),s=xI(e,t);let o=0,a=0;if(r){const l=n.scrollTop;1===r?l>0&&(o=1):n.scrollHeight-l>n.clientHeight&&(o=2)}if(s){const l=n.scrollLeft;1===s?l>0&&(a=1):n.scrollWidth-l>n.clientWidth&&(a=2)}return[o,a]}(a,o.clientRect,e,t),(r||s)&&(i=a))}),!r&&!s){const{width:o,height:a}=this._viewportRuler.getViewportSize(),l={width:o,height:a,top:0,right:o,bottom:a,left:0};r=bI(l,t),s=xI(l,e),i=window}i&&(r!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=s,this._scrollNode=i,(r||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=$n(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=$n(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_reset(){this._isDragging=!1;const e=$n(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(e,t){return null!=this._clientRect&&Gb(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,i){return this._siblings.find(r=>r._canReceive(e,t,i))}_canReceive(e,t,i){if(!this._clientRect||!Gb(this._clientRect,t,i)||!this.enterPredicate(e,this))return!1;const r=this._getShadowRoot().elementFromPoint(t,i);if(!r)return!1;const s=$n(this.element);return r===s||s.contains(r)}_startReceiving(e,t){const i=this._activeSiblings;!i.has(e)&&t.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:t}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=wb($n(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function bI(n,e){const{top:t,bottom:i,height:r}=n,s=r*yI;return e>=t-s&&e<=t+s?1:e>=i-s&&e<=i+s?2:0}function xI(n,e){const{left:t,right:i,width:r}=n,s=r*yI;return e>=t-s&&e<=t+s?1:e>=i-s&&e<=i+s?2:0}const Bp=Ys({passive:!1,capture:!0});let J8=(()=>{class n{constructor(t,i){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new Re,this.pointerUp=new Re,this.scroll=new Re,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Bp)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Bp)}startDragging(t,i){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Bp}),r||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:Bp}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,o)=>{this._document.addEventListener(o,s.handler,s.options)})})}}stopDragging(t){const i=this._activeDragInstances.indexOf(t);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const i=[this.scroll];return t&&t!==this._document&&i.push(new Xt(r=>this._ngZone.runOutsideAngular(()=>{const o=a=>{this._activeDragInstances.length&&r.next(a)};return t.addEventListener("scroll",o,!0),()=>{t.removeEventListener("scroll",o,!0)}}))),Rs(...i)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,i)=>{this._document.removeEventListener(i,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)(W(rt),W(tt))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ej={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let jb=(()=>{class n{constructor(t,i,r,s){this._document=t,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=s}createDrag(t,i=ej){return new q8(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Z8(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)(W(tt),W(rt),W(Dp),W(J8))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({providers:[jb],imports:[bd]}),n})();const Up=xu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function zp(n){return new Xt(e=>{ti(n()).subscribe(e)})}function fc(n,e){const t=Ft(n)?n:()=>n,i=r=>r.error(t());return new Xt(e?r=>e.schedule(i,0,r):i)}function Yb(){return pn((n,e)=>{let t=null;n._refCount++;const i=ln(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class CI extends Xt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,WM(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Jt;const t=this.getSubject();e.add(this.source.subscribe(ln(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Jt.EMPTY)}return e}refCount(){return Yb()(this)}}function Hp(n){return pn((e,t)=>{let i=!1;e.subscribe(ln(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function TI(n=uj){return pn((e,t)=>{let i=!1;e.subscribe(ln(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function uj(){return new Up}function Po(n,e){const t=arguments.length>=2;return i=>i.pipe(n?cn((r,s)=>n(r,s,i)):xo,Gi(1),t?Hp(e):TI(()=>new Up))}function Oo(n,e){return Ft(e)?mn(n,e,1):mn(n,1)}function Ks(n){return pn((e,t)=>{let s,i=null,r=!1;i=e.subscribe(ln(t,void 0,void 0,o=>{s=ti(n(o,Ks(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function AI(n,e){return pn(function dj(n,e,t,i,r){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(ln(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}function Kb(n){return n<=0?()=>Or:pn((e,t)=>{let i=[];e.subscribe(ln(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function DI(n,e){const t=arguments.length>=2;return i=>i.pipe(n?cn((r,s)=>n(r,s,i)):xo,Kb(1),t?Hp(e):TI(()=>new Up))}function Vp(n){return Qe(()=>n)}function Gp(n){return pn((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const mt="primary",Ed=Symbol("RouteTitle");class fj{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function pc(n){return new fj(n)}function pj(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function fs(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!II(n[r],e[r]))return!1;return!0}function II(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function RI(n){return Array.prototype.concat.apply([],n)}function PI(n){return n.length>0?n[n.length-1]:null}function si(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Lo(n){return oT(n)?n:Bf(n)?Vn(Promise.resolve(n)):He(n)}const Wp=!1,gj={exact:function kI(n,e,t){if(!Ea(n.segments,e.segments)||!jp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!kI(n.children[i],e.children[i],t))return!1;return!0},subset:NI},OI={exact:function _j(n,e){return fs(n,e)},subset:function vj(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>II(n[t],e[t]))},ignored:()=>!0};function LI(n,e,t){return gj[t.paths](n.root,e.root,t.matrixParams)&&OI[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function NI(n,e,t){return FI(n,e,e.segments,t)}function FI(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Ea(r,t)||e.hasChildren()||!jp(r,t,i))}if(n.segments.length===t.length){if(!Ea(n.segments,t)||!jp(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!NI(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Ea(n.segments,r)&&jp(n.segments,r,i)&&n.children[mt])&&FI(n.children[mt],e,s,i)}}function jp(n,e,t){return e.every((i,r)=>OI[t](n[r].parameters,i.parameters))}class ko{constructor(e=new bt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pc(this.queryParams)),this._queryParamMap}toString(){return xj.serialize(this)}}class bt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,si(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $p(this)}}class Sd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=pc(this.parameters)),this._parameterMap}toString(){return zI(this)}}function Ea(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Cd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:function(){return new Zb},providedIn:"root"}),n})();class Zb{parse(e){const t=new Ij(e);return new ko(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Td(e.root,!0)}`,i=function Ej(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Xp(t)}=${Xp(r)}`).join("&"):`${Xp(t)}=${Xp(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function wj(n){return encodeURI(n)}(e.fragment)}`:""}`}}const xj=new Zb;function $p(n){return n.segments.map(e=>zI(e)).join("/")}function Td(n,e){if(!n.hasChildren())return $p(n);if(e){const t=n.children[mt]?Td(n.children[mt],!1):"",i=[];return si(n.children,(r,s)=>{s!==mt&&i.push(`${s}:${Td(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function bj(n,e){let t=[];return si(n.children,(i,r)=>{r===mt&&(t=t.concat(e(i,r)))}),si(n.children,(i,r)=>{r!==mt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===mt?[Td(n.children[mt],!1)]:[`${r}:${Td(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[mt]?`${$p(n)}/${t[0]}`:`${$p(n)}/(${t.join("//")})`}}function BI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xp(n){return BI(n).replace(/%3B/gi,";")}function Qb(n){return BI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qp(n){return decodeURIComponent(n)}function UI(n){return qp(n.replace(/\+/g,"%20"))}function zI(n){return`${Qb(n.path)}${function Mj(n){return Object.keys(n).map(e=>`;${Qb(e)}=${Qb(n[e])}`).join("")}(n.parameters)}`}const Sj=/^[^\/()?;=#]+/;function Yp(n){const e=n.match(Sj);return e?e[0]:""}const Cj=/^[^=?&#]+/,Aj=/^[^&#]+/;class Ij{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bt([],{}):new bt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[mt]=new bt(e,t)),i}parseSegment(){const e=Yp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new ce(4009,Wp);return this.capture(e),new Sd(qp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Yp(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Yp(this.remaining);r&&(i=r,this.capture(i))}e[qp(t)]=qp(i)}parseQueryParam(e){const t=function Tj(n){const e=n.match(Cj);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function Dj(n){const e=n.match(Aj);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=UI(t),s=UI(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Yp(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new ce(4010,Wp);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=mt);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[mt]:new bt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new ce(4011,Wp)}}function Jb(n){return n.segments.length>0?new bt([],{[mt]:n}):n}function Kp(n){const e={};for(const i of Object.keys(n.children)){const s=Kp(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function Rj(n){if(1===n.numberOfChildren&&n.children[mt]){const e=n.children[mt];return new bt(n.segments.concat(e.segments),e.children)}return n}(new bt(n.segments,e))}function Sa(n){return n instanceof ko}const e0=!1;function Pj(n,e,t,i,r){if(0===t.length)return mc(e.root,e.root,e.root,i,r);const s=function jI(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new WI(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return si(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new WI(t,e,i)}(t);return s.toRoot()?mc(e.root,e.root,new bt([],{}),i,r):function o(l){const c=function Lj(n,e,t,i){if(n.isAbsolute)return new gc(e.root,!0,0);if(-1===i)return new gc(t,t===e.root,0);return function $I(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new ce(4005,e0&&"Invalid number of '../'");r=i.segments.length}return new gc(i,!1,r-s)}(t,i+(Ad(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,l),u=c.processChildren?_c(c.segmentGroup,c.index,s.commands):t0(c.segmentGroup,c.index,s.commands);return mc(e.root,c.segmentGroup,u,i,r)}(n.snapshot?._lastPathIndex)}function Ad(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Dd(n){return"object"==typeof n&&null!=n&&n.outlets}function mc(n,e,t,i,r){let o,s={};i&&si(i,(l,c)=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=n===e?t:GI(n,e,t);const a=Jb(Kp(o));return new ko(a,s,r)}function GI(n,e,t){const i={};return si(n.children,(r,s)=>{i[s]=r===e?t:GI(r,e,t)}),new bt(n.segments,i)}class WI{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Ad(i[0]))throw new ce(4003,e0&&"Root segment cannot have matrix parameters");const r=i.find(Dd);if(r&&r!==PI(i))throw new ce(4004,e0&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gc{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function t0(n,e,t){if(n||(n=new bt([],{})),0===n.segments.length&&n.hasChildren())return _c(n,e,t);const i=function Nj(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const o=n.segments[r],a=t[i];if(Dd(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!qI(l,c,o))return s;i+=2}else{if(!qI(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new bt(n.segments.slice(0,i.pathIndex),{});return s.children[mt]=new bt(n.segments.slice(i.pathIndex),n.children),_c(s,0,r)}return i.match&&0===r.length?new bt(n.segments,{}):i.match&&!n.hasChildren()?n0(n,e,t):i.match?_c(n,0,r):n0(n,e,t)}function _c(n,e,t){if(0===t.length)return new bt(n.segments,{});{const i=function kj(n){return Dd(n[0])?n[0].outlets:{[mt]:n}}(t),r={};if(!i[mt]&&n.children[mt]&&1===n.numberOfChildren&&0===n.children[mt].segments.length){const s=_c(n.children[mt],e,t);return new bt(n.segments,s.children)}return si(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=t0(n.children[o],e,s))}),si(n.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new bt(n.segments,r)}}function n0(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Dd(s)){const l=Fj(s.outlets);return new bt(i,l)}if(0===r&&Ad(t[0])){i.push(new Sd(n.segments[e].path,XI(t[0]))),r++;continue}const o=Dd(s)?s.outlets[mt]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&Ad(a)?(i.push(new Sd(o,XI(a))),r+=2):(i.push(new Sd(o,{})),r++)}return new bt(i,{})}function Fj(n){const e={};return si(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=n0(new bt([],{}),0,t))}),e}function XI(n){const e={};return si(n,(t,i)=>e[i]=`${t}`),e}function qI(n,e,t){return n==t.path&&fs(e,t.parameters)}const Id="imperative";class ps{constructor(e,t){this.id=e,this.url=t}}class Zp extends ps{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zs extends ps{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Qp extends ps{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jp extends ps{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class r0 extends ps{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Bj extends ps{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uj extends ps{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zj extends ps{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Hj extends ps{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vj extends ps{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gj{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Wj{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jj{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $j{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xj{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qj{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YI{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Zj=(()=>{class n{createUrlTree(t,i,r,s,o,a){return Pj(t||i.root,r,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})(),Jj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:function(e){return Zj.\u0275fac(e)},providedIn:"root"}),n})();class KI{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=s0(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=s0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=o0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return o0(e,this._root).map(t=>t.value)}}function s0(n,e){if(n===e.value)return e;for(const t of e.children){const i=s0(n,t);if(i)return i}return null}function o0(n,e){if(n===e.value)return[e];for(const t of e.children){const i=o0(n,t);if(i.length)return i.unshift(e),i}return[]}class Qs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function vc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ZI extends KI{constructor(e,t){super(e),this.snapshot=t,a0(this,e)}toString(){return this.snapshot.toString()}}function QI(n,e){const t=function e$(n,e){const o=new em([],{},{},"",{},mt,e,null,n.root,-1,{});return new eR("",new Qs(o,[]))}(n,e),i=new wr([new Sd("",{})]),r=new wr({}),s=new wr({}),o=new wr({}),a=new wr(""),l=new No(i,r,o,a,s,mt,e,t.root);return l.snapshot=t.root,new ZI(new Qs(l,[]),t)}class No{constructor(e,t,i,r,s,o,a,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(Qe(c=>c[Ed]))??He(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Qe(e=>pc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Qe(e=>pc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function JI(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function t$(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class em{get title(){return this.data?.[Ed]}constructor(e,t,i,r,s,o,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class eR extends KI{constructor(e,t){super(t),this.url=e,a0(this,t)}toString(){return tR(this._root)}}function a0(n,e){e.value._routerState=n,e.children.forEach(t=>a0(n,t))}function tR(n){const e=n.children.length>0?` { ${n.children.map(tR).join(", ")} } `:"";return`${n.value}${e}`}function l0(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,fs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),fs(e.params,t.params)||n.params.next(t.params),function mj(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!fs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),fs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function c0(n,e){const t=fs(n.params,e.params)&&function yj(n,e){return Ea(n,e)&&n.every((t,i)=>fs(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||c0(n.parent,e.parent))}function Rd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function i$(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Rd(n,i,r);return Rd(n,i)})}(n,e,t);return new Qs(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Rd(n,a)),o}}const i=function r$(n){return new No(new wr(n.url),new wr(n.params),new wr(n.queryParams),new wr(n.fragment),new wr(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>Rd(n,s));return new Qs(i,r)}}const u0="ngNavigationCancelingError";function nR(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Sa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=iR(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function iR(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[u0]=!0,i.cancellationCode=e,t&&(i.url=t),i}function rR(n){return sR(n)&&Sa(n.url)}function sR(n){return n&&n[u0]}class s${constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Pd,this.attachRef=null}}let Pd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new s$,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tm=!1;let d0=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=mt,this.activateEvents=new Mt,this.deactivateEvents=new Mt,this.attachEvents=new Mt,this.detachEvents=new Mt,this.parentContexts=we(Pd),this.location=we(hi),this.changeDetector=we(ir),this.environmentInjector=we(os)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ce(4012,tm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ce(4012,tm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ce(4012,tm);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new ce(4013,tm);this._activatedRoute=t;const r=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new o$(t,a,r.injector);if(i&&function a$(n){return!!n.resolveComponentFactory}(i)){const c=i.resolveComponentFactory(o);this.activated=r.createComponent(c,r.length,l)}else this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ke({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ns]}),n})();class o${constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===No?this.route:e===Pd?this.childContexts:this.parent.get(e,t)}}let h0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=tn({type:n,selectors:[["ng-component"]],standalone:!0,features:[dy],decls:1,vars:0,template:function(t,i){1&t&&We(0,"router-outlet")},dependencies:[d0],encapsulation:2}),n})();function oR(n,e){return n.providers&&!n._injector&&(n._injector=qf(n.providers,e,`Route: ${n.path}`)),n._injector??e}function p0(n){const e=n.children&&n.children.map(p0),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==mt&&(t.component=h0),t}function Er(n){return n.outlet||mt}function aR(n,e){const t=n.filter(i=>Er(i)===e);return t.push(...n.filter(i=>Er(i)!==e)),t}function Od(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class h${constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),l0(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=vc(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),si(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=vc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=vc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=vc(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new qj(s.value.snapshot))}),e.children.length&&this.forwardEvent(new $j(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(l0(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),l0(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Od(r.snapshot),l=a?.get(pa)??null;o.attachRef=null,o.route=r,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}class lR{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class nm{constructor(e,t){this.component=e,this.route=t}}function f$(n,e,t){const i=n._root;return Ld(i,e?e._root:null,t,[i.value])}function yc(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function kF(n){return null!==Gh(n)}(n)?e.get(n):n:i}function Ld(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=vc(e);return n.children.forEach(o=>{(function m$(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function g$(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ea(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ea(n.url,e.url)||!fs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!c0(n,e)||!fs(n.queryParams,e.queryParams);default:return!c0(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new lR(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Ld(n,e,s.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new nm(a.outlet.component,o))}else o&&kd(e,a,r),r.canActivateChecks.push(new lR(i)),Ld(n,null,s.component?a?a.children:null:t,i,r)})(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),si(s,(o,a)=>kd(o,t.getContext(a),r)),r}function kd(n,e,t){const i=vc(n),r=n.value;si(i,(s,o)=>{kd(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new nm(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Nd(n){return"function"==typeof n}function m0(n){return n instanceof Up||"EmptyError"===n?.name}const im=Symbol("INITIAL_VALUE");function bc(){return Mr(n=>Rb(n.map(e=>e.pipe(Gi(1),xr(im)))).pipe(Qe(e=>{for(const t of e)if(!0!==t){if(t===im)return im;if(!1===t||t instanceof ko)return t}return!0}),cn(e=>e!==im),Gi(1)))}function cR(n){return function iF(...n){return HM(n)}(An(e=>{if(Sa(e))throw nR(0,e)}),Qe(e=>!0===e))}const g0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uR(n,e,t,i,r){const s=_0(n,e,t);return s.matched?function O$(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?He(r.map(o=>{const a=yc(o,n);return Lo(function w$(n){return n&&Nd(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(bc(),cR()):He(!0)}(i=oR(e,i),e,t).pipe(Qe(o=>!0===o?s:{...g0})):He(s)}function _0(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...g0}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||pj)(t,n,e);if(!r)return{...g0};const s={};si(r.posParams,(a,l)=>{s[l]=a.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function rm(n,e,t,i){if(t.length>0&&function N$(n,e,t){return t.some(i=>sm(n,e,i)&&Er(i)!==mt)}(n,t,i)){const s=new bt(e,function k$(n,e,t,i){const r={};r[mt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Er(s)!==mt){const o=new bt([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,r[Er(s)]=o}return r}(n,e,i,new bt(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function F$(n,e,t){return t.some(i=>sm(n,e,i))}(n,t,i)){const s=new bt(n.segments,function L$(n,e,t,i,r){const s={};for(const o of i)if(sm(n,t,o)&&!r[Er(o)]){const a=new bt([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[Er(o)]=a}return{...r,...s}}(n,e,t,i,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const r=new bt(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function sm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function dR(n,e,t,i){return!!(Er(n)===i||i!==mt&&sm(e,t,n))&&("**"===n.path||_0(e,n,t).matched)}function hR(n,e,t){return 0===e.length&&!n.children[t]}const om=!1;class am{constructor(e){this.segmentGroup=e||null}}class fR{constructor(e){this.urlTree=e}}function Fd(n){return fc(new am(n))}function pR(n){return fc(new fR(n))}class H${constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=rm(this.urlTree.root,[],[],this.config).segmentGroup,t=new bt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,mt).pipe(Qe(s=>this.createUrlTree(Kp(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ks(s=>{if(s instanceof fR)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof am?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,mt).pipe(Qe(r=>this.createUrlTree(Kp(r),e.queryParams,e.fragment))).pipe(Ks(r=>{throw r instanceof am?this.noMatchError(r):r}))}noMatchError(e){return new ce(4002,om)}createUrlTree(e,t,i){const r=Jb(e);return new ko(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(Qe(s=>new bt([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return Vn(r).pipe(Oo(s=>{const o=i.children[s],a=aR(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(Qe(l=>({segment:l,outlet:s})))}),AI((s,o)=>(s[o.outlet]=o.segment,s),{}),DI())}expandSegment(e,t,i,r,s,o){return Vn(i).pipe(Oo(a=>this.expandSegmentAgainstRoute(e,t,i,a,r,s,o).pipe(Ks(c=>{if(c instanceof am)return He(null);throw c}))),Po(a=>!!a),Ks((a,l)=>{if(m0(a))return hR(t,r,s)?He(new bt([],{})):Fd(t);throw a}))}expandSegmentAgainstRoute(e,t,i,r,s,o,a){return dR(r,t,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o):Fd(t):Fd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?pR(s):this.lineralizeSegments(i,s).pipe(mn(o=>{const a=new bt(o,{});return this.expandSegment(e,a,t,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=_0(t,r,s);if(!a)return Fd(t);const d=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?pR(d):this.lineralizeSegments(r,d).pipe(mn(h=>this.expandSegment(e,t,i,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=oR(i,e),i.loadChildren?(i._loadedRoutes?He({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe(Qe(a=>(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,new bt(r,{})))):He(new bt(r,{}))):uR(t,i,r,e).pipe(Mr(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(e=i._injector??e,i,r).pipe(mn(u=>{const d=u.injector??e,h=u.routes,{segmentGroup:f,slicedSegments:p}=rm(t,a,l,h),g=new bt(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(Qe(v=>new bt(a,v)));if(0===h.length&&0===p.length)return He(new bt(a,{}));const _=Er(i)===s;return this.expandSegment(d,g,h,p,_?mt:s,!0).pipe(Qe(y=>new bt(a.concat(y.segments),y.children)))})):Fd(t)))}getChildConfig(e,t,i){return t.children?He({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?He({routes:t._loadedRoutes,injector:t._loadedInjector}):function P$(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?He(!0):He(r.map(o=>{const a=yc(o,n);return Lo(function v$(n){return n&&Nd(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(bc(),cR())}(e,t,i).pipe(mn(r=>r?this.configLoader.loadChildren(e,t).pipe(An(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function U$(n){return fc(iR(om,3))}())):He({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return He(i);if(r.numberOfChildren>1||!r.children[mt])return e.redirectTo,fc(new ce(4e3,om));r=r.children[mt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new ko(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return si(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[s]=t[a]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let o={};return si(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,i,r)}),new bt(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new ce(4001,om);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class G${}class $${constructor(e,t,i,r,s,o,a){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=rm(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,mt).pipe(Qe(t=>{if(null===t)return null;const i=new em([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},mt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Qs(i,t),s=new eR(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=JI(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return Vn(Object.keys(i.children)).pipe(Oo(r=>{const s=i.children[r],o=aR(t,r);return this.processSegmentGroup(e,o,s,r)}),AI((r,s)=>r&&s?(r.push(...s),r):null),function hj(n,e=!1){return pn((t,i)=>{let r=0;t.subscribe(ln(i,s=>{const o=n(s,r++);(o||e)&&i.next(s),!o&&i.complete()}))})}(r=>null!==r),Hp(null),DI(),Qe(r=>{if(null===r)return null;const s=gR(r);return function X$(n){n.sort((e,t)=>e.value.outlet===mt?-1:t.value.outlet===mt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return Vn(t).pipe(Oo(o=>this.processSegmentAgainstRoute(o._injector??e,o,i,r,s)),Po(o=>!!o),Ks(o=>{if(m0(o))return hR(i,r,s)?He([]):He(null);throw o}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!dR(t,i,r,s))return He(null);let o;if("**"===t.path){const a=r.length>0?PI(r).parameters:{},l=vR(i)+r.length;o=He({snapshot:new em(r,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yR(t),Er(t),t.component??t._loadedComponent??null,t,_R(i),l,bR(t)),consumedSegments:[],remainingSegments:[]})}else o=uR(i,t,r,e).pipe(Qe(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=vR(i)+l.length;return{snapshot:new em(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yR(t),Er(t),t.component??t._loadedComponent??null,t,_R(i),d,bR(t)),consumedSegments:l,remainingSegments:c}}));return o.pipe(Mr(a=>{if(null===a)return He(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function q$(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=rm(i,c,u,h.filter(_=>void 0===_.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(Qe(_=>null===_?null:[new Qs(l,_)]));if(0===h.length&&0===p.length)return He([new Qs(l,[])]);const g=Er(t)===s;return this.processSegment(d,h,f,p,g?mt:s).pipe(Qe(_=>null===_?null:[new Qs(l,_)]))}))}}function Y$(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function gR(n){const e=[],t=new Set;for(const i of n){if(!Y$(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=gR(i.children);e.push(new Qs(i.value,r))}return e.filter(i=>!t.has(i))}function _R(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function vR(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function yR(n){return n.data||{}}function bR(n){return n.resolve||{}}function xR(n){return"string"==typeof n.title||null===n.title}function v0(n){return Mr(e=>{const t=n(e);return t?Vn(t).pipe(Qe(()=>e)):He(e)})}const xc=new pe("ROUTES");let y0=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=we(uD)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return He(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Lo(t.loadComponent()).pipe(Qe(MR),An(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Gp(()=>{this.componentLoaders.delete(t)})),r=new CI(i,()=>new Re).pipe(Yb());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return He({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(Qe(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(t).injector,c=RI(l.get(xc,[],et.Self|et.Optional)));return{routes:c.map(p0),injector:l}}),Gp(()=>{this.childrenLoaders.delete(i)})),o=new CI(s,()=>new Re).pipe(Yb());return this.childrenLoaders.set(i,o),o}loadModuleFactoryOrRoutes(t){return Lo(t()).pipe(Qe(MR),mn(i=>i instanceof MA||Array.isArray(i)?He(i):Vn(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function MR(n){return function i6(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let cm=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Re,this.configLoader=we(y0),this.environmentInjector=we(os),this.urlSerializer=we(Cd),this.rootContexts=we(Pd),this.navigationId=0,this.afterPreactivation=()=>He(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Wj(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Gj(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new wr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Id,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(cn(i=>0!==i.id),Qe(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),Mr(i=>{let r=!1,s=!1;return He(i).pipe(An(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Mr(o=>{const a=t.browserUrlTree.toString(),l=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new Jp(o.id,t.serializeUrl(i.rawUrl),u,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),Or}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ER(o.source)&&(t.browserUrlTree=o.extractedUrl),He(o).pipe(Mr(u=>{const d=this.transitions?.getValue();return this.events.next(new Zp(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),d!==this.transitions?.getValue()?Or:Promise.resolve(u)}),function V$(n,e,t,i){return Mr(r=>function z$(n,e,t,i,r){return new H$(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe(Qe(s=>({...r,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),An(u=>{this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},i.urlAfterRedirects=u.urlAfterRedirects}),function Z$(n,e,t,i,r){return mn(s=>function j$(n,e,t,i,r,s,o="emptyOnly"){return new $$(n,e,t,i,r,o,s).recognize().pipe(Mr(a=>null===a?function W$(n){return new Xt(e=>e.error(n))}(new G$):He(a)))}(n,e,t,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe(Qe(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),An(u=>{if(i.targetSnapshot=u.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(h,u)}t.browserUrlTree=u.urlAfterRedirects}const d=new Bj(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:u,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new Zp(u,this.urlSerializer.serialize(d),h,f);this.events.next(g);const _=QI(d,this.rootComponentType).snapshot;return He(i={...o,targetSnapshot:_,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new Jp(o.id,t.serializeUrl(i.extractedUrl),u,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),Or}}),An(o=>{const a=new Uj(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Qe(o=>i={...o,guards:f$(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function E$(n,e){return mn(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?He({...t,guardsResult:!0}):function S$(n,e,t,i){return Vn(n).pipe(mn(r=>function R$(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?He(s.map(a=>{const l=Od(e)??r,c=yc(a,l);return Lo(function x$(n){return n&&Nd(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,i):l.runInContext(()=>c(n,e,t,i))).pipe(Po())})).pipe(bc()):He(!0)}(r.component,r.route,t,e,i)),Po(r=>!0!==r,!0))}(o,i,r,n).pipe(mn(a=>a&&function _$(n){return"boolean"==typeof n}(a)?function C$(n,e,t,i){return Vn(e).pipe(Oo(r=>Tp(function A$(n,e){return null!==n&&e&&e(new jj(n)),He(!0)}(r.route.parent,i),function T$(n,e){return null!==n&&e&&e(new Xj(n)),He(!0)}(r.route,i),function I$(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function p$(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>zp(()=>He(o.guards.map(l=>{const c=Od(o.node)??t,u=yc(l,c);return Lo(function b$(n){return n&&Nd(n.canActivateChild)}(u)?u.canActivateChild(i,n):c.runInContext(()=>u(i,n))).pipe(Po())})).pipe(bc())));return He(s).pipe(bc())}(n,r.path,t),function D$(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return He(!0);const r=i.map(s=>zp(()=>{const o=Od(e)??t,a=yc(s,o);return Lo(function y$(n){return n&&Nd(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(Po())}));return He(r).pipe(bc())}(n,r.route,t))),Po(r=>!0!==r,!0))}(i,s,n,e):He(a)),Qe(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),An(o=>{if(i.guardsResult=o.guardsResult,Sa(o.guardsResult))throw nR(0,o.guardsResult);const a=new zj(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),cn(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),v0(o=>{if(o.guards.canActivateChecks.length)return He(o).pipe(An(a=>{const l=new Hj(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Mr(a=>{let l=!1;return He(a).pipe(function Q$(n,e){return mn(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return He(t);let s=0;return Vn(r).pipe(Oo(o=>function J$(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!xR(r)&&(s[Ed]=r.title),function e6(n,e,t,i){const r=function t6(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return He({});const s={};return Vn(r).pipe(mn(o=>function n6(n,e,t,i){const r=Od(e)??i,s=yc(n,r);return Lo(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[o],e,t,i).pipe(Po(),An(a=>{s[o]=a}))),Kb(1),Vp(s),Ks(o=>m0(o)?Or:fc(o)))}(s,n,e,i).pipe(Qe(o=>(n._resolvedData=o,n.data=JI(n,t).resolve,r&&xR(r)&&(n.data[Ed]=r.title),null)))}(o.route,i,n,e)),An(()=>s++),Kb(1),mn(o=>s===r.length?He(t):Or))})}(t.paramsInheritanceStrategy,this.environmentInjector),An({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),An(a=>{const l=new Vj(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),v0(o=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(An(u=>{l.component=u}),Qe(()=>{})));for(const u of l.children)c.push(...a(u));return c};return Rb(a(o.targetSnapshot.root)).pipe(Hp(),Gi(1))}),v0(()=>this.afterPreactivation()),Qe(o=>{const a=function n$(n,e,t){const i=Rd(n,e._root,t?t._root:void 0);return new ZI(i,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return i={...o,targetRouterState:a}}),An(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>Qe(i=>(new h$(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),Gi(1),An({next:o=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Zs(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),Gp(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Ks(o=>{if(s=!0,sR(o)){rR(o)||(t.navigated=!0,t.restoreHistory(i,!0));const a=new Qp(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),rR(o)){const l=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||ER(i.source)};t.scheduleNavigation(l,Id,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const a=new r0(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);this.events.next(a);try{i.resolve(t.errorHandler(o))}catch(l){i.reject(l)}}return Or}))}))}cancelNavigationTransition(t,i,r){const s=new Qp(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ER(n){return n!==Id}let SR=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===mt);return i}getResolvedTitleForRoute(t){return t.data[Ed]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:function(){return we(r6)},providedIn:"root"}),n})(),r6=(()=>{class n extends SR{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(W(hb))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),s6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:function(){return we(a6)},providedIn:"root"}),n})();class o6{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let a6=(()=>{class n extends o6{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Eo(n)))(i||n)}}(),n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const um=new pe("",{providedIn:"root",factory:()=>({})});let c6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:function(){return we(u6)},providedIn:"root"}),n})(),u6=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function d6(n){throw n}function h6(n,e,t){return e.parse("/")}const f6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},p6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=we(o4),this.isNgZoneEnabled=!1,this.options=we(um,{optional:!0})||{},this.errorHandler=this.options.errorHandler||d6,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||h6,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=we(c6),this.routeReuseStrategy=we(s6),this.urlCreationStrategy=we(Jj),this.titleStrategy=we(SR),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=RI(we(xc,{optional:!0})??[]),this.navigationTransitions=we(cm),this.urlSerializer=we(Cd),this.location=we(op),this.isNgZoneEnabled=we(rt)instanceof rt&&rt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ko,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=QI(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Id,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(p0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o;let u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,u,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Sa(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Id,null,i)}navigate(t,i={skipLocationChange:!1}){return function m6(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new ce(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...f6}:!1===i?{...p6}:i,Sa(t))return LI(this.currentUrlTree,t,r);const s=this.parseUrl(t);return LI(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c,u;return o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h}),u="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class CR{}let v6=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(cn(t=>t instanceof Zs),Oo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=qf(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Vn(r).pipe(Is())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):He(null);const s=r.pipe(mn(o=>null===o?He(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return i.loadComponent&&!i._loadedComponent?Vn([s,this.loader.loadComponent(i)]).pipe(Is()):s})}}return n.\u0275fac=function(t){return new(t||n)(W(yn),W(uD),W(os),W(CR),W(y0))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const w0=new pe("");let TR=(()=>{class n{constructor(t,i,r,s,o={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Zp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Zs&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof YI&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new YI(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){Af()},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();var rr=(()=>((rr=rr||{})[rr.COMPLETE=0]="COMPLETE",rr[rr.FAILED=1]="FAILED",rr[rr.REDIRECTING=2]="REDIRECTING",rr))();const wc=!1;function Fo(n,e){return{\u0275kind:n,\u0275providers:e}}const M0=new pe("",{providedIn:"root",factory:()=>!1});function DR(){const n=we(Yn);return e=>{const t=n.get(rc);if(e!==t.components[0])return;const i=n.get(yn),r=n.get(IR);1===n.get(E0)&&i.initialNavigation(),n.get(RR,null,et.Optional)?.setUpPreloading(),n.get(w0,null,et.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const IR=new pe(wc?"bootstrap done indicator":"",{factory:()=>new Re}),E0=new pe(wc?"initial navigation":"",{providedIn:"root",factory:()=>1});function M6(){let n=[];return n=wc?[{provide:Mf,multi:!0,useFactory:()=>{const e=we(yn);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Yj(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Fo(1,n)}const RR=new pe(wc?"router preloader":"");function E6(n){return Fo(0,[{provide:RR,useExisting:v6},{provide:CR,useExisting:n}])}const Bd=!1,PR=new pe(Bd?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),S6=[op,{provide:Cd,useClass:Zb},yn,Pd,{provide:No,useFactory:function AR(n){return n.routerState.root},deps:[yn]},y0,Bd?{provide:M0,useValue:!0}:[]];function C6(){return new vD("Router",yn)}let S0=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[S6,Bd&&i?.enableTracing?M6().\u0275providers:[],{provide:xc,multi:!0,useValue:t},{provide:PR,useFactory:I6,deps:[[yn,new Br,new So]]},{provide:um,useValue:i||{}},i?.useHash?{provide:wa,useClass:X4}:{provide:wa,useClass:HD},{provide:w0,useFactory:()=>{const n=we(h5),e=we(rt),t=we(um),i=we(cm),r=we(Cd);return t.scrollOffset&&n.setOffset(t.scrollOffset),new TR(r,i,n,e,t)}},i?.preloadingStrategy?E6(i.preloadingStrategy).\u0275providers:[],{provide:vD,multi:!0,useFactory:C6},i?.initialNavigation?R6(i):[],[{provide:OR,useFactory:DR},{provide:_D,multi:!0,useExisting:OR}]]}}static forChild(t){return{ngModule:n,providers:[{provide:xc,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(W(PR,8))},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({imports:[h0]}),n})();function I6(n){if(Bd&&n)throw new ce(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function R6(n){return["disabled"===n.initialNavigation?Fo(3,[{provide:Qf,multi:!0,useFactory:()=>{const e=we(yn);return()=>{e.setUpLocationChangeListener()}}},{provide:E0,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Fo(2,[{provide:E0,useValue:0},{provide:Qf,multi:!0,deps:[Yn],useFactory:e=>{const t=e.get(j4,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(yn),s=e.get(IR);(function y6(n,e){n.events.pipe(cn(t=>t instanceof Zs||t instanceof Qp||t instanceof r0||t instanceof Jp),Qe(t=>t instanceof Zs||t instanceof Jp?rr.COMPLETE:t instanceof Qp&&(0===t.code||1===t.code)?rr.REDIRECTING:rr.FAILED),cn(t=>t!==rr.REDIRECTING),Gi(1)).subscribe(()=>{e()})})(r,()=>{i(!0)}),e.get(cm).afterPreactivation=()=>(i(!0),s.closed?He(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const OR=new pe(Bd?"Router Initializer":"");class C0{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class dm extends C0{constructor(e,t,i,r,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class hm extends C0{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class O6 extends C0{constructor(e){super(),this.element=e instanceof Bt?e.nativeElement:e}}class T0{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof dm?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof hm?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof O6?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class L6 extends T0{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Yn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let A0=(()=>{class n extends T0{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Mt,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=i.createComponent(s,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(H(pa),H(hi),H(tt))},n.\u0275dir=Ke({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[dn]}),n})(),D0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({}),n})();const LR=H1();class k6{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Fn(-this._previousScrollPosition.left),e.style.top=Fn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),LR&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),LR&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class N6{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(cn(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class kR{enable(){}disable(){}attach(){}}function I0(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function NR(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class F6{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();I0(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let B6=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new kR,this.close=o=>new N6(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new k6(this._viewportRuler,this._document),this.reposition=o=>new F6(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(W(ac),W(Dp),W(rt),W(tt))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class fm{constructor(e){if(this.scrollStrategy=new kR,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class U6{constructor(e,t,i,r,s){this.offsetX=i,this.offsetY=r,this.panelClass=s,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class z6{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let FR=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(W(tt))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),H6=(()=>{class n extends FR{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(W(tt),W(rt,8))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V6=(()=>{class n extends FR{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Vi(s)},this._clickListener=s=>{const o=Vi(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(W(tt),W(Ri),W(rt,8))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BR=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Mb()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),Mb()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(W(tt),W(Ri))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class G6{constructor(e,t,i,r,s,o,a,l,c,u=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new Re,this._attachments=new Re,this._detachments=new Re,this._locationChanges=Jt.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new Re,this._outsidePointerEvents=new Re,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Gi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Fn(this._config.width),e.height=Fn(this._config.height),e.minWidth=Fn(this._config.minWidth),e.minHeight=Fn(this._config.minHeight),e.maxWidth=Fn(this._config.maxWidth),e.maxHeight=Fn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=pd(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Lt(Rs(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const UR="cdk-overlay-connected-position-bounding-box",W6=/([A-Za-z%]+)$/;class j6{get positions(){return this._preferredPositions}constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Re,this._resizeSubscription=Jt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(UR),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,i)?s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ca(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(UR),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?o:a}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=HR(t);let{x:o,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-i.height,p=this._subtractOverflows(s.width,0-o,o+s.width-i.width),g=this._subtractOverflows(s.height,h,f),_=p*g;return{visibleArea:_,isCompletelyWithinViewport:s.width*s.height===_,fitsInViewportVertically:g===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,o=zR(this._overlayRef.getConfig().minHeight),a=zR(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=HR(t),s=this._viewportRect,o=Math.max(e.x+r.width-s.width,0),a=Math.max(e.y+r.height-s.height,0),l=Math.max(s.top-i.top-e.y,0),c=Math.max(s.left-i.left-e.x,0);let u=0,d=0;return u=r.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-i.left-e.x:0,d=r.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new z6(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=i.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,s=i.height-a+this._viewportMargin;else{const f=Math.min(i.bottom-e.y+i.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)h=i.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)d=e.x,u=i.right-e.x;else{const f=Math.min(i.right-e.x+i.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=Fn(i.height),r.top=Fn(i.top),r.bottom=Fn(i.bottom),r.width=Fn(i.width),r.left=Fn(i.left),r.right=Fn(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Fn(s)),o&&(r.maxWidth=Fn(o))}this._lastBoundingBoxSize=i,Ca(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ca(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ca(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();Ca(i,this._getExactOverlayY(t,e,u)),Ca(i,this._getExactOverlayX(t,e,u))}else i.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),o.maxHeight&&(r?i.maxHeight=Fn(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=Fn(o.maxWidth):s&&(i.maxWidth="")),Ca(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Fn(s.y),r}_getExactOverlayX(e,t,i){let o,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Fn(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:NR(e,i),isOriginOutsideView:I0(e,i),isOverlayClipped:NR(t,i),isOverlayOutsideView:I0(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&pd(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Bt)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Ca(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function zR(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(W6);return t&&"px"!==t?null:parseFloat(e)}return n||null}function HR(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const VR=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}],$6=[{originX:"end",originY:"top",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"start",overlayY:"bottom"},{originX:"start",originY:"top",overlayX:"end",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"end",overlayY:"bottom"}],GR="cdk-global-overlay-wrapper";class X6{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(GR),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",p="",g="";l?g="flex-start":"center"===u?(g="center",h?p=d:f=d):h?"left"===u||"end"===u?(g="flex-end",f=d):("right"===u||"start"===u)&&(g="flex-start",p=d):"left"===u||"start"===u?(g="flex-start",f=d):("right"===u||"end"===u)&&(g="flex-end",p=d),e.position=this._cssPosition,e.marginLeft=l?"0":f,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":p,t.justifyContent=g,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(GR),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let q6=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new X6}flexibleConnectedTo(t){return new j6(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(W(Dp),W(tt),W(Ri),W(BR))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y6=0,Js=(()=>{class n{constructor(t,i,r,s,o,a,l,c,u,d,h,f){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new fm(t);return o.direction=o.direction||this._directionality.value,new G6(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Y6++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(rc)),new L6(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(W(B6),W(BR),W(pa),W(q6),W(H6),W(Yn),W(rt),W(tt),W(jr),W(op),W(V6),W(Ws,8))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Q6={provide:new pe("cdk-connected-overlay-scroll-strategy"),deps:[Js],useFactory:function Z6(n){return()=>n.scrollStrategies.reposition()}};let pm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({providers:[Js,Q6],imports:[yd,D0,W1,W1]}),n})();class WR{}class J6{}const eo="*";function Mc(n,e){return{type:7,name:n,definitions:e,options:{}}}function to(n,e=null){return{type:4,styles:e,timings:n}}function jR(n,e=null){return{type:2,steps:n,options:e}}function pi(n){return{type:6,styles:n,offset:null}}function ms(n,e,t){return{type:0,name:n,styles:e,options:t}}function no(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function $R(n){Promise.resolve().then(n)}class Ud{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){$R(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class XR{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?$R(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const R0="!",tX=new pe("mat-sanity-checks",{providedIn:"root",factory:function eX(){return!0}});let Wi=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Mb()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(W(sI),W(tX,8),W(tt))},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({imports:[yd,yd]}),n})();function nX(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=vn(e)}constructor(...e){super(...e),this._disabled=!1}}}function KR(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function iX(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=vn(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function rX(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?fd(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}class oX{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ZR=Ys({passive:!0,capture:!0});class aX{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Vi(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,i,r){const s=this._events.get(t);if(s){const o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,ZR)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const s=r.get(t);s&&(s.delete(i),0===s.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,ZR)))}}const QR={enterDuration:225,exitDuration:150},JR=Ys({passive:!0,capture:!0}),eP=["mousedown","touchstart"],tP=["mouseup","mouseleave","touchend","touchcancel"];class Hd{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=$n(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...QR,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const o=i.radius||function cX(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,l=t-r.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,p="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f||0===r.width&&0===r.height,g=new oX(this,u,i,p);u.style.transform="scale3d(1, 1, 1)",g.state=0,i.persistent||(this._mostRecentTransientRipple=g);let _=null;return!p&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const m=()=>this._finishRippleTransition(g),y=()=>this._destroyRipple(g);u.addEventListener("transitionend",m),u.addEventListener("transitioncancel",y),_={onTransitionEnd:m,onTransitionCancel:y}}),this._activeRipples.set(g,_),(p||!c)&&this._finishRippleTransition(g),g}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...QR,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=$n(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,eP.forEach(i=>{Hd._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{tP.forEach(t=>{this._triggerElement.addEventListener(t,this,JR)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=kb(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Nb(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(eP.forEach(t=>Hd._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&tP.forEach(t=>e.removeEventListener(t,this,JR)))}}Hd._eventManager=new aX;const uX=new pe("mat-ripple-global-options");let nP=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Hd(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(H(Bt),H(rt),H(Ri),H(uX,8),H(Ws,8))},n.\u0275dir=Ke({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&ri("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),iP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({imports:[Wi,Wi]}),n})();const dX=["tooltip"],rP=new pe("mat-tooltip-scroll-strategy"),pX={provide:rP,deps:[Js],useFactory:function fX(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},gX=new pe("mat-tooltip-default-options",{providedIn:"root",factory:function mX(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),sP="tooltip-panel",oP=Ys({passive:!0});let wX=(()=>{class n{get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=vn(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){this._disabled=vn(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=fd(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=fd(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(t,i,r,s,o,a,l,c,u,d,h,f){this._overlay=t,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=o,this._platform=a,this._ariaDescriber=l,this._focusMonitor=c,this._dir=d,this._defaultOptions=h,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Re,this._scrollStrategy=u,this._document=f,h&&(h.position&&(this.position=h.position),h.positionAtOrigin&&(this.positionAtOrigin=h.positionAtOrigin),h.touchGestures&&(this.touchGestures=h.touchGestures)),d.change.pipe(Lt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Lt(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{t.removeEventListener(i,r,oP)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new dm(this._tooltipComponent,this._viewContainerRef);const s=this._tooltipInstance=r.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(Lt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(t)}hide(t=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(t):(i._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){const s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&s._origin instanceof Bt)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&t||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(Lt(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${sP}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Lt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Lt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Lt(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!fi(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const i=t.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={originX:"end",originY:"center"});const{x:s,y:o}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:o}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:o}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:o}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Gi(1),Lt(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){const{overlayY:i,originX:r,originY:s}=t;let o;if(o="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",o!==this._currentPosition){const a=this._overlayRef;if(a){const l=`${this._cssClassPrefix}-${sP}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+o)}this._currentPosition=o}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==t.x&&void 0!==t.y&&(i=t),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{const i=t.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,oP)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const i=this._elementRef.nativeElement,r=i.style;("on"===t||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(t){Af()},n.\u0275dir=Ke({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),aP=(()=>{class n extends wX{constructor(t,i,r,s,o,a,l,c,u,d,h,f){super(t,i,r,s,o,a,l,c,u,d,h,f),this._tooltipComponent=EX,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(t){const r=!this._dir||"ltr"==this._dir.value;return"top"===t.originY?t.offsetY=-8:"bottom"===t.originY?t.offsetY=8:"start"===t.originX?t.offsetX=r?-8:8:"end"===t.originX&&(t.offsetX=r?8:-8),t}}return n.\u0275fac=function(t){return new(t||n)(H(Js),H(Bt),H(ac),H(hi),H(rt),H(Ri),H(D8),H(Bb),H(rP),H(jr,8),H(gX,8),H(tt))},n.\u0275dir=Ke({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],exportAs:["matTooltip"],features:[dn]}),n})(),MX=(()=>{class n{constructor(t,i){this._changeDetectorRef=t,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Re,this._animationsDisabled="NoopAnimations"===i}show(t){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const i=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(t?s:r),i.classList.add(t?r:s),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const o=getComputedStyle(i);("0s"===o.getPropertyValue("animation-duration")||"none"===o.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}}return n.\u0275fac=function(t){return new(t||n)(H(ir),H(Ws,8))},n.\u0275dir=Ke({type:n}),n})(),EX=(()=>{class n extends MX{constructor(t,i,r){super(t,r),this._elementRef=i,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>24&&t.width>=200}}return n.\u0275fac=function(t){return new(t||n)(H(ir),H(Bt),H(Ws,8))},n.\u0275cmp=tn({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(t,i){if(1&t&&To(dX,7),2&t){let r;Ai(r=Di())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,i){1&t&&st("mouseleave",function(s){return i._handleMouseLeave(s)}),2&t&&Zu("zoom",i.isVisible()?1:null)},features:[dn],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(t,i){1&t&&(G(0,"div",0,1),st("animationend",function(s){return i._handleAnimationEnd(s)}),G(2,"div",2),J(3),$()()),2&t&&(ri("mdc-tooltip--multiline",i._isMultiline),ze("ngClass",i.tooltipClass),Fe(3),_a(i.message))},dependencies:[hs],styles:['.mdc-tooltip__surface{word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color, #fff)}.mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color, #000)}.mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font, inherit);font-size:var(--mdc-plain-tooltip-supporting-text-size, inherit);font-weight:var(--mdc-plain-tooltip-supporting-text-weight, inherit);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, inherit)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),n})(),SX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({providers:[pX],imports:[G8,sc,pm,Wi,Wi,bd]}),n})(),Vd=(()=>{class n{constructor(){this._listeners=[]}notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CX(n,e){return(t,i)=>!n.call(e,t,i)}let mm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ke({type:n,selectors:[["","cdkMenuGroup",""]],hostAttrs:["role","group",1,"cdk-menu-group"],exportAs:["cdkMenuGroup"],standalone:!0,features:[Ln([{provide:Vd,useClass:Vd}])]}),n})();const gm=new pe("cdk-menu"),gs=new pe("cdk-menu-stack"),AX={provide:gs,deps:[[new Br,new So,new Al(gs)]],useFactory:n=>n||new _m},DX=n=>({provide:gs,deps:[[new Br,new So,new Al(gs)]],useFactory:e=>e||_m.inline(n)});let IX=0,_m=(()=>{class n{constructor(){this.id=""+IX++,this._elements=[],this._close=new Re,this._empty=new Re,this._hasFocus=new Re,this.closed=this._close,this.hasFocus=this._hasFocus.pipe(xr(!1),Ab(0),Ib()),this.emptied=this._empty,this._inlineMenuOrientation=null}static inline(t){const i=new n;return i._inlineMenuOrientation=t,i}push(t){this._elements.push(t)}close(t,i){const{focusNextOnEmpty:r,focusParentTrigger:s}={...i};if(this._elements.indexOf(t)>=0){let o;do{o=this._elements.pop(),this._close.next({item:o,focusParentTrigger:s})}while(o!==t);this.isEmpty()&&this._empty.next(r)}}closeSubMenuOf(t){let i=!1;if(this._elements.indexOf(t)>=0)for(i=this.peek()!==t;this.peek()!==t;)this._close.next({item:this._elements.pop()});return i}closeAll(t){const{focusNextOnEmpty:i,focusParentTrigger:r}={...t};if(!this.isEmpty()){for(;!this.isEmpty();){const s=this._elements.pop();s&&this._close.next({item:s,focusParentTrigger:r})}this._empty.next(i)}}isEmpty(){return!this._elements.length}length(){return this._elements.length}peek(){return this._elements[this._elements.length-1]}hasInlineMenu(){return null!=this._inlineMenuOrientation}inlineMenuOrientation(){return this._inlineMenuOrientation}setHasFocus(t){this._hasFocus.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();const vm=new pe("cdk-menu-trigger");let lP=(()=>{class n{constructor(){this.injector=we(Yn),this.viewContainerRef=we(hi),this.menuStack=we(gs),this.opened=new Mt,this.closed=new Mt,this.overlayRef=null,this.destroyed=new Re,this.stopOutsideClicksListener=Rs(this.closed,this.destroyed)}ngOnDestroy(){this._destroyOverlay(),this.destroyed.next(),this.destroyed.complete()}isOpen(){return!!this.overlayRef?.hasAttached()}registerChildMenu(t){this.childMenu=t}getMenuContentPortal(){return this.menuTemplateRef&&(!this._menuPortal||this.menuTemplateRef!==this._menuPortal?.templateRef)&&(this._menuPortal=new hm(this.menuTemplateRef,this.viewContainerRef,this.menuData,this._getChildMenuInjector())),this._menuPortal}isElementInsideMenuStack(t){for(let i=t;i;i=i?.parentElement??null)if(i.getAttribute("data-cdk-menu-stack-id")===this.menuStack.id)return!0;return!1}_destroyOverlay(){this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}_getChildMenuInjector(){return this._childMenuInjector=this._childMenuInjector||Yn.create({providers:[{provide:vm,useValue:this},{provide:gs,useValue:this.menuStack}],parent:this.injector}),this._childMenuInjector}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ke({type:n,hostVars:2,hostBindings:function(t,i){2&t&&Mi("aria-controls",null==i.childMenu?null:i.childMenu.id)("data-cdk-menu-stack-id",i.menuStack.id)}}),n})();const ym=new pe("cdk-menu-aim");let bm=(()=>{class n extends lP{constructor(){super(),this._elementRef=we(Bt),this._overlay=we(Js),this._ngZone=we(rt),this._directionality=we(jr,{optional:!0}),this._inputModalityDetector=we(Fb),this._parentMenu=we(gm,{optional:!0}),this._menuAim=we(ym,{optional:!0}),this._setRole(),this._registerCloseHandler(),this._subscribeToMenuStackClosed(),this._subscribeToMouseEnter(),this._subscribeToMenuStackHasFocus(),this._setType()}toggle(){this.isOpen()?this.close():this.open()}open(){!this.isOpen()&&null!=this.menuTemplateRef&&(this.opened.next(),this.overlayRef=this.overlayRef||this._overlay.create(this._getOverlayConfig()),this.overlayRef.attach(this.getMenuContentPortal()),this._subscribeToOutsideClicks())}close(){this.isOpen()&&(this.closed.next(),this.overlayRef.detach()),this._closeSiblingTriggers()}getMenu(){return this.childMenu}_toggleOnKeydown(t){const i="vertical"===this._parentMenu?.orientation;switch(t.keyCode){case 32:case 13:fi(t)||(this.toggle(),this.childMenu?.focusFirstItem("keyboard"));break;case 39:fi(t)||this._parentMenu&&i&&"rtl"!==this._directionality?.value&&(t.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case 37:fi(t)||this._parentMenu&&i&&"rtl"===this._directionality?.value&&(t.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case 40:case 38:fi(t)||i||(t.preventDefault(),this.open(),40===t.keyCode?this.childMenu?.focusFirstItem("keyboard"):this.childMenu?.focusLastItem("keyboard"))}}_handleClick(){"keyboard"!==this._inputModalityDetector.mostRecentModality&&(this.toggle(),this.childMenu?.focusFirstItem("mouse"))}_setHasFocus(t){this._parentMenu||this.menuStack.setHasFocus(t)}_subscribeToMouseEnter(){this._ngZone.runOutsideAngular(()=>{qs(this._elementRef.nativeElement,"mouseenter").pipe(cn(()=>!this.menuStack.isEmpty()&&!this.isOpen()),Lt(this.destroyed)).subscribe(()=>{const t=()=>this._ngZone.run(()=>{this._closeSiblingTriggers(),this.open()});this._menuAim?this._menuAim.toggle(t):t()})})}_closeSiblingTriggers(){this._parentMenu?!this.menuStack.closeSubMenuOf(this._parentMenu)&&this.menuStack.peek()!==this._parentMenu&&this.menuStack.closeAll():this.menuStack.closeAll()}_getOverlayConfig(){return new fm({positionStrategy:this._getOverlayPositionStrategy(),scrollStrategy:this._overlay.scrollStrategies.reposition(),direction:this._directionality||void 0})}_getOverlayPositionStrategy(){return this._overlay.position().flexibleConnectedTo(this._elementRef).withLockedPosition().withGrowAfterOpen().withPositions(this._getOverlayPositions())}_getOverlayPositions(){return this.menuPosition??(this._parentMenu&&"horizontal"!==this._parentMenu.orientation?$6:VR)}_registerCloseHandler(){this._parentMenu||this.menuStack.closed.pipe(Lt(this.destroyed)).subscribe(({item:t})=>{t===this.childMenu&&this.close()})}_subscribeToOutsideClicks(){this.overlayRef&&this.overlayRef.outsidePointerEvents().pipe(Lt(this.stopOutsideClicksListener)).subscribe(t=>{const i=Vi(t),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&(this.isElementInsideMenuStack(i)?this._closeSiblingTriggers():this.menuStack.closeAll())})}_subscribeToMenuStackHasFocus(){this._parentMenu||this.menuStack.hasFocus.pipe(Lt(this.destroyed)).subscribe(t=>{t||this.menuStack.closeAll()})}_subscribeToMenuStackClosed(){this._parentMenu||this.menuStack.closed.subscribe(({focusParentTrigger:t})=>{t&&!this.menuStack.length()&&this._elementRef.nativeElement.focus()})}_setRole(){this._parentMenu||this._elementRef.nativeElement.setAttribute("role","button")}_setType(){const t=this._elementRef.nativeElement;"BUTTON"===t.nodeName&&!t.getAttribute("type")&&t.setAttribute("type","button")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ke({type:n,selectors:[["","cdkMenuTriggerFor",""]],hostAttrs:[1,"cdk-menu-trigger"],hostVars:2,hostBindings:function(t,i){1&t&&st("focusin",function(){return i._setHasFocus(!0)})("focusout",function(){return i._setHasFocus(!1)})("keydown",function(s){return i._toggleOnKeydown(s)})("click",function(){return i._handleClick()}),2&t&&Mi("aria-haspopup",i.menuTemplateRef?"menu":null)("aria-expanded",null==i.menuTemplateRef?null:i.isOpen())},inputs:{menuTemplateRef:["cdkMenuTriggerFor","menuTemplateRef"],menuPosition:["cdkMenuPosition","menuPosition"],menuData:["cdkMenuTriggerData","menuData"]},outputs:{opened:"cdkMenuOpened",closed:"cdkMenuClosed"},exportAs:["cdkMenuTriggerFor"],standalone:!0,features:[Ln([{provide:vm,useExisting:n},AX]),dn]}),n})(),Bo=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=vn(t)}get hasMenu(){return null!=this._menuTrigger?.menuTemplateRef}constructor(){this._dir=we(jr,{optional:!0}),this._inputModalityDetector=we(Fb),this._elementRef=we(Bt),this._ngZone=we(rt),this._menuAim=we(ym,{optional:!0}),this._menuStack=we(gs),this._parentMenu=we(gm,{optional:!0}),this._menuTrigger=we(bm,{optional:!0,self:!0}),this._disabled=!1,this.triggered=new Mt,this._tabindex=-1,this.closeOnSpacebarTrigger=!0,this.destroyed=new Re,this._setupMouseEnter(),this._setType(),this._isStandaloneItem()&&(this._tabindex=0)}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}trigger(t){const{keepOpen:i}={...t};!this.disabled&&!this.hasMenu&&(this.triggered.next(),i||this._menuStack.closeAll({focusParentTrigger:!0}))}isMenuOpen(){return!!this._menuTrigger?.isOpen()}getMenu(){return this._menuTrigger?.getMenu()}getMenuTrigger(){return this._menuTrigger}getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}_resetTabIndex(){this._isStandaloneItem()||(this._tabindex=-1)}_setTabIndex(t){this.disabled||(!t||!this._menuStack.isEmpty())&&(this._tabindex=0)}_onKeydown(t){switch(t.keyCode){case 32:case 13:fi(t)||this.trigger({keepOpen:32===t.keyCode&&!this.closeOnSpacebarTrigger});break;case 39:fi(t)||this._parentMenu&&this._isParentVertical()&&("rtl"!==this._dir?.value?this._forwardArrowPressed(t):this._backArrowPressed(t));break;case 37:fi(t)||this._parentMenu&&this._isParentVertical()&&("rtl"!==this._dir?.value?this._backArrowPressed(t):this._forwardArrowPressed(t))}}_handleClick(){"keyboard"!==this._inputModalityDetector.mostRecentModality&&this.trigger()}_isStandaloneItem(){return!this._parentMenu}_backArrowPressed(t){const i=this._parentMenu;(this._menuStack.hasInlineMenu()||this._menuStack.length()>1)&&(t.preventDefault(),this._menuStack.close(i,{focusNextOnEmpty:"horizontal"===this._menuStack.inlineMenuOrientation()?1:2,focusParentTrigger:!0}))}_forwardArrowPressed(t){!this.hasMenu&&"horizontal"===this._menuStack.inlineMenuOrientation()&&(t.preventDefault(),this._menuStack.closeAll({focusNextOnEmpty:0,focusParentTrigger:!0}))}_setupMouseEnter(){if(!this._isStandaloneItem()){const t=()=>this._ngZone.run(()=>this._menuStack.closeSubMenuOf(this._parentMenu));this._ngZone.runOutsideAngular(()=>qs(this._elementRef.nativeElement,"mouseenter").pipe(cn(()=>!this._menuStack.isEmpty()&&!this.hasMenu),Lt(this.destroyed)).subscribe(()=>{this._menuAim?this._menuAim.toggle(t):t()}))}}_isParentVertical(){return"vertical"===this._parentMenu?.orientation}_setType(){const t=this._elementRef.nativeElement;"BUTTON"===t.nodeName&&!t.getAttribute("type")&&t.setAttribute("type","button")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ke({type:n,selectors:[["","cdkMenuItem",""]],hostAttrs:["role","menuitem",1,"cdk-menu-item"],hostVars:2,hostBindings:function(t,i){1&t&&st("blur",function(){return i._resetTabIndex()})("focus",function(){return i._setTabIndex()})("click",function(){return i._handleClick()})("keydown",function(s){return i._onKeydown(s)}),2&t&&(Gf("tabindex",i._tabindex),Mi("aria-disabled",i.disabled||null))},inputs:{disabled:["cdkMenuItemDisabled","disabled"],typeaheadLabel:["cdkMenuitemTypeaheadLabel","typeaheadLabel"]},outputs:{triggered:"cdkMenuItemTriggered"},exportAs:["cdkMenuItem"],standalone:!0}),n})();class BX{constructor(e){this._items=e,this.entered=this._getItemPointerEntries(),this.exited=this._getItemPointerExits(),this._destroyed=new Re,this.entered.subscribe(t=>this.activeElement=t),this.exited.subscribe(()=>{this.previousElement=this.activeElement,this.activeElement=void 0})}destroy(){this._destroyed.next(),this._destroyed.complete()}_getItemPointerEntries(){return zp(()=>this._items.changes.pipe(xr(this._items),mn(e=>e.map(t=>qs(t._elementRef.nativeElement,"mouseenter").pipe(Vp(t),Lt(this._items.changes)))),Is()))}_getItemPointerExits(){return zp(()=>this._items.changes.pipe(xr(this._items),mn(e=>e.map(t=>qs(t._elementRef.nativeElement,"mouseout").pipe(Vp(t),Lt(this._items.changes)))),Is()))}}let UX=0,uP=(()=>{class n extends mm{constructor(){super(...arguments),this.nativeElement=we(Bt).nativeElement,this.ngZone=we(rt),this.menuStack=we(gs),this.menuAim=we(ym,{optional:!0,self:!0}),this.dir=we(jr,{optional:!0}),this.id="cdk-menu-"+UX++,this.orientation="vertical",this.isInline=!1,this.destroyed=new Re,this._menuStackHasFocus=!1}ngAfterContentInit(){this.isInline||this.menuStack.push(this),this._setKeyManager(),this._subscribeToMenuStackHasFocus(),this._subscribeToMenuOpen(),this._subscribeToMenuStackClosed(),this._setUpPointerTracker()}ngOnDestroy(){this.keyManager?.destroy(),this.destroyed.next(),this.destroyed.complete(),this.pointerTracker?.destroy()}focusFirstItem(t="program"){this.keyManager.setFocusOrigin(t),this.keyManager.setFirstItemActive()}focusLastItem(t="program"){this.keyManager.setFocusOrigin(t),this.keyManager.setLastItemActive()}_getTabIndex(){return this.isInline?this._menuStackHasFocus?-1:0:null}closeOpenMenu(t,i){const{focusParentTrigger:r}={...i},s=this.keyManager,o=this.triggerItem;t===o?.getMenuTrigger()?.getMenu()&&(o?.getMenuTrigger()?.close(),r&&(o?s.setActiveItem(o):s.setFirstItemActive()))}_setKeyManager(){this.keyManager=new J1(this.items).withWrap().withTypeAhead().withHomeAndEnd(),"horizontal"===this.orientation?this.keyManager.withHorizontalOrientation(this.dir?.value||"ltr"):this.keyManager.withVerticalOrientation()}_subscribeToMenuOpen(){const t=Rs(this.items.changes,this.destroyed);this.items.changes.pipe(xr(this.items),mn(i=>i.filter(r=>r.hasMenu).map(r=>r.getMenuTrigger().opened.pipe(Vp(r),Lt(t)))),Is(),Mr(i=>(this.triggerItem=i,i.getMenuTrigger().closed)),Lt(this.destroyed)).subscribe(()=>this.triggerItem=void 0)}_subscribeToMenuStackClosed(){this.menuStack.closed.pipe(Lt(this.destroyed)).subscribe(({item:t,focusParentTrigger:i})=>this.closeOpenMenu(t,{focusParentTrigger:i}))}_subscribeToMenuStackHasFocus(){this.isInline&&this.menuStack.hasFocus.pipe(Lt(this.destroyed)).subscribe(t=>{this._menuStackHasFocus=t})}_setUpPointerTracker(){this.menuAim&&(this.ngZone.runOutsideAngular(()=>{this.pointerTracker=new BX(this.items)}),this.menuAim.initialize(this,this.pointerTracker))}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Eo(n)))(i||n)}}(),n.\u0275dir=Ke({type:n,contentQueries:function(t,i,r){if(1&t&&Ao(r,Bo,5),2&t){let s;Ai(s=Di())&&(i.items=s)}},hostAttrs:["role","menu"],hostVars:4,hostBindings:function(t,i){1&t&&st("focus",function(){return i.focusFirstItem()})("focusin",function(){return i.menuStack.setHasFocus(!0)})("focusout",function(){return i.menuStack.setHasFocus(!1)}),2&t&&(Gf("tabindex",i._getTabIndex())("id",i.id),Mi("aria-orientation",i.orientation)("data-cdk-menu-stack-id",i.menuStack.id))},inputs:{id:"id"},features:[dn]}),n})(),Gd=(()=>{class n extends uP{constructor(){super(),this._parentTrigger=we(vm,{optional:!0}),this.closed=new Mt,this.orientation="vertical",this.isInline=!this._parentTrigger,this.destroyed.subscribe(this.closed),this._parentTrigger?.registerChildMenu(this)}ngAfterContentInit(){super.ngAfterContentInit(),this._subscribeToMenuStackEmptied()}ngOnDestroy(){super.ngOnDestroy(),this.closed.complete()}_handleKeyEvent(t){const i=this.keyManager;switch(t.keyCode){case 37:case 39:fi(t)||(t.preventDefault(),i.setFocusOrigin("keyboard"),i.onKeydown(t));break;case 27:fi(t)||(t.preventDefault(),this.menuStack.close(this,{focusNextOnEmpty:2,focusParentTrigger:!0}));break;case 9:fi(t,"altKey","metaKey","ctrlKey")||this.menuStack.closeAll({focusParentTrigger:!0});break;default:i.onKeydown(t)}}_toggleMenuFocus(t){const i=this.keyManager;switch(t){case 0:i.setFocusOrigin("keyboard"),i.setNextItemActive();break;case 1:i.setFocusOrigin("keyboard"),i.setPreviousItemActive();break;case 2:i.activeItem&&(i.setFocusOrigin("keyboard"),i.setActiveItem(i.activeItem))}}_subscribeToMenuStackEmptied(){this.menuStack.emptied.pipe(Lt(this.destroyed)).subscribe(t=>this._toggleMenuFocus(t))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ke({type:n,selectors:[["","cdkMenu",""]],hostAttrs:["role","menu",1,"cdk-menu"],hostVars:2,hostBindings:function(t,i){1&t&&st("keydown",function(s){return i._handleKeyEvent(s)}),2&t&&ri("cdk-menu-inline",i.isInline)},outputs:{closed:"closed"},exportAs:["cdkMenu"],standalone:!0,features:[Ln([{provide:mm,useExisting:n},{provide:gm,useExisting:n},DX("vertical")]),dn]}),n})(),Ec=(()=>{class n extends Bo{constructor(){super(...arguments),this._checked=!1,this.closeOnSpacebarTrigger=!1}get checked(){return this._checked}set checked(t){this._checked=vn(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Eo(n)))(i||n)}}(),n.\u0275dir=Ke({type:n,hostVars:2,hostBindings:function(t,i){2&t&&Mi("aria-checked",!!i.checked)("aria-disabled",i.disabled||null)},inputs:{checked:["cdkMenuItemChecked","checked"]},features:[dn]}),n})(),dP=(()=>{class n extends Ec{trigger(t){super.trigger(t),this.disabled||(this.checked=!this.checked)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Eo(n)))(i||n)}}(),n.\u0275dir=Ke({type:n,selectors:[["","cdkMenuItemCheckbox",""]],hostAttrs:["role","menuitemcheckbox"],hostVars:2,hostBindings:function(t,i){2&t&&ri("cdk-menu-item-checkbox",!0)},exportAs:["cdkMenuItemCheckbox"],standalone:!0,features:[Ln([{provide:Ec,useExisting:n},{provide:Bo,useExisting:Ec}]),dn]}),n})();const GX=VR.map(n=>{const e="start"===n.overlayX?2:-2,t="top"===n.overlayY?2:-2;return{...n,offsetX:e,offsetY:t}});let WX=(()=>{class n{update(t){n._openContextMenuTrigger!==t&&(n._openContextMenuTrigger?.close(),n._openContextMenuTrigger=t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),P0=(()=>{class n extends lP{get disabled(){return this._disabled}set disabled(t){this._disabled=vn(t)}constructor(){super(),this._overlay=we(Js),this._directionality=we(jr,{optional:!0}),this._contextMenuTracker=we(WX),this._disabled=!1,this._setMenuStackCloseListener()}open(t){this._open(t,!1)}close(){this.menuStack.closeAll()}_openOnContextMenu(t){this.disabled||(t.preventDefault(),t.stopPropagation(),this._contextMenuTracker.update(this),this._open({x:t.clientX,y:t.clientY},!0),this.childMenu?.focusFirstItem(2===t.button?"mouse":0===t.button?"keyboard":"program"))}_getOverlayConfig(t){return new fm({positionStrategy:this._getOverlayPositionStrategy(t),scrollStrategy:this._overlay.scrollStrategies.reposition(),direction:this._directionality||void 0})}_getOverlayPositionStrategy(t){return this._overlay.position().flexibleConnectedTo(t).withLockedPosition().withGrowAfterOpen().withPositions(this.menuPosition??GX)}_setMenuStackCloseListener(){this.menuStack.closed.pipe(Lt(this.destroyed)).subscribe(({item:t})=>{t===this.childMenu&&this.isOpen()&&(this.closed.next(),this.overlayRef.detach())})}_subscribeToOutsideClicks(t){if(this.overlayRef){let i=this.overlayRef.outsidePointerEvents();if(t){const[r,s]=function TX(n,e,t){return[cn(e,t)(ti(n)),cn(CX(e,t))(ti(n))]}(i,({type:o})=>"auxclick"===o);i=Rs(s,r.pipe(Db(1)))}i.pipe(Lt(this.stopOutsideClicksListener)).subscribe(r=>{this.isElementInsideMenuStack(Vi(r))||this.menuStack.closeAll()})}}_open(t,i){this.disabled||(this.isOpen()?(this.menuStack.closeSubMenuOf(this.childMenu),this.overlayRef.getConfig().positionStrategy.setOrigin(t),this.overlayRef.updatePosition()):(this.opened.next(),this.overlayRef?(this.overlayRef.getConfig().positionStrategy.setOrigin(t),this.overlayRef.updatePosition()):this.overlayRef=this._overlay.create(this._getOverlayConfig(t)),this.overlayRef.attach(this.getMenuContentPortal()),this._subscribeToOutsideClicks(i)))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ke({type:n,selectors:[["","cdkContextMenuTriggerFor",""]],hostVars:1,hostBindings:function(t,i){1&t&&st("contextmenu",function(s){return i._openOnContextMenu(s)}),2&t&&Mi("data-cdk-menu-stack-id",null)},inputs:{menuTemplateRef:["cdkContextMenuTriggerFor","menuTemplateRef"],menuPosition:["cdkContextMenuPosition","menuPosition"],menuData:["cdkContextMenuTriggerData","menuData"],disabled:["cdkContextMenuDisabled","disabled"]},outputs:{opened:"cdkContextMenuOpened",closed:"cdkContextMenuClosed"},exportAs:["cdkContextMenuTriggerFor"],standalone:!0,features:[Ln([{provide:vm,useExisting:n},{provide:gs,useClass:_m}]),dn]}),n})(),jX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({imports:[pm]}),n})();class $X{constructor(e,t){this._document=t;const i=this._textarea=this._document.createElement("textarea"),r=i.style;r.position="fixed",r.top=r.opacity="0",r.left="-999em",i.setAttribute("aria-hidden","true"),i.value=e,i.readOnly=!0,this._document.body.appendChild(i)}copy(){const e=this._textarea;let t=!1;try{if(e){const i=this._document.activeElement;e.select(),e.setSelectionRange(0,e.value.length),t=this._document.execCommand("copy"),i&&i.focus()}}catch{}return t}destroy(){const e=this._textarea;e&&(e.remove(),this._textarea=void 0)}}let XX=(()=>{class n{constructor(t){this._document=t}copy(t){const i=this.beginCopy(t),r=i.copy();return i.destroy(),r}beginCopy(t){return new $X(t,this._document)}}return n.\u0275fac=function(t){return new(t||n)(W(tt))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qX=new pe("CDK_COPY_TO_CLIPBOARD_CONFIG");let YX=(()=>{class n{constructor(t,i,r){this._clipboard=t,this._ngZone=i,this.text="",this.attempts=1,this.copied=new Mt,this._pending=new Set,r&&null!=r.attempts&&(this.attempts=r.attempts)}copy(t=this.attempts){if(t>1){let i=t;const r=this._clipboard.beginCopy(this.text);this._pending.add(r);const s=()=>{const o=r.copy();o||!--i||this._destroyed?(this._currentTimeout=null,this._pending.delete(r),r.destroy(),this.copied.emit(o)):this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(s,1))};s()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(t=>t.destroy()),this._pending.clear(),this._destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(H(XX),H(rt),H(qX,8))},n.\u0275dir=Ke({type:n,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(t,i){1&t&&st("click",function(){return i.copy()})},inputs:{text:["cdkCopyToClipboard","text"],attempts:["cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}}),n})(),KX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({}),n})();const ZX=["mat-button",""],QX=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],JX=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],e9=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],t9=KR(nX(iX(class{constructor(n){this._elementRef=n}})));let n9=(()=>{class n extends t9{constructor(t,i,r,s){super(t),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=we(Bb),this._isFab=!1;const o=t.nativeElement.classList;for(const a of e9)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(l=>{o.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){Af()},n.\u0275dir=Ke({type:n,viewQuery:function(t,i){if(1&t&&To(nP,5),2&t){let r;Ai(r=Di())&&(i.ripple=r.first)}},features:[dn]}),n})(),r9=(()=>{class n extends n9{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(H(Bt),H(Ri),H(rt),H(Ws,8))},n.\u0275cmp=tn({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(Mi("disabled",i.disabled||null),ri("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[dn],attrs:ZX,ngContentSelectors:JX,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(Vs(QX),We(0,"span",0),Si(1),G(2,"span",1),Si(3,1),$(),Si(4,2),We(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(ri("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),Fe(6),ze("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[nP],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),o9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({imports:[Wi,iP,Wi]}),n})();function a9(n,e){if(1&n){const t=Yl();G(0,"div",2)(1,"button",3),st("click",function(){return _l(t),vl(vr().action())}),J(2),$()()}if(2&n){const t=vr();Fe(2),Gs(" ",t.data.action," ")}}const l9=["label"];function c9(n,e){}const u9=Math.pow(2,31)-1;class O0{constructor(e,t){this._overlayRef=t,this._afterDismissed=new Re,this._afterOpened=new Re,this._onAction=new Re,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,u9))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const hP=new pe("MatSnackBarData");class xm{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let d9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ke({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),n})(),h9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ke({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),n})(),f9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ke({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),n})(),p9=(()=>{class n{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(H(O0),H(hP))},n.\u0275cmp=tn({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(t,i){1&t&&(G(0,"div",0),J(1),$(),Ei(2,a9,3,1,"div",1)),2&t&&(Fe(1),Gs(" ",i.data.message,"\n"),Fe(1),ze("ngIf",i.hasAction))},dependencies:[Jy,r9,d9,h9,f9],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),n})();const m9={snackBarState:Mc("state",[ms("void, hidden",pi({transform:"scale(0.8)",opacity:0})),ms("visible",pi({transform:"scale(1)",opacity:1})),no("* => visible",to("150ms cubic-bezier(0, 0, 0.2, 1)")),no("* => void, * => hidden",to("75ms cubic-bezier(0.4, 0.0, 1, 1)",pi({opacity:0})))])};let g9=0,_9=(()=>{class n extends T0{constructor(t,i,r,s,o){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=o,this._document=we(tt),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Re,this._onExit=new Re,this._onEnter=new Re,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+g9++,this.attachDomPortal=a=>{this._assertNotAttached();const l=this._portalOutlet.attachDomPortal(a);return this._afterPortalAttached(),l},this._live="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}onAnimationEnd(t){const{fromState:i,toState:r}=t;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Gi(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>t.classList.add(r)):t.classList.add(i)),this._exposeToModals()}_exposeToModals(){const t=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],o=s.getAttribute("aria-owns");this._trackedModals.add(s),o?-1===o.indexOf(t)&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{const i=t.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?t.setAttribute("aria-owns",r):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(H(rt),H(Bt),H(ir),H(Ri),H(xm))},n.\u0275dir=Ke({type:n,viewQuery:function(t,i){if(1&t&&To(A0,7),2&t){let r;Ai(r=Di())&&(i._portalOutlet=r.first)}},features:[dn]}),n})(),v9=(()=>{class n extends _9{_afterPortalAttached(){super._afterPortalAttached();const t=this._label.nativeElement,i="mdc-snackbar__label";t.classList.toggle(i,!t.querySelector(`.${i}`))}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Eo(n)))(i||n)}}(),n.\u0275cmp=tn({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(t,i){if(1&t&&To(l9,7),2&t){let r;Ai(r=Di())&&(i._label=r.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(t,i){1&t&&Qv("@state.done",function(s){return i.onAnimationEnd(s)}),2&t&&iy("@state",i._animationState)},features:[dn],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(G(0,"div",0)(1,"div",1,2)(3,"div",3),Ei(4,c9,0,0,"ng-template",4),$(),We(5,"div"),$()()),2&t&&(Fe(5),Mi("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[A0],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss svg,.mat-mdc-snack-bar-container .mdc-snackbar__dismiss img{width:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px));height:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size, inherit);font-family:var(--mdc-snackbar-supporting-text-font, inherit);font-weight:var(--mdc-snackbar-supporting-text-weight, inherit);line-height:var(--mdc-snackbar-supporting-text-line-height, inherit)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-mdc-snack-bar-button-color, transparent);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[m9.snackBarState]}}),n})(),fP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({imports:[pm,D0,sc,o9,Wi,Wi]}),n})();const pP=new pe("mat-snack-bar-default-options",{providedIn:"root",factory:function y9(){return new xm}});let b9=(()=>{class n{get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,i,r,s,o,a){this._overlay=t,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=o,this._defaultConfig=a,this._snackBarRefAtThisLevel=null}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){const s={...this._defaultConfig,...r};return s.data={message:t,action:i},s.announcementMessage===t&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){const s=Yn.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:xm,useValue:i}]}),o=new dm(this.snackBarContainerComponent,i.viewContainerRef,s),a=t.attach(o);return a.instance.snackBarConfig=i,a.instance}_attach(t,i){const r={...new xm,...this._defaultConfig,...i},s=this._createOverlay(r),o=this._attachSnackBarContainer(s,r),a=new O0(o,s);if(t instanceof nr){const l=new hm(t,null,{$implicit:r.data,snackBarRef:a});a.instance=o.attachTemplatePortal(l)}else{const l=this._createInjector(r,a),c=new dm(t,void 0,l),u=o.attachComponentPortal(c);a.instance=u.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Lt(s.detachments())).subscribe(l=>{s.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){const i=new fm;i.direction=t.direction;let r=this._overlay.position().global();const s="rtl"===t.direction,o="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!s||"end"===t.horizontalPosition&&s,a=!o&&"center"!==t.horizontalPosition;return o?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(t,i){return Yn.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:O0,useValue:i},{provide:hP,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(W(Js),W(nI),W(Yn),W(Pb),W(n,12),W(pP))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})(),x9=(()=>{class n extends b9{constructor(t,i,r,s,o,a){super(t,i,r,s,o,a),this.simpleSnackBarComponent=p9,this.snackBarContainerComponent=v9,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(W(Js),W(nI),W(Yn),W(Pb),W(n,12),W(pP))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:fP}),n})(),M9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({imports:[Wi]}),n})(),E9=0;const L0=new pe("CdkAccordion");let S9=(()=>{class n{constructor(){this._stateChanges=new Re,this._openCloseAllActions=new Re,this.id="cdk-accordion-"+E9++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=vn(t)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ke({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[Ln([{provide:L0,useExisting:n}]),ns]}),n})(),C9=0,T9=(()=>{class n{get expanded(){return this._expanded}set expanded(t){t=vn(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=vn(t)}constructor(t,i,r){this.accordion=t,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=Jt.EMPTY,this.closed=new Mt,this.opened=new Mt,this.destroyed=new Mt,this.expandedChange=new Mt,this.id="cdk-accordion-child-"+C9++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((s,o)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===o&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return n.\u0275fac=function(t){return new(t||n)(H(L0,12),H(ir),H(Vd))},n.\u0275dir=Ke({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Ln([{provide:L0,useValue:void 0}])]}),n})(),A9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({}),n})();const D9=["body"];function I9(n,e){}const R9=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],P9=["mat-expansion-panel-header","*","mat-action-row"];function O9(n,e){1&n&&We(0,"span",2),2&n&&ze("@indicatorRotate",vr()._getExpandedState())}const L9=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],k9=["mat-panel-title","mat-panel-description","*"],k0=new pe("MAT_ACCORDION"),mP="225ms cubic-bezier(0.4,0.0,0.2,1)",gP={indicatorRotate:Mc("indicatorRotate",[ms("collapsed, void",pi({transform:"rotate(0deg)"})),ms("expanded",pi({transform:"rotate(180deg)"})),no("expanded <=> collapsed, void => collapsed",to(mP))]),bodyExpansion:Mc("bodyExpansion",[ms("collapsed, void",pi({height:"0px",visibility:"hidden"})),ms("expanded",pi({height:"*",visibility:"visible"})),no("expanded <=> collapsed, void => collapsed",to(mP))])},_P=new pe("MAT_EXPANSION_PANEL");let N9=(()=>{class n{constructor(t,i){this._template=t,this._expansionPanel=i}}return n.\u0275fac=function(t){return new(t||n)(H(nr),H(_P,8))},n.\u0275dir=Ke({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),F9=0;const vP=new pe("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let yP=(()=>{class n extends T9{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=vn(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,i,r,s,o,a,l){super(t,i,r),this._viewContainerRef=s,this._animationMode=a,this._hideToggle=!1,this.afterExpand=new Mt,this.afterCollapse=new Mt,this._inputChanges=new Re,this._headerId="mat-expansion-panel-header-"+F9++,this._bodyAnimationDone=new Re,this.accordion=t,this._document=o,this._bodyAnimationDone.pipe(Ib((c,u)=>c.fromState===u.fromState&&c.toState===u.toState)).subscribe(c=>{"void"!==c.fromState&&("expanded"===c.toState?this.afterExpand.emit():"collapsed"===c.toState&&this.afterCollapse.emit())}),l&&(this.hideToggle=l.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(xr(null),cn(()=>this.expanded&&!this._portal),Gi(1)).subscribe(()=>{this._portal=new hm(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,i=this._body.nativeElement;return t===i||i.contains(t)}return!1}}return n.\u0275fac=function(t){return new(t||n)(H(k0,12),H(ir),H(Vd),H(hi),H(tt),H(Ws,8),H(vP,8))},n.\u0275cmp=tn({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(t,i,r){if(1&t&&Ao(r,N9,5),2&t){let s;Ai(s=Di())&&(i._lazyContent=s.first)}},viewQuery:function(t,i){if(1&t&&To(D9,5),2&t){let r;Ai(r=Di())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,i){2&t&&ri("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Ln([{provide:k0,useValue:void 0},{provide:_P,useExisting:n}]),dn,ns],ngContentSelectors:P9,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,i){1&t&&(Vs(R9),Si(0),G(1,"div",0,1),st("@bodyExpansion.done",function(s){return i._bodyAnimationDone.next(s)}),G(3,"div",2),Si(4,1),Ei(5,I9,0,0,"ng-template",3),$(),Si(6,2),$()),2&t&&(Fe(1),ze("@bodyExpansion",i._getExpandedState())("id",i.id),Mi("aria-labelledby",i._headerId),Fe(4),ze("cdkPortalOutlet",i._portal))},dependencies:[A0],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[gP.bodyExpansion]},changeDetection:0}),n})();class B9{}const U9=rX(B9);let bP=(()=>{class n extends U9{constructor(t,i,r,s,o,a,l){super(),this.panel=t,this._element=i,this._focusMonitor=r,this._changeDetectorRef=s,this._animationMode=a,this._parentChangeSubscription=Jt.EMPTY;const c=t.accordion?t.accordion._stateChanges.pipe(cn(u=>!(!u.hideToggle&&!u.togglePosition))):Or;this.tabIndex=parseInt(l||"")||0,this._parentChangeSubscription=Rs(t.opened,t.closed,c,t._inputChanges.pipe(cn(u=>!!(u.hideToggle||u.disabled||u.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(cn(()=>t._containsFocus())).subscribe(()=>r.focusVia(i,"program")),o&&(this.expandedHeight=o.expandedHeight,this.collapsedHeight=o.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:fi(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,i){t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(t){return new(t||n)(H(yP,1),H(Bt),H(Bb),H(ir),H(vP,8),H(Ws,8),wl("tabindex"))},n.\u0275cmp=tn({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,i){1&t&&st("click",function(){return i._toggle()})("keydown",function(s){return i._keydown(s)}),2&t&&(Mi("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),Zu("height",i._getHeaderHeight()),ri("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[dn],ngContentSelectors:k9,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,i){1&t&&(Vs(L9),G(0,"span",0),Si(1),Si(2,1),Si(3,2),$(),Ei(4,O9,1,1,"span",1)),2&t&&(ri("mat-content-hide-toggle",!i._showToggle()),Fe(4),ze("ngIf",i._showToggle()))},dependencies:[Jy],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[gP.indicatorRotate]},changeDetection:0}),n})(),z9=(()=>{class n extends S9{constructor(){super(...arguments),this._ownHeaders=new ec,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=vn(t)}ngAfterContentInit(){this._headers.changes.pipe(xr(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new J1(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Eo(n)))(i||n)}}(),n.\u0275dir=Ke({type:n,selectors:[["mat-accordion"]],contentQueries:function(t,i,r){if(1&t&&Ao(r,bP,5),2&t){let s;Ai(s=Di())&&(i._headers=s)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,i){2&t&&ri("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[Ln([{provide:k0,useExisting:n}]),dn]}),n})(),H9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({imports:[sc,Wi,A9,D0]}),n})();class wm{}class N0{}class io{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof io?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new io;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof io?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class G9{encodeKey(e){return xP(e)}encodeValue(e){return xP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const j9=/%(\d[a-f0-9])/gi,$9={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xP(n){return encodeURIComponent(n).replace(j9,(e,t)=>$9[t]??e)}function Mm(n){return`${n}`}class Uo{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new G9,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function W9(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(Mm):[Mm(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Uo({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Mm(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(Mm(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class X9{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function wP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function MP(n){return typeof Blob<"u"&&n instanceof Blob}function EP(n){return typeof FormData<"u"&&n instanceof FormData}class Wd{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function q9(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new io),this.context||(this.context=new X9),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Uo,this.urlWithParams=t}serializeBody(){return null===this.body?null:wP(this.body)||MP(this.body)||EP(this.body)||function Y9(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Uo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||EP(this.body)?null:MP(this.body)?this.body.type||null:wP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Uo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new Wd(t,i,s,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:o})}}var Bn=(()=>((Bn=Bn||{})[Bn.Sent=0]="Sent",Bn[Bn.UploadProgress=1]="UploadProgress",Bn[Bn.ResponseHeader=2]="ResponseHeader",Bn[Bn.DownloadProgress=3]="DownloadProgress",Bn[Bn.Response=4]="Response",Bn[Bn.User=5]="User",Bn))();class F0{constructor(e,t=200,i="OK"){this.headers=e.headers||new io,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class B0 extends F0{constructor(e={}){super(e),this.type=Bn.ResponseHeader}clone(e={}){return new B0({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Em extends F0{constructor(e={}){super(e),this.type=Bn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Em({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class SP extends F0{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function U0(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Sm=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof Wd)s=t;else{let l,c;l=r.headers instanceof io?r.headers:new io(r.headers),r.params&&(c=r.params instanceof Uo?r.params:new Uo({fromObject:r.params})),s=new Wd(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=He(s).pipe(Oo(l=>this.handler.handle(l)));if(t instanceof Wd||"events"===r.observe)return o;const a=o.pipe(cn(l=>l instanceof Em));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Qe(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Qe(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Qe(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Qe(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Uo).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,U0(r,i))}post(t,i,r={}){return this.request("POST",t,U0(r,i))}put(t,i,r={}){return this.request("PUT",t,U0(r,i))}}return n.\u0275fac=function(t){return new(t||n)(W(wm))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();function CP(n,e){return e(n)}function K9(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const Q9=new pe("HTTP_INTERCEPTORS"),jd=new pe("HTTP_INTERCEPTOR_FNS");function J9(){let n=null;return(e,t)=>(null===n&&(n=(we(Q9,{optional:!0})??[]).reduceRight(K9,CP)),n(e,t))}let TP=(()=>{class n extends wm{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=Array.from(new Set(this.injector.get(jd)));this.chain=i.reduceRight((r,s)=>function Z9(n,e,t){return(i,r)=>t.runInContext(()=>e(i,s=>n(s,r)))}(r,s,this.injector),CP)}return this.chain(t,i=>this.backend.handle(i))}}return n.\u0275fac=function(t){return new(t||n)(W(N0),W(os))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();const iq=/^\)\]\}',?\n/;let DP=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Xt(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((f,p)=>r.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&r.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();r.responseType="json"!==f?f:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=r.statusText||"OK",p=new io(r.getAllResponseHeaders()),g=function rq(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return o=new B0({headers:p,status:r.status,statusText:f,url:g}),o},l=()=>{let{headers:f,status:p,statusText:g,url:_}=a(),m=null;204!==p&&(m=typeof r.response>"u"?r.responseText:r.response),0===p&&(p=m?200:0);let y=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof m){const v=m;m=m.replace(iq,"");try{m=""!==m?JSON.parse(m):null}catch(b){m=v,y&&(y=!1,m={error:b,text:m})}}y?(i.next(new Em({body:m,headers:f,status:p,statusText:g,url:_||void 0})),i.complete()):i.error(new SP({error:m,headers:f,status:p,statusText:g,url:_||void 0}))},c=f=>{const{url:p}=a(),g=new SP({error:f,status:r.status||0,statusText:r.statusText||"Unknown Error",url:p||void 0});i.error(g)};let u=!1;const d=f=>{u||(i.next(a()),u=!0);let p={type:Bn.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&r.responseText&&(p.partialText=r.responseText),i.next(p)},h=f=>{let p={type:Bn.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),i.next(p)};return r.addEventListener("load",l),r.addEventListener("error",c),r.addEventListener("timeout",c),r.addEventListener("abort",c),t.reportProgress&&(r.addEventListener("progress",d),null!==s&&r.upload&&r.upload.addEventListener("progress",h)),r.send(s),i.next({type:Bn.Sent}),()=>{r.removeEventListener("error",c),r.removeEventListener("abort",c),r.removeEventListener("load",l),r.removeEventListener("timeout",c),t.reportProgress&&(r.removeEventListener("progress",d),null!==s&&r.upload&&r.upload.removeEventListener("progress",h)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(W(l1))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();const z0=new pe("XSRF_ENABLED"),IP=new pe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),RP=new pe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class PP{}let aq=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ZD(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(W(tt),W(ep),W(IP))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();function lq(n,e){const t=n.url.toLowerCase();if(!we(z0)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=we(PP).getToken(),r=we(RP);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var Dn=(()=>((Dn=Dn||{})[Dn.Interceptors=0]="Interceptors",Dn[Dn.LegacyInterceptors=1]="LegacyInterceptors",Dn[Dn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Dn[Dn.NoXsrfProtection=3]="NoXsrfProtection",Dn[Dn.JsonpSupport=4]="JsonpSupport",Dn[Dn.RequestsMadeViaParent=5]="RequestsMadeViaParent",Dn))();function Sc(n,e){return{\u0275kind:n,\u0275providers:e}}function cq(...n){const e=[Sm,DP,TP,{provide:wm,useExisting:TP},{provide:N0,useExisting:DP},{provide:jd,useValue:lq,multi:!0},{provide:z0,useValue:!0},{provide:PP,useClass:aq}];for(const t of n)e.push(...t.\u0275providers);return function gU(n){return{\u0275providers:n}}(e)}const OP=new pe("LEGACY_INTERCEPTOR_FN");let dq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({providers:[cq(Sc(Dn.LegacyInterceptors,[{provide:OP,useFactory:J9},{provide:jd,useExisting:OP,multi:!0}]))]}),n})();const hq=["*"];let Cm;function $d(n){return function fq(){if(void 0===Cm&&(Cm=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Cm=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Cm}()?.createHTML(n)||n}function LP(n){return Error(`Unable to find icon with the name "${n}"`)}function kP(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function NP(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Ta{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let Tm=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new Ta(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const o=this._sanitizer.sanitize(Ht.HTML,r);if(!o)throw NP(r);const a=$d(o);return this._addSvgIconConfig(t,i,new Ta("",a,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Ta(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(Ht.HTML,i);if(!s)throw NP(i);const o=$d(s);return this._addSvgIconSetConfig(t,new Ta("",o,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(Ht.RESOURCE_URL,t);if(!i)throw kP(t);const r=this._cachedIconsByUrl.get(i);return r?He(Am(r)):this._loadSvgIconFromConfig(new Ta(t,null)).pipe(An(s=>this._cachedIconsByUrl.set(i,s)),Qe(s=>Am(s)))}getNamedSvgIcon(t,i=""){const r=FP(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(i);return o?this._getSvgFromIconSetConfigs(t,o):fc(LP(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?He(Am(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Qe(i=>Am(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?He(r):function V9(...n){const e=rE(n),{args:t,keys:i}=j1(n),r=new Xt(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;ti(t[u]).subscribe(ln(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?$1(i,a):a),s.complete())}))}});return e?r.pipe(mb(e)):r}(i.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(Ks(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Ht.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),He(null)})))).pipe(Qe(()=>{const o=this._extractIconWithNameFromAnySet(t,i);if(!o)throw LP(t);return o}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,t,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(An(i=>t.svgText=i),Qe(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?He(null):this._fetchIcon(t).pipe(An(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const a=this._svgElementFromString($d("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString($d("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:o,value:a}=r[s];"id"!==o&&i.setAttribute(o,a)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function pq(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const o=this._sanitizer.sanitize(Ht.RESOURCE_URL,i);if(!o)throw kP(i);const a=this._inProgressUrlFetches.get(o);if(a)return a;const l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(Qe(c=>$d(c)),Gp(()=>this._inProgressUrlFetches.delete(o)),lE());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(FP(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return gq(s)?new Ta(s.url,null,s.options):new Ta(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(W(Sm,8),W(pb),W(tt,8),W(Us))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Am(n){return n.cloneNode(!0)}function FP(n,e){return n+":"+e}function gq(n){return!(!n.url||!n.options)}const _q=KR(class{constructor(n){this._elementRef=n}}),vq=new pe("MAT_ICON_DEFAULT_OPTIONS"),yq=new pe("mat-icon-location",{providedIn:"root",factory:function bq(){const n=we(tt),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),BP=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],xq=BP.map(n=>`[${n}]`).join(", "),wq=/^url\(['"]?#(.*?)['"]?\)$/;let Mq=(()=>{class n extends _q{get inline(){return this._inline}set inline(t){this._inline=vn(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,s,o,a){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=o,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Jt.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(xq),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)BP.forEach(o=>{const a=i[s],l=a.getAttribute(o),c=l?l.match(wq):null;if(c){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:o,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Gi(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(H(Bt),H(Tm),wl("aria-hidden"),H(yq),H(Us),H(vq,8))},n.\u0275cmp=tn({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(Mi("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),ri("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[dn],ngContentSelectors:hq,decls:1,vars:0,template:function(t,i){1&t&&(Vs(),Si(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),Eq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({imports:[Wi,Wi]}),n})();const Aq={provide:new pe("mat-menu-scroll-strategy"),deps:[Js],useFactory:function Tq(n){return()=>n.scrollStrategies.reposition()}};let Dq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({providers:[Aq],imports:[sc,iP,Wi,pm,bd,Wi]}),n})();const Iq=[];let Rq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({imports:[S0.forRoot(Iq),S0]}),n})();const zP="dark_theme";let _s=(()=>{class n{constructor(){this._dark="true"===localStorage.getItem(zP)}get is_dark(){return this._dark}set is_dark(t){this._dark=t,localStorage.setItem(zP,String(t))}get background_color(){return this._dark?"#17181e":"#E0E0E0"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lq=(()=>{class n{constructor(t){this.Theme=t,this.title="resume"}}return n.\u0275fac=function(t){return new(t||n)(H(_s))},n.\u0275cmp=tn({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&We(0,"router-outlet")},dependencies:[d0]}),n})(),Dm=(()=>{class n{constructor(t,i,r,s,o){this.title=t,this.meta=i,this.router=r,this.activatedRoute=s,this.httpClient=o}updateMetaInfo(t,i,r){this.meta.updateTag({name:"description",content:t}),this.meta.updateTag({name:"author",content:i}),this.meta.updateTag({name:"keywords",content:r})}updateMeta(){this.router.events.pipe(cn(t=>t instanceof Zs),Qe(()=>this.activatedRoute),Qe(t=>{for(;t.firstChild;)t=t.firstChild;return t}),cn(t=>"primary"===t.outlet),mn(t=>t.data)).subscribe(t=>{this.title.setTitle(void 0===t.title?"Peeradon":t.title+" \u2219 Peeradon"),this.meta.updateTag({name:"description",content:t.description})})}_downloadFile(t,i){let r=document.createElement("a");r.setAttribute("type","hidden"),r.href=t,r.download=i,document.body.appendChild(r),r.click(),r.remove()}DownloadResume(){this._downloadFile("assets/files/resume.pdf","Peeradon's resume")}DownloadTranscriptTh(){this._downloadFile("assets/files/transcript-thai.pdf","Peeradon's transcript-th")}DownloadTranscriptEn(){this._downloadFile("assets/files/transcript-english.pdf","Peeradon's transcript-en")}isFileExist(t){var i=new XMLHttpRequest;return i.open("HEAD",t,!1),i.send(),404!=i.status}}return n.\u0275fac=function(t){return new(t||n)(W(hb),W(R1),W(yn),W(No),W(Sm))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kq(n,e){if(1&n){const t=Yl();G(0,"div",12)(1,"button",13),st("contextmenu",function(){return!1})("click",function(){return _l(t),vl(vr().ToogleTheme())}),J(2),$()()}if(2&n){const t=vr();Fe(2),Gs(" ",t.theme.is_dark?"Light mode":"Dark mode"," ")}}const Nq=function(n,e){return{"darkpage-header":n,"whitepage-header":e}},Im=function(n){return{active:n}},Fq=function(n,e){return{"darkpage-nav":n,"whitepage-nav":e}},Bq=function(n,e){return{"line-dark":n,"line-white":e}};let Uq=(()=>{class n{constructor(t,i,r){this.theme=t,this.router=i,this.elementRef=r}_changeTheme(){this.elementRef.nativeElement.ownerDocument.body.style.backgroundColor=this.theme.background_color}OnResize(t){window.innerWidth>900&&this.CloseNav()}OnTouchStart(t){this.tsX=t.touches[0].clientX,this.tsY=t.touches[0].clientY}OnTouchMove(t){window}OnTouchEnd(t){let i=t.changedTouches[0].clientX;this.tsX>i+50&&this.tsX>window.innerWidth-20?this.OpenNav():this.tsX<i-50&&this.CloseNav()}isActive(t){return document.location.pathname.endsWith(t)}ToogleTheme(){this.theme.is_dark=!this.theme.is_dark,this._changeTheme()}OpenNav(){window.innerWidth<=900&&document.getElementById("mobile-nav-bg").classList.add("open")}CloseNav(){document.getElementById("mobile-nav-bg").classList.remove("open")}}return n.\u0275fac=function(t){return new(t||n)(H(_s),H(yn),H(Bt))},n.\u0275cmp=tn({type:n,selectors:[["app-topbar"]],hostBindings:function(t,i){1&t&&st("resize",function(){return i.OnResize()},0,kl)("touchstart",function(s){return i.OnTouchStart(s)},!1,kl)("touchmove",function(s){return i.OnTouchMove(s)},!1,kl)("touchend",function(s){return i.OnTouchEnd(s)},!1,kl)},decls:26,vars:26,consts:[[3,"ngClass","contextmenu"],["id","topbar",1,"floating"],[3,"ngClass","click"],["id","option-btn","mat-button","",3,"cdkMenuTriggerFor"],["id","mobile-nav-open","mat-icon-button","",3,"click"],["Option",""],["id","mobile-nav-bg",3,"click"],["id","mobile-nav",3,"ngClass","contextmenu"],["id","mobile-nav-close",3,"click"],[1,"buttom-nav"],[1,"linebreak",3,"ngClass"],[1,"bottom",3,"click"],["cdkMenu","",1,"ContextMenu"],["cdkMenuItem","",1,"ContextMenu-Item",3,"contextmenu","click"]],template:function(t,i){if(1&t&&(G(0,"header",0),st("contextmenu",function(){return!1}),G(1,"div",1)(2,"nav")(3,"a",2),st("click",function(){return i.router.navigateByUrl("aboutme")}),J(4,"About me"),$(),G(5,"a",2),st("click",function(){return i.router.navigateByUrl("contact")}),J(6,"Contact"),$()(),G(7,"button",3),J(8,"\u205d"),$(),G(9,"button",4),st("click",function(){return i.OpenNav()}),G(10,"mat-icon"),J(11,"menu"),$()()()(),Ei(12,kq,3,1,"ng-template",null,5,ba),G(14,"div",6),st("click",function(){return i.CloseNav()}),G(15,"div",7),st("contextmenu",function(){return!1}),G(16,"button",8),st("click",function(){return i.CloseNav()}),J(17,"\u2a09"),$(),G(18,"button",2),st("click",function(){return i.router.navigateByUrl("aboutme")}),J(19,"About me"),$(),G(20,"button",2),st("click",function(){return i.router.navigateByUrl("contact")}),J(21,"Contact"),$(),G(22,"div",9),We(23,"div",10),G(24,"button",11),st("click",function(){return i.ToogleTheme()}),J(25),$()()()()),2&t){const r=ql(13);ze("ngClass",Kn(9,Nq,i.theme.is_dark,!i.theme.is_dark)),Fe(3),ze("ngClass",Ti(12,Im,i.isActive("aboutme"))),Fe(2),ze("ngClass",Ti(14,Im,i.isActive("contact"))),Fe(2),ze("cdkMenuTriggerFor",r),Fe(8),ze("ngClass",Kn(16,Fq,i.theme.is_dark,!i.theme.is_dark)),Fe(3),ze("ngClass",Ti(19,Im,i.isActive("aboutme"))),Fe(2),ze("ngClass",Ti(21,Im,i.isActive("contact"))),Fe(3),ze("ngClass",Kn(23,Bq,i.theme.is_dark,!i.theme.is_dark)),Fe(2),_a(i.theme.is_dark?"Light mode":"Dark mode")}},dependencies:[hs,Gd,Bo,bm,Mq],styles:["*[_ngcontent-%COMP%]{transition:all .2s ease-in-out}header[_ngcontent-%COMP%]{width:100%;height:60px;position:relative;display:flex;top:0}button[_ngcontent-%COMP%]{box-shadow:unset;font-weight:unset;min-width:unset;min-height:unset;height:min-content;border:none;background-color:transparent}#option-btn[_ngcontent-%COMP%]{width:30px;margin-left:20px;margin-right:20px;font-size:15px}nav[_ngcontent-%COMP%]{height:50%;display:flex;align-items:center;margin-left:25px;margin-right:25px;gap:25px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:400;font-size:15px;text-underline-offset:2px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}#topbar[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:right;align-items:center;position:absolute;top:0;left:0;z-index:1000}.whitepage-header[_ngcontent-%COMP%]{background-color:var(--white3);color:var(--dark2)}.whitepage-header[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:not(.active, [_ngcontent-%COMP%]:hover:not(#option-btn)){color:var(--dark2)}.whitepage-header[_ngcontent-%COMP%] > .floating[_ngcontent-%COMP%]{box-shadow:0 1px 5px #0000001a}.darkpage-header[_ngcontent-%COMP%]{background-color:var(--dark1);color:var(--white3)}.darkpage-header[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:not(.active, [_ngcontent-%COMP%]:hover:not(#option-btn)){color:var(--white3)}.darkpage-header[_ngcontent-%COMP%] > .floating[_ngcontent-%COMP%]{border-bottom:1px solid var(--alpha-white)}.active[_ngcontent-%COMP%]{color:var(--scheme-color)}button[mat-icon-button][_ngcontent-%COMP%]{align-items:center}#mobile-nav-open[_ngcontent-%COMP%]{width:auto;margin-right:5px;font-size:20px;display:none}#mobile-nav-open[_ngcontent-%COMP%]:focus{color:unset}#mobile-nav-close[_ngcontent-%COMP%]{width:auto;position:absolute;top:20px;left:20px;font-size:20px;padding:0}#mobile-nav-bg[_ngcontent-%COMP%]{width:100vw;height:100vh;background-color:#00000080;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);display:flex;justify-content:right;position:fixed;top:0;right:0;padding:0;z-index:9999;visibility:hidden;opacity:0;transition:width 0s,opacity .2s ease-in-out,visibility .2s ease-in-out}#mobile-nav[_ngcontent-%COMP%]{box-shadow:-1px 0 10px #0000001a;width:50%;max-width:300px;min-width:150px;height:auto;min-height:300px;display:none;flex-direction:column;position:relative;padding:80px 0 50px;gap:10px;margin-right:-100%}.buttom-nav[_ngcontent-%COMP%]{width:100%;height:auto;display:flex;flex-direction:column;padding-bottom:80px;gap:10px;position:absolute;bottom:0}#mobile-nav[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:not(#mobile-nav-close), .buttom-nav[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%;text-align:left;font-size:20px;padding-left:20px;padding-right:20px}#mobile-nav[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover, .buttom-nav[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{color:var(--scheme-color)}#mobile-nav-bg.open[_ngcontent-%COMP%] > #mobile-nav[_ngcontent-%COMP%]{margin-right:0}#mobile-nav-bg.open[_ngcontent-%COMP%]{visibility:hidden}.whitepage-nav[_ngcontent-%COMP%]{background-color:var(--white3);color:var(--dark2)}.whitepage-nav[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:not(.active, [_ngcontent-%COMP%]:hover){color:var(--dark2)}.darkpage-nav[_ngcontent-%COMP%]{background-color:var(--dark2);color:var(--white3)}.darkpage-nav[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:not(.active, [_ngcontent-%COMP%]:hover){color:var(--white3)}.linebreak[_ngcontent-%COMP%]{width:auto;margin-left:20px;margin-right:20px}@media only screen and (max-width: 1200px){nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], #option-btn[_ngcontent-%COMP%]{font-size:12px}}@media only screen and (max-width: 900px){header[_ngcontent-%COMP%]{height:50px}nav[_ngcontent-%COMP%]{gap:20px;margin-left:18px;margin-right:18px;display:none}#option-btn[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;font-size:20px;display:none}#mobile-nav-open[_ngcontent-%COMP%], #mobile-nav[_ngcontent-%COMP%]{display:flex}#mobile-nav-bg.open[_ngcontent-%COMP%]{visibility:visible;opacity:1}}@media only screen and (max-width: 600px){header[_ngcontent-%COMP%]{height:40px}nav[_ngcontent-%COMP%]{gap:15px;margin-left:10px;margin-right:10px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-underline-offset:1px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:10px;font-weight:400}#option-btn[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;font-weight:400}#mobile-nav[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:not(#mobile-nav-close), .buttom-nav[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{font-size:16px}}"]}),n})(),zq=(()=>{class n{constructor(t){this.theme=t}}return n.\u0275fac=function(t){return new(t||n)(H(_s))},n.\u0275cmp=tn({type:n,selectors:[["app-footer"]],decls:3,vars:0,consts:[["id","github-btn","href","https://github.com/thestampr","target","_blank",1,"icon-small","fa","fa-github"]],template:function(t,i){1&t&&(G(0,"footer"),We(1,"a",0),J(2," GitHub "),$())},styles:["*[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.fa[_ngcontent-%COMP%]{padding-top:15px}  app-footer{display:flex;align-items:flex-end;margin-top:100px}footer[_ngcontent-%COMP%]{color:var(--white5);background-color:var(--dark2);display:flex;height:200px;width:100vw;align-items:center;padding:20px 100px;transition:width 0s}footer[_ngcontent-%COMP%]:not(#github-btn){font-size:15px}footer[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:var(--white5)}nav[_ngcontent-%COMP%]{display:flex;justify-content:right;align-items:center;right:0;margin-left:auto;gap:25px}a[_ngcontent-%COMP%]{text-decoration:none}a[_ngcontent-%COMP%]:hover{color:var(--white1);cursor:pointer}@media only screen and (max-width: 900px){footer[_ngcontent-%COMP%]{padding-left:70px;padding-right:70px}footer[_ngcontent-%COMP%]:not(#github-btn){font-size:12px}}@media only screen and (max-width: 600px){footer[_ngcontent-%COMP%]{padding-left:40px;padding-right:40px}footer[_ngcontent-%COMP%]:not(#github-btn){font-size:10px}nav[_ngcontent-%COMP%]{justify-content:left;align-items:start;flex-direction:column;gap:20px}}"]}),n})();const Hq=function(n,e){return{"dark-theme":n,"white-theme":e}},Vq=function(n,e){return{"dark-btn":n,"white-btn":e}},Gq=["*"];let Cc=(()=>{class n{constructor(t,i,r,s){this.theme=t,this.router=i,this.backend=r,this.elementRef=s,i.events.subscribe(o=>{this.OnEnter()})}OnEnter(){this.elementRef.nativeElement.ownerDocument.body.style.backgroundColor=this.theme.background_color,this.backend.updateMeta();let t=document.getElementsByClassName("scroll-reveal"),i=document.getElementById("scroll-page");for(let r=0;r<t.length;r++){let s=window.innerHeight;t[r].getBoundingClientRect().top<s/1.7&&t[r].classList.add("revealed")}i&&i.addEventListener("scroll",this.OnScroll)}OnScroll(){let t=document.getElementsByClassName("scroll-reveal"),i=document.getElementById("scroll-page"),r=document.getElementById("to-top");for(let s=0;s<t.length;s++){let o=window.innerHeight;t[s].getBoundingClientRect().top<o/1.7&&t[s].classList.add("revealed")}i.scrollTop>300?(r.style.opacity="1",r.style.visibility="visible"):(r.style.opacity="0",r.style.visibility="hidden")}ToTop(){document.getElementById("scroll-page").scrollTo(0,0)}}return n.\u0275fac=function(t){return new(t||n)(H(_s),H(yn),H(Dm),H(Bt))},n.\u0275cmp=tn({type:n,selectors:[["app-page"]],ngContentSelectors:Gq,decls:6,vars:8,consts:[["id","container",3,"contextmenu"],["id","scroll-page",3,"ngClass","contextmenu"],["id","to-top",1,"animated-btn","fa","fa-arrow-up",3,"ngClass","click"]],template:function(t,i){1&t&&(Vs(),We(0,"app-topbar"),G(1,"div",0),st("contextmenu",function(){return!1}),G(2,"div",1),st("contextmenu",function(){return!1}),Si(3),We(4,"app-footer"),$(),G(5,"a",2),st("click",function(){return i.ToTop()}),$()()),2&t&&(Fe(2),ze("ngClass",Kn(2,Hq,i.theme.is_dark,!i.theme.is_dark)),Fe(3),ze("ngClass",Kn(5,Vq,i.theme.is_dark,!i.theme.is_dark)))},dependencies:[hs,Uq,zq],styles:["*[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.fa[_ngcontent-%COMP%]{width:50px;height:50px;font-size:30px;text-align:center;text-decoration:none;border-radius:50%;padding:10px}#container[_ngcontent-%COMP%]{width:100%;margin:0;display:flex}#container[_ngcontent-%COMP%]{height:calc(100% - 60px)}#scroll-page[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;position:relative;animation:fadeIn ease .3s;animation-iteration-count:1;animation-fill-mode:forwards;overflow-y:overlay!important;scrollbar-gutter:stable both-edges}#scroll-page[_ngcontent-%COMP%]::-webkit-scrollbar{z-index:9999}div[_ngcontent-%COMP%]{margin:0;display:flex;flex-wrap:wrap;inset:0}#to-top[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0;margin:35px;cursor:pointer;opacity:0;visibility:hidden}@media only screen and (max-width: 900px){#container[_ngcontent-%COMP%]{height:calc(100% - 50px)}#to-top[_ngcontent-%COMP%]{margin:30px}}@media only screen and (max-width: 600px){#container[_ngcontent-%COMP%]{height:calc(100% - 40px)}#to-top[_ngcontent-%COMP%]{margin:14px}}"]}),n})();function Wq(n,e){if(1&n&&(G(0,"p"),J(1),We(2,"br"),$()),2&n){const t=e.$implicit;Fe(1),Gs(" ",t," ")}}const VP=function(n){return{fullsize:n}};function jq(n,e){if(1&n){const t=Yl();G(0,"div",3),st("click",function(){const s=_l(t).$implicit,o=vr();return vl(void 0!==s.url&&o.router.navigateByUrl(s.url))}),G(1,"div",4),We(2,"i",4),$(),G(3,"div",5)(4,"h3"),J(5),$(),G(6,"div",6),Ei(7,Wq,3,1,"p",7),$()()()}if(2&n){const t=e.$implicit,i=vr();Vf("flex-container-item ",void 0===t.url?"":"clickable",""),ze("ngClass",Ti(9,VP,i.one_col)),Fe(2),Vf("fa ",t.icon," icon-large"),Fe(3),Gs(" ",t.title," "),Fe(2),ze("ngForOf",t.descriptions)}}let GP=(()=>{class n{constructor(t){this.router=t,this.name="",this.one_col=!1,this.items=[]}}return n.\u0275fac=function(t){return new(t||n)(H(yn))},n.\u0275cmp=tn({type:n,selectors:[["app-flex-card-box"]],inputs:{name:"name",one_col:"one_col",items:"items"},decls:5,vars:5,consts:[[1,"flexable",3,"ngClass"],[1,"flex-container"],["id","flexable-item",3,"class","ngClass","click",4,"ngFor","ngForOf"],["id","flexable-item",3,"ngClass","click"],["id","item-icon"],["id","item-details"],["id","item-description"],[4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(G(0,"div",0)(1,"h2"),J(2),$(),G(3,"div",1),Ei(4,jq,8,11,"div",2),$()()),2&t&&(ze("ngClass",Ti(3,VP,i.one_col)),Fe(2),_a(i.name),Fe(2),ze("ngForOf",i.items))},dependencies:[hs,gp],styles:["*[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.fa[_ngcontent-%COMP%]{width:80px;height:80px;min-width:unset;min-height:unset;font-size:46px;text-align:center;text-decoration:none;padding-top:15px;border:none;background-color:unset;box-shadow:none;margin-bottom:5px;border-radius:50%}.flex-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.flex-container-item[_ngcontent-%COMP%]{width:50%;min-width:50%}.flexable[_ngcontent-%COMP%]{width:1000px}#flexable-item[_ngcontent-%COMP%]{height:200px;padding:10px 10px 10px 0;display:flex;justify-items:start;flex-direction:row;border-radius:5px}#item-icon[_ngcontent-%COMP%]{width:25%}#item-details[_ngcontent-%COMP%]{width:75%;height:100%}#item-description[_ngcontent-%COMP%]{font-size:15px;opacity:.75;padding-top:10px;display:flex;flex-direction:column;flex:1;gap:5px}#item-description[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0}h2[_ngcontent-%COMP%]{font-size:25px;font-weight:300;margin-top:0}h3[_ngcontent-%COMP%]{font-size:40px;font-weight:500;margin-top:10px;margin-bottom:0;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;-webkit-mask-image:linear-gradient(to left,transparent,#000 50px,#000);mask-image:linear-gradient(to left,transparent,#000 50px,#000)}.fullsize[_ngcontent-%COMP%]{width:100%}.flexable.fullsize[_ngcontent-%COMP%]{width:800px}.clickable[_ngcontent-%COMP%], .clickable[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:pointer}.white-theme[_ngcontent-%COMP%]   .clickable[_ngcontent-%COMP%]:hover{background-color:var(--white1)}.dark-theme[_ngcontent-%COMP%]   .clickable[_ngcontent-%COMP%]:hover{background-color:var(--dark3)}@media only screen and (max-width: 1200px){.flexable[_ngcontent-%COMP%], .flexable.fullsize[_ngcontent-%COMP%]{width:800px}}@media only screen and (max-width: 900px){.flexable[_ngcontent-%COMP%], .flexable.fullsize[_ngcontent-%COMP%]{width:500px}.flex-container-item[_ngcontent-%COMP%]{width:100%;height:150px}h2[_ngcontent-%COMP%]{font-size:20px}h3[_ngcontent-%COMP%]{font-size:28px;margin-top:15px}#item-description[_ngcontent-%COMP%]{font-size:12px}}@media only screen and (max-width: 600px){.flexable[_ngcontent-%COMP%], .flexable.fullsize[_ngcontent-%COMP%]{width:300px}}"]}),n})();function WP(n){return null!==n&&"object"==typeof n&&"constructor"in n&&n.constructor===Object}function H0(n,e){void 0===n&&(n={}),void 0===e&&(e={}),Object.keys(e).forEach(function(t){typeof n[t]>"u"?n[t]=e[t]:WP(e[t])&&WP(n[t])&&Object.keys(e[t]).length>0&&H0(n[t],e[t])})}var jP={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function rn(){var n=typeof document<"u"?document:{};return H0(n,jP),n}var $q={document:jP,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame:function(n){typeof setTimeout>"u"||clearTimeout(n)}};function Vt(){var n=typeof window<"u"?window:{};return H0(n,$q),n}function V0(n){return(V0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function Rm(n,e){return(Rm=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(n,e)}function Pm(n,e,t){return(Pm=function qq(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(r,s,o){var a=[null];a.push.apply(a,s);var c=new(Function.bind.apply(r,a));return o&&Rm(c,o.prototype),c}).apply(null,arguments)}function G0(n){var e="function"==typeof Map?new Map:void 0;return G0=function(i){if(null===i||!function Yq(n){return-1!==Function.toString.call(n).indexOf("[native code]")}(i))return i;if("function"!=typeof i)throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(i))return e.get(i);e.set(i,r)}function r(){return Pm(i,arguments,V0(this).constructor)}return r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Rm(r,i)},G0(n)}var zo=function(n){function e(t){var i;return function Zq(n){var e=n.__proto__;Object.defineProperty(n,"__proto__",{get:function(){return e},set:function(i){e.__proto__=i}})}(function Kq(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(i=n.call.apply(n,[this].concat(t))||this)),i}return function Xq(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}(e,n),e}(G0(Array));function Xd(n){void 0===n&&(n=[]);var e=[];return n.forEach(function(t){Array.isArray(t)?e.push.apply(e,Xd(t)):e.push(t)}),e}function $P(n,e){return Array.prototype.filter.call(n,e)}function dt(n,e){var t=Vt(),i=rn(),r=[];if(!e&&n instanceof zo)return n;if(!n)return new zo(r);if("string"==typeof n){var s=n.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){var o="div";0===s.indexOf("<li")&&(o="ul"),0===s.indexOf("<tr")&&(o="tbody"),(0===s.indexOf("<td")||0===s.indexOf("<th"))&&(o="tr"),0===s.indexOf("<tbody")&&(o="table"),0===s.indexOf("<option")&&(o="select");var a=i.createElement(o);a.innerHTML=s;for(var l=0;l<a.childNodes.length;l+=1)r.push(a.childNodes[l])}else r=function eY(n,e){if("string"!=typeof n)return[n];for(var t=[],i=e.querySelectorAll(n),r=0;r<i.length;r+=1)t.push(i[r]);return t}(n.trim(),e||i)}else if(n.nodeType||n===t||n===i)r.push(n);else if(Array.isArray(n)){if(n instanceof zo)return n;r=n}return new zo(function Qq(n){for(var e=[],t=0;t<n.length;t+=1)-1===e.indexOf(n[t])&&e.push(n[t]);return e}(r))}dt.fn=zo.prototype;var FY="resize scroll".split(" ");function bn(n){return function e(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];if(typeof i[0]>"u"){for(var s=0;s<this.length;s+=1)FY.indexOf(n)<0&&(n in this[s]?this[s][n]():dt(this[s]).trigger(n));return this}return this.on.apply(this,[n].concat(i))}}bn("click"),bn("blur"),bn("focus"),bn("focusin"),bn("focusout"),bn("keyup"),bn("keydown"),bn("keypress"),bn("submit"),bn("change"),bn("mousedown"),bn("mousemove"),bn("mouseup"),bn("mouseenter"),bn("mouseleave"),bn("mouseout"),bn("mouseover"),bn("touchstart"),bn("touchend"),bn("touchmove"),bn("resize"),bn("scroll");var XP={addClass:function tY(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var i=Xd(e.map(function(r){return r.split(" ")}));return this.forEach(function(r){var s;(s=r.classList).add.apply(s,i)}),this},removeClass:function nY(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var i=Xd(e.map(function(r){return r.split(" ")}));return this.forEach(function(r){var s;(s=r.classList).remove.apply(s,i)}),this},hasClass:function rY(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var i=Xd(e.map(function(r){return r.split(" ")}));return $P(this,function(r){return i.filter(function(s){return r.classList.contains(s)}).length>0}).length>0},toggleClass:function iY(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var i=Xd(e.map(function(r){return r.split(" ")}));this.forEach(function(r){i.forEach(function(s){r.classList.toggle(s)})})},attr:function sY(n,e){if(1===arguments.length&&"string"==typeof n)return this[0]?this[0].getAttribute(n):void 0;for(var t=0;t<this.length;t+=1)if(2===arguments.length)this[t].setAttribute(n,e);else for(var i in n)this[t][i]=n[i],this[t].setAttribute(i,n[i]);return this},removeAttr:function oY(n){for(var e=0;e<this.length;e+=1)this[e].removeAttribute(n);return this},transform:function aY(n){for(var e=0;e<this.length;e+=1)this[e].style.transform=n;return this},transition:function lY(n){for(var e=0;e<this.length;e+=1)this[e].style.transitionDuration="string"!=typeof n?n+"ms":n;return this},on:function cY(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var i=e[0],r=e[1],s=e[2],o=e[3];function a(g){var _=g.target;if(_){var m=g.target.dom7EventData||[];if(m.indexOf(g)<0&&m.unshift(g),dt(_).is(r))s.apply(_,m);else for(var y=dt(_).parents(),v=0;v<y.length;v+=1)dt(y[v]).is(r)&&s.apply(y[v],m)}}function l(g){var _=g&&g.target&&g.target.dom7EventData||[];_.indexOf(g)<0&&_.unshift(g),s.apply(this,_)}"function"==typeof e[1]&&(i=e[0],s=e[1],o=e[2],r=void 0),o||(o=!1);for(var u,c=i.split(" "),d=0;d<this.length;d+=1){var h=this[d];if(r)for(u=0;u<c.length;u+=1){var p=c[u];h.dom7LiveListeners||(h.dom7LiveListeners={}),h.dom7LiveListeners[p]||(h.dom7LiveListeners[p]=[]),h.dom7LiveListeners[p].push({listener:s,proxyListener:a}),h.addEventListener(p,a,o)}else for(u=0;u<c.length;u+=1){var f=c[u];h.dom7Listeners||(h.dom7Listeners={}),h.dom7Listeners[f]||(h.dom7Listeners[f]=[]),h.dom7Listeners[f].push({listener:s,proxyListener:l}),h.addEventListener(f,l,o)}}return this},off:function uY(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var i=e[0],r=e[1],s=e[2],o=e[3];"function"==typeof e[1]&&(i=e[0],s=e[1],o=e[2],r=void 0),o||(o=!1);for(var a=i.split(" "),l=0;l<a.length;l+=1)for(var c=a[l],u=0;u<this.length;u+=1){var d=this[u],h=void 0;if(!r&&d.dom7Listeners?h=d.dom7Listeners[c]:r&&d.dom7LiveListeners&&(h=d.dom7LiveListeners[c]),h&&h.length)for(var f=h.length-1;f>=0;f-=1){var p=h[f];s&&p.listener===s||s&&p.listener&&p.listener.dom7proxy&&p.listener.dom7proxy===s?(d.removeEventListener(c,p.proxyListener,o),h.splice(f,1)):s||(d.removeEventListener(c,p.proxyListener,o),h.splice(f,1))}}return this},trigger:function dY(){for(var n=Vt(),e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(var r=t[0].split(" "),s=t[1],o=0;o<r.length;o+=1)for(var a=r[o],l=0;l<this.length;l+=1){var c=this[l];if(n.CustomEvent){var u=new n.CustomEvent(a,{detail:s,bubbles:!0,cancelable:!0});c.dom7EventData=t.filter(function(d,h){return h>0}),c.dispatchEvent(u),c.dom7EventData=[],delete c.dom7EventData}}return this},transitionEnd:function hY(n){var e=this;return n&&e.on("transitionend",function t(i){i.target===this&&(n.call(this,i),e.off("transitionend",t))}),this},outerWidth:function fY(n){if(this.length>0){if(n){var e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function pY(n){if(this.length>0){if(n){var e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function gY(){var n=Vt();return this[0]?n.getComputedStyle(this[0],null):{}},offset:function mY(){if(this.length>0){var n=Vt(),e=rn(),t=this[0],i=t.getBoundingClientRect(),r=e.body;return{top:i.top+(t===n?n.scrollY:t.scrollTop)-(t.clientTop||r.clientTop||0),left:i.left+(t===n?n.scrollX:t.scrollLeft)-(t.clientLeft||r.clientLeft||0)}}return null},css:function _Y(n,e){var i,t=Vt();if(1===arguments.length){if("string"!=typeof n){for(i=0;i<this.length;i+=1)for(var r in n)this[i].style[r]=n[r];return this}if(this[0])return t.getComputedStyle(this[0],null).getPropertyValue(n)}if(2===arguments.length&&"string"==typeof n){for(i=0;i<this.length;i+=1)this[i].style[n]=e;return this}return this},each:function vY(n){return n?(this.forEach(function(e,t){n.apply(e,[e,t])}),this):this},html:function bY(n){if(typeof n>"u")return this[0]?this[0].innerHTML:null;for(var e=0;e<this.length;e+=1)this[e].innerHTML=n;return this},text:function xY(n){if(typeof n>"u")return this[0]?this[0].textContent.trim():null;for(var e=0;e<this.length;e+=1)this[e].textContent=n;return this},is:function wY(n){var r,s,e=Vt(),t=rn(),i=this[0];if(!i||typeof n>"u")return!1;if("string"==typeof n){if(i.matches)return i.matches(n);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(n);if(i.msMatchesSelector)return i.msMatchesSelector(n);for(r=dt(n),s=0;s<r.length;s+=1)if(r[s]===i)return!0;return!1}if(n===t)return i===t;if(n===e)return i===e;if(n.nodeType||n instanceof zo){for(r=n.nodeType?[n]:n,s=0;s<r.length;s+=1)if(r[s]===i)return!0;return!1}return!1},index:function MY(){var e,n=this[0];if(n){for(e=0;null!==(n=n.previousSibling);)1===n.nodeType&&(e+=1);return e}},eq:function EY(n){if(typeof n>"u")return this;var e=this.length;if(n>e-1)return dt([]);if(n<0){var t=e+n;return dt(t<0?[]:[this[t]])}return dt([this[n]])},append:function SY(){for(var n,e=rn(),t=0;t<arguments.length;t+=1){n=t<0||arguments.length<=t?void 0:arguments[t];for(var i=0;i<this.length;i+=1)if("string"==typeof n){var r=e.createElement("div");for(r.innerHTML=n;r.firstChild;)this[i].appendChild(r.firstChild)}else if(n instanceof zo)for(var s=0;s<n.length;s+=1)this[i].appendChild(n[s]);else this[i].appendChild(n)}return this},prepend:function CY(n){var t,i,e=rn();for(t=0;t<this.length;t+=1)if("string"==typeof n){var r=e.createElement("div");for(r.innerHTML=n,i=r.childNodes.length-1;i>=0;i-=1)this[t].insertBefore(r.childNodes[i],this[t].childNodes[0])}else if(n instanceof zo)for(i=0;i<n.length;i+=1)this[t].insertBefore(n[i],this[t].childNodes[0]);else this[t].insertBefore(n,this[t].childNodes[0]);return this},next:function TY(n){return this.length>0?n?this[0].nextElementSibling&&dt(this[0].nextElementSibling).is(n)?dt([this[0].nextElementSibling]):dt([]):dt(this[0].nextElementSibling?[this[0].nextElementSibling]:[]):dt([])},nextAll:function AY(n){var e=[],t=this[0];if(!t)return dt([]);for(;t.nextElementSibling;){var i=t.nextElementSibling;n?dt(i).is(n)&&e.push(i):e.push(i),t=i}return dt(e)},prev:function DY(n){if(this.length>0){var e=this[0];return n?e.previousElementSibling&&dt(e.previousElementSibling).is(n)?dt([e.previousElementSibling]):dt([]):dt(e.previousElementSibling?[e.previousElementSibling]:[])}return dt([])},prevAll:function IY(n){var e=[],t=this[0];if(!t)return dt([]);for(;t.previousElementSibling;){var i=t.previousElementSibling;n?dt(i).is(n)&&e.push(i):e.push(i),t=i}return dt(e)},parent:function RY(n){for(var e=[],t=0;t<this.length;t+=1)null!==this[t].parentNode&&(n?dt(this[t].parentNode).is(n)&&e.push(this[t].parentNode):e.push(this[t].parentNode));return dt(e)},parents:function PY(n){for(var e=[],t=0;t<this.length;t+=1)for(var i=this[t].parentNode;i;)n?dt(i).is(n)&&e.push(i):e.push(i),i=i.parentNode;return dt(e)},closest:function OY(n){var e=this;return typeof n>"u"?dt([]):(e.is(n)||(e=e.parents(n).eq(0)),e)},find:function LY(n){for(var e=[],t=0;t<this.length;t+=1)for(var i=this[t].querySelectorAll(n),r=0;r<i.length;r+=1)e.push(i[r]);return dt(e)},children:function kY(n){for(var e=[],t=0;t<this.length;t+=1)for(var i=this[t].children,r=0;r<i.length;r+=1)(!n||dt(i[r]).is(n))&&e.push(i[r]);return dt(e)},filter:function yY(n){return dt($P(this,n))},remove:function NY(){for(var n=0;n<this.length;n+=1)this[n].parentNode&&this[n].parentNode.removeChild(this[n]);return this}};Object.keys(XP).forEach(function(n){Object.defineProperty(dt.fn,n,{value:XP[n],writable:!0})});const Oe=dt;function Ho(n,e){return void 0===e&&(e=0),setTimeout(n,e)}function ji(){return Date.now()}function W0(n,e){void 0===e&&(e="x");var i,r,s,t=Vt(),o=function UY(n){var t,e=Vt();return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}(n);return t.WebKitCSSMatrix?((r=o.transform||o.webkitTransform).split(",").length>6&&(r=r.split(", ").map(function(a){return a.replace(",",".")}).join(", ")),s=new t.WebKitCSSMatrix("none"===r?"":r)):i=(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===e&&(r=t.WebKitCSSMatrix?s.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===e&&(r=t.WebKitCSSMatrix?s.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),r||0}function Tc(n){return"object"==typeof n&&null!==n&&n.constructor&&"Object"===Object.prototype.toString.call(n).slice(8,-1)}function zY(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(1===n.nodeType||11===n.nodeType)}function At(){for(var n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"],t=1;t<arguments.length;t+=1){var i=t<0||arguments.length<=t?void 0:arguments[t];if(null!=i&&!zY(i))for(var r=Object.keys(Object(i)).filter(function(c){return e.indexOf(c)<0}),s=0,o=r.length;s<o;s+=1){var a=r[s],l=Object.getOwnPropertyDescriptor(i,a);void 0!==l&&l.enumerable&&(Tc(n[a])&&Tc(i[a])?i[a].__swiper__?n[a]=i[a]:At(n[a],i[a]):!Tc(n[a])&&Tc(i[a])?(n[a]={},i[a].__swiper__?n[a]=i[a]:At(n[a],i[a])):n[a]=i[a])}}return n}function Un(n,e){Object.keys(e).forEach(function(t){Tc(e[t])&&Object.keys(e[t]).forEach(function(i){"function"==typeof e[t][i]&&(e[t][i]=e[t][i].bind(n))}),n[t]=e[t]})}function ro(n){return void 0===n&&(n=""),"."+n.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}function j0(n,e,t,i){var r=rn();return t&&Object.keys(i).forEach(function(s){if(!e[s]&&!0===e.auto){var o=r.createElement("div");o.className=i[s],n.append(o),e[s]=o}}),e}var $0,X0,q0;function qP(){return $0||($0=function HY(){var n=Vt(),e=rn();return{touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch),pointerEvents:!!n.PointerEvent&&"maxTouchPoints"in n.navigator&&n.navigator.maxTouchPoints>=0,observer:"MutationObserver"in n||"WebkitMutationObserver"in n,passiveListener:function(){var i=!1;try{var r=Object.defineProperty({},"passive",{get:function(){i=!0}});n.addEventListener("testPassiveListener",null,r)}catch{}return i}(),gestures:"ongesturestart"in n}}()),$0}const XY={name:"resize",create:function(){var e=this;At(e,{resize:{observer:null,createObserver:function(){!e||e.destroyed||!e.initialized||(e.resize.observer=new ResizeObserver(function(i){var r=e.width,s=e.height,o=r,a=s;i.forEach(function(l){var c=l.contentBoxSize,u=l.contentRect,d=l.target;d&&d!==e.el||(o=u?u.width:(c[0]||c).inlineSize,a=u?u.height:(c[0]||c).blockSize)}),(o!==r||a!==s)&&e.resize.resizeHandler()}),e.resize.observer.observe(e.el))},removeObserver:function(){e.resize.observer&&e.resize.observer.unobserve&&e.el&&(e.resize.observer.unobserve(e.el),e.resize.observer=null)},resizeHandler:function(){!e||e.destroyed||!e.initialized||(e.emit("beforeResize"),e.emit("resize"))},orientationChangeHandler:function(){!e||e.destroyed||!e.initialized||e.emit("orientationchange")}}})},on:{init:function(e){var t=Vt();e.params.resizeObserver&&typeof Vt().ResizeObserver<"u"?e.resize.createObserver():(t.addEventListener("resize",e.resize.resizeHandler),t.addEventListener("orientationchange",e.resize.orientationChangeHandler))},destroy:function(e){var t=Vt();e.resize.removeObserver(),t.removeEventListener("resize",e.resize.resizeHandler),t.removeEventListener("orientationchange",e.resize.orientationChangeHandler)}}};function Y0(){return Y0=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Y0.apply(this,arguments)}var qY={attach:function(e,t){void 0===t&&(t={});var i=Vt(),r=this,o=new(i.MutationObserver||i.WebkitMutationObserver)(function(a){if(1!==a.length){var l=function(){r.emit("observerUpdate",a[0])};i.requestAnimationFrame?i.requestAnimationFrame(l):i.setTimeout(l,0)}else r.emit("observerUpdate",a[0])});o.observe(e,{attributes:typeof t.attributes>"u"||t.attributes,childList:typeof t.childList>"u"||t.childList,characterData:typeof t.characterData>"u"||t.characterData}),r.observer.observers.push(o)},init:function(){var e=this;if(e.support.observer&&e.params.observer){if(e.params.observeParents)for(var t=e.$el.parents(),i=0;i<t.length;i+=1)e.observer.attach(t[i]);e.observer.attach(e.$el[0],{childList:e.params.observeSlideChildren}),e.observer.attach(e.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach(function(t){t.disconnect()}),this.observer.observers=[]}};const YY={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){Un(this,{observer:Y0({},qY,{observers:[]})})},on:{init:function(e){e.observer.init()},destroy:function(e){e.observer.destroy()}}};function z7(n){var e=this,t=rn(),i=Vt(),r=e.touchEventsData,s=e.params,o=e.touches;if(e.enabled&&(!e.animating||!s.preventInteractionOnTransition)){var l=n;l.originalEvent&&(l=l.originalEvent);var c=Oe(l.target);if(("wrapper"!==s.touchEventsTarget||c.closest(e.wrapperEl).length)&&(r.isTouchEvent="touchstart"===l.type,(r.isTouchEvent||!("which"in l)||3!==l.which)&&!(!r.isTouchEvent&&"button"in l&&l.button>0)&&(!r.isTouched||!r.isMoved))){s.noSwipingClass&&""!==s.noSwipingClass&&l.target&&l.target.shadowRoot&&n.path&&n.path[0]&&(c=Oe(n.path[0]));var d=s.noSwipingSelector?s.noSwipingSelector:"."+s.noSwipingClass;if(s.noSwiping&&(l.target&&l.target.shadowRoot?function U7(n,e){return void 0===e&&(e=this),function t(i){return i&&i!==rn()&&i!==Vt()?(i.assignedSlot&&(i=i.assignedSlot),i.closest(n)||t(i.getRootNode().host)):null}(e)}(d,l.target):c.closest(d)[0]))return void(e.allowClick=!0);if(!s.swipeHandler||c.closest(s.swipeHandler)[0]){o.currentX="touchstart"===l.type?l.targetTouches[0].pageX:l.pageX,o.currentY="touchstart"===l.type?l.targetTouches[0].pageY:l.pageY;var f=o.currentX,p=o.currentY,g=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,_=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(g&&(f<=_||f>=i.innerWidth-_)){if("prevent"!==g)return;n.preventDefault()}if(At(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=f,o.startY=p,r.touchStartTime=ji(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1),"touchstart"!==l.type){var m=!0;c.is(r.focusableElements)&&(m=!1),t.activeElement&&Oe(t.activeElement).is(r.focusableElements)&&t.activeElement!==c[0]&&t.activeElement.blur(),(s.touchStartForcePreventDefault||m&&e.allowTouchMove&&s.touchStartPreventDefault)&&!c[0].isContentEditable&&l.preventDefault()}e.emit("touchStart",l)}}}}function H7(n){var e=rn(),t=this,i=t.touchEventsData,r=t.params,s=t.touches,o=t.rtlTranslate;if(t.enabled){var l=n;if(l.originalEvent&&(l=l.originalEvent),!i.isTouched)return void(i.startMoving&&i.isScrolling&&t.emit("touchMoveOpposite",l));if(!i.isTouchEvent||"touchmove"===l.type){var c="touchmove"===l.type&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),u="touchmove"===l.type?c.pageX:l.pageX,d="touchmove"===l.type?c.pageY:l.pageY;if(l.preventedByNestedSwiper)return s.startX=u,void(s.startY=d);if(!t.allowTouchMove)return t.allowClick=!1,void(i.isTouched&&(At(s,{startX:u,startY:d,currentX:u,currentY:d}),i.touchStartTime=ji()));if(i.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop)if(t.isVertical()){if(d<s.startY&&t.translate<=t.maxTranslate()||d>s.startY&&t.translate>=t.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(u<s.startX&&t.translate<=t.maxTranslate()||u>s.startX&&t.translate>=t.minTranslate())return;if(i.isTouchEvent&&e.activeElement&&l.target===e.activeElement&&Oe(l.target).is(i.focusableElements))return i.isMoved=!0,void(t.allowClick=!1);if(i.allowTouchCallbacks&&t.emit("touchMove",l),!(l.targetTouches&&l.targetTouches.length>1)){s.currentX=u,s.currentY=d;var h=s.currentX-s.startX,f=s.currentY-s.startY;if(!(t.params.threshold&&Math.sqrt(Math.pow(h,2)+Math.pow(f,2))<t.params.threshold)){var p;if(typeof i.isScrolling>"u"&&(t.isHorizontal()&&s.currentY===s.startY||t.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:h*h+f*f>=25&&(p=180*Math.atan2(Math.abs(f),Math.abs(h))/Math.PI,i.isScrolling=t.isHorizontal()?p>r.touchAngle:90-p>r.touchAngle)),i.isScrolling&&t.emit("touchMoveOpposite",l),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling)return void(i.isTouched=!1);if(i.startMoving){t.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation(),i.isMoved||(r.loop&&t.loopFix(),i.startTranslate=t.getTranslate(),t.setTransition(0),t.animating&&t.$wrapperEl.trigger("webkitTransitionEnd transitionend"),i.allowMomentumBounce=!1,r.grabCursor&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",l)),t.emit("sliderMove",l),i.isMoved=!0;var g=t.isHorizontal()?h:f;s.diff=g,g*=r.touchRatio,o&&(g=-g),t.swipeDirection=g>0?"prev":"next",i.currentTranslate=g+i.startTranslate;var _=!0,m=r.resistanceRatio;if(r.touchReleaseOnEdges&&(m=0),g>0&&i.currentTranslate>t.minTranslate()?(_=!1,r.resistance&&(i.currentTranslate=t.minTranslate()-1+Math.pow(-t.minTranslate()+i.startTranslate+g,m))):g<0&&i.currentTranslate<t.maxTranslate()&&(_=!1,r.resistance&&(i.currentTranslate=t.maxTranslate()+1-Math.pow(t.maxTranslate()-i.startTranslate-g,m))),_&&(l.preventedByNestedSwiper=!0),!t.allowSlideNext&&"next"===t.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&"prev"===t.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0){if(!(Math.abs(g)>r.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,void(s.diff=t.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY)}!r.followFinger||r.cssMode||((r.freeMode||r.watchSlidesProgress||r.watchSlidesVisibility)&&(t.updateActiveIndex(),t.updateSlidesClasses()),r.freeMode&&(0===i.velocities.length&&i.velocities.push({position:s[t.isHorizontal()?"startX":"startY"],time:i.touchStartTime}),i.velocities.push({position:s[t.isHorizontal()?"currentX":"currentY"],time:ji()})),t.updateProgress(i.currentTranslate),t.setTranslate(i.currentTranslate))}}}}}}function V7(n){var e=this,t=e.touchEventsData,i=e.params,r=e.touches,s=e.rtlTranslate,o=e.$wrapperEl,a=e.slidesGrid,l=e.snapGrid;if(e.enabled){var u=n;if(u.originalEvent&&(u=u.originalEvent),t.allowTouchCallbacks&&e.emit("touchEnd",u),t.allowTouchCallbacks=!1,!t.isTouched)return t.isMoved&&i.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,void(t.startMoving=!1);i.grabCursor&&t.isMoved&&t.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);var f,d=ji(),h=d-t.touchStartTime;if(e.allowClick&&(e.updateClickedSlide(u),e.emit("tap click",u),h<300&&d-t.lastClickTime<300&&e.emit("doubleTap doubleClick",u)),t.lastClickTime=ji(),Ho(function(){e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||0===r.diff||t.currentTranslate===t.startTranslate)return t.isTouched=!1,t.isMoved=!1,void(t.startMoving=!1);if(t.isTouched=!1,t.isMoved=!1,t.startMoving=!1,f=i.followFinger?s?e.translate:-e.translate:-t.currentTranslate,!i.cssMode){if(i.freeMode){if(f<-e.minTranslate())return void e.slideTo(e.activeIndex);if(f>-e.maxTranslate())return void e.slideTo(e.slides.length<l.length?l.length-1:e.slides.length-1);if(i.freeModeMomentum){if(t.velocities.length>1){var p=t.velocities.pop(),g=t.velocities.pop(),m=p.time-g.time;e.velocity=(p.position-g.position)/m,e.velocity/=2,Math.abs(e.velocity)<i.freeModeMinimumVelocity&&(e.velocity=0),(m>150||ji()-p.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=i.freeModeMomentumVelocityRatio,t.velocities.length=0;var y=1e3*i.freeModeMomentumRatio,b=e.translate+e.velocity*y;s&&(b=-b);var M,C,x=!1,S=20*Math.abs(e.velocity)*i.freeModeMomentumBounceRatio;if(b<e.maxTranslate())i.freeModeMomentumBounce?(b+e.maxTranslate()<-S&&(b=e.maxTranslate()-S),M=e.maxTranslate(),x=!0,t.allowMomentumBounce=!0):b=e.maxTranslate(),i.loop&&i.centeredSlides&&(C=!0);else if(b>e.minTranslate())i.freeModeMomentumBounce?(b-e.minTranslate()>S&&(b=e.minTranslate()+S),M=e.minTranslate(),x=!0,t.allowMomentumBounce=!0):b=e.minTranslate(),i.loop&&i.centeredSlides&&(C=!0);else if(i.freeModeSticky){for(var w,E=0;E<l.length;E+=1)if(l[E]>-b){w=E;break}b=-(b=Math.abs(l[w]-b)<Math.abs(l[w-1]-b)||"next"===e.swipeDirection?l[w]:l[w-1])}if(C&&e.once("transitionEnd",function(){e.loopFix()}),0!==e.velocity){if(y=s?Math.abs((-b-e.translate)/e.velocity):Math.abs((b-e.translate)/e.velocity),i.freeModeSticky){var L=Math.abs((s?-b:b)-e.translate),U=e.slidesSizesGrid[e.activeIndex];y=L<U?i.speed:L<2*U?1.5*i.speed:2.5*i.speed}}else if(i.freeModeSticky)return void e.slideToClosest();i.freeModeMomentumBounce&&x?(e.updateProgress(M),e.setTransition(y),e.setTranslate(b),e.transitionStart(!0,e.swipeDirection),e.animating=!0,o.transitionEnd(function(){!e||e.destroyed||!t.allowMomentumBounce||(e.emit("momentumBounce"),e.setTransition(i.speed),setTimeout(function(){e.setTranslate(M),o.transitionEnd(function(){!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(e.updateProgress(b),e.setTransition(y),e.setTranslate(b),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,o.transitionEnd(function(){!e||e.destroyed||e.transitionEnd()}))):(e.emit("_freeModeNoMomentumRelease"),e.updateProgress(b)),e.updateActiveIndex(),e.updateSlidesClasses()}else{if(i.freeModeSticky)return void e.slideToClosest();i.freeMode&&e.emit("_freeModeNoMomentumRelease")}return void((!i.freeModeMomentum||h>=i.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses()))}for(var R=0,N=e.slidesSizesGrid[0],B=0;B<a.length;B+=B<i.slidesPerGroupSkip?1:i.slidesPerGroup){var k=B<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;typeof a[B+k]<"u"?f>=a[B]&&f<a[B+k]&&(R=B,N=a[B+k]-a[B]):f>=a[B]&&(R=B,N=a[a.length-1]-a[a.length-2])}var z=(f-a[R])/N,V=R<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(h>i.longSwipesMs){if(!i.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&e.slideTo(z>=i.longSwipesRatio?R+V:R),"prev"===e.swipeDirection&&e.slideTo(z>1-i.longSwipesRatio?R+V:R)}else{if(!i.shortSwipes)return void e.slideTo(e.activeIndex);!e.navigation||u.target!==e.navigation.nextEl&&u.target!==e.navigation.prevEl?("next"===e.swipeDirection&&e.slideTo(R+V),"prev"===e.swipeDirection&&e.slideTo(R)):e.slideTo(u.target===e.navigation.nextEl?R+V:R)}}}}function K0(){var n=this,e=n.params,t=n.el;if(!t||0!==t.offsetWidth){e.breakpoints&&n.setBreakpoint();var i=n.allowSlideNext,r=n.allowSlidePrev,s=n.snapGrid;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses(),n.slideTo(("auto"===e.slidesPerView||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides?n.slides.length-1:n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.run(),n.allowSlidePrev=r,n.allowSlideNext=i,n.params.watchOverflow&&s!==n.snapGrid&&n.checkOverflow()}}function G7(n){var e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function W7(){var n=this,e=n.wrapperEl,t=n.rtlTranslate;if(n.enabled){n.previousTranslate=n.translate,n.translate=n.isHorizontal()?t?e.scrollWidth-e.offsetWidth-e.scrollLeft:-e.scrollLeft:-e.scrollTop,-0===n.translate&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();var s=n.maxTranslate()-n.minTranslate();(0===s?0:(n.translate-n.minTranslate())/s)!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}}var YP=!1;function j7(){}const KP={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!1,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,slidesPerGroupSkip:0,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function ZP(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}var Z0={modular:{useParams:function(e){var t=this;t.modules&&Object.keys(t.modules).forEach(function(i){var r=t.modules[i];r.params&&At(e,r.params)})},useModules:function(e){void 0===e&&(e={});var t=this;t.modules&&Object.keys(t.modules).forEach(function(i){var r=t.modules[i],s=e[i]||{};r.on&&t.on&&Object.keys(r.on).forEach(function(o){t.on(o,r.on[o])}),r.create&&r.create.bind(t)(s)})}},eventsEmitter:{on:function(e,t,i){var r=this;if("function"!=typeof t)return r;var s=i?"unshift":"push";return e.split(" ").forEach(function(o){r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][s](t)}),r},once:function(e,t,i){var r=this;if("function"!=typeof t)return r;function s(){r.off(e,s),s.__emitterProxy&&delete s.__emitterProxy;for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];t.apply(r,a)}return s.__emitterProxy=t,r.on(e,s,i)},onAny:function(e,t){var i=this;if("function"!=typeof e)return i;var r=t?"unshift":"push";return i.eventsAnyListeners.indexOf(e)<0&&i.eventsAnyListeners[r](e),i},offAny:function(e){var t=this;if(!t.eventsAnyListeners)return t;var i=t.eventsAnyListeners.indexOf(e);return i>=0&&t.eventsAnyListeners.splice(i,1),t},off:function(e,t){var i=this;return i.eventsListeners&&e.split(" ").forEach(function(r){typeof t>"u"?i.eventsListeners[r]=[]:i.eventsListeners[r]&&i.eventsListeners[r].forEach(function(s,o){(s===t||s.__emitterProxy&&s.__emitterProxy===t)&&i.eventsListeners[r].splice(o,1)})}),i},emit:function(){var e=this;if(!e.eventsListeners)return e;for(var t,i,r,s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return"string"==typeof o[0]||Array.isArray(o[0])?(t=o[0],i=o.slice(1,o.length),r=e):(t=o[0].events,i=o[0].data,r=o[0].context||e),i.unshift(r),(Array.isArray(t)?t:t.split(" ")).forEach(function(c){e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(function(u){u.apply(r,[c].concat(i))}),e.eventsListeners&&e.eventsListeners[c]&&e.eventsListeners[c].forEach(function(u){u.apply(r,i)})}),e}},update:{updateSize:function QY(){var e,t,n=this,i=n.$el;t=typeof n.params.height<"u"&&null!==n.params.height?n.params.height:i[0].clientHeight,!(0===(e=typeof n.params.width<"u"&&null!==n.params.width?n.params.width:i[0].clientWidth)&&n.isHorizontal()||0===t&&n.isVertical())&&(e=e-parseInt(i.css("padding-left")||0,10)-parseInt(i.css("padding-right")||0,10),t=t-parseInt(i.css("padding-top")||0,10)-parseInt(i.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),At(n,{width:e,height:t,size:n.isHorizontal()?e:t}))},updateSlides:function JY(){var n=this;function e(oe){return n.isHorizontal()?oe:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[oe]}function t(oe,fe){return parseFloat(oe.getPropertyValue(e(fe))||0)}var i=n.params,r=n.$wrapperEl,s=n.size,o=n.rtlTranslate,a=n.wrongRTL,l=n.virtual&&i.virtual.enabled,c=l?n.virtual.slides.length:n.slides.length,u=r.children("."+n.params.slideClass),d=l?n.virtual.slides.length:u.length,h=[],f=[],p=[],g=i.slidesOffsetBefore;"function"==typeof g&&(g=i.slidesOffsetBefore.call(n));var _=i.slidesOffsetAfter;"function"==typeof _&&(_=i.slidesOffsetAfter.call(n));var m=n.snapGrid.length,y=n.slidesGrid.length,v=i.spaceBetween,b=-g,x=0,M=0;if(!(typeof s>"u")){var S,le,te,de;"string"==typeof v&&v.indexOf("%")>=0&&(v=parseFloat(v.replace("%",""))/100*s),n.virtualSize=-v,u.css(o?{marginLeft:"",marginBottom:"",marginTop:""}:{marginRight:"",marginBottom:"",marginTop:""}),i.slidesPerColumn>1&&(S=Math.floor(d/i.slidesPerColumn)===d/n.params.slidesPerColumn?d:Math.ceil(d/i.slidesPerColumn)*i.slidesPerColumn,"auto"!==i.slidesPerView&&"row"===i.slidesPerColumnFill&&(S=Math.max(S,i.slidesPerView*i.slidesPerColumn)));for(var C,w=i.slidesPerColumn,E=S/w,L=Math.floor(d/i.slidesPerColumn),U=0;U<d;U+=1){C=0;var R=u.eq(U);if(i.slidesPerColumn>1){var N=void 0,B=void 0,k=void 0;if("row"===i.slidesPerColumnFill&&i.slidesPerGroup>1){var z=Math.floor(U/(i.slidesPerGroup*i.slidesPerColumn)),V=U-i.slidesPerColumn*i.slidesPerGroup*z,X=0===z?i.slidesPerGroup:Math.min(Math.ceil((d-z*w*i.slidesPerGroup)/w),i.slidesPerGroup);k=Math.floor(V/X),R.css({"-webkit-box-ordinal-group":N=(B=V-k*X+z*i.slidesPerGroup)+k*S/w,"-moz-box-ordinal-group":N,"-ms-flex-order":N,"-webkit-order":N,order:N})}else"column"===i.slidesPerColumnFill?(k=U-(B=Math.floor(U/w))*w,(B>L||B===L&&k===w-1)&&(k+=1)>=w&&(k=0,B+=1)):B=U-(k=Math.floor(U/E))*E;R.css(e("margin-top"),0!==k?i.spaceBetween&&i.spaceBetween+"px":"")}if("none"!==R.css("display")){if("auto"===i.slidesPerView){var ee=getComputedStyle(R[0]),be=R[0].style.transform,ge=R[0].style.webkitTransform;if(be&&(R[0].style.transform="none"),ge&&(R[0].style.webkitTransform="none"),i.roundLengths)C=n.isHorizontal()?R.outerWidth(!0):R.outerHeight(!0);else{var Y=t(ee,"width"),Z=t(ee,"padding-left"),_e=t(ee,"padding-right"),ye=t(ee,"margin-left"),P=t(ee,"margin-right"),Ne=ee.getPropertyValue("box-sizing");if(Ne&&"border-box"===Ne)C=Y+ye+P;else{var Ie=R[0];C=Y+Z+_e+ye+P+(Ie.offsetWidth-Ie.clientWidth)}}be&&(R[0].style.transform=be),ge&&(R[0].style.webkitTransform=ge),i.roundLengths&&(C=Math.floor(C))}else C=(s-(i.slidesPerView-1)*v)/i.slidesPerView,i.roundLengths&&(C=Math.floor(C)),u[U]&&(u[U].style[e("width")]=C+"px");u[U]&&(u[U].swiperSlideSize=C),p.push(C),i.centeredSlides?(b=b+C/2+x/2+v,0===x&&0!==U&&(b=b-s/2-v),0===U&&(b=b-s/2-v),Math.abs(b)<.001&&(b=0),i.roundLengths&&(b=Math.floor(b)),M%i.slidesPerGroup==0&&h.push(b),f.push(b)):(i.roundLengths&&(b=Math.floor(b)),(M-Math.min(n.params.slidesPerGroupSkip,M))%n.params.slidesPerGroup==0&&h.push(b),f.push(b),b=b+C+v),n.virtualSize+=C+v,x=C,M+=1}}if(n.virtualSize=Math.max(n.virtualSize,s)+_,o&&a&&("slide"===i.effect||"coverflow"===i.effect)&&r.css({width:n.virtualSize+i.spaceBetween+"px"}),i.setWrapperSize&&r.css(((te={})[e("width")]=n.virtualSize+i.spaceBetween+"px",te)),i.slidesPerColumn>1&&(n.virtualSize=(C+i.spaceBetween)*S,n.virtualSize=Math.ceil(n.virtualSize/i.slidesPerColumn)-i.spaceBetween,r.css(((de={})[e("width")]=n.virtualSize+i.spaceBetween+"px",de)),i.centeredSlides)){le=[];for(var Ae=0;Ae<h.length;Ae+=1){var xe=h[Ae];i.roundLengths&&(xe=Math.floor(xe)),h[Ae]<n.virtualSize+h[0]&&le.push(xe)}h=le}if(!i.centeredSlides){le=[];for(var je=0;je<h.length;je+=1){var qe=h[je];i.roundLengths&&(qe=Math.floor(qe)),h[je]<=n.virtualSize-s&&le.push(qe)}h=le,Math.floor(n.virtualSize-s)-Math.floor(h[h.length-1])>1&&h.push(n.virtualSize-s)}if(0===h.length&&(h=[0]),0!==i.spaceBetween){var Ve,ht=n.isHorizontal()&&o?"marginLeft":e("marginRight");u.filter(function(oe,fe){return!i.cssMode||fe!==u.length-1}).css(((Ve={})[ht]=v+"px",Ve))}if(i.centeredSlides&&i.centeredSlidesBounds){var St=0;p.forEach(function(oe){St+=oe+(i.spaceBetween?i.spaceBetween:0)});var I=(St-=i.spaceBetween)-s;h=h.map(function(oe){return oe<0?-g:oe>I?I+_:oe})}if(i.centerInsufficientSlides){var T=0;if(p.forEach(function(oe){T+=oe+(i.spaceBetween?i.spaceBetween:0)}),(T-=i.spaceBetween)<s){var K=(s-T)/2;h.forEach(function(oe,fe){h[fe]=oe-K}),f.forEach(function(oe,fe){f[fe]=oe+K})}}At(n,{slides:u,snapGrid:h,slidesGrid:f,slidesSizesGrid:p}),d!==c&&n.emit("slidesLengthChange"),h.length!==m&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),f.length!==y&&n.emit("slidesGridLengthChange"),(i.watchSlidesProgress||i.watchSlidesVisibility)&&n.updateSlidesOffset()}},updateAutoHeight:function e7(n){var s,e=this,t=[],i=e.virtual&&e.params.virtual.enabled,r=0;"number"==typeof n?e.setTransition(n):!0===n&&e.setTransition(e.params.speed);var o=function(u){return i?e.slides.filter(function(d){return parseInt(d.getAttribute("data-swiper-slide-index"),10)===u})[0]:e.slides.eq(u)[0]};if("auto"!==e.params.slidesPerView&&e.params.slidesPerView>1)if(e.params.centeredSlides)e.visibleSlides.each(function(c){t.push(c)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){var a=e.activeIndex+s;if(a>e.slides.length&&!i)break;t.push(o(a))}else t.push(o(e.activeIndex));for(s=0;s<t.length;s+=1)if(typeof t[s]<"u"){var l=t[s].offsetHeight;r=l>r?l:r}r&&e.$wrapperEl.css("height",r+"px")},updateSlidesOffset:function t7(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function n7(n){void 0===n&&(n=this&&this.translate||0);var e=this,t=e.params,i=e.slides,r=e.rtlTranslate;if(0!==i.length){typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();var s=-n;r&&(s=n),i.removeClass(t.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(var o=0;o<i.length;o+=1){var a=i[o],l=(s+(t.centeredSlides?e.minTranslate():0)-a.swiperSlideOffset)/(a.swiperSlideSize+t.spaceBetween);if(t.watchSlidesVisibility||t.centeredSlides&&t.autoHeight){var c=-(s-a.swiperSlideOffset),u=c+e.slidesSizesGrid[o];(c>=0&&c<e.size-1||u>1&&u<=e.size||c<=0&&u>=e.size)&&(e.visibleSlides.push(a),e.visibleSlidesIndexes.push(o),i.eq(o).addClass(t.slideVisibleClass))}a.progress=r?-l:l}e.visibleSlides=Oe(e.visibleSlides)}},updateProgress:function i7(n){var e=this;typeof n>"u"&&(n=e&&e.translate&&e.translate*(e.rtlTranslate?-1:1)||0);var i=e.params,r=e.maxTranslate()-e.minTranslate(),s=e.progress,o=e.isBeginning,a=e.isEnd,l=o,c=a;0===r?(s=0,o=!0,a=!0):(o=(s=(n-e.minTranslate())/r)<=0,a=s>=1),At(e,{progress:s,isBeginning:o,isEnd:a}),(i.watchSlidesProgress||i.watchSlidesVisibility||i.centeredSlides&&i.autoHeight)&&e.updateSlidesProgress(n),o&&!l&&e.emit("reachBeginning toEdge"),a&&!c&&e.emit("reachEnd toEdge"),(l&&!o||c&&!a)&&e.emit("fromEdge"),e.emit("progress",s)},updateSlidesClasses:function r7(){var a,n=this,e=n.slides,t=n.params,i=n.$wrapperEl,r=n.activeIndex,s=n.realIndex,o=n.virtual&&t.virtual.enabled;e.removeClass(t.slideActiveClass+" "+t.slideNextClass+" "+t.slidePrevClass+" "+t.slideDuplicateActiveClass+" "+t.slideDuplicateNextClass+" "+t.slideDuplicatePrevClass),(a=o?n.$wrapperEl.find("."+t.slideClass+'[data-swiper-slide-index="'+r+'"]'):e.eq(r)).addClass(t.slideActiveClass),t.loop&&(a.hasClass(t.slideDuplicateClass)?i.children("."+t.slideClass+":not(."+t.slideDuplicateClass+')[data-swiper-slide-index="'+s+'"]').addClass(t.slideDuplicateActiveClass):i.children("."+t.slideClass+"."+t.slideDuplicateClass+'[data-swiper-slide-index="'+s+'"]').addClass(t.slideDuplicateActiveClass));var l=a.nextAll("."+t.slideClass).eq(0).addClass(t.slideNextClass);t.loop&&0===l.length&&(l=e.eq(0)).addClass(t.slideNextClass);var c=a.prevAll("."+t.slideClass).eq(0).addClass(t.slidePrevClass);t.loop&&0===c.length&&(c=e.eq(-1)).addClass(t.slidePrevClass),t.loop&&(l.hasClass(t.slideDuplicateClass)?i.children("."+t.slideClass+":not(."+t.slideDuplicateClass+')[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(t.slideDuplicateNextClass):i.children("."+t.slideClass+"."+t.slideDuplicateClass+'[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(t.slideDuplicateNextClass),c.hasClass(t.slideDuplicateClass)?i.children("."+t.slideClass+":not(."+t.slideDuplicateClass+')[data-swiper-slide-index="'+c.attr("data-swiper-slide-index")+'"]').addClass(t.slideDuplicatePrevClass):i.children("."+t.slideClass+"."+t.slideDuplicateClass+'[data-swiper-slide-index="'+c.attr("data-swiper-slide-index")+'"]').addClass(t.slideDuplicatePrevClass)),n.emitSlidesClasses()},updateActiveIndex:function s7(n){var u,e=this,t=e.rtlTranslate?e.translate:-e.translate,i=e.slidesGrid,r=e.snapGrid,s=e.params,o=e.activeIndex,a=e.realIndex,l=e.snapIndex,c=n;if(typeof c>"u"){for(var d=0;d<i.length;d+=1)typeof i[d+1]<"u"?t>=i[d]&&t<i[d+1]-(i[d+1]-i[d])/2?c=d:t>=i[d]&&t<i[d+1]&&(c=d+1):t>=i[d]&&(c=d);s.normalizeSlideIndex&&(c<0||typeof c>"u")&&(c=0)}if(r.indexOf(t)>=0)u=r.indexOf(t);else{var h=Math.min(s.slidesPerGroupSkip,c);u=h+Math.floor((c-h)/s.slidesPerGroup)}if(u>=r.length&&(u=r.length-1),c!==o){var f=parseInt(e.slides.eq(c).attr("data-swiper-slide-index")||c,10);At(e,{snapIndex:u,realIndex:f,previousIndex:o,activeIndex:c}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),a!==f&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}else u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"))},updateClickedSlide:function o7(n){var s,e=this,t=e.params,i=Oe(n.target).closest("."+t.slideClass)[0],r=!1;if(i)for(var o=0;o<e.slides.length;o+=1)if(e.slides[o]===i){r=!0,s=o;break}if(!i||!r)return e.clickedSlide=void 0,void(e.clickedIndex=void 0);e.clickedSlide=i,e.clickedIndex=e.virtual&&e.params.virtual.enabled?parseInt(Oe(i).attr("data-swiper-slide-index"),10):s,t.slideToClickedSlide&&void 0!==e.clickedIndex&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}},translate:{getTranslate:function l7(n){void 0===n&&(n=this.isHorizontal()?"x":"y");var e=this,t=e.params,i=e.rtlTranslate,r=e.translate;if(t.virtualTranslate)return i?-r:r;if(t.cssMode)return r;var o=W0(e.$wrapperEl[0],n);return i&&(o=-o),o||0},setTranslate:function c7(n,e){var t=this,i=t.rtlTranslate,r=t.params,s=t.$wrapperEl,o=t.wrapperEl,a=t.progress,l=0,c=0;t.isHorizontal()?l=i?-n:n:c=n,r.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),r.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-l:-c:r.virtualTranslate||s.transform("translate3d("+l+"px, "+c+"px, 0px)"),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?l:c;var h=t.maxTranslate()-t.minTranslate();(0===h?0:(n-t.minTranslate())/h)!==a&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)},minTranslate:function u7(){return-this.snapGrid[0]},maxTranslate:function d7(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function h7(n,e,t,i,r){void 0===n&&(n=0),void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===i&&(i=!0);var s=this,o=s.params,a=s.wrapperEl;if(s.animating&&o.preventInteractionOnTransition)return!1;var u,l=s.minTranslate(),c=s.maxTranslate();if(s.updateProgress(u=i&&n>l?l:i&&n<c?c:n),o.cssMode){var d=s.isHorizontal();if(0===e)a[d?"scrollLeft":"scrollTop"]=-u;else if(a.scrollTo){var h;a.scrollTo(((h={})[d?"left":"top"]=-u,h.behavior="smooth",h))}else a[d?"scrollLeft":"scrollTop"]=-u;return!0}return 0===e?(s.setTransition(0),s.setTranslate(u),t&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(u),t&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(p){!s||s.destroyed||p.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,t&&s.emit("transitionEnd"))}),s.$wrapperEl[0].addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function p7(n,e){var t=this;t.params.cssMode||t.$wrapperEl.transition(n),t.emit("setTransition",n,e)},transitionStart:function m7(n,e){void 0===n&&(n=!0);var t=this,i=t.activeIndex,r=t.params,s=t.previousIndex;if(!r.cssMode){r.autoHeight&&t.updateAutoHeight();var o=e;if(o||(o=i>s?"next":i<s?"prev":"reset"),t.emit("transitionStart"),n&&i!==s){if("reset"===o)return void t.emit("slideResetTransitionStart");t.emit("slideChangeTransitionStart"),t.emit("next"===o?"slideNextTransitionStart":"slidePrevTransitionStart")}}},transitionEnd:function g7(n,e){void 0===n&&(n=!0);var t=this,i=t.activeIndex,r=t.previousIndex,s=t.params;if(t.animating=!1,!s.cssMode){t.setTransition(0);var o=e;if(o||(o=i>r?"next":i<r?"prev":"reset"),t.emit("transitionEnd"),n&&i!==r){if("reset"===o)return void t.emit("slideResetTransitionEnd");t.emit("slideChangeTransitionEnd"),t.emit("next"===o?"slideNextTransitionEnd":"slidePrevTransitionEnd")}}}},slide:{slideTo:function v7(n,e,t,i,r){if(void 0===n&&(n=0),void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),"number"!=typeof n&&"string"!=typeof n)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. ["+typeof n+"] given.");if("string"==typeof n){var s=parseInt(n,10);if(!isFinite(s))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. ["+n+"] given.");n=s}var a=this,l=n;l<0&&(l=0);var c=a.params,u=a.snapGrid,d=a.slidesGrid,h=a.previousIndex,f=a.activeIndex,p=a.rtlTranslate,g=a.wrapperEl;if(a.animating&&c.preventInteractionOnTransition||!a.enabled&&!i&&!r)return!1;var m=Math.min(a.params.slidesPerGroupSkip,l),y=m+Math.floor((l-m)/a.params.slidesPerGroup);y>=u.length&&(y=u.length-1),(f||c.initialSlide||0)===(h||0)&&t&&a.emit("beforeSlideChangeStart");var C,v=-u[y];if(a.updateProgress(v),c.normalizeSlideIndex)for(var b=0;b<d.length;b+=1){var x=-Math.floor(100*v),M=Math.floor(100*d[b]),S=Math.floor(100*d[b+1]);typeof d[b+1]<"u"?x>=M&&x<S-(S-M)/2?l=b:x>=M&&x<S&&(l=b+1):x>=M&&(l=b)}if(a.initialized&&l!==f&&(!a.allowSlideNext&&v<a.translate&&v<a.minTranslate()||!a.allowSlidePrev&&v>a.translate&&v>a.maxTranslate()&&(f||0)!==l))return!1;if(C=l>f?"next":l<f?"prev":"reset",p&&-v===a.translate||!p&&v===a.translate)return a.updateActiveIndex(l),c.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),"slide"!==c.effect&&a.setTranslate(v),"reset"!==C&&(a.transitionStart(t,C),a.transitionEnd(t,C)),!1;if(c.cssMode){var w=a.isHorizontal(),E=-v;if(p&&(E=g.scrollWidth-g.offsetWidth-E),0===e)g[w?"scrollLeft":"scrollTop"]=E;else if(g.scrollTo){var L;g.scrollTo(((L={})[w?"left":"top"]=E,L.behavior="smooth",L))}else g[w?"scrollLeft":"scrollTop"]=E;return!0}return 0===e?(a.setTransition(0),a.setTranslate(v),a.updateActiveIndex(l),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,i),a.transitionStart(t,C),a.transitionEnd(t,C)):(a.setTransition(e),a.setTranslate(v),a.updateActiveIndex(l),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,i),a.transitionStart(t,C),a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(R){!a||a.destroyed||R.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(t,C))}),a.$wrapperEl[0].addEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd))),!0},slideToLoop:function y7(n,e,t,i){void 0===n&&(n=0),void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var r=this,s=n;return r.params.loop&&(s+=r.loopedSlides),r.slideTo(s,e,t,i)},slideNext:function b7(n,e,t){void 0===n&&(n=this.params.speed),void 0===e&&(e=!0);var i=this,r=i.params;if(!i.enabled)return i;var a=i.activeIndex<r.slidesPerGroupSkip?1:r.slidesPerGroup;if(r.loop){if(i.animating&&r.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}return i.slideTo(i.activeIndex+a,n,e,t)},slidePrev:function x7(n,e,t){void 0===n&&(n=this.params.speed),void 0===e&&(e=!0);var i=this,r=i.params,o=i.snapGrid,a=i.slidesGrid,l=i.rtlTranslate;if(!i.enabled)return i;if(r.loop){if(i.animating&&r.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}function d(_){return _<0?-Math.floor(Math.abs(_)):Math.floor(_)}var g,h=d(l?i.translate:-i.translate),f=o.map(function(_){return d(_)}),p=o[f.indexOf(h)-1];return typeof p>"u"&&r.cssMode&&o.forEach(function(_){!p&&h>=_&&(p=_)}),typeof p<"u"&&(g=a.indexOf(p))<0&&(g=i.activeIndex-1),i.slideTo(g,n,e,t)},slideReset:function w7(n,e,t){return void 0===n&&(n=this.params.speed),void 0===e&&(e=!0),this.slideTo(this.activeIndex,n,e,t)},slideToClosest:function M7(n,e,t,i){void 0===n&&(n=this.params.speed),void 0===e&&(e=!0),void 0===i&&(i=.5);var r=this,s=r.activeIndex,o=Math.min(r.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[a]){var c=r.snapGrid[a];l-c>(r.snapGrid[a+1]-c)*i&&(s+=r.params.slidesPerGroup)}else{var d=r.snapGrid[a-1];l-d<=(r.snapGrid[a]-d)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,n,e,t)},slideToClickedSlide:function E7(){var s,n=this,e=n.params,t=n.$wrapperEl,i="auto"===e.slidesPerView?n.slidesPerViewDynamic():e.slidesPerView,r=n.clickedIndex;if(e.loop){if(n.animating)return;s=parseInt(Oe(n.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?r<n.loopedSlides-i/2||r>n.slides.length-n.loopedSlides+i/2?(n.loopFix(),r=t.children("."+e.slideClass+'[data-swiper-slide-index="'+s+'"]:not(.'+e.slideDuplicateClass+")").eq(0).index(),Ho(function(){n.slideTo(r)})):n.slideTo(r):r>n.slides.length-i?(n.loopFix(),r=t.children("."+e.slideClass+'[data-swiper-slide-index="'+s+'"]:not(.'+e.slideDuplicateClass+")").eq(0).index(),Ho(function(){n.slideTo(r)})):n.slideTo(r)}else n.slideTo(r)}},loop:{loopCreate:function C7(){var n=this,e=rn(),t=n.params,i=n.$wrapperEl;i.children("."+t.slideClass+"."+t.slideDuplicateClass).remove();var r=i.children("."+t.slideClass);if(t.loopFillGroupWithBlank){var s=t.slidesPerGroup-r.length%t.slidesPerGroup;if(s!==t.slidesPerGroup){for(var o=0;o<s;o+=1){var a=Oe(e.createElement("div")).addClass(t.slideClass+" "+t.slideBlankClass);i.append(a)}r=i.children("."+t.slideClass)}}"auto"===t.slidesPerView&&!t.loopedSlides&&(t.loopedSlides=r.length),n.loopedSlides=Math.ceil(parseFloat(t.loopedSlides||t.slidesPerView,10)),n.loopedSlides+=t.loopAdditionalSlides,n.loopedSlides>r.length&&(n.loopedSlides=r.length);var l=[],c=[];r.each(function(h,f){var p=Oe(h);f<n.loopedSlides&&c.push(h),f<r.length&&f>=r.length-n.loopedSlides&&l.push(h),p.attr("data-swiper-slide-index",f)});for(var u=0;u<c.length;u+=1)i.append(Oe(c[u].cloneNode(!0)).addClass(t.slideDuplicateClass));for(var d=l.length-1;d>=0;d-=1)i.prepend(Oe(l[d].cloneNode(!0)).addClass(t.slideDuplicateClass))},loopFix:function T7(){var n=this;n.emit("beforeLoopFix");var l,e=n.activeIndex,t=n.slides,i=n.loopedSlides,r=n.allowSlidePrev,s=n.allowSlideNext,o=n.snapGrid,a=n.rtlTranslate;n.allowSlidePrev=!0,n.allowSlideNext=!0;var u=-o[e]-n.getTranslate();e<i?(l=t.length-3*i+e,n.slideTo(l+=i,0,!1,!0)&&0!==u&&n.setTranslate((a?-n.translate:n.translate)-u)):e>=t.length-i&&(l=-t.length+e+i,n.slideTo(l+=i,0,!1,!0)&&0!==u&&n.setTranslate((a?-n.translate:n.translate)-u)),n.allowSlidePrev=r,n.allowSlideNext=s,n.emit("loopFix")},loopDestroy:function A7(){var n=this,t=n.params,i=n.slides;n.$wrapperEl.children("."+t.slideClass+"."+t.slideDuplicateClass+",."+t.slideClass+"."+t.slideBlankClass).remove(),i.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function I7(n){var e=this;if(!(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)){var t=e.el;t.style.cursor="move",t.style.cursor=n?"-webkit-grabbing":"-webkit-grab",t.style.cursor=n?"-moz-grabbin":"-moz-grab",t.style.cursor=n?"grabbing":"grab"}},unsetGrabCursor:function R7(){var n=this;n.support.touch||n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.el.style.cursor="")}},manipulation:{appendSlide:function O7(n){var e=this,t=e.$wrapperEl,i=e.params;if(i.loop&&e.loopDestroy(),"object"==typeof n&&"length"in n)for(var r=0;r<n.length;r+=1)n[r]&&t.append(n[r]);else t.append(n);i.loop&&e.loopCreate(),i.observer&&e.support.observer||e.update()},prependSlide:function L7(n){var e=this,t=e.params,i=e.$wrapperEl,r=e.activeIndex;t.loop&&e.loopDestroy();var s=r+1;if("object"==typeof n&&"length"in n){for(var o=0;o<n.length;o+=1)n[o]&&i.prepend(n[o]);s=r+n.length}else i.prepend(n);t.loop&&e.loopCreate(),t.observer&&e.support.observer||e.update(),e.slideTo(s,0,!1)},addSlide:function k7(n,e){var t=this,i=t.$wrapperEl,r=t.params,o=t.activeIndex;r.loop&&(o-=t.loopedSlides,t.loopDestroy(),t.slides=i.children("."+r.slideClass));var a=t.slides.length;if(n<=0)t.prependSlide(e);else if(n>=a)t.appendSlide(e);else{for(var l=o>n?o+1:o,c=[],u=a-1;u>=n;u-=1){var d=t.slides.eq(u);d.remove(),c.unshift(d)}if("object"==typeof e&&"length"in e){for(var h=0;h<e.length;h+=1)e[h]&&i.append(e[h]);l=o>n?o+e.length:o}else i.append(e);for(var f=0;f<c.length;f+=1)i.append(c[f]);r.loop&&t.loopCreate(),r.observer&&t.support.observer||t.update(),t.slideTo(r.loop?l+t.loopedSlides:l,0,!1)}},removeSlide:function N7(n){var e=this,t=e.params,i=e.$wrapperEl,s=e.activeIndex;t.loop&&(s-=e.loopedSlides,e.loopDestroy(),e.slides=i.children("."+t.slideClass));var a,o=s;if("object"==typeof n&&"length"in n){for(var l=0;l<n.length;l+=1)e.slides[a=n[l]]&&e.slides.eq(a).remove(),a<o&&(o-=1);o=Math.max(o,0)}else e.slides[a=n]&&e.slides.eq(a).remove(),a<o&&(o-=1),o=Math.max(o,0);t.loop&&e.loopCreate(),t.observer&&e.support.observer||e.update(),e.slideTo(t.loop?o+e.loopedSlides:o,0,!1)},removeAllSlides:function F7(){for(var e=[],t=0;t<this.slides.length;t+=1)e.push(t);this.removeSlide(e)}},events:{attachEvents:function $7(){var n=this,e=rn(),t=n.params,i=n.touchEvents,r=n.el,s=n.wrapperEl,o=n.device,a=n.support;n.onTouchStart=z7.bind(n),n.onTouchMove=H7.bind(n),n.onTouchEnd=V7.bind(n),t.cssMode&&(n.onScroll=W7.bind(n)),n.onClick=G7.bind(n);var l=!!t.nested;if(!a.touch&&a.pointerEvents)r.addEventListener(i.start,n.onTouchStart,!1),e.addEventListener(i.move,n.onTouchMove,l),e.addEventListener(i.end,n.onTouchEnd,!1);else{if(a.touch){var c=!("touchstart"!==i.start||!a.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1};r.addEventListener(i.start,n.onTouchStart,c),r.addEventListener(i.move,n.onTouchMove,a.passiveListener?{passive:!1,capture:l}:l),r.addEventListener(i.end,n.onTouchEnd,c),i.cancel&&r.addEventListener(i.cancel,n.onTouchEnd,c),YP||(e.addEventListener("touchstart",j7),YP=!0)}(t.simulateTouch&&!o.ios&&!o.android||t.simulateTouch&&!a.touch&&o.ios)&&(r.addEventListener("mousedown",n.onTouchStart,!1),e.addEventListener("mousemove",n.onTouchMove,l),e.addEventListener("mouseup",n.onTouchEnd,!1))}(t.preventClicks||t.preventClicksPropagation)&&r.addEventListener("click",n.onClick,!0),t.cssMode&&s.addEventListener("scroll",n.onScroll),n.on(t.updateOnWindowResize?o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",K0,!0)},detachEvents:function X7(){var n=this,e=rn(),t=n.params,i=n.touchEvents,r=n.el,s=n.wrapperEl,o=n.device,a=n.support,l=!!t.nested;if(!a.touch&&a.pointerEvents)r.removeEventListener(i.start,n.onTouchStart,!1),e.removeEventListener(i.move,n.onTouchMove,l),e.removeEventListener(i.end,n.onTouchEnd,!1);else{if(a.touch){var c=!("onTouchStart"!==i.start||!a.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1};r.removeEventListener(i.start,n.onTouchStart,c),r.removeEventListener(i.move,n.onTouchMove,l),r.removeEventListener(i.end,n.onTouchEnd,c),i.cancel&&r.removeEventListener(i.cancel,n.onTouchEnd,c)}(t.simulateTouch&&!o.ios&&!o.android||t.simulateTouch&&!a.touch&&o.ios)&&(r.removeEventListener("mousedown",n.onTouchStart,!1),e.removeEventListener("mousemove",n.onTouchMove,l),e.removeEventListener("mouseup",n.onTouchEnd,!1))}(t.preventClicks||t.preventClicksPropagation)&&r.removeEventListener("click",n.onClick,!0),t.cssMode&&s.removeEventListener("scroll",n.onScroll),n.off(o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",K0)}},breakpoints:{setBreakpoint:function Y7(){var n=this,e=n.activeIndex,t=n.initialized,i=n.loopedSlides,r=void 0===i?0:i,s=n.params,o=n.$el,a=s.breakpoints;if(a&&(!a||0!==Object.keys(a).length)){var l=n.getBreakpoint(a,n.params.breakpointsBase,n.el);if(l&&n.currentBreakpoint!==l){var c=l in a?a[l]:void 0;c&&["slidesPerView","spaceBetween","slidesPerGroup","slidesPerGroupSkip","slidesPerColumn"].forEach(function(m){var y=c[m];typeof y>"u"||(c[m]="slidesPerView"!==m||"AUTO"!==y&&"auto"!==y?"slidesPerView"===m?parseFloat(y):parseInt(y,10):"auto")});var u=c||n.originalParams,d=s.slidesPerColumn>1,h=u.slidesPerColumn>1,f=s.enabled;d&&!h?(o.removeClass(s.containerModifierClass+"multirow "+s.containerModifierClass+"multirow-column"),n.emitContainerClasses()):!d&&h&&(o.addClass(s.containerModifierClass+"multirow"),(u.slidesPerColumnFill&&"column"===u.slidesPerColumnFill||!u.slidesPerColumnFill&&"column"===s.slidesPerColumnFill)&&o.addClass(s.containerModifierClass+"multirow-column"),n.emitContainerClasses());var p=u.direction&&u.direction!==s.direction,g=s.loop&&(u.slidesPerView!==s.slidesPerView||p);p&&t&&n.changeDirection(),At(n.params,u);var _=n.params.enabled;At(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),f&&!_?n.disable():!f&&_&&n.enable(),n.currentBreakpoint=l,n.emit("_beforeBreakpoint",u),g&&t&&(n.loopDestroy(),n.loopCreate(),n.updateSlides(),n.slideTo(e-r+n.loopedSlides,0,!1)),n.emit("breakpoint",u)}}},getBreakpoint:function K7(n,e,t){if(void 0===e&&(e="window"),n&&("container"!==e||t)){var i=!1,r=Vt(),s="window"===e?r.innerHeight:t.clientHeight,o=Object.keys(n).map(function(d){if("string"==typeof d&&0===d.indexOf("@")){var h=parseFloat(d.substr(1));return{value:s*h,point:d}}return{value:d,point:d}});o.sort(function(d,h){return parseInt(d.value,10)-parseInt(h.value,10)});for(var a=0;a<o.length;a+=1){var l=o[a],c=l.point,u=l.value;"window"===e?r.matchMedia("(min-width: "+u+"px)").matches&&(i=c):u<=t.clientWidth&&(i=c)}return i||"max"}}},checkOverflow:{checkOverflow:function sK(){var n=this,e=n.params,t=n.isLocked,i=n.slides.length>0&&e.slidesOffsetBefore+e.spaceBetween*(n.slides.length-1)+n.slides[0].offsetWidth*n.slides.length;n.isLocked=e.slidesOffsetBefore&&e.slidesOffsetAfter&&i?i<=n.size:1===n.snapGrid.length,n.allowSlideNext=!n.isLocked,n.allowSlidePrev=!n.isLocked,t!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock"),t&&t!==n.isLocked&&(n.isEnd=!1,n.navigation&&n.navigation.update())}},classes:{addClasses:function J7(){var n=this,e=n.classNames,t=n.params,r=n.$el,s=n.device,o=n.support,a=function Q7(n,e){var t=[];return n.forEach(function(i){"object"==typeof i?Object.keys(i).forEach(function(r){i[r]&&t.push(e+r)}):"string"==typeof i&&t.push(e+i)}),t}(["initialized",t.direction,{"pointer-events":o.pointerEvents&&!o.touch},{"free-mode":t.freeMode},{autoheight:t.autoHeight},{rtl:n.rtl},{multirow:t.slidesPerColumn>1},{"multirow-column":t.slidesPerColumn>1&&"column"===t.slidesPerColumnFill},{android:s.android},{ios:s.ios},{"css-mode":t.cssMode}],t.containerModifierClass);e.push.apply(e,a),r.addClass([].concat(e).join(" ")),n.emitContainerClasses()},removeClasses:function eK(){var n=this;n.$el.removeClass(n.classNames.join(" ")),n.emitContainerClasses()}},images:{loadImage:function nK(n,e,t,i,r,s){var a,o=Vt();function l(){s&&s()}Oe(n).parent("picture")[0]||n.complete&&r||!e?l():((a=new o.Image).onload=l,a.onerror=l,i&&(a.sizes=i),t&&(a.srcset=t),e&&(a.src=e))},preloadImages:function iK(){var n=this;function e(){typeof n>"u"||null===n||!n||n.destroyed||(void 0!==n.imagesLoaded&&(n.imagesLoaded+=1),n.imagesLoaded===n.imagesToLoad.length&&(n.params.updateOnImagesReady&&n.update(),n.emit("imagesReady")))}n.imagesToLoad=n.$el.find("img");for(var t=0;t<n.imagesToLoad.length;t+=1){var i=n.imagesToLoad[t];n.loadImage(i,i.currentSrc||i.getAttribute("src"),i.srcset||i.getAttribute("srcset"),i.sizes||i.getAttribute("sizes"),!0,e)}}}},Q0={},J0=function(){function n(){for(var t,i,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];if(1===s.length&&s[0].constructor&&"Object"===Object.prototype.toString.call(s[0]).slice(8,-1)?i=s[0]:(t=s[0],i=s[1]),i||(i={}),i=At({},i),t&&!i.el&&(i.el=t),i.el&&Oe(i.el).length>1){var a=[];return Oe(i.el).each(function(u){var d=At({},i,{el:u});a.push(new n(d))}),a}var l=this;l.__swiper__=!0,l.support=qP(),l.device=function GY(n){return void 0===n&&(n={}),X0||(X0=function VY(n){var t=(void 0===n?{}:n).userAgent,i=qP(),r=Vt(),s=r.navigator.platform,o=t||r.navigator.userAgent,a={ios:!1,android:!1},l=r.screen.width,c=r.screen.height,u=o.match(/(Android);?[\s\/]+([\d.]+)?/),d=o.match(/(iPad).*OS\s([\d_]+)/),h=o.match(/(iPod)(.*OS\s([\d_]+))?/),f=!d&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p="Win32"===s,g="MacIntel"===s;return!d&&g&&i.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(l+"x"+c)>=0&&((d=o.match(/(Version)\/([\d.]+)/))||(d=[0,1,"13_0_0"]),g=!1),u&&!p&&(a.os="android",a.android=!0),(d||f||h)&&(a.os="ios",a.ios=!0),a}(n)),X0}({userAgent:i.userAgent}),l.browser=function jY(){return q0||(q0=function WY(){var n=Vt();return{isEdge:!!n.navigator.userAgent.match(/Edge/g),isSafari:function e(){var t=n.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent)}}()),q0}(),l.eventsListeners={},l.eventsAnyListeners=[],typeof l.modules>"u"&&(l.modules={}),Object.keys(l.modules).forEach(function(u){var d=l.modules[u];if(d.params){var h=Object.keys(d.params)[0],f=d.params[h];if("object"!=typeof f||null===f||(["navigation","pagination","scrollbar"].indexOf(h)>=0&&!0===i[h]&&(i[h]={auto:!0}),!(h in i)||!("enabled"in f)))return;!0===i[h]&&(i[h]={enabled:!0}),"object"==typeof i[h]&&!("enabled"in i[h])&&(i[h].enabled=!0),i[h]||(i[h]={enabled:!1})}});var d,h,c=At({},KP);return l.useParams(c),l.params=At({},c,Q0,i),l.originalParams=At({},l.params),l.passedParams=At({},i),l.params&&l.params.on&&Object.keys(l.params.on).forEach(function(u){l.on(u,l.params.on[u])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),l.$=Oe,At(l,{enabled:l.params.enabled,el:t,classNames:[],slides:Oe(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===l.params.direction},isVertical:function(){return"vertical"===l.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEvents:(d=["touchstart","touchmove","touchend","touchcancel"],h=["mousedown","mousemove","mouseup"],l.support.pointerEvents&&(h=["pointerdown","pointermove","pointerup"]),l.touchEventsTouch={start:d[0],move:d[1],end:d[2],cancel:d[3]},l.touchEventsDesktop={start:h[0],move:h[1],end:h[2]},l.support.touch||!l.params.simulateTouch?l.touchEventsTouch:l.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:ji(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.useModules(),l.emit("_swiper"),l.params.init&&l.init(),l}var e=n.prototype;return e.enable=function(){var i=this;i.enabled||(i.enabled=!0,i.params.grabCursor&&i.setGrabCursor(),i.emit("enable"))},e.disable=function(){var i=this;i.enabled&&(i.enabled=!1,i.params.grabCursor&&i.unsetGrabCursor(),i.emit("disable"))},e.setProgress=function(i,r){var s=this;i=Math.min(Math.max(i,0),1);var o=s.minTranslate(),a=s.maxTranslate();s.translateTo((a-o)*i+o,typeof r>"u"?0:r),s.updateActiveIndex(),s.updateSlidesClasses()},e.emitContainerClasses=function(){var i=this;if(i.params._emitClasses&&i.el){var r=i.el.className.split(" ").filter(function(s){return 0===s.indexOf("swiper-container")||0===s.indexOf(i.params.containerModifierClass)});i.emit("_containerClasses",r.join(" "))}},e.getSlideClasses=function(i){var r=this;return i.className.split(" ").filter(function(s){return 0===s.indexOf("swiper-slide")||0===s.indexOf(r.params.slideClass)}).join(" ")},e.emitSlidesClasses=function(){var i=this;if(i.params._emitClasses&&i.el){var r=[];i.slides.each(function(s){var o=i.getSlideClasses(s);r.push({slideEl:s,classNames:o}),i.emit("_slideClass",s,o)}),i.emit("_slideClasses",r)}},e.slidesPerViewDynamic=function(){var i=this,s=i.slides,o=i.slidesGrid,a=i.size,l=i.activeIndex,c=1;if(i.params.centeredSlides){for(var d,u=s[l].swiperSlideSize,h=l+1;h<s.length;h+=1)s[h]&&!d&&(c+=1,(u+=s[h].swiperSlideSize)>a&&(d=!0));for(var f=l-1;f>=0;f-=1)s[f]&&!d&&(c+=1,(u+=s[f].swiperSlideSize)>a&&(d=!0))}else for(var p=l+1;p<s.length;p+=1)o[p]-o[l]<a&&(c+=1);return c},e.update=function(){var i=this;if(i&&!i.destroyed){var r=i.snapGrid,s=i.params;s.breakpoints&&i.setBreakpoint(),i.updateSize(),i.updateSlides(),i.updateProgress(),i.updateSlidesClasses(),i.params.freeMode?(o(),i.params.autoHeight&&i.updateAutoHeight()):i.slideTo(("auto"===i.params.slidesPerView||i.params.slidesPerView>1)&&i.isEnd&&!i.params.centeredSlides?i.slides.length-1:i.activeIndex,0,!1,!0)||o(),s.watchOverflow&&r!==i.snapGrid&&i.checkOverflow(),i.emit("update")}function o(){var c=Math.min(Math.max(i.rtlTranslate?-1*i.translate:i.translate,i.maxTranslate()),i.minTranslate());i.setTranslate(c),i.updateActiveIndex(),i.updateSlidesClasses()}},e.changeDirection=function(i,r){void 0===r&&(r=!0);var s=this,o=s.params.direction;return i||(i="horizontal"===o?"vertical":"horizontal"),i===o||"horizontal"!==i&&"vertical"!==i||(s.$el.removeClass(""+s.params.containerModifierClass+o).addClass(""+s.params.containerModifierClass+i),s.emitContainerClasses(),s.params.direction=i,s.slides.each(function(a){"vertical"===i?a.style.width="":a.style.height=""}),s.emit("changeDirection"),r&&s.update()),s},e.mount=function(i){var r=this;if(r.mounted)return!0;var s=Oe(i||r.params.el);if(!(i=s[0]))return!1;i.swiper=r;var o=function(){return"."+(r.params.wrapperClass||"").trim().split(" ").join(".")},l=function(){if(i&&i.shadowRoot&&i.shadowRoot.querySelector){var h=Oe(i.shadowRoot.querySelector(o()));return h.children=function(f){return s.children(f)},h}return s.children(o())}();if(0===l.length&&r.params.createElements){var u=rn().createElement("div");l=Oe(u),u.className=r.params.wrapperClass,s.append(u),s.children("."+r.params.slideClass).each(function(d){l.append(d)})}return At(r,{$el:s,el:i,$wrapperEl:l,wrapperEl:l[0],mounted:!0,rtl:"rtl"===i.dir.toLowerCase()||"rtl"===s.css("direction"),rtlTranslate:"horizontal"===r.params.direction&&("rtl"===i.dir.toLowerCase()||"rtl"===s.css("direction")),wrongRTL:"-webkit-box"===l.css("display")}),!0},e.init=function(i){var r=this;return r.initialized||!1===r.mount(i)||(r.emit("beforeInit"),r.params.breakpoints&&r.setBreakpoint(),r.addClasses(),r.params.loop&&r.loopCreate(),r.updateSize(),r.updateSlides(),r.params.watchOverflow&&r.checkOverflow(),r.params.grabCursor&&r.enabled&&r.setGrabCursor(),r.params.preloadImages&&r.preloadImages(),r.slideTo(r.params.loop?r.params.initialSlide+r.loopedSlides:r.params.initialSlide,0,r.params.runCallbacksOnInit,!1,!0),r.attachEvents(),r.initialized=!0,r.emit("init"),r.emit("afterInit")),r},e.destroy=function(i,r){void 0===i&&(i=!0),void 0===r&&(r=!0);var s=this,o=s.params,a=s.$el,l=s.$wrapperEl,c=s.slides;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),o.loop&&s.loopDestroy(),r&&(s.removeClasses(),a.removeAttr("style"),l.removeAttr("style"),c&&c.length&&c.removeClass([o.slideVisibleClass,o.slideActiveClass,o.slideNextClass,o.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(function(u){s.off(u)}),!1!==i&&(s.$el[0].swiper=null,function BY(n){var e=n;Object.keys(e).forEach(function(t){try{e[t]=null}catch{}try{delete e[t]}catch{}})}(s)),s.destroyed=!0),null},n.extendDefaults=function(i){At(Q0,i)},n.installModule=function(i){n.prototype.modules||(n.prototype.modules={});var r=i.name||Object.keys(n.prototype.modules).length+"_"+ji();n.prototype.modules[r]=i},n.use=function(i){return Array.isArray(i)?(i.forEach(function(r){return n.installModule(r)}),n):(n.installModule(i),n)},function aK(n,e,t){e&&ZP(n.prototype,e),t&&ZP(n,t)}(n,null,[{key:"extendedDefaults",get:function(){return Q0}},{key:"defaults",get:function(){return KP}}]),n}();Object.keys(Z0).forEach(function(n){Object.keys(Z0[n]).forEach(function(e){J0.prototype[e]=Z0[n][e]})}),J0.use([XY,YY]);const QP=J0;function ex(){return ex=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ex.apply(this,arguments)}var lK={update:function(e){var t=this,i=t.params,r=i.slidesPerView,s=i.slidesPerGroup,o=i.centeredSlides,a=t.params.virtual,l=a.addSlidesBefore,c=a.addSlidesAfter,u=t.virtual,d=u.from,h=u.to,f=u.slides,p=u.slidesGrid,g=u.renderSlide,_=u.offset;t.updateActiveIndex();var y,v,b,m=t.activeIndex||0;y=t.rtlTranslate?"right":t.isHorizontal()?"left":"top",o?(v=Math.floor(r/2)+s+c,b=Math.floor(r/2)+s+l):(v=r+(s-1)+c,b=s+l);var x=Math.max((m||0)-b,0),M=Math.min((m||0)+v,f.length-1),S=(t.slidesGrid[x]||0)-(t.slidesGrid[0]||0);function C(){t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load()}if(At(t.virtual,{from:x,to:M,offset:S,slidesGrid:t.slidesGrid}),d===x&&h===M&&!e)return t.slidesGrid!==p&&S!==_&&t.slides.css(y,S+"px"),void t.updateProgress();if(t.params.virtual.renderExternal)return t.params.virtual.renderExternal.call(t,{offset:S,from:x,to:M,slides:function(){for(var N=[],B=x;B<=M;B+=1)N.push(f[B]);return N}()}),void(t.params.virtual.renderExternalUpdate&&C());var w=[],E=[];if(e)t.$wrapperEl.find("."+t.params.slideClass).remove();else for(var L=d;L<=h;L+=1)(L<x||L>M)&&t.$wrapperEl.find("."+t.params.slideClass+'[data-swiper-slide-index="'+L+'"]').remove();for(var U=0;U<f.length;U+=1)U>=x&&U<=M&&(typeof h>"u"||e?E.push(U):(U>h&&E.push(U),U<d&&w.push(U)));E.forEach(function(R){t.$wrapperEl.append(g(f[R],R))}),w.sort(function(R,N){return N-R}).forEach(function(R){t.$wrapperEl.prepend(g(f[R],R))}),t.$wrapperEl.children(".swiper-slide").css(y,S+"px"),C()},renderSlide:function(e,t){var i=this,r=i.params.virtual;if(r.cache&&i.virtual.cache[t])return i.virtual.cache[t];var s=Oe(r.renderSlide?r.renderSlide.call(i,e,t):'<div class="'+i.params.slideClass+'" data-swiper-slide-index="'+t+'">'+e+"</div>");return s.attr("data-swiper-slide-index")||s.attr("data-swiper-slide-index",t),r.cache&&(i.virtual.cache[t]=s),s},appendSlide:function(e){var t=this;if("object"==typeof e&&"length"in e)for(var i=0;i<e.length;i+=1)e[i]&&t.virtual.slides.push(e[i]);else t.virtual.slides.push(e);t.virtual.update(!0)},prependSlide:function(e){var t=this,i=t.activeIndex,r=i+1,s=1;if(Array.isArray(e)){for(var o=0;o<e.length;o+=1)e[o]&&t.virtual.slides.unshift(e[o]);r=i+e.length,s=e.length}else t.virtual.slides.unshift(e);if(t.params.virtual.cache){var a=t.virtual.cache,l={};Object.keys(a).forEach(function(c){var u=a[c],d=u.attr("data-swiper-slide-index");d&&u.attr("data-swiper-slide-index",parseInt(d,10)+1),l[parseInt(c,10)+s]=u}),t.virtual.cache=l}t.virtual.update(!0),t.slideTo(r,0)},removeSlide:function(e){var t=this;if(!(typeof e>"u"||null===e)){var i=t.activeIndex;if(Array.isArray(e))for(var r=e.length-1;r>=0;r-=1)t.virtual.slides.splice(e[r],1),t.params.virtual.cache&&delete t.virtual.cache[e[r]],e[r]<i&&(i-=1),i=Math.max(i,0);else t.virtual.slides.splice(e,1),t.params.virtual.cache&&delete t.virtual.cache[e],e<i&&(i-=1),i=Math.max(i,0);t.virtual.update(!0),t.slideTo(i,0)}},removeAllSlides:function(){var e=this;e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),e.virtual.update(!0),e.slideTo(0,0)}};const cK={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}},create:function(){Un(this,{virtual:ex({},lK,{slides:this.params.virtual.slides,cache:{}})})},on:{beforeInit:function(e){if(e.params.virtual.enabled){e.classNames.push(e.params.containerModifierClass+"virtual");var t={watchSlidesProgress:!0};At(e.params,t),At(e.originalParams,t),e.params.initialSlide||e.virtual.update()}},setTranslate:function(e){e.params.virtual.enabled&&e.virtual.update()}}};function tx(){return tx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},tx.apply(this,arguments)}var uK={handle:function(e){var t=this;if(t.enabled){var i=Vt(),r=rn(),s=t.rtlTranslate,o=e;o.originalEvent&&(o=o.originalEvent);var a=o.keyCode||o.charCode,l=t.params.keyboard.pageUpDown,c=l&&33===a,u=l&&34===a,d=37===a,h=39===a,f=38===a,p=40===a;if(!t.allowSlideNext&&(t.isHorizontal()&&h||t.isVertical()&&p||u)||!t.allowSlidePrev&&(t.isHorizontal()&&d||t.isVertical()&&f||c))return!1;if(!(o.shiftKey||o.altKey||o.ctrlKey||o.metaKey||r.activeElement&&r.activeElement.nodeName&&("input"===r.activeElement.nodeName.toLowerCase()||"textarea"===r.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(c||u||d||h||f||p)){var g=!1;if(t.$el.parents("."+t.params.slideClass).length>0&&0===t.$el.parents("."+t.params.slideActiveClass).length)return;var _=t.$el,m=_[0].clientWidth,y=_[0].clientHeight,v=i.innerWidth,b=i.innerHeight,x=t.$el.offset();s&&(x.left-=t.$el[0].scrollLeft);for(var M=[[x.left,x.top],[x.left+m,x.top],[x.left,x.top+y],[x.left+m,x.top+y]],S=0;S<M.length;S+=1){var C=M[S];if(C[0]>=0&&C[0]<=v&&C[1]>=0&&C[1]<=b){if(0===C[0]&&0===C[1])continue;g=!0}}if(!g)return}t.isHorizontal()?((c||u||d||h)&&(o.preventDefault?o.preventDefault():o.returnValue=!1),((u||h)&&!s||(c||d)&&s)&&t.slideNext(),((c||d)&&!s||(u||h)&&s)&&t.slidePrev()):((c||u||f||p)&&(o.preventDefault?o.preventDefault():o.returnValue=!1),(u||p)&&t.slideNext(),(c||f)&&t.slidePrev()),t.emit("keyPress",a)}}},enable:function(){var e=this,t=rn();e.keyboard.enabled||(Oe(t).on("keydown",e.keyboard.handle),e.keyboard.enabled=!0)},disable:function(){var e=this,t=rn();e.keyboard.enabled&&(Oe(t).off("keydown",e.keyboard.handle),e.keyboard.enabled=!1)}};const dK={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}},create:function(){Un(this,{keyboard:tx({enabled:!1},uK)})},on:{init:function(e){e.params.keyboard.enabled&&e.keyboard.enable()},destroy:function(e){e.keyboard.enabled&&e.keyboard.disable()}}};var vs={lastScrollTime:ji(),lastEventBeforeSnap:void 0,recentWheelEvents:[],event:function(){return Vt().navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":function hK(){var n=rn(),e="onwheel",t=e in n;if(!t){var i=n.createElement("div");i.setAttribute(e,"return;"),t="function"==typeof i[e]}return!t&&n.implementation&&n.implementation.hasFeature&&!0!==n.implementation.hasFeature("","")&&(t=n.implementation.hasFeature("Events.wheel","3.0")),t}()?"wheel":"mousewheel"},normalize:function(e){var s=0,o=0,a=0,l=0;return"detail"in e&&(o=e.detail),"wheelDelta"in e&&(o=-e.wheelDelta/120),"wheelDeltaY"in e&&(o=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(s=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(s=o,o=0),a=10*s,l=10*o,"deltaY"in e&&(l=e.deltaY),"deltaX"in e&&(a=e.deltaX),e.shiftKey&&!a&&(a=l,l=0),(a||l)&&e.deltaMode&&(1===e.deltaMode?(a*=40,l*=40):(a*=800,l*=800)),a&&!s&&(s=a<1?-1:1),l&&!o&&(o=l<1?-1:1),{spinX:s,spinY:o,pixelX:a,pixelY:l}},handleMouseEnter:function(){this.enabled&&(this.mouseEntered=!0)},handleMouseLeave:function(){this.enabled&&(this.mouseEntered=!1)},handle:function(e){var t=e,r=this;if(r.enabled){var s=r.params.mousewheel;r.params.cssMode&&t.preventDefault();var o=r.$el;if("container"!==r.params.mousewheel.eventsTarget&&(o=Oe(r.params.mousewheel.eventsTarget)),!r.mouseEntered&&!o[0].contains(t.target)&&!s.releaseOnEdges)return!0;t.originalEvent&&(t=t.originalEvent);var a=0,l=r.rtlTranslate?-1:1,c=vs.normalize(t);if(s.forceToAxis)if(r.isHorizontal()){if(!(Math.abs(c.pixelX)>Math.abs(c.pixelY)))return!0;a=-c.pixelX*l}else{if(!(Math.abs(c.pixelY)>Math.abs(c.pixelX)))return!0;a=-c.pixelY}else a=Math.abs(c.pixelX)>Math.abs(c.pixelY)?-c.pixelX*l:-c.pixelY;if(0===a)return!0;s.invert&&(a=-a);var u=r.getTranslate()+a*s.sensitivity;if(u>=r.minTranslate()&&(u=r.minTranslate()),u<=r.maxTranslate()&&(u=r.maxTranslate()),(!!r.params.loop||!(u===r.minTranslate()||u===r.maxTranslate()))&&r.params.nested&&t.stopPropagation(),r.params.freeMode){var p={time:ji(),delta:Math.abs(a),direction:Math.sign(a)},g=r.mousewheel.lastEventBeforeSnap,_=g&&p.time<g.time+500&&p.delta<=g.delta&&p.direction===g.direction;if(!_){r.mousewheel.lastEventBeforeSnap=void 0,r.params.loop&&r.loopFix();var m=r.getTranslate()+a*s.sensitivity,y=r.isBeginning,v=r.isEnd;if(m>=r.minTranslate()&&(m=r.minTranslate()),m<=r.maxTranslate()&&(m=r.maxTranslate()),r.setTransition(0),r.setTranslate(m),r.updateProgress(),r.updateActiveIndex(),r.updateSlidesClasses(),(!y&&r.isBeginning||!v&&r.isEnd)&&r.updateSlidesClasses(),r.params.freeModeSticky){clearTimeout(r.mousewheel.timeout),r.mousewheel.timeout=void 0;var b=r.mousewheel.recentWheelEvents;b.length>=15&&b.shift();var x=b.length?b[b.length-1]:void 0,M=b[0];if(b.push(p),x&&(p.delta>x.delta||p.direction!==x.direction))b.splice(0);else if(b.length>=15&&p.time-M.time<500&&M.delta-p.delta>=1&&p.delta<=6){var S=a>0?.8:.2;r.mousewheel.lastEventBeforeSnap=p,b.splice(0),r.mousewheel.timeout=Ho(function(){r.slideToClosest(r.params.speed,!0,void 0,S)},0)}r.mousewheel.timeout||(r.mousewheel.timeout=Ho(function(){r.mousewheel.lastEventBeforeSnap=p,b.splice(0),r.slideToClosest(r.params.speed,!0,void 0,.5)},500))}if(_||r.emit("scroll",t),r.params.autoplay&&r.params.autoplayDisableOnInteraction&&r.autoplay.stop(),m===r.minTranslate()||m===r.maxTranslate())return!0}}else{var d={time:ji(),delta:Math.abs(a),direction:Math.sign(a),raw:e},h=r.mousewheel.recentWheelEvents;h.length>=2&&h.shift();var f=h.length?h[h.length-1]:void 0;if(h.push(d),f?(d.direction!==f.direction||d.delta>f.delta||d.time>f.time+150)&&r.mousewheel.animateSlider(d):r.mousewheel.animateSlider(d),r.mousewheel.releaseScroll(d))return!0}return t.preventDefault?t.preventDefault():t.returnValue=!1,!1}},animateSlider:function(e){var t=this,i=Vt();return!(this.params.mousewheel.thresholdDelta&&e.delta<this.params.mousewheel.thresholdDelta||this.params.mousewheel.thresholdTime&&ji()-t.mousewheel.lastScrollTime<this.params.mousewheel.thresholdTime)&&(e.delta>=6&&ji()-t.mousewheel.lastScrollTime<60||(e.direction<0?(!t.isEnd||t.params.loop)&&!t.animating&&(t.slideNext(),t.emit("scroll",e.raw)):(!t.isBeginning||t.params.loop)&&!t.animating&&(t.slidePrev(),t.emit("scroll",e.raw)),t.mousewheel.lastScrollTime=(new i.Date).getTime(),!1))},releaseScroll:function(e){var t=this,i=t.params.mousewheel;if(e.direction<0){if(t.isEnd&&!t.params.loop&&i.releaseOnEdges)return!0}else if(t.isBeginning&&!t.params.loop&&i.releaseOnEdges)return!0;return!1},enable:function(){var e=this,t=vs.event();if(e.params.cssMode)return e.wrapperEl.removeEventListener(t,e.mousewheel.handle),!0;if(!t||e.mousewheel.enabled)return!1;var i=e.$el;return"container"!==e.params.mousewheel.eventsTarget&&(i=Oe(e.params.mousewheel.eventsTarget)),i.on("mouseenter",e.mousewheel.handleMouseEnter),i.on("mouseleave",e.mousewheel.handleMouseLeave),i.on(t,e.mousewheel.handle),e.mousewheel.enabled=!0,!0},disable:function(){var e=this,t=vs.event();if(e.params.cssMode)return e.wrapperEl.addEventListener(t,e.mousewheel.handle),!0;if(!t||!e.mousewheel.enabled)return!1;var i=e.$el;return"container"!==e.params.mousewheel.eventsTarget&&(i=Oe(e.params.mousewheel.eventsTarget)),i.off(t,e.mousewheel.handle),e.mousewheel.enabled=!1,!0}};function nx(){return nx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},nx.apply(this,arguments)}var pK={toggleEl:function(e,t){e[t?"addClass":"removeClass"](this.params.navigation.disabledClass),e[0]&&"BUTTON"===e[0].tagName&&(e[0].disabled=t)},update:function(){var e=this,t=e.params.navigation,i=e.navigation.toggleEl;if(!e.params.loop){var r=e.navigation,s=r.$nextEl,o=r.$prevEl;o&&o.length>0&&(i(o,!!e.isBeginning),e.params.watchOverflow&&e.enabled&&o[e.isLocked?"addClass":"removeClass"](t.lockClass)),s&&s.length>0&&(i(s,!!e.isEnd),e.params.watchOverflow&&e.enabled&&s[e.isLocked?"addClass":"removeClass"](t.lockClass))}},onPrevClick:function(e){var t=this;e.preventDefault(),(!t.isBeginning||t.params.loop)&&t.slidePrev()},onNextClick:function(e){var t=this;e.preventDefault(),(!t.isEnd||t.params.loop)&&t.slideNext()},init:function(){var i,r,e=this,t=e.params.navigation;e.params.navigation=j0(e.$el,e.params.navigation,e.params.createElements,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),(t.nextEl||t.prevEl)&&(t.nextEl&&(i=Oe(t.nextEl),e.params.uniqueNavElements&&"string"==typeof t.nextEl&&i.length>1&&1===e.$el.find(t.nextEl).length&&(i=e.$el.find(t.nextEl))),t.prevEl&&(r=Oe(t.prevEl),e.params.uniqueNavElements&&"string"==typeof t.prevEl&&r.length>1&&1===e.$el.find(t.prevEl).length&&(r=e.$el.find(t.prevEl))),i&&i.length>0&&i.on("click",e.navigation.onNextClick),r&&r.length>0&&r.on("click",e.navigation.onPrevClick),At(e.navigation,{$nextEl:i,nextEl:i&&i[0],$prevEl:r,prevEl:r&&r[0]}),e.enabled||(i&&i.addClass(t.lockClass),r&&r.addClass(t.lockClass)))},destroy:function(){var e=this,t=e.navigation,i=t.$nextEl,r=t.$prevEl;i&&i.length&&(i.off("click",e.navigation.onNextClick),i.removeClass(e.params.navigation.disabledClass)),r&&r.length&&(r.off("click",e.navigation.onPrevClick),r.removeClass(e.params.navigation.disabledClass))}};function ix(){return ix=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ix.apply(this,arguments)}var gK={update:function(){var e=this,t=e.rtl,i=e.params.pagination;if(i.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var o,r=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,s=e.pagination.$el,a=e.params.loop?Math.ceil((r-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?((o=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup))>r-1-2*e.loopedSlides&&(o-=r-2*e.loopedSlides),o>a-1&&(o-=a),o<0&&"bullets"!==e.params.paginationType&&(o=a+o)):o=typeof e.snapIndex<"u"?e.snapIndex:e.activeIndex||0,"bullets"===i.type&&e.pagination.bullets&&e.pagination.bullets.length>0){var c,u,d,l=e.pagination.bullets;if(i.dynamicBullets&&(e.pagination.bulletSize=l.eq(0)[e.isHorizontal()?"outerWidth":"outerHeight"](!0),s.css(e.isHorizontal()?"width":"height",e.pagination.bulletSize*(i.dynamicMainBullets+4)+"px"),i.dynamicMainBullets>1&&void 0!==e.previousIndex&&(e.pagination.dynamicBulletIndex+=o-e.previousIndex,e.pagination.dynamicBulletIndex>i.dynamicMainBullets-1?e.pagination.dynamicBulletIndex=i.dynamicMainBullets-1:e.pagination.dynamicBulletIndex<0&&(e.pagination.dynamicBulletIndex=0)),d=((u=(c=o-e.pagination.dynamicBulletIndex)+(Math.min(l.length,i.dynamicMainBullets)-1))+c)/2),l.removeClass(i.bulletActiveClass+" "+i.bulletActiveClass+"-next "+i.bulletActiveClass+"-next-next "+i.bulletActiveClass+"-prev "+i.bulletActiveClass+"-prev-prev "+i.bulletActiveClass+"-main"),s.length>1)l.each(function(w){var E=Oe(w),L=E.index();L===o&&E.addClass(i.bulletActiveClass),i.dynamicBullets&&(L>=c&&L<=u&&E.addClass(i.bulletActiveClass+"-main"),L===c&&E.prev().addClass(i.bulletActiveClass+"-prev").prev().addClass(i.bulletActiveClass+"-prev-prev"),L===u&&E.next().addClass(i.bulletActiveClass+"-next").next().addClass(i.bulletActiveClass+"-next-next"))});else{var h=l.eq(o),f=h.index();if(h.addClass(i.bulletActiveClass),i.dynamicBullets){for(var p=l.eq(c),g=l.eq(u),_=c;_<=u;_+=1)l.eq(_).addClass(i.bulletActiveClass+"-main");if(e.params.loop)if(f>=l.length-i.dynamicMainBullets){for(var m=i.dynamicMainBullets;m>=0;m-=1)l.eq(l.length-m).addClass(i.bulletActiveClass+"-main");l.eq(l.length-i.dynamicMainBullets-1).addClass(i.bulletActiveClass+"-prev")}else p.prev().addClass(i.bulletActiveClass+"-prev").prev().addClass(i.bulletActiveClass+"-prev-prev"),g.next().addClass(i.bulletActiveClass+"-next").next().addClass(i.bulletActiveClass+"-next-next");else p.prev().addClass(i.bulletActiveClass+"-prev").prev().addClass(i.bulletActiveClass+"-prev-prev"),g.next().addClass(i.bulletActiveClass+"-next").next().addClass(i.bulletActiveClass+"-next-next")}}if(i.dynamicBullets){var y=Math.min(l.length,i.dynamicMainBullets+4),v=(e.pagination.bulletSize*y-e.pagination.bulletSize)/2-d*e.pagination.bulletSize,b=t?"right":"left";l.css(e.isHorizontal()?b:"top",v+"px")}}if("fraction"===i.type&&(s.find(ro(i.currentClass)).text(i.formatFractionCurrent(o+1)),s.find(ro(i.totalClass)).text(i.formatFractionTotal(a))),"progressbar"===i.type){var x;x=i.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";var M=(o+1)/a,S=1,C=1;"horizontal"===x?S=M:C=M,s.find(ro(i.progressbarFillClass)).transform("translate3d(0,0,0) scaleX("+S+") scaleY("+C+")").transition(e.params.speed)}"custom"===i.type&&i.renderCustom?(s.html(i.renderCustom(e,o+1,a)),e.emit("paginationRender",s[0])):e.emit("paginationUpdate",s[0]),e.params.watchOverflow&&e.enabled&&s[e.isLocked?"addClass":"removeClass"](i.lockClass)}},render:function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var i=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,r=e.pagination.$el,s="";if("bullets"===t.type){var o=e.params.loop?Math.ceil((i-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&!e.params.loop&&o>i&&(o=i);for(var a=0;a<o;a+=1)s+=t.renderBullet?t.renderBullet.call(e,a,t.bulletClass):"<"+t.bulletElement+' class="'+t.bulletClass+'"></'+t.bulletElement+">";r.html(s),e.pagination.bullets=r.find(ro(t.bulletClass))}"fraction"===t.type&&(s=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):'<span class="'+t.currentClass+'"></span> / <span class="'+t.totalClass+'"></span>',r.html(s)),"progressbar"===t.type&&(s=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):'<span class="'+t.progressbarFillClass+'"></span>',r.html(s)),"custom"!==t.type&&e.emit("paginationRender",e.pagination.$el[0])}},init:function(){var e=this;e.params.pagination=j0(e.$el,e.params.pagination,e.params.createElements,{el:"swiper-pagination"});var t=e.params.pagination;if(t.el){var i=Oe(t.el);0!==i.length&&(e.params.uniqueNavElements&&"string"==typeof t.el&&i.length>1&&(i=e.$el.find(t.el)),"bullets"===t.type&&t.clickable&&i.addClass(t.clickableClass),i.addClass(t.modifierClass+t.type),"bullets"===t.type&&t.dynamicBullets&&(i.addClass(""+t.modifierClass+t.type+"-dynamic"),e.pagination.dynamicBulletIndex=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&i.addClass(t.progressbarOppositeClass),t.clickable&&i.on("click",ro(t.bulletClass),function(s){s.preventDefault();var o=Oe(this).index()*e.params.slidesPerGroup;e.params.loop&&(o+=e.loopedSlides),e.slideTo(o)}),At(e.pagination,{$el:i,el:i[0]}),e.enabled||i.addClass(t.lockClass))}},destroy:function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var i=e.pagination.$el;i.removeClass(t.hiddenClass),i.removeClass(t.modifierClass+t.type),e.pagination.bullets&&e.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&i.off("click",ro(t.bulletClass))}}};function rx(){return rx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},rx.apply(this,arguments)}var vK={setTranslate:function(){var e=this;if(e.params.scrollbar.el&&e.scrollbar.el){var t=e.scrollbar,s=t.dragSize,o=t.trackSize,a=t.$dragEl,l=t.$el,c=e.params.scrollbar,u=s,d=(o-s)*e.progress;e.rtlTranslate?(d=-d)>0?(u=s-d,d=0):-d+s>o&&(u=o+d):d<0?(u=s+d,d=0):d+s>o&&(u=o-d),e.isHorizontal()?(a.transform("translate3d("+d+"px, 0, 0)"),a[0].style.width=u+"px"):(a.transform("translate3d(0px, "+d+"px, 0)"),a[0].style.height=u+"px"),c.hide&&(clearTimeout(e.scrollbar.timeout),l[0].style.opacity=1,e.scrollbar.timeout=setTimeout(function(){l[0].style.opacity=0,l.transition(400)},1e3))}},setTransition:function(e){var t=this;!t.params.scrollbar.el||!t.scrollbar.el||t.scrollbar.$dragEl.transition(e)},updateSize:function(){var e=this;if(e.params.scrollbar.el&&e.scrollbar.el){var t=e.scrollbar,i=t.$dragEl,r=t.$el;i[0].style.width="",i[0].style.height="";var l,s=e.isHorizontal()?r[0].offsetWidth:r[0].offsetHeight,o=e.size/e.virtualSize,a=o*(s/e.size);l="auto"===e.params.scrollbar.dragSize?s*o:parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?i[0].style.width=l+"px":i[0].style.height=l+"px",r[0].style.display=o>=1?"none":"",e.params.scrollbar.hide&&(r[0].style.opacity=0),At(t,{trackSize:s,divider:o,moveDivider:a,dragSize:l}),e.params.watchOverflow&&e.enabled&&t.$el[e.isLocked?"addClass":"removeClass"](e.params.scrollbar.lockClass)}},getPointerPosition:function(e){return this.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientX:e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientY:e.clientY},setDragPosition:function(e){var c,t=this,i=t.scrollbar,r=t.rtlTranslate,s=i.$el,o=i.dragSize,a=i.trackSize,l=i.dragStartPos;c=(i.getPointerPosition(e)-s.offset()[t.isHorizontal()?"left":"top"]-(null!==l?l:o/2))/(a-o),c=Math.max(Math.min(c,1),0),r&&(c=1-c);var u=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*c;t.updateProgress(u),t.setTranslate(u),t.updateActiveIndex(),t.updateSlidesClasses()},onDragStart:function(e){var t=this,i=t.params.scrollbar,r=t.scrollbar,s=t.$wrapperEl,o=r.$el,a=r.$dragEl;t.scrollbar.isTouched=!0,t.scrollbar.dragStartPos=e.target===a[0]||e.target===a?r.getPointerPosition(e)-e.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),s.transition(100),a.transition(100),r.setDragPosition(e),clearTimeout(t.scrollbar.dragTimeout),o.transition(0),i.hide&&o.css("opacity",1),t.params.cssMode&&t.$wrapperEl.css("scroll-snap-type","none"),t.emit("scrollbarDragStart",e)},onDragMove:function(e){var t=this,i=t.scrollbar,r=t.$wrapperEl,s=i.$el,o=i.$dragEl;t.scrollbar.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,i.setDragPosition(e),r.transition(0),s.transition(0),o.transition(0),t.emit("scrollbarDragMove",e))},onDragEnd:function(e){var t=this,i=t.params.scrollbar,s=t.$wrapperEl,o=t.scrollbar.$el;t.scrollbar.isTouched&&(t.scrollbar.isTouched=!1,t.params.cssMode&&(t.$wrapperEl.css("scroll-snap-type",""),s.transition("")),i.hide&&(clearTimeout(t.scrollbar.dragTimeout),t.scrollbar.dragTimeout=Ho(function(){o.css("opacity",0),o.transition(400)},1e3)),t.emit("scrollbarDragEnd",e),i.snapOnRelease&&t.slideToClosest())},enableDraggable:function(){var e=this;if(e.params.scrollbar.el){var t=rn(),r=e.touchEventsTouch,s=e.touchEventsDesktop,o=e.params,a=e.support,c=e.scrollbar.$el[0],u=!(!a.passiveListener||!o.passiveListeners)&&{passive:!1,capture:!1},d=!(!a.passiveListener||!o.passiveListeners)&&{passive:!0,capture:!1};c&&(a.touch?(c.addEventListener(r.start,e.scrollbar.onDragStart,u),c.addEventListener(r.move,e.scrollbar.onDragMove,u),c.addEventListener(r.end,e.scrollbar.onDragEnd,d)):(c.addEventListener(s.start,e.scrollbar.onDragStart,u),t.addEventListener(s.move,e.scrollbar.onDragMove,u),t.addEventListener(s.end,e.scrollbar.onDragEnd,d)))}},disableDraggable:function(){var e=this;if(e.params.scrollbar.el){var t=rn(),r=e.touchEventsTouch,s=e.touchEventsDesktop,o=e.params,a=e.support,c=e.scrollbar.$el[0],u=!(!a.passiveListener||!o.passiveListeners)&&{passive:!1,capture:!1},d=!(!a.passiveListener||!o.passiveListeners)&&{passive:!0,capture:!1};c&&(a.touch?(c.removeEventListener(r.start,e.scrollbar.onDragStart,u),c.removeEventListener(r.move,e.scrollbar.onDragMove,u),c.removeEventListener(r.end,e.scrollbar.onDragEnd,d)):(c.removeEventListener(s.start,e.scrollbar.onDragStart,u),t.removeEventListener(s.move,e.scrollbar.onDragMove,u),t.removeEventListener(s.end,e.scrollbar.onDragEnd,d)))}},init:function(){var e=this,t=e.scrollbar,i=e.$el;e.params.scrollbar=j0(i,e.params.scrollbar,e.params.createElements,{el:"swiper-scrollbar"});var r=e.params.scrollbar;if(r.el){var s=Oe(r.el);e.params.uniqueNavElements&&"string"==typeof r.el&&s.length>1&&1===i.find(r.el).length&&(s=i.find(r.el));var o=s.find("."+e.params.scrollbar.dragClass);0===o.length&&(o=Oe('<div class="'+e.params.scrollbar.dragClass+'"></div>'),s.append(o)),At(t,{$el:s,el:s[0],$dragEl:o,dragEl:o[0]}),r.draggable&&t.enableDraggable(),s&&s[e.enabled?"removeClass":"addClass"](e.params.scrollbar.lockClass)}},destroy:function(){this.scrollbar.disableDraggable()}};function sx(){return sx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},sx.apply(this,arguments)}var bK={setTransform:function(e,t){var r=this.rtl,s=Oe(e),o=r?-1:1,a=s.attr("data-swiper-parallax")||"0",l=s.attr("data-swiper-parallax-x"),c=s.attr("data-swiper-parallax-y"),u=s.attr("data-swiper-parallax-scale"),d=s.attr("data-swiper-parallax-opacity");if(l||c?(l=l||"0",c=c||"0"):this.isHorizontal()?(l=a,c="0"):(c=a,l="0"),l=l.indexOf("%")>=0?parseInt(l,10)*t*o+"%":l*t*o+"px",c=c.indexOf("%")>=0?parseInt(c,10)*t+"%":c*t+"px",typeof d<"u"&&null!==d){var h=d-(d-1)*(1-Math.abs(t));s[0].style.opacity=h}if(typeof u>"u"||null===u)s.transform("translate3d("+l+", "+c+", 0px)");else{var f=u-(u-1)*(1-Math.abs(t));s.transform("translate3d("+l+", "+c+", 0px) scale("+f+")")}},setTranslate:function(){var e=this,i=e.slides,r=e.progress,s=e.snapGrid;e.$el.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(o){e.parallax.setTransform(o,r)}),i.each(function(o,a){var l=o.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(l+=Math.ceil(a/2)-r*(s.length-1)),l=Math.min(Math.max(l,-1),1),Oe(o).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(c){e.parallax.setTransform(c,l)})})},setTransition:function(e){void 0===e&&(e=this.params.speed),this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(r){var s=Oe(r),o=parseInt(s.attr("data-swiper-parallax-duration"),10)||e;0===e&&(o=0),s.transition(o)})}};function ox(){return ox=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ox.apply(this,arguments)}var ax={getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var i=e.targetTouches[0].pageY,s=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(e.targetTouches[1].pageX-e.targetTouches[0].pageX,2)+Math.pow(s-i,2))},onGestureStart:function(e){var t=this,i=t.support,r=t.params.zoom,s=t.zoom,o=s.gesture;if(s.fakeGestureTouched=!1,s.fakeGestureMoved=!1,!i.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;s.fakeGestureTouched=!0,o.scaleStart=ax.getDistanceBetweenTouches(e)}o.$slideEl&&o.$slideEl.length||(o.$slideEl=Oe(e.target).closest("."+t.params.slideClass),0===o.$slideEl.length&&(o.$slideEl=t.slides.eq(t.activeIndex)),o.$imageEl=o.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),o.$imageWrapEl=o.$imageEl.parent("."+r.containerClass),o.maxRatio=o.$imageWrapEl.attr("data-swiper-zoom")||r.maxRatio,0!==o.$imageWrapEl.length)?(o.$imageEl&&o.$imageEl.transition(0),t.zoom.isScaling=!0):o.$imageEl=void 0},onGestureChange:function(e){var t=this,i=t.support,r=t.params.zoom,s=t.zoom,o=s.gesture;if(!i.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;s.fakeGestureMoved=!0,o.scaleMove=ax.getDistanceBetweenTouches(e)}o.$imageEl&&0!==o.$imageEl.length?(s.scale=i.gestures?e.scale*s.currentScale:o.scaleMove/o.scaleStart*s.currentScale,s.scale>o.maxRatio&&(s.scale=o.maxRatio-1+Math.pow(s.scale-o.maxRatio+1,.5)),s.scale<r.minRatio&&(s.scale=r.minRatio+1-Math.pow(r.minRatio-s.scale+1,.5)),o.$imageEl.transform("translate3d(0,0,0) scale("+s.scale+")")):"gesturechange"===e.type&&s.onGestureStart(e)},onGestureEnd:function(e){var t=this,s=t.params.zoom,o=t.zoom,a=o.gesture;if(!t.support.gestures){if(!o.fakeGestureTouched||!o.fakeGestureMoved||"touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2&&!t.device.android)return;o.fakeGestureTouched=!1,o.fakeGestureMoved=!1}!a.$imageEl||0===a.$imageEl.length||(o.scale=Math.max(Math.min(o.scale,a.maxRatio),s.minRatio),a.$imageEl.transition(t.params.speed).transform("translate3d(0,0,0) scale("+o.scale+")"),o.currentScale=o.scale,o.isScaling=!1,1===o.scale&&(a.$slideEl=void 0))},onTouchStart:function(e){var r=this.zoom,s=r.gesture,o=r.image;!s.$imageEl||0===s.$imageEl.length||o.isTouched||(this.device.android&&e.cancelable&&e.preventDefault(),o.isTouched=!0,o.touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,o.touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY)},onTouchMove:function(e){var t=this,i=t.zoom,r=i.gesture,s=i.image,o=i.velocity;if(r.$imageEl&&0!==r.$imageEl.length&&(t.allowClick=!1,s.isTouched&&r.$slideEl)){s.isMoved||(s.width=r.$imageEl[0].offsetWidth,s.height=r.$imageEl[0].offsetHeight,s.startX=W0(r.$imageWrapEl[0],"x")||0,s.startY=W0(r.$imageWrapEl[0],"y")||0,r.slideWidth=r.$slideEl[0].offsetWidth,r.slideHeight=r.$slideEl[0].offsetHeight,r.$imageWrapEl.transition(0));var a=s.width*i.scale,l=s.height*i.scale;if(!(a<r.slideWidth&&l<r.slideHeight)){if(s.minX=Math.min(r.slideWidth/2-a/2,0),s.maxX=-s.minX,s.minY=Math.min(r.slideHeight/2-l/2,0),s.maxY=-s.minY,s.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,s.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!s.isMoved&&!i.isScaling){if(t.isHorizontal()&&(Math.floor(s.minX)===Math.floor(s.startX)&&s.touchesCurrent.x<s.touchesStart.x||Math.floor(s.maxX)===Math.floor(s.startX)&&s.touchesCurrent.x>s.touchesStart.x))return void(s.isTouched=!1);if(!t.isHorizontal()&&(Math.floor(s.minY)===Math.floor(s.startY)&&s.touchesCurrent.y<s.touchesStart.y||Math.floor(s.maxY)===Math.floor(s.startY)&&s.touchesCurrent.y>s.touchesStart.y))return void(s.isTouched=!1)}e.cancelable&&e.preventDefault(),e.stopPropagation(),s.isMoved=!0,s.currentX=s.touchesCurrent.x-s.touchesStart.x+s.startX,s.currentY=s.touchesCurrent.y-s.touchesStart.y+s.startY,s.currentX<s.minX&&(s.currentX=s.minX+1-Math.pow(s.minX-s.currentX+1,.8)),s.currentX>s.maxX&&(s.currentX=s.maxX-1+Math.pow(s.currentX-s.maxX+1,.8)),s.currentY<s.minY&&(s.currentY=s.minY+1-Math.pow(s.minY-s.currentY+1,.8)),s.currentY>s.maxY&&(s.currentY=s.maxY-1+Math.pow(s.currentY-s.maxY+1,.8)),o.prevPositionX||(o.prevPositionX=s.touchesCurrent.x),o.prevPositionY||(o.prevPositionY=s.touchesCurrent.y),o.prevTime||(o.prevTime=Date.now()),o.x=(s.touchesCurrent.x-o.prevPositionX)/(Date.now()-o.prevTime)/2,o.y=(s.touchesCurrent.y-o.prevPositionY)/(Date.now()-o.prevTime)/2,Math.abs(s.touchesCurrent.x-o.prevPositionX)<2&&(o.x=0),Math.abs(s.touchesCurrent.y-o.prevPositionY)<2&&(o.y=0),o.prevPositionX=s.touchesCurrent.x,o.prevPositionY=s.touchesCurrent.y,o.prevTime=Date.now(),r.$imageWrapEl.transform("translate3d("+s.currentX+"px, "+s.currentY+"px,0)")}}},onTouchEnd:function(){var t=this.zoom,i=t.gesture,r=t.image,s=t.velocity;if(i.$imageEl&&0!==i.$imageEl.length){if(!r.isTouched||!r.isMoved)return r.isTouched=!1,void(r.isMoved=!1);r.isTouched=!1,r.isMoved=!1;var o=300,a=300,c=r.currentX+s.x*o,d=r.currentY+s.y*a;0!==s.x&&(o=Math.abs((c-r.currentX)/s.x)),0!==s.y&&(a=Math.abs((d-r.currentY)/s.y));var h=Math.max(o,a);r.currentX=c,r.currentY=d;var p=r.height*t.scale;r.minX=Math.min(i.slideWidth/2-r.width*t.scale/2,0),r.maxX=-r.minX,r.minY=Math.min(i.slideHeight/2-p/2,0),r.maxY=-r.minY,r.currentX=Math.max(Math.min(r.currentX,r.maxX),r.minX),r.currentY=Math.max(Math.min(r.currentY,r.maxY),r.minY),i.$imageWrapEl.transition(h).transform("translate3d("+r.currentX+"px, "+r.currentY+"px,0)")}},onTransitionEnd:function(){var e=this,t=e.zoom,i=t.gesture;i.$slideEl&&e.previousIndex!==e.activeIndex&&(i.$imageEl&&i.$imageEl.transform("translate3d(0,0,0) scale(1)"),i.$imageWrapEl&&i.$imageWrapEl.transform("translate3d(0,0,0)"),t.scale=1,t.currentScale=1,i.$slideEl=void 0,i.$imageEl=void 0,i.$imageWrapEl=void 0)},toggle:function(e){var i=this.zoom;i.scale&&1!==i.scale?i.out():i.in(e)},in:function(e){var l,c,h,f,p,g,v,b,x,M,S,C,w,t=this,i=Vt(),r=t.zoom,s=t.params.zoom,o=r.gesture,a=r.image;o.$slideEl||(e&&e.target&&(o.$slideEl=Oe(e.target).closest("."+t.params.slideClass)),o.$slideEl||(o.$slideEl=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.$wrapperEl.children("."+t.params.slideActiveClass):t.slides.eq(t.activeIndex)),o.$imageEl=o.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),o.$imageWrapEl=o.$imageEl.parent("."+s.containerClass)),o.$imageEl&&0!==o.$imageEl.length&&o.$imageWrapEl&&0!==o.$imageWrapEl.length&&(o.$slideEl.addClass(""+s.zoomedSlideClass),typeof a.touchesStart.x>"u"&&e?(l="touchend"===e.type?e.changedTouches[0].pageX:e.pageX,c="touchend"===e.type?e.changedTouches[0].pageY:e.pageY):(l=a.touchesStart.x,c=a.touchesStart.y),r.scale=o.$imageWrapEl.attr("data-swiper-zoom")||s.maxRatio,r.currentScale=o.$imageWrapEl.attr("data-swiper-zoom")||s.maxRatio,e?(C=o.$slideEl[0].offsetWidth,w=o.$slideEl[0].offsetHeight,h=o.$slideEl.offset().left+i.scrollX+C/2-l,f=o.$slideEl.offset().top+i.scrollY+w/2-c,v=o.$imageEl[0].offsetHeight*r.scale,b=Math.min(C/2-o.$imageEl[0].offsetWidth*r.scale/2,0),x=Math.min(w/2-v/2,0),(p=h*r.scale)<b&&(p=b),p>(M=-b)&&(p=M),(g=f*r.scale)<x&&(g=x),g>(S=-x)&&(g=S)):(p=0,g=0),o.$imageWrapEl.transition(300).transform("translate3d("+p+"px, "+g+"px,0)"),o.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+r.scale+")"))},out:function(){var e=this,t=e.zoom,i=e.params.zoom,r=t.gesture;r.$slideEl||(r.$slideEl=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.$wrapperEl.children("."+e.params.slideActiveClass):e.slides.eq(e.activeIndex),r.$imageEl=r.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),r.$imageWrapEl=r.$imageEl.parent("."+i.containerClass)),r.$imageEl&&0!==r.$imageEl.length&&r.$imageWrapEl&&0!==r.$imageWrapEl.length&&(t.scale=1,t.currentScale=1,r.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),r.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),r.$slideEl.removeClass(""+i.zoomedSlideClass),r.$slideEl=void 0)},toggleGestures:function(e){var t=this,i=t.zoom,r=i.slideSelector,s=i.passiveListener;t.$wrapperEl[e]("gesturestart",r,i.onGestureStart,s),t.$wrapperEl[e]("gesturechange",r,i.onGestureChange,s),t.$wrapperEl[e]("gestureend",r,i.onGestureEnd,s)},enableGestures:function(){this.zoom.gesturesEnabled||(this.zoom.gesturesEnabled=!0,this.zoom.toggleGestures("on"))},disableGestures:function(){this.zoom.gesturesEnabled&&(this.zoom.gesturesEnabled=!1,this.zoom.toggleGestures("off"))},enable:function(){var e=this,t=e.support,i=e.zoom;if(!i.enabled){i.enabled=!0;var r=!("touchstart"!==e.touchEvents.start||!t.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1},s=!t.passiveListener||{passive:!1,capture:!0},o="."+e.params.slideClass;e.zoom.passiveListener=r,e.zoom.slideSelector=o,t.gestures?(e.$wrapperEl.on(e.touchEvents.start,e.zoom.enableGestures,r),e.$wrapperEl.on(e.touchEvents.end,e.zoom.disableGestures,r)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.on(e.touchEvents.start,o,i.onGestureStart,r),e.$wrapperEl.on(e.touchEvents.move,o,i.onGestureChange,s),e.$wrapperEl.on(e.touchEvents.end,o,i.onGestureEnd,r),e.touchEvents.cancel&&e.$wrapperEl.on(e.touchEvents.cancel,o,i.onGestureEnd,r)),e.$wrapperEl.on(e.touchEvents.move,"."+e.params.zoom.containerClass,i.onTouchMove,s)}},disable:function(){var e=this,t=e.zoom;if(t.enabled){var i=e.support;e.zoom.enabled=!1;var r=!("touchstart"!==e.touchEvents.start||!i.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1},s=!i.passiveListener||{passive:!1,capture:!0},o="."+e.params.slideClass;i.gestures?(e.$wrapperEl.off(e.touchEvents.start,e.zoom.enableGestures,r),e.$wrapperEl.off(e.touchEvents.end,e.zoom.disableGestures,r)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.off(e.touchEvents.start,o,t.onGestureStart,r),e.$wrapperEl.off(e.touchEvents.move,o,t.onGestureChange,s),e.$wrapperEl.off(e.touchEvents.end,o,t.onGestureEnd,r),e.touchEvents.cancel&&e.$wrapperEl.off(e.touchEvents.cancel,o,t.onGestureEnd,r)),e.$wrapperEl.off(e.touchEvents.move,"."+e.params.zoom.containerClass,t.onTouchMove,s)}}};function lx(){return lx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},lx.apply(this,arguments)}var MK={loadInSlide:function(e,t){void 0===t&&(t=!0);var i=this,r=i.params.lazy;if(!(typeof e>"u")&&0!==i.slides.length){var o=i.virtual&&i.params.virtual.enabled?i.$wrapperEl.children("."+i.params.slideClass+'[data-swiper-slide-index="'+e+'"]'):i.slides.eq(e),a=o.find("."+r.elementClass+":not(."+r.loadedClass+"):not(."+r.loadingClass+")");o.hasClass(r.elementClass)&&!o.hasClass(r.loadedClass)&&!o.hasClass(r.loadingClass)&&a.push(o[0]),0!==a.length&&a.each(function(l){var c=Oe(l);c.addClass(r.loadingClass);var u=c.attr("data-background"),d=c.attr("data-src"),h=c.attr("data-srcset"),f=c.attr("data-sizes"),p=c.parent("picture");i.loadImage(c[0],d||u,h,f,!1,function(){if(!(typeof i>"u"||null===i||!i||i&&!i.params||i.destroyed)){if(u?(c.css("background-image",'url("'+u+'")'),c.removeAttr("data-background")):(h&&(c.attr("srcset",h),c.removeAttr("data-srcset")),f&&(c.attr("sizes",f),c.removeAttr("data-sizes")),p.length&&p.children("source").each(function(y){var v=Oe(y);v.attr("data-srcset")&&(v.attr("srcset",v.attr("data-srcset")),v.removeAttr("data-srcset"))}),d&&(c.attr("src",d),c.removeAttr("data-src"))),c.addClass(r.loadedClass).removeClass(r.loadingClass),o.find("."+r.preloaderClass).remove(),i.params.loop&&t){var g=o.attr("data-swiper-slide-index");if(o.hasClass(i.params.slideDuplicateClass)){var _=i.$wrapperEl.children('[data-swiper-slide-index="'+g+'"]:not(.'+i.params.slideDuplicateClass+")");i.lazy.loadInSlide(_.index(),!1)}else{var m=i.$wrapperEl.children("."+i.params.slideDuplicateClass+'[data-swiper-slide-index="'+g+'"]');i.lazy.loadInSlide(m.index(),!1)}}i.emit("lazyImageReady",o[0],c[0]),i.params.autoHeight&&i.updateAutoHeight()}}),i.emit("lazyImageLoad",o[0],c[0])})}},load:function(){var e=this,t=e.$wrapperEl,i=e.params,r=e.slides,s=e.activeIndex,o=e.virtual&&i.virtual.enabled,a=i.lazy,l=i.slidesPerView;function c(b){if(o){if(t.children("."+i.slideClass+'[data-swiper-slide-index="'+b+'"]').length)return!0}else if(r[b])return!0;return!1}function u(b){return o?Oe(b).attr("data-swiper-slide-index"):Oe(b).index()}if("auto"===l&&(l=0),e.lazy.initialImageLoaded||(e.lazy.initialImageLoaded=!0),e.params.watchSlidesVisibility)t.children("."+i.slideVisibleClass).each(function(b){var x=o?Oe(b).attr("data-swiper-slide-index"):Oe(b).index();e.lazy.loadInSlide(x)});else if(l>1)for(var d=s;d<s+l;d+=1)c(d)&&e.lazy.loadInSlide(d);else e.lazy.loadInSlide(s);if(a.loadPrevNext)if(l>1||a.loadPrevNextAmount&&a.loadPrevNextAmount>1){for(var h=a.loadPrevNextAmount,f=l,p=Math.min(s+f+Math.max(h,f),r.length),g=Math.max(s-Math.max(f,h),0),_=s+l;_<p;_+=1)c(_)&&e.lazy.loadInSlide(_);for(var m=g;m<s;m+=1)c(m)&&e.lazy.loadInSlide(m)}else{var y=t.children("."+i.slideNextClass);y.length>0&&e.lazy.loadInSlide(u(y));var v=t.children("."+i.slidePrevClass);v.length>0&&e.lazy.loadInSlide(u(v))}},checkInViewOnLoad:function(){var e=Vt(),t=this;if(t&&!t.destroyed){var i=Oe(t.params.lazy.scrollingElement?t.params.lazy.scrollingElement:e),r=i[0]===e,s=r?e.innerWidth:i[0].offsetWidth,o=r?e.innerHeight:i[0].offsetHeight,a=t.$el.offset(),c=!1;t.rtlTranslate&&(a.left-=t.$el[0].scrollLeft);for(var u=[[a.left,a.top],[a.left+t.width,a.top],[a.left,a.top+t.height],[a.left+t.width,a.top+t.height]],d=0;d<u.length;d+=1){var h=u[d];if(h[0]>=0&&h[0]<=s&&h[1]>=0&&h[1]<=o){if(0===h[0]&&0===h[1])continue;c=!0}}var f=!("touchstart"!==t.touchEvents.start||!t.support.passiveListener||!t.params.passiveListeners)&&{passive:!0,capture:!1};c?(t.lazy.load(),i.off("scroll",t.lazy.checkInViewOnLoad,f)):t.lazy.scrollHandlerAttached||(t.lazy.scrollHandlerAttached=!0,i.on("scroll",t.lazy.checkInViewOnLoad,f))}}};function cx(){return cx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},cx.apply(this,arguments)}var ux={LinearSpline:function(e,t){var a,l,c,r,s,i=function(u,d){for(l=-1,a=u.length;a-l>1;)u[c=a+l>>1]<=d?l=c:a=c;return a};return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(a){return a?(s=i(this.x,a),(a-this.x[r=s-1])*(this.y[s]-this.y[r])/(this.x[s]-this.x[r])+this.y[r]):0},this},getInterpolateFunction:function(e){var t=this;t.controller.spline||(t.controller.spline=t.params.loop?new ux.LinearSpline(t.slidesGrid,e.slidesGrid):new ux.LinearSpline(t.snapGrid,e.snapGrid))},setTranslate:function(e,t){var s,o,i=this,r=i.controller.control,a=i.constructor;function l(u){var d=i.rtlTranslate?-i.translate:i.translate;"slide"===i.params.controller.by&&(i.controller.getInterpolateFunction(u),o=-i.controller.spline.interpolate(-d)),(!o||"container"===i.params.controller.by)&&(s=(u.maxTranslate()-u.minTranslate())/(i.maxTranslate()-i.minTranslate()),o=(d-i.minTranslate())*s+u.minTranslate()),i.params.controller.inverse&&(o=u.maxTranslate()-o),u.updateProgress(o),u.setTranslate(o,i),u.updateActiveIndex(),u.updateSlidesClasses()}if(Array.isArray(r))for(var c=0;c<r.length;c+=1)r[c]!==t&&r[c]instanceof a&&l(r[c]);else r instanceof a&&t!==r&&l(r)},setTransition:function(e,t){var o,i=this,r=i.constructor,s=i.controller.control;function a(l){l.setTransition(e,i),0!==e&&(l.transitionStart(),l.params.autoHeight&&Ho(function(){l.updateAutoHeight()}),l.$wrapperEl.transitionEnd(function(){s&&(l.params.loop&&"slide"===i.params.controller.by&&l.loopFix(),l.transitionEnd())}))}if(Array.isArray(s))for(o=0;o<s.length;o+=1)s[o]!==t&&s[o]instanceof r&&a(s[o]);else s instanceof r&&t!==s&&a(s)}};function dx(){return dx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},dx.apply(this,arguments)}var CK={getRandomNumber:function(e){return void 0===e&&(e=16),"x".repeat(e).replace(/x/g,function(){return Math.round(16*Math.random()).toString(16)})},makeElFocusable:function(e){return e.attr("tabIndex","0"),e},makeElNotFocusable:function(e){return e.attr("tabIndex","-1"),e},addElRole:function(e,t){return e.attr("role",t),e},addElRoleDescription:function(e,t){return e.attr("aria-roledescription",t),e},addElControls:function(e,t){return e.attr("aria-controls",t),e},addElLabel:function(e,t){return e.attr("aria-label",t),e},addElId:function(e,t){return e.attr("id",t),e},addElLive:function(e,t){return e.attr("aria-live",t),e},disableEl:function(e){return e.attr("aria-disabled",!0),e},enableEl:function(e){return e.attr("aria-disabled",!1),e},onEnterOrSpaceKey:function(e){if(13===e.keyCode||32===e.keyCode){var t=this,i=t.params.a11y,r=Oe(e.target);t.navigation&&t.navigation.$nextEl&&r.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.a11y.notify(t.isEnd?i.lastSlideMessage:i.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&r.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.a11y.notify(t.isBeginning?i.firstSlideMessage:i.prevSlideMessage)),t.pagination&&r.is(ro(t.params.pagination.bulletClass))&&r[0].click()}},notify:function(e){var i=this.a11y.liveRegion;0!==i.length&&(i.html(""),i.html(e))},updateNavigation:function(){var e=this;if(!e.params.loop&&e.navigation){var t=e.navigation,i=t.$nextEl,r=t.$prevEl;r&&r.length>0&&(e.isBeginning?(e.a11y.disableEl(r),e.a11y.makeElNotFocusable(r)):(e.a11y.enableEl(r),e.a11y.makeElFocusable(r))),i&&i.length>0&&(e.isEnd?(e.a11y.disableEl(i),e.a11y.makeElNotFocusable(i)):(e.a11y.enableEl(i),e.a11y.makeElFocusable(i)))}},updatePagination:function(){var e=this,t=e.params.a11y;e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.bullets.each(function(i){var r=Oe(i);e.a11y.makeElFocusable(r),e.params.pagination.renderBullet||(e.a11y.addElRole(r,"button"),e.a11y.addElLabel(r,t.paginationBulletMessage.replace(/\{\{index\}\}/,r.index()+1)))})},init:function(){var e=this,t=e.params.a11y;e.$el.append(e.a11y.liveRegion);var i=e.$el;t.containerRoleDescriptionMessage&&e.a11y.addElRoleDescription(i,t.containerRoleDescriptionMessage),t.containerMessage&&e.a11y.addElLabel(i,t.containerMessage);var r=e.$wrapperEl,s=r.attr("id")||"swiper-wrapper-"+e.a11y.getRandomNumber(16),o=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";e.a11y.addElId(r,s),e.a11y.addElLive(r,o),t.itemRoleDescriptionMessage&&e.a11y.addElRoleDescription(Oe(e.slides),t.itemRoleDescriptionMessage),e.a11y.addElRole(Oe(e.slides),t.slideRole);var l,c,a=e.params.loop?e.slides.filter(function(u){return!u.classList.contains(e.params.slideDuplicateClass)}).length:e.slides.length;e.slides.each(function(u,d){var h=Oe(u),f=e.params.loop?parseInt(h.attr("data-swiper-slide-index"),10):d,p=t.slideLabelMessage.replace(/\{\{index\}\}/,f+1).replace(/\{\{slidesLength\}\}/,a);e.a11y.addElLabel(h,p)}),e.navigation&&e.navigation.$nextEl&&(l=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(c=e.navigation.$prevEl),l&&l.length&&(e.a11y.makeElFocusable(l),"BUTTON"!==l[0].tagName&&(e.a11y.addElRole(l,"button"),l.on("keydown",e.a11y.onEnterOrSpaceKey)),e.a11y.addElLabel(l,t.nextSlideMessage),e.a11y.addElControls(l,s)),c&&c.length&&(e.a11y.makeElFocusable(c),"BUTTON"!==c[0].tagName&&(e.a11y.addElRole(c,"button"),c.on("keydown",e.a11y.onEnterOrSpaceKey)),e.a11y.addElLabel(c,t.prevSlideMessage),e.a11y.addElControls(c,s)),e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.$el.on("keydown",ro(e.params.pagination.bulletClass),e.a11y.onEnterOrSpaceKey)},destroy:function(){var t,i,e=this;e.a11y.liveRegion&&e.a11y.liveRegion.length>0&&e.a11y.liveRegion.remove(),e.navigation&&e.navigation.$nextEl&&(t=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(i=e.navigation.$prevEl),t&&t.off("keydown",e.a11y.onEnterOrSpaceKey),i&&i.off("keydown",e.a11y.onEnterOrSpaceKey),e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.$el.off("keydown",ro(e.params.pagination.bulletClass),e.a11y.onEnterOrSpaceKey)}};function hx(){return hx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},hx.apply(this,arguments)}var qd={init:function(){var e=this,t=Vt();if(e.params.history){if(!t.history||!t.history.pushState)return e.params.history.enabled=!1,void(e.params.hashNavigation.enabled=!0);var i=e.history;i.initialized=!0,i.paths=qd.getPathValues(e.params.url),(i.paths.key||i.paths.value)&&(i.scrollToSlide(0,i.paths.value,e.params.runCallbacksOnInit),e.params.history.replaceState||t.addEventListener("popstate",e.history.setHistoryPopState))}},destroy:function(){var t=Vt();this.params.history.replaceState||t.removeEventListener("popstate",this.history.setHistoryPopState)},setHistoryPopState:function(){var e=this;e.history.paths=qd.getPathValues(e.params.url),e.history.scrollToSlide(e.params.speed,e.history.paths.value,!1)},getPathValues:function(e){var t=Vt(),r=(e?new URL(e):t.location).pathname.slice(1).split("/").filter(function(l){return""!==l}),s=r.length;return{key:r[s-2],value:r[s-1]}},setHistory:function(e,t){var i=this,r=Vt();if(i.history.initialized&&i.params.history.enabled){var s;s=i.params.url?new URL(i.params.url):r.location;var o=i.slides.eq(t),a=qd.slugify(o.attr("data-history"));if(i.params.history.root.length>0){var l=i.params.history.root;"/"===l[l.length-1]&&(l=l.slice(0,l.length-1)),a=l+"/"+e+"/"+a}else s.pathname.includes(e)||(a=e+"/"+a);var c=r.history.state;c&&c.value===a||(i.params.history.replaceState?r.history.replaceState({value:a},null,a):r.history.pushState({value:a},null,a))}},slugify:function(e){return e.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,t,i){var r=this;if(t)for(var s=0,o=r.slides.length;s<o;s+=1){var a=r.slides.eq(s);if(qd.slugify(a.attr("data-history"))===t&&!a.hasClass(r.params.slideDuplicateClass)){var c=a.index();r.slideTo(c,e,i)}}else r.slideTo(0,e,i)}};function fx(){return fx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},fx.apply(this,arguments)}var DK={onHashChange:function(){var e=this,t=rn();e.emit("hashChange");var i=t.location.hash.replace("#","");if(i!==e.slides.eq(e.activeIndex).attr("data-hash")){var s=e.$wrapperEl.children("."+e.params.slideClass+'[data-hash="'+i+'"]').index();if(typeof s>"u")return;e.slideTo(s)}},setHash:function(){var e=this,t=Vt(),i=rn();if(e.hashNavigation.initialized&&e.params.hashNavigation.enabled)if(e.params.hashNavigation.replaceState&&t.history&&t.history.replaceState)t.history.replaceState(null,null,"#"+e.slides.eq(e.activeIndex).attr("data-hash")||0),e.emit("hashSet");else{var r=e.slides.eq(e.activeIndex),s=r.attr("data-hash")||r.attr("data-history");i.location.hash=s||"",e.emit("hashSet")}},init:function(){var e=this,t=rn(),i=Vt();if(!(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)){e.hashNavigation.initialized=!0;var r=t.location.hash.replace("#","");if(r)for(var o=0,a=e.slides.length;o<a;o+=1){var l=e.slides.eq(o);if((l.attr("data-hash")||l.attr("data-history"))===r&&!l.hasClass(e.params.slideDuplicateClass)){var u=l.index();e.slideTo(u,0,e.params.runCallbacksOnInit,!0)}}e.params.hashNavigation.watchState&&Oe(i).on("hashchange",e.hashNavigation.onHashChange)}},destroy:function(){var t=Vt();this.params.hashNavigation.watchState&&Oe(t).off("hashchange",this.hashNavigation.onHashChange)}};function px(){return px=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},px.apply(this,arguments)}var RK={run:function(){var e=this,t=e.slides.eq(e.activeIndex),i=e.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(i=t.attr("data-swiper-autoplay")||e.params.autoplay.delay),clearTimeout(e.autoplay.timeout),e.autoplay.timeout=Ho(function(){var r;e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),r=e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(r=e.slideTo(e.slides.length-1,e.params.speed,!0,!0),e.emit("autoplay")):(r=e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.params.loop?(e.loopFix(),r=e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(r=e.slideTo(0,e.params.speed,!0,!0),e.emit("autoplay")):(r=e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")),(e.params.cssMode&&e.autoplay.running||!1===r)&&e.autoplay.run()},i)},start:function(){var e=this;return!(typeof e.autoplay.timeout<"u"||e.autoplay.running||(e.autoplay.running=!0,e.emit("autoplayStart"),e.autoplay.run(),0))},stop:function(){var e=this;return!(!e.autoplay.running||typeof e.autoplay.timeout>"u"||(e.autoplay.timeout&&(clearTimeout(e.autoplay.timeout),e.autoplay.timeout=void 0),e.autoplay.running=!1,e.emit("autoplayStop"),0))},pause:function(e){var t=this;t.autoplay.running&&(t.autoplay.paused||(t.autoplay.timeout&&clearTimeout(t.autoplay.timeout),t.autoplay.paused=!0,0!==e&&t.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach(function(i){t.$wrapperEl[0].addEventListener(i,t.autoplay.onTransitionEnd)}):(t.autoplay.paused=!1,t.autoplay.run())))},onVisibilityChange:function(){var e=this,t=rn();"hidden"===t.visibilityState&&e.autoplay.running&&e.autoplay.pause(),"visible"===t.visibilityState&&e.autoplay.paused&&(e.autoplay.run(),e.autoplay.paused=!1)},onTransitionEnd:function(e){var t=this;!t||t.destroyed||!t.$wrapperEl||e.target===t.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(function(i){t.$wrapperEl[0].removeEventListener(i,t.autoplay.onTransitionEnd)}),t.autoplay.paused=!1,t.autoplay.running?t.autoplay.run():t.autoplay.stop())},onMouseEnter:function(){var e=this;e.params.autoplay.disableOnInteraction?e.autoplay.stop():e.autoplay.pause(),["transitionend","webkitTransitionEnd"].forEach(function(t){e.$wrapperEl[0].removeEventListener(t,e.autoplay.onTransitionEnd)})},onMouseLeave:function(){var e=this;e.params.autoplay.disableOnInteraction||(e.autoplay.paused=!1,e.autoplay.run())},attachMouseEvents:function(){var e=this;e.params.autoplay.pauseOnMouseEnter&&(e.$el.on("mouseenter",e.autoplay.onMouseEnter),e.$el.on("mouseleave",e.autoplay.onMouseLeave))},detachMouseEvents:function(){var e=this;e.$el.off("mouseenter",e.autoplay.onMouseEnter),e.$el.off("mouseleave",e.autoplay.onMouseLeave)}};function mx(){return mx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},mx.apply(this,arguments)}var OK={setTranslate:function(){for(var e=this,t=e.slides,i=0;i<t.length;i+=1){var r=e.slides.eq(i),o=-r[0].swiperSlideOffset;e.params.virtualTranslate||(o-=e.translate);var a=0;e.isHorizontal()||(a=o,o=0);var l=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(r[0].progress),0):1+Math.min(Math.max(r[0].progress,-1),0);r.css({opacity:l}).transform("translate3d("+o+"px, "+a+"px, 0px)")}},setTransition:function(e){var t=this,i=t.slides,r=t.$wrapperEl;if(i.transition(e),t.params.virtualTranslate&&0!==e){var s=!1;i.transitionEnd(function(){if(!s&&t&&!t.destroyed){s=!0,t.animating=!1;for(var o=["webkitTransitionEnd","transitionend"],a=0;a<o.length;a+=1)r.trigger(o[a])}})}}};function gx(){return gx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},gx.apply(this,arguments)}var kK={setTranslate:function(){var p,e=this,t=e.$el,i=e.$wrapperEl,r=e.slides,s=e.width,o=e.height,a=e.rtlTranslate,l=e.size,c=e.browser,u=e.params.cubeEffect,d=e.isHorizontal(),h=e.virtual&&e.params.virtual.enabled,f=0;u.shadow&&(d?(0===(p=i.find(".swiper-cube-shadow")).length&&(p=Oe('<div class="swiper-cube-shadow"></div>'),i.append(p)),p.css({height:s+"px"})):0===(p=t.find(".swiper-cube-shadow")).length&&(p=Oe('<div class="swiper-cube-shadow"></div>'),t.append(p)));for(var g=0;g<r.length;g+=1){var _=r.eq(g),m=g;h&&(m=parseInt(_.attr("data-swiper-slide-index"),10));var y=90*m,v=Math.floor(y/360);a&&(y=-y,v=Math.floor(-y/360));var b=Math.max(Math.min(_[0].progress,1),-1),x=0,M=0,S=0;if(m%4==0?(x=4*-v*l,S=0):(m-1)%4==0?(x=0,S=4*-v*l):(m-2)%4==0?(x=l+4*v*l,S=l):(m-3)%4==0&&(x=-l,S=3*l+4*l*v),a&&(x=-x),d||(M=x,x=0),b<=1&&b>-1&&(f=90*m+90*b,a&&(f=90*-m-90*b)),_.transform("rotateX("+(d?0:-y)+"deg) rotateY("+(d?y:0)+"deg) translate3d("+x+"px, "+M+"px, "+S+"px)"),u.slideShadows){var w=_.find(d?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),E=_.find(d?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===w.length&&(w=Oe('<div class="swiper-slide-shadow-'+(d?"left":"top")+'"></div>'),_.append(w)),0===E.length&&(E=Oe('<div class="swiper-slide-shadow-'+(d?"right":"bottom")+'"></div>'),_.append(E)),w.length&&(w[0].style.opacity=Math.max(-b,0)),E.length&&(E[0].style.opacity=Math.max(b,0))}}if(i.css({"-webkit-transform-origin":"50% 50% -"+l/2+"px","-moz-transform-origin":"50% 50% -"+l/2+"px","-ms-transform-origin":"50% 50% -"+l/2+"px","transform-origin":"50% 50% -"+l/2+"px"}),u.shadow)if(d)p.transform("translate3d(0px, "+(s/2+u.shadowOffset)+"px, "+-s/2+"px) rotateX(90deg) rotateZ(0deg) scale("+u.shadowScale+")");else{var L=Math.abs(f)-90*Math.floor(Math.abs(f)/90),U=1.5-(Math.sin(2*L*Math.PI/360)/2+Math.cos(2*L*Math.PI/360)/2),N=u.shadowScale/U;p.transform("scale3d("+u.shadowScale+", 1, "+N+") translate3d(0px, "+(o/2+u.shadowOffset)+"px, "+-o/2/N+"px) rotateX(-90deg)")}i.transform("translate3d(0px,0,"+(c.isSafari||c.isWebView?-l/2:0)+"px) rotateX("+(e.isHorizontal()?0:f)+"deg) rotateY("+(e.isHorizontal()?-f:0)+"deg)")},setTransition:function(e){var t=this,i=t.$el;t.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.cubeEffect.shadow&&!t.isHorizontal()&&i.find(".swiper-cube-shadow").transition(e)}};function _x(){return _x=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_x.apply(this,arguments)}var FK={setTranslate:function(){for(var e=this,t=e.slides,i=e.rtlTranslate,r=0;r<t.length;r+=1){var s=t.eq(r),o=s[0].progress;e.params.flipEffect.limitRotation&&(o=Math.max(Math.min(s[0].progress,1),-1));var c=-180*o,u=0,d=-s[0].swiperSlideOffset,h=0;if(e.isHorizontal()?i&&(c=-c):(h=d,d=0,u=-c,c=0),s[0].style.zIndex=-Math.abs(Math.round(o))+t.length,e.params.flipEffect.slideShadows){var f=e.isHorizontal()?s.find(".swiper-slide-shadow-left"):s.find(".swiper-slide-shadow-top"),p=e.isHorizontal()?s.find(".swiper-slide-shadow-right"):s.find(".swiper-slide-shadow-bottom");0===f.length&&(f=Oe('<div class="swiper-slide-shadow-'+(e.isHorizontal()?"left":"top")+'"></div>'),s.append(f)),0===p.length&&(p=Oe('<div class="swiper-slide-shadow-'+(e.isHorizontal()?"right":"bottom")+'"></div>'),s.append(p)),f.length&&(f[0].style.opacity=Math.max(-o,0)),p.length&&(p[0].style.opacity=Math.max(o,0))}s.transform("translate3d("+d+"px, "+h+"px, 0px) rotateX("+u+"deg) rotateY("+c+"deg)")}},setTransition:function(e){var t=this,i=t.slides,r=t.activeIndex,s=t.$wrapperEl;if(i.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.virtualTranslate&&0!==e){var o=!1;i.eq(r).transitionEnd(function(){if(!o&&t&&!t.destroyed){o=!0,t.animating=!1;for(var l=["webkitTransitionEnd","transitionend"],c=0;c<l.length;c+=1)s.trigger(l[c])}})}}};function vx(){return vx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},vx.apply(this,arguments)}var UK={setTranslate:function(){for(var e=this,t=e.width,i=e.height,r=e.slides,s=e.slidesSizesGrid,o=e.params.coverflowEffect,a=e.isHorizontal(),l=e.translate,c=a?t/2-l:i/2-l,u=a?o.rotate:-o.rotate,d=o.depth,h=0,f=r.length;h<f;h+=1){var p=r.eq(h),g=s[h],m=(c-p[0].swiperSlideOffset-g/2)/g*o.modifier,y=a?u*m:0,v=a?0:u*m,b=-d*Math.abs(m),x=o.stretch;"string"==typeof x&&-1!==x.indexOf("%")&&(x=parseFloat(o.stretch)/100*g);var M=a?0:x*m,S=a?x*m:0,C=1-(1-o.scale)*Math.abs(m);if(Math.abs(S)<.001&&(S=0),Math.abs(M)<.001&&(M=0),Math.abs(b)<.001&&(b=0),Math.abs(y)<.001&&(y=0),Math.abs(v)<.001&&(v=0),Math.abs(C)<.001&&(C=0),p.transform("translate3d("+S+"px,"+M+"px,"+b+"px)  rotateX("+v+"deg) rotateY("+y+"deg) scale("+C+")"),p[0].style.zIndex=1-Math.abs(Math.round(m)),o.slideShadows){var E=p.find(a?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),L=p.find(a?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===E.length&&(E=Oe('<div class="swiper-slide-shadow-'+(a?"left":"top")+'"></div>'),p.append(E)),0===L.length&&(L=Oe('<div class="swiper-slide-shadow-'+(a?"right":"bottom")+'"></div>'),p.append(L)),E.length&&(E[0].style.opacity=m>0?m:0),L.length&&(L[0].style.opacity=-m>0?-m:0)}}},setTransition:function(e){this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}};function yx(){return yx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},yx.apply(this,arguments)}var HK={init:function(){var e=this,t=e.params.thumbs;if(e.thumbs.initialized)return!1;e.thumbs.initialized=!0;var i=e.constructor;return t.swiper instanceof i?(e.thumbs.swiper=t.swiper,At(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),At(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):Tc(t.swiper)&&(e.thumbs.swiper=new i(At({},t.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),e.thumbs.swiperCreated=!0),e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",e.thumbs.onThumbClick),!0},onThumbClick:function(){var e=this,t=e.thumbs.swiper;if(t){var i=t.clickedIndex,r=t.clickedSlide;if(!(r&&Oe(r).hasClass(e.params.thumbs.slideThumbActiveClass)||typeof i>"u"||null===i)){var s;if(s=t.params.loop?parseInt(Oe(t.clickedSlide).attr("data-swiper-slide-index"),10):i,e.params.loop){var o=e.activeIndex;e.slides.eq(o).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,o=e.activeIndex);var a=e.slides.eq(o).prevAll('[data-swiper-slide-index="'+s+'"]').eq(0).index(),l=e.slides.eq(o).nextAll('[data-swiper-slide-index="'+s+'"]').eq(0).index();s=typeof a>"u"?l:typeof l>"u"?a:l-o<o-a?l:a}e.slideTo(s)}}},update:function(e){var t=this,i=t.thumbs.swiper;if(i){var r="auto"===i.params.slidesPerView?i.slidesPerViewDynamic():i.params.slidesPerView,s=t.params.thumbs.autoScrollOffset,o=s&&!i.params.loop;if(t.realIndex!==i.realIndex||o){var l,c,a=i.activeIndex;if(i.params.loop){i.slides.eq(a).hasClass(i.params.slideDuplicateClass)&&(i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft,a=i.activeIndex);var u=i.slides.eq(a).prevAll('[data-swiper-slide-index="'+t.realIndex+'"]').eq(0).index(),d=i.slides.eq(a).nextAll('[data-swiper-slide-index="'+t.realIndex+'"]').eq(0).index();l=typeof u>"u"?d:typeof d>"u"?u:d-a==a-u?i.params.slidesPerGroup>1?d:a:d-a<a-u?d:u,c=t.activeIndex>t.previousIndex?"next":"prev"}else c=(l=t.realIndex)>t.previousIndex?"next":"prev";o&&(l+="next"===c?s:-1*s),i.visibleSlidesIndexes&&i.visibleSlidesIndexes.indexOf(l)<0&&(i.params.centeredSlides&&(l=l>a?l-Math.floor(r/2)+1:l+Math.floor(r/2)-1),i.slideTo(l,e?0:void 0))}var h=1,f=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(h=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(h=1),h=Math.floor(h),i.slides.removeClass(f),i.params.loop||i.params.virtual&&i.params.virtual.enabled)for(var p=0;p<h;p+=1)i.$wrapperEl.children('[data-swiper-slide-index="'+(t.realIndex+p)+'"]').addClass(f);else for(var g=0;g<h;g+=1)i.slides.eq(t.realIndex+g).addClass(f)}}};QP.use([cK,dK,{name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}},create:function(){Un(this,{mousewheel:{enabled:!1,lastScrollTime:ji(),lastEventBeforeSnap:void 0,recentWheelEvents:[],enable:vs.enable,disable:vs.disable,handle:vs.handle,handleMouseEnter:vs.handleMouseEnter,handleMouseLeave:vs.handleMouseLeave,animateSlider:vs.animateSlider,releaseScroll:vs.releaseScroll}})},on:{init:function(e){!e.params.mousewheel.enabled&&e.params.cssMode&&e.mousewheel.disable(),e.params.mousewheel.enabled&&e.mousewheel.enable()},destroy:function(e){e.params.cssMode&&e.mousewheel.enable(),e.mousewheel.enabled&&e.mousewheel.disable()}}},{name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){Un(this,{navigation:nx({},pK)})},on:{init:function(e){e.navigation.init(),e.navigation.update()},toEdge:function(e){e.navigation.update()},fromEdge:function(e){e.navigation.update()},destroy:function(e){e.navigation.destroy()},"enable disable":function(e){var t=e.navigation,i=t.$nextEl,r=t.$prevEl;i&&i[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass),r&&r[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass)},click:function(e,t){var i=e.navigation,r=i.$nextEl,s=i.$prevEl,o=t.target;if(e.params.navigation.hideOnClick&&!Oe(o).is(s)&&!Oe(o).is(r)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===o||e.pagination.el.contains(o)))return;var a;r?a=r.hasClass(e.params.navigation.hiddenClass):s&&(a=s.hasClass(e.params.navigation.hiddenClass)),e.emit(!0===a?"navigationShow":"navigationHide"),r&&r.toggleClass(e.params.navigation.hiddenClass),s&&s.toggleClass(e.params.navigation.hiddenClass)}}}},{name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(e){return e},formatFractionTotal:function(e){return e},bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){Un(this,{pagination:ix({dynamicBulletIndex:0},gK)})},on:{init:function(e){e.pagination.init(),e.pagination.render(),e.pagination.update()},activeIndexChange:function(e){(e.params.loop||typeof e.snapIndex>"u")&&e.pagination.update()},snapIndexChange:function(e){e.params.loop||e.pagination.update()},slidesLengthChange:function(e){e.params.loop&&(e.pagination.render(),e.pagination.update())},snapGridLengthChange:function(e){e.params.loop||(e.pagination.render(),e.pagination.update())},destroy:function(e){e.pagination.destroy()},"enable disable":function(e){var t=e.pagination.$el;t&&t[e.enabled?"removeClass":"addClass"](e.params.pagination.lockClass)},click:function(e,t){var i=t.target;if(e.params.pagination.el&&e.params.pagination.hideOnClick&&e.pagination.$el.length>0&&!Oe(i).hasClass(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&i===e.navigation.nextEl||e.navigation.prevEl&&i===e.navigation.prevEl))return;var r=e.pagination.$el.hasClass(e.params.pagination.hiddenClass);e.emit(!0===r?"paginationShow":"paginationHide"),e.pagination.$el.toggleClass(e.params.pagination.hiddenClass)}}}},{name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){Un(this,{scrollbar:rx({isTouched:!1,timeout:null,dragTimeout:null},vK)})},on:{init:function(e){e.scrollbar.init(),e.scrollbar.updateSize(),e.scrollbar.setTranslate()},update:function(e){e.scrollbar.updateSize()},resize:function(e){e.scrollbar.updateSize()},observerUpdate:function(e){e.scrollbar.updateSize()},setTranslate:function(e){e.scrollbar.setTranslate()},setTransition:function(e,t){e.scrollbar.setTransition(t)},"enable disable":function(e){var t=e.scrollbar.$el;t&&t[e.enabled?"removeClass":"addClass"](e.params.scrollbar.lockClass)},destroy:function(e){e.scrollbar.destroy()}}},{name:"parallax",params:{parallax:{enabled:!1}},create:function(){Un(this,{parallax:sx({},bK)})},on:{beforeInit:function(e){e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},init:function(e){e.params.parallax.enabled&&e.parallax.setTranslate()},setTranslate:function(e){e.params.parallax.enabled&&e.parallax.setTranslate()},setTransition:function(e,t){e.params.parallax.enabled&&e.parallax.setTransition(t)}}},{name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var e=this;Un(e,{zoom:ox({enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}},ax)});var t=1;Object.defineProperty(e.zoom,"scale",{get:function(){return t},set:function(r){t!==r&&e.emit("zoomChange",r,e.zoom.gesture.$imageEl?e.zoom.gesture.$imageEl[0]:void 0,e.zoom.gesture.$slideEl?e.zoom.gesture.$slideEl[0]:void 0),t=r}})},on:{init:function(e){e.params.zoom.enabled&&e.zoom.enable()},destroy:function(e){e.zoom.disable()},touchStart:function(e,t){e.zoom.enabled&&e.zoom.onTouchStart(t)},touchEnd:function(e,t){e.zoom.enabled&&e.zoom.onTouchEnd(t)},doubleTap:function(e,t){!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&e.zoom.toggle(t)},transitionEnd:function(e){e.zoom.enabled&&e.params.zoom.enabled&&e.zoom.onTransitionEnd()},slideChange:function(e){e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&e.zoom.onTransitionEnd()}}},{name:"lazy",params:{lazy:{checkInView:!1,enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,scrollingElement:"",elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){Un(this,{lazy:lx({initialImageLoaded:!1},MK)})},on:{beforeInit:function(e){e.params.lazy.enabled&&e.params.preloadImages&&(e.params.preloadImages=!1)},init:function(e){e.params.lazy.enabled&&!e.params.loop&&0===e.params.initialSlide&&(e.params.lazy.checkInView?e.lazy.checkInViewOnLoad():e.lazy.load())},scroll:function(e){e.params.freeMode&&!e.params.freeModeSticky&&e.lazy.load()},"scrollbarDragMove resize _freeModeNoMomentumRelease":function(e){e.params.lazy.enabled&&e.lazy.load()},transitionStart:function(e){e.params.lazy.enabled&&(e.params.lazy.loadOnTransitionStart||!e.params.lazy.loadOnTransitionStart&&!e.lazy.initialImageLoaded)&&e.lazy.load()},transitionEnd:function(e){e.params.lazy.enabled&&!e.params.lazy.loadOnTransitionStart&&e.lazy.load()},slideChange:function(e){var t=e.params;t.lazy.enabled&&(t.cssMode||(t.watchSlidesVisibility||t.watchSlidesProgress)&&(t.touchReleaseOnEdges||0===t.resistanceRatio))&&e.lazy.load()}}},{name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){Un(this,{controller:cx({control:this.params.controller.control},ux)})},on:{update:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},resize:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},observerUpdate:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},setTranslate:function(e,t,i){e.controller.control&&e.controller.setTranslate(t,i)},setTransition:function(e,t,i){e.controller.control&&e.controller.setTransition(t,i)}}},{name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group"}},create:function(){Un(this,{a11y:dx({},CK,{liveRegion:Oe('<span class="'+this.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>')})})},on:{afterInit:function(e){e.params.a11y.enabled&&(e.a11y.init(),e.a11y.updateNavigation())},toEdge:function(e){e.params.a11y.enabled&&e.a11y.updateNavigation()},fromEdge:function(e){e.params.a11y.enabled&&e.a11y.updateNavigation()},paginationUpdate:function(e){e.params.a11y.enabled&&e.a11y.updatePagination()},destroy:function(e){e.params.a11y.enabled&&e.a11y.destroy()}}},{name:"history",params:{history:{enabled:!1,root:"",replaceState:!1,key:"slides"}},create:function(){Un(this,{history:hx({},qd)})},on:{init:function(e){e.params.history.enabled&&e.history.init()},destroy:function(e){e.params.history.enabled&&e.history.destroy()},"transitionEnd _freeModeNoMomentumRelease":function(e){e.history.initialized&&e.history.setHistory(e.params.history.key,e.activeIndex)},slideChange:function(e){e.history.initialized&&e.params.cssMode&&e.history.setHistory(e.params.history.key,e.activeIndex)}}},{name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){Un(this,{hashNavigation:fx({initialized:!1},DK)})},on:{init:function(e){e.params.hashNavigation.enabled&&e.hashNavigation.init()},destroy:function(e){e.params.hashNavigation.enabled&&e.hashNavigation.destroy()},"transitionEnd _freeModeNoMomentumRelease":function(e){e.hashNavigation.initialized&&e.hashNavigation.setHash()},slideChange:function(e){e.hashNavigation.initialized&&e.params.cssMode&&e.hashNavigation.setHash()}}},{name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}},create:function(){Un(this,{autoplay:px({},RK,{running:!1,paused:!1})})},on:{init:function(e){e.params.autoplay.enabled&&(e.autoplay.start(),rn().addEventListener("visibilitychange",e.autoplay.onVisibilityChange),e.autoplay.attachMouseEvents())},beforeTransitionStart:function(e,t,i){e.autoplay.running&&(i||!e.params.autoplay.disableOnInteraction?e.autoplay.pause(t):e.autoplay.stop())},sliderFirstMove:function(e){e.autoplay.running&&(e.params.autoplay.disableOnInteraction?e.autoplay.stop():e.autoplay.pause())},touchEnd:function(e){e.params.cssMode&&e.autoplay.paused&&!e.params.autoplay.disableOnInteraction&&e.autoplay.run()},destroy:function(e){e.autoplay.detachMouseEvents(),e.autoplay.running&&e.autoplay.stop(),rn().removeEventListener("visibilitychange",e.autoplay.onVisibilityChange)}}},{name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){Un(this,{fadeEffect:mx({},OK)})},on:{beforeInit:function(e){if("fade"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"fade");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};At(e.params,t),At(e.originalParams,t)}},setTranslate:function(e){"fade"===e.params.effect&&e.fadeEffect.setTranslate()},setTransition:function(e,t){"fade"===e.params.effect&&e.fadeEffect.setTransition(t)}}},{name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){Un(this,{cubeEffect:gx({},kK)})},on:{beforeInit:function(e){if("cube"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"cube"),e.classNames.push(e.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};At(e.params,t),At(e.originalParams,t)}},setTranslate:function(e){"cube"===e.params.effect&&e.cubeEffect.setTranslate()},setTransition:function(e,t){"cube"===e.params.effect&&e.cubeEffect.setTransition(t)}}},{name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){Un(this,{flipEffect:_x({},FK)})},on:{beforeInit:function(e){if("flip"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"flip"),e.classNames.push(e.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};At(e.params,t),At(e.originalParams,t)}},setTranslate:function(e){"flip"===e.params.effect&&e.flipEffect.setTranslate()},setTransition:function(e,t){"flip"===e.params.effect&&e.flipEffect.setTransition(t)}}},{name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}},create:function(){Un(this,{coverflowEffect:vx({},UK)})},on:{beforeInit:function(e){"coverflow"===e.params.effect&&(e.classNames.push(e.params.containerModifierClass+"coverflow"),e.classNames.push(e.params.containerModifierClass+"3d"),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},setTranslate:function(e){"coverflow"===e.params.effect&&e.coverflowEffect.setTranslate()},setTransition:function(e,t){"coverflow"===e.params.effect&&e.coverflowEffect.setTransition(t)}}},{name:"thumbs",params:{thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){Un(this,{thumbs:yx({swiper:null,initialized:!1},HK)})},on:{beforeInit:function(e){var t=e.params.thumbs;!t||!t.swiper||(e.thumbs.init(),e.thumbs.update(!0))},slideChange:function(e){e.thumbs.swiper&&e.thumbs.update()},update:function(e){e.thumbs.swiper&&e.thumbs.update()},resize:function(e){e.thumbs.swiper&&e.thumbs.update()},observerUpdate:function(e){e.thumbs.swiper&&e.thumbs.update()},setTransition:function(e,t){var i=e.thumbs.swiper;i&&i.setTransition(t)},beforeDestroy:function(e){var t=e.thumbs.swiper;t&&e.thumbs.swiperCreated&&t&&t.destroy()}}}]);const GK=function(n){return{"swiper-container":n}},WK=["*"];let jK=(()=>{class n{constructor(t,i){this.elementRef=t,this.changeDetectorRef=i,this.slideCount=0,this.initialized=!1,this.shouldInitialize=!0}set initialize(t){this.shouldInitialize=!this.initialized&&t}ngAfterViewInit(){this.shouldInitialize&&this.setup()}setup(){this.swiper||(this.elementRef.nativeElement.querySelector&&(this.swiperWrapper=this.elementRef.nativeElement.querySelector(".swiper-wrapper"),this.slideCount=this.swiperWrapper.childElementCount,this.swiper=new QP(this.elementRef.nativeElement.querySelector("swiper > div"),this.config),this.changeDetectorRef.detectChanges()),this.shouldInitialize=!1)}ngAfterViewChecked(){this.shouldInitialize&&this.setup(),this.swiperWrapper&&this.slideCount!==this.swiperWrapper.childElementCount&&(this.slideCount=this.swiperWrapper.childElementCount,this.swiper.update())}ngOnDestroy(){this.swiper.destroy(!0,!0)}}return n.\u0275fac=function(t){return new(t||n)(H(Bt),H(ir))},n.\u0275cmp=tn({type:n,selectors:[["swiper"]],inputs:{initialize:"initialize",config:"config"},ngContentSelectors:WK,decls:2,vars:3,consts:[[3,"ngClass"]],template:function(t,i){1&t&&(Vs(),G(0,"div",0),Si(1),$()),2&t&&ze("ngClass",Ti(1,GK,void 0===(null==i.config?null:i.config.containerModifierClass)))},dependencies:[hs],styles:["[_nghost-%COMP%]{display:block}.swiper-container[_ngcontent-%COMP%]{height:100%;width:100%}"],changeDetection:0}),n})(),$K=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({imports:[sc]}),n})();function XK(n,e){if(1&n&&We(0,"img",7),2&n){const i=e.index;ze("src",e.$implicit,bv)("alt",i)}}const qK=function(n,e,t){return{fullscreen:n,portrait:e,landscape:t}};let YK=(()=>{class n{constructor(){this.config={pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},spaceBetween:30,autoplay:{disableOnInteraction:!1},effect:"slide",loop:!1,observer:!0,observeParents:!0}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=tn({type:n,selectors:[["app-swiper"]],inputs:{name:"name",images:"images",portrait:"portrait",fullscreen:"fullscreen"},decls:9,vars:8,consts:[[1,"container"],[1,"swiper",3,"config","ngClass"],[1,"swiper-wrapper"],["class","swiper-slide",3,"src","alt",4,"ngFor","ngForOf"],[1,"swiper-button-prev"],[1,"swiper-button-next"],[1,"swiper-pagination"],[1,"swiper-slide",3,"src","alt"]],template:function(t,i){1&t&&(G(0,"div",0)(1,"h2"),J(2),$(),G(3,"swiper",1)(4,"div",2),Ei(5,XK,1,2,"img",3),$(),We(6,"button",4)(7,"button",5)(8,"div",6),$()()),2&t&&(Fe(2),_a(i.name),Fe(1),ze("config",i.config)("ngClass",fy(4,qK,i.fullscreen,i.portrait&&!i.fullscreen,!i.portrait&&!i.fullscreen)),Fe(2),ze("ngForOf",i.images))},dependencies:[hs,gp,jK],styles:["*[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.container[_ngcontent-%COMP%]{width:1000px;height:auto;margin-bottom:50px}.swiper[_ngcontent-%COMP%]{overflow:hidden;position:relative;display:flex;margin-left:auto;margin-right:auto;border-radius:var(--rounded)}.landscape[_ngcontent-%COMP%]{width:1000px;aspect-ratio:3/2}.portrait[_ngcontent-%COMP%]{width:500px;aspect-ratio:4/5}.fullscreen[_ngcontent-%COMP%]{width:100%;height:100%}.swiper-wrapper[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:row}.swiper-slide[_ngcontent-%COMP%]{width:1000px;height:auto;position:relative;background-color:#000}.swiper-slide[_ngcontent-%COMP%]{display:block;width:100%;height:100%;object-fit:cover}img[_ngcontent-%COMP%]{width:100%;border-radius:var(--rounded)}button[_ngcontent-%COMP%]{width:5%;height:100%;top:0;margin:0;position:absolute;opacity:1;color:#fff;background:none;border:none;outline:none;padding-left:unset;padding-right:unset;padding:unset;min-width:unset;box-shadow:unset;border-radius:unset;transition:opacity .25s ease-in-out}button.swiper-button-disabled[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:focus{opacity:.2}button[_ngcontent-%COMP%]:hover{opacity:.8}button[_ngcontent-%COMP%]:before, button[_ngcontent-%COMP%]:after{font-size:24px}.swiper-pagination-bullet[_ngcontent-%COMP%]{background-color:#fff}h2[_ngcontent-%COMP%]{font-size:25px;font-weight:300;margin-top:0}@media only screen and (max-width: 1200px){.container[_ngcontent-%COMP%], .landscape[_ngcontent-%COMP%]{width:800px}.portrait[_ngcontent-%COMP%]{width:400px}}@media only screen and (max-width: 900px){.container[_ngcontent-%COMP%], .landscape[_ngcontent-%COMP%]{width:500px}.portrait[_ngcontent-%COMP%]{width:250px}h2[_ngcontent-%COMP%]{font-size:20px}}@media only screen and (max-width: 600px){.container[_ngcontent-%COMP%], .landscape[_ngcontent-%COMP%]{width:300px}}"]}),n})(),JP=(()=>{class n{constructor(t){this.elementRef=t,this.src=""}get element(){return this.elementRef.nativeElement}ngOnInit(){this._source=this.element.src||this.src,this._createElement()}openMoal(){this.modal_frame.classList.add("open")}_createElement(){this.modal_frame=document.createElement("div"),this.modal_frame.id="modal-frame",this.modal_image=document.createElement("img"),this.modal_image.id="modal-image",this.modal_image.src=this._source,this.modal_frame.appendChild(this.modal_image),document.body.appendChild(this.modal_frame),this.modal_frame.addEventListener("click",()=>{this.modal_frame.classList.remove("open")}),this.parallax&&document.addEventListener("mousemove",t=>{let i=.01*(50-t.clientX-window.innerWidth/2),r=.01*(50-t.clientY-window.innerHeight/2);this.modal_image.style.transform=`translateX(${i}px) translateY(${r}px)`})}}return n.\u0275fac=function(t){return new(t||n)(H(Bt))},n.\u0275dir=Ke({type:n,selectors:[["","ModalView",""]],hostBindings:function(t,i){1&t&&st("click",function(){return i.openMoal()})},inputs:{src:"src",parallax:"parallax"}}),n})();function KK(n,e){1&n&&(G(0,"div",11)(1,"button",12),st("contextmenu",function(){return!1}),J(2,"View image"),$()()),2&n&&(Fe(1),ze("src","assets/images/profile-2.jpg"))}const ZK=function(){return["C / C++ / Python / JavaScript / TypeScript"]},QK=function(n){return{icon:"fa-code",title:"Coding",descriptions:n}},JK=function(){return["Angular / VueJs"]},eZ=function(n){return{icon:"fa-sticky-note-o ",title:"Web Design",descriptions:n}},tZ=function(){return["Modeling, Lighting, Rendering","Blender"]},nZ=function(n){return{icon:"fa-cube",title:"3D Art",descriptions:n,url:"3d"}},iZ=function(n,e,t){return[n,e,t]},rZ=function(){return["assets/images/lifestyle/0.jpg","assets/images/lifestyle/1.jpg","assets/images/lifestyle/2.jpg","assets/images/lifestyle/3.jpg","assets/images/lifestyle/4.jpg"]};let sZ=(()=>{class n{constructor(t,i){this.theme=t,this.router=i}}return n.\u0275fac=function(t){return new(t||n)(H(_s),H(yn))},n.\u0275cmp=tn({type:n,selectors:[["app-about-me"]],decls:29,vars:18,consts:[["id","content"],[1,"scroll-reveal"],["id","about"],["id","me","src","assets/images/profile-2.jpg","ModalView","",3,"cdkContextMenuTriggerFor"],["id","greeting"],[1,"buttons"],["id","resume",1,"animated-btn",3,"click"],["id","contact",1,"animated-btn",3,"click"],["name","What I do",3,"items"],["name","Lifestyle picture",3,"portrait","images"],["Image",""],["cdkMenu","",1,"ContextMenu"],["cdkMenuItem","","ModalView","",1,"ContextMenu-Item",3,"src","contextmenu"]],template:function(t,i){if(1&t&&(G(0,"app-page")(1,"div",0)(2,"section",1)(3,"div",2),We(4,"img",3),G(5,"span",4)(6,"h1"),J(7,"Peeradon Rungkanawut"),$(),G(8,"p"),J(9," I have passion in programming and primarily use Python "),We(10,"br"),J(11," as my main programming language. Currently, I'm also studying Angular "),We(12,"br"),J(13," for web development."),We(14,"br")(15,"br"),J(16," I enjoy learning different things to meet my developmental goals. "),We(17,"br"),$(),G(18,"div",5)(19,"button",6),st("click",function(){return i.router.navigateByUrl("resume")}),J(20,"View resume"),$(),G(21,"button",7),st("click",function(){return i.router.navigateByUrl("contact")}),J(22,"Contact me"),$()()()()(),G(23,"section",1),We(24,"app-flex-card-box",8),$(),G(25,"section",1),We(26,"app-swiper",9),$()()(),Ei(27,KK,3,1,"ng-template",null,10,ba)),2&t){const r=ql(28);Fe(4),ze("cdkContextMenuTriggerFor",r),Fe(20),ze("items",fy(13,iZ,Ti(5,QK,ya(4,ZK)),Ti(8,eZ,ya(7,JK)),Ti(11,nZ,ya(10,tZ)))),Fe(2),ze("portrait",!0)("images",ya(17,rZ))}},dependencies:[Gd,Bo,P0,Cc,GP,YK,JP],styles:["*[_ngcontent-%COMP%]{transition:all .2s ease-in-out}#personal[_ngcontent-%COMP%]{width:800px;height:500px}#me[_ngcontent-%COMP%]{width:250px;height:250px;clip-path:circle(50% at 50% 50%);margin:50px;object-fit:cover}.aura[_ngcontent-%COMP%]{filter:drop-shadow(0 0 10px var(--alpha-scheme-color))}.hidden-modal[_ngcontent-%COMP%]{animation:fadeOut ease .2s}.hidden-img[_ngcontent-%COMP%]{animation:fadeOut-popup ease .2s}#content[_ngcontent-%COMP%]{margin-top:100px;margin-bottom:150px;display:flex;flex-direction:column;align-items:center;gap:150px}#about[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:50px}#greeting[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:left;margin-top:0}.buttons[_ngcontent-%COMP%]{display:flex;margin-top:30px;gap:10px}#contact[_ngcontent-%COMP%]{border:unset;background-color:var(--scheme-color);color:var(--white1)}#resume[_ngcontent-%COMP%]{border:unset}@media only screen and (max-width: 1200px){#me[_ngcontent-%COMP%]{width:200px;height:200px}#about[_ngcontent-%COMP%]{font-size:80%;line-height:140%}}@media only screen and (max-width: 900px){#about[_ngcontent-%COMP%]{flex-direction:column;font-size:70%}#greeting[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center}.buttons[_ngcontent-%COMP%]{justify-content:center}}@media only screen and (max-width: 600px){#me[_ngcontent-%COMP%]{width:150px;height:150px;margin:25px}#about[_ngcontent-%COMP%]{font-size:55%}#greeting[_ngcontent-%COMP%]{margin-top:30px;min-width:300px}p[_ngcontent-%COMP%]{padding-left:10px}}"]}),n})(),oZ=(()=>{class n{constructor(t){this.router=t}ngOnInit(){this.router.navigateByUrl("aboutme")}}return n.\u0275fac=function(t){return new(t||n)(H(yn))},n.\u0275cmp=tn({type:n,selectors:[["app-landing"]],decls:1,vars:0,template:function(t,i){1&t&&We(0,"head")},styles:["#personal[_ngcontent-%COMP%]{width:800px;height:500px}#me[_ngcontent-%COMP%]{width:250px;height:250px;clip-path:circle(50% at 50% 50%);box-shadow:0 0 20px #00000080;margin:50px;object-fit:cover}.container[_ngcontent-%COMP%]{margin-top:150px;margin-bottom:150px;display:flex;align-items:center}h1[_ngcontent-%COMP%]{text-align:left}@media only screen and (max-width: 1200px){#me[_ngcontent-%COMP%]{width:200px;height:200px}.container[_ngcontent-%COMP%]{font-size:80%}}@media only screen and (max-width: 900px){.container[_ngcontent-%COMP%]{flex-direction:column;font-size:70%}}@media only screen and (max-width: 600px){#me[_ngcontent-%COMP%]{width:150px;height:150px;margin:25px}.container[_ngcontent-%COMP%]{font-size:50%}#greeting[_ngcontent-%COMP%]{min-width:300px}}"]}),n})();function eO(n,e,t,i,r,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(i,r)}function tO(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function o(l){eO(s,i,r,o,a,"next",l)}function a(l){eO(s,i,r,o,a,"throw",l)}o(void 0)})}}const lZ=function(n,e,t,i,r){return{darkcard:n,whitecard:e,fullwidth:t,fullheight:i,justborder:r}},cZ=["*"];let bx=(()=>{class n{constructor(t){this.theme=t}}return n.\u0275fac=function(t){return new(t||n)(H(_s))},n.\u0275cmp=tn({type:n,selectors:[["app-card"]],inputs:{fullWidth:"fullWidth",fullHeight:"fullHeight",justBorder:"justBorder"},ngContentSelectors:cZ,decls:2,vars:7,consts:[["id","card",3,"ngClass"]],template:function(t,i){1&t&&(Vs(),G(0,"div",0),Si(1),$()),2&t&&ze("ngClass",RA(1,lZ,i.theme.is_dark,!i.theme.is_dark,i.fullWidth,i.fullHeight,i.justBorder))},dependencies:[hs],styles:["*[_ngcontent-%COMP%]{transition:all .2s ease-in-out}#card[_ngcontent-%COMP%]{min-width:200px;min-height:100px;display:flex;padding:20px;border:none;border-radius:var(--rounded);flex:1 0 200px;backdrop-filter:blur(7.5px);-webkit-backdrop-filter:blur(7.5px);align-items:center;transition:scale .3s ease-in-out,box-shadow .3s ease-in-out,background-color .2s ease-in-out;animation:WalkIn ease 1s}.whitecard[_ngcontent-%COMP%]{background-color:var(--alpha-white2);color:var(--dark3);box-shadow:0 4px 10px #00000026}.darkcard[_ngcontent-%COMP%]{background-color:var(--alpha-dark2);color:var(--white3);box-shadow:0 5px 10px #00000059}#card.fullwidth[_ngcontent-%COMP%]{width:100%}#card.fullheight[_ngcontent-%COMP%]{height:100%;align-items:flex-start;flex-direction:column}#card.justborder[_ngcontent-%COMP%]{background-color:transparent;box-shadow:none!important}#card.justborder.whitecard[_ngcontent-%COMP%]{border:1px solid var(--alpha-dark);color:var(--dark3)}#card.justborder.darkcard[_ngcontent-%COMP%]{border:1px solid var(--alpha-white);color:var(--white3)}"]}),n})();const nO=function(n,e){return{"dark-theme":n,"white-theme":e}};let uZ=(()=>{class n{constructor(t,i){this.theme=t,this._snackBar=i}HireMe(){return tO(function*(){let t=document.getElementById("card");t.style.scale="1.05",yield function aZ(n){return new Promise(e=>setTimeout(e,n))}(750),t.style.scale="1.0"})()}OnCopy(){this._snackBar.open("Copied!","Done",{duration:3e3})}}return n.\u0275fac=function(t){return new(t||n)(H(_s),H(x9))},n.\u0275cmp=tn({type:n,selectors:[["app-contact"]],decls:26,vars:10,consts:[["id","content"],["id","buttons"],["id","icon-btn","href","https://www.facebook.com/thestampr","target","_blank","matTooltipPosition","above","matTooltip","Facebook",1,"animated-btn","fa","fa-facebook"],["id","icon-btn","href","https://www.instagram.com/__stampr/","target","_blank","matTooltipPosition","above","matTooltip","Instagram",1,"animated-btn","fa","fa-instagram"],["id","icon-btn","href","https://www.linkedin.com/in/stampr/","target","_blank","matTooltipPosition","above","matTooltip","Linkedin",1,"animated-btn","fa","fa-linkedin"],["id","icon-btn","href","https://github.com/thestampr","target","_blank","matTooltipPosition","above","matTooltip","Github",1,"animated-btn","fa","fa-github"],[1,"or"],["id","hire","matTooltipPosition","above","matTooltip","Click to see the magic",1,"animated-btn",3,"click"],["id","personal"],[1,"personal-item",3,"ngClass"],["id","icon",1,"icon-small","fa","fa-envelope"],["id","clone-btn","matTooltipPosition","above","matTooltip","Copy",1,"fa","fa-clone",3,"cdkCopyToClipboard","click"],["id","icon",1,"icon-small","fa","fa-phone"]],template:function(t,i){1&t&&(G(0,"app-page")(1,"div",0)(2,"h1"),J(3,"Contact me"),$(),We(4,"br"),G(5,"div",1),We(6,"a",2)(7,"a",3)(8,"a",4)(9,"a",5),G(10,"div",6)(11,"span"),J(12," or "),$()(),G(13,"button",7),st("click",function(){return i.HireMe()}),J(14,"Hire me"),$()(),G(15,"app-card")(16,"div",8)(17,"div",9),We(18,"i",10),J(19," thestampmc@gmail.com "),G(20,"button",11),st("click",function(){return i.OnCopy()}),$()(),We(21,"br"),G(22,"div",9),We(23,"i",12),J(24," 090-935-1529 "),G(25,"button",11),st("click",function(){return i.OnCopy()}),$()()()()()()),2&t&&(Fe(17),ze("ngClass",Kn(4,nO,i.theme.is_dark,!i.theme.is_dark)),Fe(3),ze("cdkCopyToClipboard","thestampmc@gmail.com"),Fe(2),ze("ngClass",Kn(7,nO,i.theme.is_dark,!i.theme.is_dark)),Fe(3),ze("cdkCopyToClipboard","0909351529"))},dependencies:[hs,aP,YX,Cc,bx],styles:["*[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.fa[_ngcontent-%COMP%]{width:50px;height:50px;font-size:30px;text-align:center;text-decoration:none;border-radius:50%;padding:10px;color:var(--dark3);background-color:var(--white1);box-shadow:0 4px 10px #0000001a}.personal-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:400px}.personal-item[_ngcontent-%COMP%]:hover   #clone-btn[_ngcontent-%COMP%]{opacity:100%}#clone-btn[_ngcontent-%COMP%]{width:40px;height:40px;min-width:unset;min-height:unset;font-size:15px;text-align:center;text-decoration:none;border:none;background-color:unset;box-shadow:none;border-radius:50%;padding:10px;margin-left:auto;opacity:0%}#content[_ngcontent-%COMP%]{margin-top:100px;margin-bottom:100px;display:flex;flex-direction:column;align-items:center}#buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:100px;gap:15px;padding:10px}#buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}#hire[_ngcontent-%COMP%]{height:50px;min-height:unset;align-self:center;border:none;font-size:15px;border:unset;background-color:var(--white1);color:var(--dark3)}.or[_ngcontent-%COMP%]{opacity:.5;font-size:15px}.dark-theme[_ngcontent-%COMP%]   #clone-btn[_ngcontent-%COMP%]{color:var(--white3)}#icon[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:0;background-color:transparent;box-shadow:none}.dark-theme[_ngcontent-%COMP%]   #icon[_ngcontent-%COMP%]{color:var(--white3)}@media only screen and (max-width: 900px){.fa[_ngcontent-%COMP%]{width:45px;height:45px;font-size:25px}#hire[_ngcontent-%COMP%]{height:45px;align-self:flex-end}}@media only screen and (max-width: 600px){#buttons[_ngcontent-%COMP%]{gap:12px}#hire[_ngcontent-%COMP%]{height:40px}.personal-item[_ngcontent-%COMP%]{width:300px}.fa[_ngcontent-%COMP%]{width:40px;height:40px;font-size:20px}.or[_ngcontent-%COMP%]{font-size:12px}}"]}),n})(),dZ=(()=>{class n{constructor(t,i){this.theme=t,this.router=i}}return n.\u0275fac=function(t){return new(t||n)(H(_s),H(yn))},n.\u0275cmp=tn({type:n,selectors:[["app-page-not-found"]],decls:8,vars:0,consts:[["id","content"],["id","back",1,"animated-btn",3,"click"]],template:function(t,i){1&t&&(G(0,"app-page")(1,"div",0)(2,"h1"),J(3,"404"),$(),G(4,"p"),J(5,"Uh sorry, this is not the way :("),$(),G(6,"button",1),st("click",function(){return i.router.navigateByUrl("")}),J(7,"Go back"),$()()())},dependencies:[Cc],styles:["*[_ngcontent-%COMP%]{transition:all .2s ease-in-out}#content[_ngcontent-%COMP%]{height:80vh;display:flex;justify-content:center;align-items:center;flex-direction:column}h1[_ngcontent-%COMP%]{padding-bottom:0;margin-bottom:100px;font-size:150px;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif}p[_ngcontent-%COMP%]{margin-bottom:100px}"]}),n})();function iO(n){return new ce(3e3,!1)}function $Z(){return typeof window<"u"&&typeof window.document<"u"}function xx(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Vo(n){switch(n.length){case 0:return new Ud;case 1:return n[0];default:return new XR(n)}}function rO(n,e,t,i,r=new Map,s=new Map){const o=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const d=u.get("offset"),h=d==l,f=h&&c||new Map;u.forEach((p,g)=>{let _=g,m=p;if("offset"!==g)switch(_=e.normalizePropertyName(_,o),m){case R0:m=r.get(g);break;case eo:m=s.get(g);break;default:m=e.normalizeStyleValue(g,_,m,o)}f.set(_,m)}),h||a.push(f),c=f,l=d}),o.length)throw function LZ(n){return new ce(3502,!1)}();return a}function wx(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Mx(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Mx(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Mx(t,"destroy",n)))}}function Mx(n,e,t){const s=Ex(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function Ex(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function sr(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function sO(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Sx=(n,e)=>!1,oO=(n,e,t)=>[],aO=null;function Cx(n){const e=n.parentNode||n.host;return e===aO?null:e}(xx()||typeof Element<"u")&&($Z()?(aO=(()=>document.documentElement)(),Sx=(n,e)=>{for(;e;){if(e===n)return!0;e=Cx(e)}return!1}):Sx=(n,e)=>n.contains(e),oO=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Aa=null,lO=!1;const cO=Sx,uO=oO;let dO=(()=>{class n{validateStyleProperty(t){return function qZ(n){Aa||(Aa=function YZ(){return typeof document<"u"?document.body:null}()||{},lO=!!Aa.style&&"WebkitAppearance"in Aa.style);let e=!0;return Aa.style&&!function XZ(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Aa.style,!e&&lO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Aa.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return cO(t,i)}getParentElement(t){return Cx(t)}query(t,i,r){return uO(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,o,a=[],l){return new Ud(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})(),Tx=(()=>{class n{}return n.NOOP=new dO,n})();const KZ=1e3,Ax="ng-enter",Om="ng-leave",Lm="ng-trigger",km=".ng-trigger",fO="ng-animating",Dx=".ng-animating";function so(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Ix(parseFloat(e[1]),e[2])}function Ix(n,e){return"s"===e?n*KZ:n}function Nm(n,e,t){return n.hasOwnProperty("duration")?n:function QZ(n,e,t){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(iO()),{duration:0,delay:0,easing:""};r=Ix(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=Ix(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(function hZ(){return new ce(3100,!1)}()),a=!0),s<0&&(e.push(function fZ(){return new ce(3101,!1)}()),a=!0),a&&e.splice(l,0,iO())}return{duration:r,delay:s,easing:o}}(n,e,t)}function Yd(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function pO(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Go(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function gO(n,e,t){return t?e+":"+t+";":""}function _O(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=gO(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=gO(0,nQ(t),n.style[t]));n.setAttribute("style",e)}function ys(n,e,t){n.style&&(e.forEach((i,r)=>{const s=Px(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),xx()&&_O(n))}function Da(n,e){n.style&&(e.forEach((t,i)=>{const r=Px(i);n.style[r]=""}),xx()&&_O(n))}function Kd(n){return Array.isArray(n)?1==n.length?n[0]:jR(n):n}const Rx=new RegExp("{{\\s*(.+?)\\s*}}","g");function vO(n){let e=[];if("string"==typeof n){let t;for(;t=Rx.exec(n);)e.push(t[1]);Rx.lastIndex=0}return e}function Zd(n,e,t){const i=n.toString(),r=i.replace(Rx,(s,o)=>{let a=e[o];return null==a&&(t.push(function mZ(n){return new ce(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function Fm(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const tQ=/-+([a-z0-9])/g;function Px(n){return n.replace(tQ,(...e)=>e[1].toUpperCase())}function nQ(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function or(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function gZ(n){return new ce(3004,!1)}()}}function yO(n,e){return window.getComputedStyle(n)[e]}const zm="*";function lQ(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function cQ(n,e,t){if(":"==n[0]){const l=function uQ(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function IZ(n){return new ce(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function DZ(n){return new ce(3015,!1)}()),e;const r=i[1],s=i[2],o=i[3];e.push(bO(r,o));"<"==s[0]&&!(r==zm&&o==zm)&&e.push(bO(o,r))}(i,t,e)):t.push(n),t}const Hm=new Set(["true","1"]),Vm=new Set(["false","0"]);function bO(n,e){const t=Hm.has(n)||Vm.has(n),i=Hm.has(e)||Vm.has(e);return(r,s)=>{let o=n==zm||n==r,a=e==zm||e==s;return!o&&t&&"boolean"==typeof r&&(o=r?Hm.has(n):Vm.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?Hm.has(e):Vm.has(e)),o&&a}}const dQ=new RegExp("s*:selfs*,?","g");function Ox(n,e,t,i){return new hQ(n).build(e,t,i)}class hQ{constructor(e){this._driver=e}build(e,t,i){const r=new mQ(t);return this._resetContextStyleTimingState(r),or(this,Kd(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function vZ(){return new ce(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push(function yZ(){return new ce(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{vO(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(Fm(s.values()),t.errors.push(function bZ(n,e){return new ce(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=or(this,Kd(e.animation),t);return{type:1,matchers:lQ(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Ia(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>or(this,i,t)),options:Ia(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(o=>{t.currentTime=i;const a=or(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:s,options:Ia(e.options)}}visitAnimate(e,t){const i=function _Q(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Lx(Nm(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Lx(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=Nm(t,e);return Lx(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:pi({});if(5==s.type)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=pi(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===eo?i.push(a):t.errors.push(new ce(3002,!1)):i.push(pO(a));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(t.errors.push(function wZ(n,e,t,i,r){return new ce(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),t.options&&function eQ(n,e,t){const i=e.params||{},r=vO(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function pZ(n){return new ce(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function MZ(){return new ce(3011,!1)}()),i;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(m=>{const y=this._makeStyleAst(m,t);let v=null!=y.offset?y.offset:function gQ(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(y.styles),b=0;return null!=v&&(s++,b=y.offset=v),l=l||b<0||b>1,a=a||b<c,c=b,o.push(b),y});l&&t.errors.push(function EZ(){return new ce(3012,!1)}()),a&&t.errors.push(function SZ(){return new ce(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function CZ(){return new ce(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,_=g.duration;return u.forEach((m,y)=>{const v=h>0?y==f?1:h*y:o[y],b=v*_;t.currentTime=p+g.delay+b,g.duration=b,this._validateStyleAst(m,t),m.offset=v,i.styles.push(m)}),i}visitReference(e,t){return{type:8,animation:or(this,Kd(e.animation),t),options:Ia(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ia(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ia(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function fQ(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(dQ,"")),n=n.replace(/@\*/g,km).replace(/@\w+/g,t=>km+"-"+t.slice(1)).replace(/:animating/g,Dx),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,sr(t.collectedStyles,t.currentQuerySelector,new Map);const a=or(this,Kd(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Ia(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function TZ(){return new ce(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Nm(e.timings,t.errors,!0);return{type:12,animation:or(this,Kd(e.animation),t),timings:i,options:null}}}class mQ{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ia(n){return n?(n=Yd(n)).params&&(n.params=function pQ(n){return n?Yd(n):null}(n.params)):n={},n}function Lx(n,e,t){return{duration:n,delay:e,easing:t}}function kx(n,e,t,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class Gm{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const bQ=new RegExp(":enter","g"),wQ=new RegExp(":leave","g");function Nx(n,e,t,i,r,s=new Map,o=new Map,a,l,c=[]){return(new MQ).buildKeyframes(n,e,t,i,r,s,o,a,l,c)}class MQ{buildKeyframes(e,t,i,r,s,o,a,l,c,u=[]){c=c||new Gm;const d=new Fx(e,t,c,r,s,u,[]);d.options=l;const h=l.delay?so(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),or(this,i,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const _=f[g];if(_.element===t){p=_;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[kx(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const o="number"==typeof s?s:so(Zd(s,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const o=null!=i.duration?so(i.duration):null,a=null!=i.delay?so(i.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),or(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Wm);const o=so(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>or(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?so(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),or(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Nm(t.params?Zd(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?so(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Wm);let o=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),or(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;or(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const Wm={};class Fx{constructor(e,t,i,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Wm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new jm(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=so(i.duration)),null!=i.delay&&(r.delay=so(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Zd(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new Fx(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Wm,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new EQ(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(bQ,"."+this._enterClassName)).replace(wQ,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(function AZ(n){return new ce(3014,!1)}()),a}}class jm{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new jm(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||eo),this._currentKeyframe.set(t,eo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},o=function SQ(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,eo)}else Go(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=Zd(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??eo),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Go(a,new Map,this._backFill);c.forEach((u,d)=>{u===R0?e.add(d):u===eo&&t.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const s=e.size?Fm(e.values()):[],o=t.size?Fm(t.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return kx(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class EQ extends jm{constructor(e,t,i,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=i+t,a=t/o,l=Go(e[0]);l.set("offset",0),s.push(l);const c=Go(e[0]);c.set("offset",MO(a)),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=Go(e[d]);const f=h.get("offset");h.set("offset",MO((t+f*i)/o)),s.push(h)}i=o,t=0,r="",e=s}return kx(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function MO(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Bx{}const CQ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class TQ extends Bx{normalizePropertyName(e,t){return Px(e)}normalizeStyleValue(e,t,i,r){let s="";const o=i.toString().trim();if(CQ.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function _Z(n,e){return new ce(3005,!1)}())}return o+s}}function EO(n,e,t,i,r,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const Ux={};class SO{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function AQ(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||Ux,p=this.buildStyles(i,a&&a.params||Ux,d),g=l&&l.params||Ux,_=this.buildStyles(r,g,d),m=new Set,y=new Map,v=new Map,b="void"===r,x={params:DQ(g,h),delay:this.ast.options?.delay},M=u?[]:Nx(e,t,this.ast.animation,s,o,p,_,x,c,d);let S=0;if(M.forEach(w=>{S=Math.max(w.duration+w.delay,S)}),d.length)return EO(t,this._triggerName,i,r,b,p,_,[],[],y,v,S,d);M.forEach(w=>{const E=w.element,L=sr(y,E,new Set);w.preStyleProps.forEach(R=>L.add(R));const U=sr(v,E,new Set);w.postStyleProps.forEach(R=>U.add(R)),E!==t&&m.add(E)});const C=Fm(m.values());return EO(t,this._triggerName,i,r,b,p,_,M,C,y,v,S)}}function DQ(n,e){const t=Yd(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class IQ{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Yd(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Zd(o,r,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),i.set(a,o)})}),i}}class PQ{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new IQ(r.style,r.options&&r.options.params||{},i))}),CO(this.states,"true","1"),CO(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new SO(e,r,this.states))}),this.fallbackTransition=function OQ(n,e,t){return new SO(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function CO(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const LQ=new Gm;class kQ{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=[],s=Ox(this._driver,t,i,r);if(i.length)throw function kZ(n){return new ce(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=rO(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=Nx(this._driver,t,s,Ax,Om,new Map,new Map,i,LQ,r),o.forEach(u=>{const d=sr(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function NZ(){return new ce(3300,!1)}()),o=[]),r.length)throw function FZ(n){return new ce(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,eo))})});const c=Vo(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function BZ(n){return new ce(3301,!1)}();return t}listen(e,t,i,r){const s=Ex(t,"","","");return wx(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const TO="ng-animate-queued",zx="ng-animate-disabled",zQ=[],AO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},HQ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Sr="__ng_removed";class Hx{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function jQ(n){return n??null}(i?e.value:e),i){const s=Yd(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Qd="void",Vx=new Hx(Qd);class VQ{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Cr(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function UZ(n,e){return new ce(3302,!1)}();if(null==i||0==i.length)throw function zZ(n){return new ce(3303,!1)}();if(!function $Q(n){return"start"==n||"done"==n}(i))throw function HZ(n,e){return new ce(3400,!1)}();const s=sr(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);const a=sr(this._engine.statesByElement,e,new Map);return a.has(t)||(Cr(e,Lm),Cr(e,Lm+"-"+t),a.set(t,Vx)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function VZ(n){return new ce(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),o=new Gx(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Cr(e,Lm),Cr(e,Lm+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new Hx(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=Vx),c.value!==Qd&&l.value===c.value){if(!function YQ(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const g=[],_=s.matchStyles(l.value,l.params,g),m=s.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Da(e,_),ys(e,m)})}return}const h=sr(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!r)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Cr(e,TO),o.onStart(()=>{Ac(e,TO)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const _=this._engine.playersByElement.get(e);if(_){let m=_.indexOf(o);m>=0&&_.splice(m,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,km,!0);i.forEach(r=>{if(r[Sr])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,Qd,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&Vo(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,c=i.get(o)||Vx,u=new Hx(Qd),d=new Gx(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Sr];(!s||s===AO)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Cr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=Ex(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,wx(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class GQ{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new VQ(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if($m(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!$m(t))return;const s=t[Sr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Cr(e,zx)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ac(e,zx))}removeNode(e,t,i,r){if($m(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[Sr]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return $m(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,km,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Dx,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Vo(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Sr];if(t&&t.setForRemoval){if(e[Sr]=AO,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(zx)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Cr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Vo(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function GZ(n){return new ce(3402,!1)}()}_flushAnimations(e,t){const i=new Gm,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(k=>{u.add(k);const z=this.driver.query(k,".ng-animate-queued",!0);for(let V=0;V<z.length;V++)u.add(z[V])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=RO(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((k,z)=>{const V=Ax+g++;p.set(z,V),k.forEach(X=>Cr(X,V))});const _=[],m=new Set,y=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){const z=this.collectedLeaveElements[k],V=z[Sr];V&&V.setForRemoval&&(_.push(z),m.add(z),V.hasAnimation?this.driver.query(z,".ng-star-inserted",!0).forEach(X=>m.add(X)):y.add(z))}const v=new Map,b=RO(h,Array.from(m));b.forEach((k,z)=>{const V=Om+g++;v.set(z,V),k.forEach(X=>Cr(X,V))}),e.push(()=>{f.forEach((k,z)=>{const V=p.get(z);k.forEach(X=>Ac(X,V))}),b.forEach((k,z)=>{const V=v.get(z);k.forEach(X=>Ac(X,V))}),_.forEach(k=>{this.processLeaveNode(k)})});const x=[],M=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(t).forEach(V=>{const X=V.player,ee=V.element;if(x.push(X),this.collectedEnterElements.length){const P=ee[Sr];if(P&&P.setForMove){if(P.previousTriggersValues&&P.previousTriggersValues.has(V.triggerName)){const Ne=P.previousTriggersValues.get(V.triggerName),Ie=this.statesByElement.get(V.element);if(Ie&&Ie.has(V.triggerName)){const he=Ie.get(V.triggerName);he.value=Ne,Ie.set(V.triggerName,he)}}return void X.destroy()}}const be=!d||!this.driver.containsElement(d,ee),ge=v.get(ee),Y=p.get(ee),Z=this._buildInstruction(V,i,Y,ge,be);if(Z.errors&&Z.errors.length)return void M.push(Z);if(be)return X.onStart(()=>Da(ee,Z.fromStyles)),X.onDestroy(()=>ys(ee,Z.toStyles)),void r.push(X);if(V.isFallbackTransition)return X.onStart(()=>Da(ee,Z.fromStyles)),X.onDestroy(()=>ys(ee,Z.toStyles)),void r.push(X);const _e=[];Z.timelines.forEach(P=>{P.stretchStartingKeyframe=!0,this.disabledNodes.has(P.element)||_e.push(P)}),Z.timelines=_e,i.append(ee,Z.timelines),o.push({instruction:Z,player:X,element:ee}),Z.queriedElements.forEach(P=>sr(a,P,[]).push(X)),Z.preStyleProps.forEach((P,Ne)=>{if(P.size){let Ie=l.get(Ne);Ie||l.set(Ne,Ie=new Set),P.forEach((he,De)=>Ie.add(De))}}),Z.postStyleProps.forEach((P,Ne)=>{let Ie=c.get(Ne);Ie||c.set(Ne,Ie=new Set),P.forEach((he,De)=>Ie.add(De))})});if(M.length){const k=[];M.forEach(z=>{k.push(function WZ(n,e){return new ce(3505,!1)}())}),x.forEach(z=>z.destroy()),this.reportError(k)}const S=new Map,C=new Map;o.forEach(k=>{const z=k.element;i.has(z)&&(C.set(z,z),this._beforeAnimationBuild(k.player.namespaceId,k.instruction,S))}),r.forEach(k=>{const z=k.element;this._getPreviousPlayers(z,!1,k.namespaceId,k.triggerName,null).forEach(X=>{sr(S,z,[]).push(X),X.destroy()})});const w=_.filter(k=>OO(k,l,c)),E=new Map;IO(E,this.driver,y,c,eo).forEach(k=>{OO(k,l,c)&&w.push(k)});const U=new Map;f.forEach((k,z)=>{IO(U,this.driver,new Set(k),l,R0)}),w.forEach(k=>{const z=E.get(k),V=U.get(k);E.set(k,new Map([...Array.from(z?.entries()??[]),...Array.from(V?.entries()??[])]))});const R=[],N=[],B={};o.forEach(k=>{const{element:z,player:V,instruction:X}=k;if(i.has(z)){if(u.has(z))return V.onDestroy(()=>ys(z,X.toStyles)),V.disabled=!0,V.overrideTotalTime(X.totalTime),void r.push(V);let ee=B;if(C.size>1){let ge=z;const Y=[];for(;ge=ge.parentNode;){const Z=C.get(ge);if(Z){ee=Z;break}Y.push(ge)}Y.forEach(Z=>C.set(Z,ee))}const be=this._buildAnimation(V.namespaceId,X,S,s,U,E);if(V.setRealPlayer(be),ee===B)R.push(V);else{const ge=this.playersByElement.get(ee);ge&&ge.length&&(V.parentPlayer=Vo(ge)),r.push(V)}}else Da(z,X.fromStyles),V.onDestroy(()=>ys(z,X.toStyles)),N.push(V),u.has(z)&&r.push(V)}),N.forEach(k=>{const z=s.get(k.element);if(z&&z.length){const V=Vo(z);k.setRealPlayer(V)}}),r.forEach(k=>{k.parentPlayer?k.syncPlayerEvents(k.parentPlayer):k.destroy()});for(let k=0;k<_.length;k++){const z=_[k],V=z[Sr];if(Ac(z,Om),V&&V.hasAnimation)continue;let X=[];if(a.size){let be=a.get(z);be&&be.length&&X.push(...be);let ge=this.driver.query(z,Dx,!0);for(let Y=0;Y<ge.length;Y++){let Z=a.get(ge[Y]);Z&&Z.length&&X.push(...Z)}}const ee=X.filter(be=>!be.destroyed);ee.length?XQ(this,z,ee):this.processLeaveNode(z)}return _.length=0,R.forEach(k=>{this.players.push(k),k.onDone(()=>{k.destroy();const z=this.players.indexOf(k);this.players.splice(z,1)}),k.play()}),R}elementContainsData(e,t){let i=!1;const r=t[Sr];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==Qd;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=sr(i,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Da(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;u.add(g);const _=g[Sr];if(_&&_.removedBeforeQueried)return new Ud(p.duration,p.delay);const m=g!==l,y=function qQ(n){const e=[];return PO(n,e),e}((i.get(g)||zQ).map(S=>S.getRealPlayer())).filter(S=>!!S.element&&S.element===g),v=s.get(g),b=o.get(g),x=rO(0,this._normalizer,0,p.keyframes,v,b),M=this._buildPlayer(p,x,y);if(p.subTimeline&&r&&d.add(g),m){const S=new Gx(e,a,g);S.setRealPlayer(M),c.push(S)}return M});c.forEach(p=>{sr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function WQ(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Cr(p,fO));const f=Vo(h);return f.onDestroy(()=>{u.forEach(p=>Ac(p,fO)),ys(l,t.toStyles)}),d.forEach(p=>{sr(r,p,[]).push(f)}),f}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Ud(e.duration,e.delay)}}class Gx{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Ud,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>wx(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){sr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function $m(n){return n&&1===n.nodeType}function DO(n,e){const t=n.style.display;return n.style.display=e??"none",t}function IO(n,e,t,i,r){const s=[];t.forEach(l=>s.push(DO(l)));const o=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,r);u.set(d,h),(!h||0==h.length)&&(c[Sr]=HQ,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>DO(l,s[a++])),o}function RO(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=1,r=new Set(e),s=new Map;function o(a){if(!a)return i;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?i:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);l!==i&&t.get(l).push(a)}),t}function Cr(n,e){n.classList?.add(e)}function Ac(n,e){n.classList?.remove(e)}function XQ(n,e,t){Vo(t).onDone(()=>n.processLeaveNode(e))}function PO(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof XR?PO(i.players,e):e.push(i)}}function OO(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class Xm{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new GQ(e,t,i),this._timelineEngine=new kQ(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const o=e+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],c=[],u=Ox(this._driver,s,l,c);if(l.length)throw function OZ(n,e){return new ce(3404,!1)}();a=function RQ(n,e,t){return new PQ(n,e,t)}(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,o]=sO(i);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[o,a]=sO(i);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ZQ=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ys(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ys(this._element,this._initialStyles),this._endStyles&&(ys(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Da(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Da(this._element,this._endStyles),this._endStyles=null),ys(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Wx(n){let e=null;return n.forEach((t,i)=>{(function QQ(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class LO{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:yO(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class JQ{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return cO(e,t)}getParentElement(e){return Cx(e)}query(e,t,i){return uO(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof LO);(function iQ(n,e){return 0===n||0===e})(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((p,g)=>c.set(g,p))});let d=function JZ(n){return n.length?n[0]instanceof Map?n:n.map(e=>pO(e)):[]}(t).map(f=>Go(f));d=function rQ(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,yO(n,a)))}}return e}(e,d,c);const h=function KQ(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Wx(e[0]),e.length>1&&(i=Wx(e[e.length-1]))):e instanceof Map&&(t=Wx(e)),t||i?new ZQ(n,t,i):null}(e,d);return new LO(e,d,l,h)}}let eJ=(()=>{class n extends WR{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:Lr.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?jR(t):t;return kO(this._renderer,null,i,"register",[r]),new tJ(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(W(ju),W(tt))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();class tJ extends J6{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new nJ(this._id,e,t||{},this._renderer)}}class nJ{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return kO(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function kO(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const NO="@.disabled";let iJ=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(s);return u||(u=new FO("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return i.data.animation.forEach(l),new rJ(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(W(ju),W(Xm),W(rt))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();class FO{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==NO?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class rJ extends FO{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==NO?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function sJ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function oJ(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}const BO=[{provide:WR,useClass:eJ},{provide:Bx,useFactory:function lJ(){return new TQ}},{provide:Xm,useClass:(()=>{class n extends Xm{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(W(tt),W(Tx),W(Bx),W(rc))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})()},{provide:ju,useFactory:function cJ(n,e,t){return new iJ(n,e,t)},deps:[wp,Xm,rt]}],jx=[{provide:Tx,useFactory:()=>new JQ},{provide:Ws,useValue:"BrowserAnimations"},...BO],UO=[{provide:Tx,useClass:dO},{provide:Ws,useValue:"NoopAnimations"},...BO];let uJ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?UO:jx}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n}),n.\u0275inj=Ut({providers:jx,imports:[I1]}),n})();function dJ(n,e){if(1&n){const t=Yl();G(0,"div",32)(1,"button",33),st("contextmenu",function(){return!1})("click",function(){return _l(t),vl(vr().backend.DownloadResume())}),J(2,"Download resume"),$()()}}function hJ(n,e){1&n&&(G(0,"div",32)(1,"button",34),st("contextmenu",function(){return!1}),J(2,"Thai"),$(),G(3,"button",34),st("contextmenu",function(){return!1}),J(4,"English"),$()())}function fJ(n,e){1&n&&(G(0,"div",32)(1,"button",35),st("contextmenu",function(){return!1}),J(2,"View image"),$()()),2&n&&(Fe(1),ze("src","assets/images/me-rotated.jpg"))}const oo=function(n,e){return{"line-dark":n,"line-white":e}},Ym=function(n){return{darktheme:n}};let pJ=(()=>{class n{constructor(t,i){this.theme=t,this.backend=i}}return n.\u0275fac=function(t){return new(t||n)(H(_s),H(Dm))},n.\u0275cmp=tn({type:n,selectors:[["app-resume"]],decls:268,vars:51,consts:[["id","content",3,"cdkContextMenuTriggerFor"],[1,"grid-content"],[1,"side-field","grid-item"],[1,"card",3,"fullHeight"],[1,"personal"],[1,"image"],["src","assets/images/me-rotated.jpg","ModalView","",1,"me",3,"cdkContextMenuTriggerFor"],[1,"section-linebreak","linebreak",3,"ngClass"],[1,"section-name"],[1,"section-value"],[1,"linebreak",3,"ngClass"],[1,"section-extra"],[1,"content-field","grid-item"],[1,"card"],[1,"auto-height"],[1,"card-name"],[1,"section-spacing"],["hideToggle",""],["max","100","value","70","matTooltipPosition","left","matTooltip","Experienced"],["max","100","value","85","matTooltipPosition","left","matTooltip","Experienced"],["max","100","value","60","matTooltipPosition","left","matTooltip","Experienced"],["max","100","value","50","matTooltipPosition","left","matTooltip","Experienced"],["max","100","value","95","matTooltipPosition","left","matTooltip","Experienced"],[1,"timeline-item",3,"ngClass"],[1,"timeline-head"],[1,"timeline-dot"],[1,"timeline-line"],[1,"timeline-content"],["id","download",1,"animated-btn",3,"click"],["Download",""],["Transcript",""],["Image",""],["cdkMenu","",1,"ContextMenu"],["cdkMenuItem","",1,"ContextMenu-Item",3,"contextmenu","click"],["cdkMenuItem","",1,"ContextMenu-Item",3,"contextmenu"],["cdkMenuItem","","ModalView","",1,"ContextMenu-Item",3,"src","contextmenu"]],template:function(t,i){if(1&t&&(G(0,"app-page")(1,"div",0)(2,"div",1)(3,"div",2)(4,"app-card",3)(5,"div",4)(6,"div",5),We(7,"img",6),$(),We(8,"div",7),G(9,"div",8),J(10,"Name"),$(),G(11,"div",9),J(12," Peeradon Rungkanawut "),$(),G(13,"div",8),J(14,"Email"),$(),G(15,"div",9),J(16," thestampmc@gmail.com "),$(),G(17,"div",8),J(18,"Phone number"),$(),G(19,"div",9),J(20," 090-935-1529 "),$(),We(21,"div",7),G(22,"div",8),J(23," Date of birth "),$(),G(24,"div",9),J(25," 5 Apr 2001 "),$(),G(26,"div",8),J(27,"Age"),$(),G(28,"div",9),J(29," 22 years "),$(),G(30,"div",8),J(31,"Gender"),$(),G(32,"div",9),J(33," Male "),$(),G(34,"div",8),J(35,"Nationality"),$(),G(36,"div",9),J(37," Thai "),$(),We(38,"div",7),G(39,"div",8),J(40,"Interests"),$(),G(41,"div",9)(42,"ul")(43,"li"),J(44,"Programming"),$(),G(45,"li"),J(46,"Traveling"),$(),G(47,"li"),J(48,"Movies"),$()()(),We(49,"div",10),G(50,"div",8),J(51,"Languages"),$(),G(52,"ul")(53,"li"),J(54," Thai "),G(55,"div",11),J(56," Native "),$()(),G(57,"li"),J(58," English "),G(59,"div",11),J(60," Advance "),$()()(),G(61,"div",8),J(62,"Toeic"),$(),G(63,"div",9),J(64," 520 "),G(65,"div",11),J(66," 7 Apr 2023 "),$()()()()(),G(67,"div",12)(68,"app-card",13)(69,"div",14)(70,"div",15),J(71,"About me"),$(),We(72,"div",10)(73,"div",16),G(74,"p"),J(75," Good Python developer with knowledge of OOP, Type-Hint and MongoDB, intermediate for C/C++. "),We(76,"br"),J(77," Also, I'm interested in the Angular framework for front-end development. I'm happy to code, debug "),We(78,"br"),J(79," and write some documentation. "),J(80," Ready to learn and grow my skills. "),$()()(),G(81,"app-card",13)(82,"div",14)(83,"div",15),J(84,"Projects"),$(),We(85,"div",10),G(86,"ul")(87,"li")(88,"div",8),J(89,"Graduation project"),$(),G(90,"div",9),J(91," Water pH Conditioner "),$(),G(92,"p"),J(93," A graduation project to control the pH of water by an application that was made out of Blynk and C++ for the software. "),$()(),G(94,"li")(95,"div",8),J(96,"Personal project"),$(),G(97,"div",9),J(98," Discord music bot "),$(),G(99,"p"),J(100," A Discord music application that supports YouTube, Spotify, SoundCloud, Last.fm and mp3 files (or message urls that have any mp3 files attached). "),$()()()()(),G(101,"app-card",13)(102,"div",14)(103,"div",15),J(104," Skills "),G(105,"div",11),J(106,"click for more details"),$()(),We(107,"div",10)(108,"div",16),G(109,"mat-accordion")(110,"mat-expansion-panel",17)(111,"mat-expansion-panel-header")(112,"div",9),J(113," C, C++ "),We(114,"progress",18),$()(),G(115,"ul")(116,"li"),J(117,"Console application"),$(),G(118,"li"),J(119,"Arduino, NodeMcu"),$(),G(120,"li"),J(121,"Microcontroller, iot, Blynk"),$(),G(122,"li"),J(123,"Data types, OOP"),$(),G(124,"li"),J(125,"etc."),$()()(),G(126,"mat-expansion-panel",17)(127,"mat-expansion-panel-header")(128,"div",9),J(129," Python "),We(130,"progress",19),$()(),G(131,"ul")(132,"li"),J(133,"Console application"),$(),G(134,"li"),J(135,"Annotation, Type-Hint"),$(),G(136,"li"),J(137,"Documentation, Clean code"),$(),G(138,"li"),J(139,"Data types, OOP, Enum, Module"),$(),G(140,"li"),J(141,"requests, socket, pymongo"),$(),G(142,"li"),J(143,"etc."),$()()(),G(144,"mat-expansion-panel",17)(145,"mat-expansion-panel-header")(146,"div",9),J(147," TypeScript "),We(148,"progress",20),$()(),G(149,"ul")(150,"li"),J(151,"Type-Hint, Basic how-to"),$(),G(152,"li"),J(153,"Angular things"),$(),G(154,"li"),J(155,"etc."),$()()(),G(156,"mat-expansion-panel",17)(157,"mat-expansion-panel-header")(158,"div",9),J(159," Angular "),We(160,"progress",21),$()(),G(161,"ul")(162,"li"),J(163,"Html, Css, TypeScript"),$(),G(164,"li"),J(165,"Injection, Service, Interface"),$(),G(166,"li"),J(167,"Component, Cdk, etc."),$()()(),G(168,"mat-expansion-panel",17)(169,"mat-expansion-panel-header")(170,"div",9),J(171," Self learning "),We(172,"progress",22),$()(),G(173,"ul")(174,"li"),J(175,"Open to learn"),$(),G(176,"li"),J(177,"Basic of how-to"),$(),G(178,"li"),J(179,"Finding keywords"),$(),G(180,"li"),J(181,"Solves any problem"),$()()()()()(),G(182,"app-card",13)(183,"div",14)(184,"div",15),J(185,"Work Experiences"),$(),We(186,"div",10)(187,"div",16),G(188,"div",23)(189,"div",24),We(190,"span",25)(191,"span",26),$(),G(192,"div",27)(193,"div",8),J(194,"2019 - 2020"),$(),G(195,"div",9),J(196," 3D Designer "),G(197,"div",11),J(198,"Freelance"),$()(),G(199,"div",14)(200,"ul")(201,"li"),J(202,"3D modeling in Blender"),$(),G(203,"li"),J(204,"Lighting, rendering and compositing"),$(),G(205,"li"),J(206,"Design advertisment poster"),$()()()()(),G(207,"div",23)(208,"div",24),We(209,"span",25)(210,"span",26),$(),G(211,"div",27)(212,"div",8),J(213,"Jun - Oct 2022"),$(),G(214,"div",9),J(215," Internship "),G(216,"div",11),J(217,"Cooperative Education"),$()(),G(218,"div",14)(219,"ul")(220,"li"),J(221,"C, C++ programmer (main)"),$(),G(222,"li"),J(223,"Reserch & development"),$(),G(224,"li"),J(225,"Photoshop man"),$(),G(226,"li"),J(227,"IT support"),$()()()()(),G(228,"div",8),J(229,"Present"),$()()(),G(230,"app-card",13)(231,"div",14)(232,"div",15),J(233,"Educations"),$(),We(234,"div",10)(235,"div",16),G(236,"div",23)(237,"div",24),We(238,"span",25)(239,"span",26),$(),G(240,"div",27)(241,"div",8),J(242,"2013 - 2018"),$(),G(243,"div",9),J(244," Prachinratsadornamroong School "),$(),G(245,"div",8),J(246,"High School Certificate"),$()()(),G(247,"div",23)(248,"div",24),We(249,"span",25)(250,"span",26),$(),G(251,"div",27)(252,"div",8),J(253,"2019 - Apr 2023"),$(),G(254,"div",9),J(255," Rajamangala University of Technology Thanyaburi "),$(),G(256,"div",8),J(257,"Bachelor of Engineering, Electronics"),$()()(),G(258,"div",8),J(259,"Present"),$()()()()(),G(260,"button",28),st("click",function(){return i.backend.DownloadResume()}),J(261," Download Resume "),$()()(),Ei(262,dJ,3,0,"ng-template",null,29,ba),Ei(264,hJ,5,0,"ng-template",null,30,ba),Ei(266,fJ,3,1,"ng-template",null,31,ba)),2&t){const r=ql(263),s=ql(267);Fe(1),ze("cdkContextMenuTriggerFor",r),Fe(3),ze("fullHeight",!0),Fe(3),ze("cdkContextMenuTriggerFor",s),Fe(1),ze("ngClass",Kn(16,oo,i.theme.is_dark,!i.theme.is_dark)),Fe(13),ze("ngClass",Kn(19,oo,i.theme.is_dark,!i.theme.is_dark)),Fe(17),ze("ngClass",Kn(22,oo,i.theme.is_dark,!i.theme.is_dark)),Fe(11),ze("ngClass",Kn(25,oo,i.theme.is_dark,!i.theme.is_dark)),Fe(23),ze("ngClass",Kn(28,oo,i.theme.is_dark,!i.theme.is_dark)),Fe(13),ze("ngClass",Kn(31,oo,i.theme.is_dark,!i.theme.is_dark)),Fe(22),ze("ngClass",Kn(34,oo,i.theme.is_dark,!i.theme.is_dark)),Fe(79),ze("ngClass",Kn(37,oo,i.theme.is_dark,!i.theme.is_dark)),Fe(2),ze("ngClass",Ti(40,Ym,i.theme.is_dark)),Fe(19),ze("ngClass",Ti(42,Ym,i.theme.is_dark)),Fe(27),ze("ngClass",Kn(44,oo,i.theme.is_dark,!i.theme.is_dark)),Fe(2),ze("ngClass",Ti(47,Ym,i.theme.is_dark)),Fe(11),ze("ngClass",Ti(49,Ym,i.theme.is_dark))}},dependencies:[hs,aP,Gd,Bo,P0,z9,yP,bP,Cc,bx,JP],styles:["*[_ngcontent-%COMP%]{transition:all .2s ease-in-out}p[_ngcontent-%COMP%]{margin-top:0;font-size:16px}.card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;overflow-x:hidden}.image[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin-top:20px;margin-bottom:30px}.me[_ngcontent-%COMP%]{width:150px;height:150px;clip-path:circle(50% at 50% 50%);object-fit:cover}.card-name[_ngcontent-%COMP%]{opacity:.4;font-size:14px;position:relative}.card-name[_ngcontent-%COMP%] > .section-extra[_ngcontent-%COMP%]{right:0;opacity:1}#content[_ngcontent-%COMP%]{width:1300px;margin-top:50px;display:flex;flex-direction:column;align-items:center}#download[_ngcontent-%COMP%]{align-self:center;margin:50px;width:200px;height:50px;border:none;font-weight:500;background-color:var(--white1);color:var(--dark3)}.animated-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.grid-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:300px 800px;gap:20px}.section-spacing[_ngcontent-%COMP%]{margin-top:18px}.section-name[_ngcontent-%COMP%]{margin-top:18px;opacity:.4;font-size:14px;display:flex;position:relative;align-items:center}.section-name[_ngcontent-%COMP%] > .section-extra[_ngcontent-%COMP%]{opacity:1}.section-value[_ngcontent-%COMP%]{font-size:18px;display:flex;position:relative;align-items:center}ul[_ngcontent-%COMP%]{margin-top:0;padding-left:20px}li[_ngcontent-%COMP%]{font-size:16px;position:relative}.section-extra[_ngcontent-%COMP%]{font-size:14px;width:100%;opacity:.5;text-align:right;position:absolute;right:0;bottom:1px}.grid-item[_ngcontent-%COMP%]{display:flex;gap:20px;flex-direction:column}.side-field[_ngcontent-%COMP%]{display:flex;position:relative}.side-field[_ngcontent-%COMP%]     app-card #card{width:100%;height:100%;position:absolute;align-items:start}.auto-height[_ngcontent-%COMP%]{height:auto;padding-bottom:10px}.grid-linebreak[_ngcontent-%COMP%]{display:none}.section-linebreak[_ngcontent-%COMP%]{margin-top:20px}.timeline-item[_ngcontent-%COMP%]{width:100%;height:auto;min-height:120px;float:left;display:flex;flex-direction:row;gap:10px}.timeline-head[_ngcontent-%COMP%]{max-width:-moz-fit-content;max-width:fit-content;height:inherit;display:flex;flex-direction:column}.timeline-dot[_ngcontent-%COMP%]{min-width:18px;min-height:18px;width:18px;height:18px;top:0;left:0;border:4px solid var(--scheme-color);border-radius:50%;margin-top:2px;margin-bottom:2px;display:inline-block;background-color:transparent}.timeline-line[_ngcontent-%COMP%]{width:4px;height:100%;margin-left:7px;margin-right:7px;background-color:var(--scheme-color);border-radius:10px}.timeline-content[_ngcontent-%COMP%]{width:auto;height:auto;display:flex;flex-direction:column;padding-top:2px;border-radius:10px}.timeline-content[_ngcontent-%COMP%] > .section-name[_ngcontent-%COMP%]{margin-top:0;margin-bottom:10px}.timeline-content[_ngcontent-%COMP%] > .auto-height[_ngcontent-%COMP%]{padding-left:5px}progress[_ngcontent-%COMP%]{height:10px;width:70%;display:inline-block;right:0;margin-left:auto;margin-top:auto;margin-bottom:auto;border:0;border-radius:100px}progress[_ngcontent-%COMP%]::-webkit-progress-bar{border:0;height:10px;border-radius:100px;-webkit-transition:background-color .2s ease-in-out;transition:background-color .2s ease-in-out}[_nghost-%COMP%]     .white-theme progress::-webkit-progress-bar{background-color:var(--alpha-dark)}[_nghost-%COMP%]     .dark-theme progress::-webkit-progress-bar{background-color:var(--alpha-white)}progress[_ngcontent-%COMP%]::-webkit-progress-value{height:10px;border:0;border-radius:100px;background-color:var(--scheme-color);-webkit-transition:width 1s ease-in-out;transition:width 1s ease-in-out;animation:_ngcontent-%COMP%_progressBar 3s ease-in-out;animation-fill-mode:both}progress[_ngcontent-%COMP%]::-moz-progress-bar{border:0;height:10px;border-radius:100px}progress[value][_ngcontent-%COMP%]{background-color:none;border-radius:100px}.mat-expansion-panel-header[_ngcontent-%COMP%]{height:40px;padding:0}.mat-expansion-panel[_ngcontent-%COMP%]{background:unset;box-shadow:unset}.mat-expansion-panel[_ngcontent-%COMP%], .mat-expansion-panel[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:pointer}@media only screen and (max-width: 1200px){.grid-content[_ngcontent-%COMP%]{grid-template-columns:200px 600px}.me[_ngcontent-%COMP%]{width:100px;height:100px}.section-name[_ngcontent-%COMP%], .card-name[_ngcontent-%COMP%]{font-size:10px}.section-name[_ngcontent-%COMP%], .section-linebreak[_ngcontent-%COMP%]{margin-top:15px}.section-value[_ngcontent-%COMP%]{font-size:14px}.section-extra[_ngcontent-%COMP%]{font-size:12px}ul[_ngcontent-%COMP%]{padding-left:16px}li[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-size:12px}.timeline-dot[_ngcontent-%COMP%]{min-width:14px;min-height:14px;width:14px;height:14px}.timeline-line[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}progress[_ngcontent-%COMP%]{height:8px}}@media only screen and (max-width: 900px){.grid-content[_ngcontent-%COMP%]{display:flex;grid-template-columns:unset;flex-direction:column;justify-content:center}.grid-item[_ngcontent-%COMP%]{width:500px}.me[_ngcontent-%COMP%]{width:120px;height:120px}.section-name[_ngcontent-%COMP%], .card-name[_ngcontent-%COMP%]{font-size:12px}.section-value[_ngcontent-%COMP%]{font-size:16px}.section-extra[_ngcontent-%COMP%]{font-size:14px}.grid-linebreak[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]{padding-left:18px}li[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-size:14px}.timeline-dot[_ngcontent-%COMP%]{min-width:16px;min-height:16px;width:16px;height:16px}.timeline-line[_ngcontent-%COMP%]{margin-left:6px;margin-right:6px}.timeline-content[_ngcontent-%COMP%]{padding-top:3px}progress[_ngcontent-%COMP%]{height:10px;width:50%}.side-field[_ngcontent-%COMP%]{position:unset}.side-field[_ngcontent-%COMP%]     app-card #card{width:unset;height:unset;position:unset}}@media only screen and (max-width: 600px){p[_ngcontent-%COMP%]{font-size:12px}.grid-item[_ngcontent-%COMP%]{width:300px}.section-extra[_ngcontent-%COMP%]{font-size:12px}}@keyframes _ngcontent-%COMP%_progressBar{0%{width:0%}to{width:100%}}"]}),n})();const mJ=function(){return{icon:"fa-cube",title:"Auture",url:"3d/Auture"}},gJ=function(){return{icon:"fa-cube",title:"Scorta",url:"3d/Scorta"}},_J=function(n,e){return[n,e]};let vJ=(()=>{class n{constructor(t){this.router=t}}return n.\u0275fac=function(t){return new(t||n)(H(yn))},n.\u0275cmp=tn({type:n,selectors:[["app-models"]],decls:4,vars:7,consts:[["id","models-container"],[3,"justBorder"],["name","3D works",3,"items"]],template:function(t,i){1&t&&(G(0,"app-page")(1,"div",0)(2,"app-card",1),We(3,"app-flex-card-box",2),$()()()),2&t&&(Fe(2),ze("justBorder",!0),Fe(1),ze("items",Kn(4,_J,ya(2,mJ),ya(3,gJ))))},dependencies:[Cc,bx,GP],styles:["#models-container[_ngcontent-%COMP%]{margin-top:100px}"]}),n})();const Dc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Ic={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},yJ=0,zO=1,bJ=2,HO=1,xJ=2,ao=3,lo=0,$i=1,bs=2,Wo=0,Rc=1,VO=2,GO=3,WO=4,wJ=5,Pc=100,MJ=101,EJ=102,jO=103,$O=104,SJ=200,CJ=201,TJ=202,AJ=203,XO=204,qO=205,DJ=206,IJ=207,RJ=208,PJ=209,OJ=210,LJ=0,kJ=1,NJ=2,Xx=3,FJ=4,BJ=5,UJ=6,zJ=7,Km=0,HJ=1,VJ=2,co=0,GJ=1,WJ=2,jJ=3,$J=4,XJ=5,Ra=301,Pa=302,Zm=303,Qm=304,Jd=306,Oa=1e3,mi=1001,eh=1002,In=1003,Jm=1004,th=1005,xn=1006,Yx=1007,uo=1008,La=1009,qJ=1010,YJ=1011,YO=1012,KJ=1013,ka=1014,jo=1015,nh=1016,ZJ=1017,QJ=1018,Oc=1020,JJ=1021,Tr=1023,eee=1024,tee=1025,Na=1026,Lc=1027,nee=1028,iee=1029,ree=1030,see=1031,oee=1033,Kx=33776,Zx=33777,Qx=33778,Jx=33779,KO=35840,ZO=35841,QO=35842,JO=35843,aee=36196,eL=37492,tL=37496,nL=37808,iL=37809,rL=37810,sL=37811,oL=37812,aL=37813,lL=37814,cL=37815,uL=37816,dL=37817,hL=37818,fL=37819,pL=37820,mL=37821,ew=36492,lee=36283,gL=36284,_L=36285,vL=36286,ih=2300,kc=2301,hee=0,bL=1,iw=2,Fa=3001,pee=3201,Ba=0,mee=1,Ua="",ot="srgb",xs="srgb-linear",wL="display-p3",ML="300 es",sw=1035;class za{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const i=this._listeners;return void 0!==i[e]&&-1!==i[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const r=this._listeners[e];if(void 0!==r){const s=r.indexOf(t);-1!==s&&r.splice(s,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const i=this._listeners[e.type];if(void 0!==i){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const gi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];const Ha=Math.PI/180,Bc=180/Math.PI;function ar(){const n=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(gi[255&n]+gi[n>>8&255]+gi[n>>16&255]+gi[n>>24&255]+"-"+gi[255&e]+gi[e>>8&255]+"-"+gi[e>>16&15|64]+gi[e>>24&255]+"-"+gi[63&t|128]+gi[t>>8&255]+"-"+gi[t>>16&255]+gi[t>>24&255]+gi[255&i]+gi[i>>8&255]+gi[i>>16&255]+gi[i>>24&255]).toLowerCase()}function wn(n,e,t){return Math.max(e,Math.min(t,n))}function ow(n,e){return(n%e+e)%e}function rh(n,e,t){return(1-t)*n+t*e}function aw(n){return 0==(n&n-1)&&0!==n}function SL(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function CL(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function lr(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function yt(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(65535*n);case Uint8Array:return Math.round(255*n);case Int16Array:return Math.round(32767*n);case Int8Array:return Math.round(127*n);default:throw new Error("Invalid component type.")}}const Iee_radToDeg=function Aee(n){return n*Bc};class se{constructor(e=0,t=0){se.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(wn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Rt{constructor(){Rt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],d=i[7],h=i[2],f=i[5],p=i[8],g=r[0],_=r[3],m=r[6],y=r[1],v=r[4],b=r[7],x=r[2],M=r[5],S=r[8];return s[0]=o*g+a*y+l*x,s[3]=o*_+a*v+l*M,s[6]=o*m+a*b+l*S,s[1]=c*g+u*y+d*x,s[4]=c*_+u*v+d*M,s[7]=c*m+u*b+d*S,s[2]=h*g+f*y+p*x,s[5]=h*_+f*v+p*M,s[8]=h*m+f*b+p*S,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,h=a*l-u*s,f=c*s-o*l,p=t*d+i*h+r*f;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const g=1/p;return e[0]=d*g,e[1]=(r*c-u*i)*g,e[2]=(a*i-r*o)*g,e[3]=h*g,e[4]=(u*t-r*l)*g,e[5]=(r*s-a*t)*g,e[6]=f*g,e[7]=(i*l-c*t)*g,e[8]=(o*t-i*s)*g,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(lw.makeScale(e,t)),this}rotate(e){return this.premultiply(lw.makeRotation(-e)),this}translate(e,t){return this.premultiply(lw.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const lw=new Rt;function TL(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function sh(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const AL={};function oh(n){n in AL||(AL[n]=!0,console.warn(n))}function zc(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function cw(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}const Pee=(new Rt).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),Oee=(new Rt).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),Nee={[xs]:n=>n,[ot]:n=>n.convertSRGBToLinear(),[wL]:function Lee(n){return n.convertSRGBToLinear().applyMatrix3(Oee)}},Fee={[xs]:n=>n,[ot]:n=>n.convertLinearToSRGB(),[wL]:function kee(n){return n.applyMatrix3(Pee).convertLinearToSRGB()}},$r={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return xs},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(!1===this.enabled||e===t||!e||!t)return n;const i=Nee[e],r=Fee[t];if(void 0===i||void 0===r)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let Hc;class DL{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Hc&&(Hc=sh("canvas")),Hc.width=e.width,Hc.height=e.height;const i=Hc.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Hc}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=sh("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=255*zc(s[o]/255);return i.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t[i]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*zc(t[i]/255)):zc(t[i]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Vc{constructor(e=null){this.isSource=!0,this.uuid=ar(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(null!==r){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)s.push(uw(r[o].isDataTexture?r[o].image:r[o]))}else s=uw(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function uw(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?DL.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Bee=0,Xr=(()=>{class n extends za{constructor(t=n.DEFAULT_IMAGE,i=n.DEFAULT_MAPPING,r=mi,s=mi,o=xn,a=uo,l=Tr,c=La,u=n.DEFAULT_ANISOTROPY,d=Ua){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Bee++}),this.uuid=ar(),this.name="",this.source=new Vc(t),this.mipmaps=[],this.mapping=i,this.channel=0,this.wrapS=r,this.wrapT=s,this.magFilter=o,this.minFilter=a,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=c,this.offset=new se(0,0),this.repeat=new se(1,1),this.center=new se(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Rt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"==typeof d?this.colorSpace=d:(oh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=d===Fa?ot:Ua),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const i=void 0===t||"string"==typeof t;if(!i&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),i||(t.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case Oa:t.x=t.x-Math.floor(t.x);break;case mi:t.x=t.x<0?0:1;break;case eh:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case Oa:t.y=t.y-Math.floor(t.y);break;case mi:t.y=t.y<0?0:1;break;case eh:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return oh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===ot?Fa:3e3}set encoding(t){oh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=t===Fa?ot:Ua}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n.DEFAULT_ANISOTROPY=1,n})();class qt{constructor(e=0,t=0,i=0,r=1){qt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],u=l[4],d=l[8],h=l[1],f=l[5],p=l[9],g=l[2],_=l[6],m=l[10];if(Math.abs(u-h)<.01&&Math.abs(d-g)<.01&&Math.abs(p-_)<.01){if(Math.abs(u+h)<.1&&Math.abs(d+g)<.1&&Math.abs(p+_)<.1&&Math.abs(c+f+m-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const v=(c+1)/2,b=(f+1)/2,x=(m+1)/2,M=(u+h)/4,S=(d+g)/4,C=(p+_)/4;return v>b&&v>x?v<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(v),r=M/i,s=S/i):b>x?b<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(b),i=M/r,s=C/r):x<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(x),i=S/s,r=C/s),this.set(i,r,s,t),this}let y=Math.sqrt((_-p)*(_-p)+(d-g)*(d-g)+(h-u)*(h-u));return Math.abs(y)<.001&&(y=1),this.x=(_-p)/y,this.y=(d-g)/y,this.z=(h-u)/y,this.w=Math.acos((c+f+m-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Va extends za{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new qt(0,0,e,t),this.scissorTest=!1,this.viewport=new qt(0,0,e,t);const r={width:e,height:t,depth:1};void 0!==i.encoding&&(oh("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===Fa?ot:Ua),this.texture=new Xr(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.internalFormat=void 0!==i.internalFormat?i.internalFormat:null,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:xn,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0!==i.stencilBuffer&&i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null,this.samples=void 0!==i.samples?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Vc(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class dw extends Xr{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=In,this.minFilter=In,this.wrapR=mi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class IL extends Xr{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=In,this.minFilter=In,this.wrapR=mi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class oi{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],d=i[r+3];const h=s[o+0],f=s[o+1],p=s[o+2],g=s[o+3];if(0===a)return e[t+0]=l,e[t+1]=c,e[t+2]=u,void(e[t+3]=d);if(1===a)return e[t+0]=h,e[t+1]=f,e[t+2]=p,void(e[t+3]=g);if(d!==g||l!==h||c!==f||u!==p){let _=1-a;const m=l*h+c*f+u*p+d*g,y=m>=0?1:-1,v=1-m*m;if(v>Number.EPSILON){const x=Math.sqrt(v),M=Math.atan2(x,m*y);_=Math.sin(_*M)/x,a=Math.sin(a*M)/x}const b=a*y;if(l=l*_+h*b,c=c*_+f*b,u=u*_+p*b,d=d*_+g*b,_===1-a){const x=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=x,c*=x,u*=x,d*=x}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],d=s[o],h=s[o+1],f=s[o+2],p=s[o+3];return e[t]=a*p+u*d+l*f-c*h,e[t+1]=l*p+u*h+c*d-a*f,e[t+2]=c*p+u*f+a*h-l*d,e[t+3]=u*p-a*d-l*h-c*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),d=a(s/2),h=l(i/2),f=l(r/2),p=l(s/2);switch(o){case"XYZ":this._x=h*u*d+c*f*p,this._y=c*f*d-h*u*p,this._z=c*u*p+h*f*d,this._w=c*u*d-h*f*p;break;case"YXZ":this._x=h*u*d+c*f*p,this._y=c*f*d-h*u*p,this._z=c*u*p-h*f*d,this._w=c*u*d+h*f*p;break;case"ZXY":this._x=h*u*d-c*f*p,this._y=c*f*d+h*u*p,this._z=c*u*p+h*f*d,this._w=c*u*d-h*f*p;break;case"ZYX":this._x=h*u*d-c*f*p,this._y=c*f*d+h*u*p,this._z=c*u*p-h*f*d,this._w=c*u*d+h*f*p;break;case"YZX":this._x=h*u*d+c*f*p,this._y=c*f*d+h*u*p,this._z=c*u*p-h*f*d,this._w=c*u*d-h*f*p;break;case"XZY":this._x=h*u*d-c*f*p,this._y=c*f*d-h*u*p,this._z=c*u*p+h*f*d,this._w=c*u*d+h*f*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],d=t[10],h=i+a+d;if(h>0){const f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(u-l)*f,this._y=(s-c)*f,this._z=(o-r)*f}else if(i>a&&i>d){const f=2*Math.sqrt(1+i-a-d);this._w=(u-l)/f,this._x=.25*f,this._y=(r+o)/f,this._z=(s+c)/f}else if(a>d){const f=2*Math.sqrt(1+a-i-d);this._w=(s-c)/f,this._x=(r+o)/f,this._y=.25*f,this._z=(l+u)/f}else{const f=2*Math.sqrt(1+d-i-a);this._w=(o-r)/f,this._x=(s+c)/f,this._y=(l+u)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(wn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(0===i)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const f=1-t;return this._w=f*o+t*this._w,this._x=f*i+t*this._x,this._y=f*r+t*this._y,this._z=f*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-t)*u)/c,h=Math.sin(t*u)/c;return this._w=o*d+this._w*h,this._x=i*d+this._x*h,this._y=r*d+this._y*h,this._z=s*d+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class A{constructor(e=0,t=0,i=0){A.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return void 0===i&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(RL.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(RL.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*r-a*i,u=l*i+a*t-s*r,d=l*r+s*i-o*t,h=-s*t-o*i-a*r;return this.x=c*l+h*-s+u*-a-d*-o,this.y=u*l+h*-o+d*-s-c*-a,this.z=d*l+h*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return hw.copy(this).projectOnVector(e),this.sub(hw)}reflect(e){return this.sub(hw.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(wn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const hw=new A,RL=new oi;class qr{constructor(e=new A(1/0,1/0,1/0),t=new A(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(fo.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(fo.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=fo.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),void 0!==e.boundingBox)null===e.boundingBox&&e.computeBoundingBox(),Gc.copy(e.boundingBox),Gc.applyMatrix4(e.matrixWorld),this.union(Gc);else{const r=e.geometry;if(void 0!==r)if(t&&void 0!==r.attributes&&void 0!==r.attributes.position){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)fo.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(fo)}else null===r.boundingBox&&r.computeBoundingBox(),Gc.copy(r.boundingBox),Gc.applyMatrix4(e.matrixWorld),this.union(Gc)}const i=e.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,fo),fo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ah),ng.subVectors(this.max,ah),Wc.subVectors(e.a,ah),jc.subVectors(e.b,ah),$c.subVectors(e.c,ah),$o.subVectors(jc,Wc),Xo.subVectors($c,jc),Ga.subVectors(Wc,$c);let t=[0,-$o.z,$o.y,0,-Xo.z,Xo.y,0,-Ga.z,Ga.y,$o.z,0,-$o.x,Xo.z,0,-Xo.x,Ga.z,0,-Ga.x,-$o.y,$o.x,0,-Xo.y,Xo.x,0,-Ga.y,Ga.x,0];return!(!fw(t,Wc,jc,$c,ng)||(t=[1,0,0,0,1,0,0,0,1],!fw(t,Wc,jc,$c,ng)))&&(ig.crossVectors($o,Xo),t=[ig.x,ig.y,ig.z],fw(t,Wc,jc,$c,ng))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,fo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(fo).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(ho[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ho[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ho[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ho[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ho[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ho[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ho[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ho[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ho)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ho=[new A,new A,new A,new A,new A,new A,new A,new A],fo=new A,Gc=new qr,Wc=new A,jc=new A,$c=new A,$o=new A,Xo=new A,Ga=new A,ah=new A,ng=new A,ig=new A,Wa=new A;function fw(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){Wa.fromArray(n,s);const a=r.x*Math.abs(Wa.x)+r.y*Math.abs(Wa.y)+r.z*Math.abs(Wa.z),l=e.dot(Wa),c=t.dot(Wa),u=i.dot(Wa);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const Uee=new qr,lh=new A,pw=new A;class ws{constructor(e=new A,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;void 0!==t?i.copy(t):Uee.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;lh.subVectors(e,this.center);const t=lh.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=.5*(i-this.radius);this.center.addScaledVector(lh,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(pw.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(lh.copy(e.center).add(pw)),this.expandByPoint(lh.copy(e.center).sub(pw))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const po=new A,mw=new A,rg=new A,qo=new A,gw=new A,sg=new A,_w=new A;class og{constructor(e=new A,t=new A(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,po)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=po.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(po.copy(this.origin).addScaledVector(this.direction,t),po.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){mw.copy(e).add(t).multiplyScalar(.5),rg.copy(t).sub(e).normalize(),qo.copy(this.origin).sub(mw);const s=.5*e.distanceTo(t),o=-this.direction.dot(rg),a=qo.dot(this.direction),l=-qo.dot(rg),c=qo.lengthSq(),u=Math.abs(1-o*o);let d,h,f,p;if(u>0)if(d=o*l-a,h=o*a-l,p=s*u,d>=0)if(h>=-p)if(h<=p){const g=1/u;d*=g,h*=g,f=d*(d+o*h+2*a)+h*(o*d+h+2*l)+c}else h=s,d=Math.max(0,-(o*h+a)),f=-d*d+h*(h+2*l)+c;else h=-s,d=Math.max(0,-(o*h+a)),f=-d*d+h*(h+2*l)+c;else h<=-p?(d=Math.max(0,-(-o*s+a)),h=d>0?-s:Math.min(Math.max(-s,-l),s),f=-d*d+h*(h+2*l)+c):h<=p?(d=0,h=Math.min(Math.max(-s,-l),s),f=h*(h+2*l)+c):(d=Math.max(0,-(o*s+a)),h=d>0?s:Math.min(Math.max(-s,-l),s),f=-d*d+h*(h+2*l)+c);else h=o>0?-s:s,d=Math.max(0,-(o*h+a)),f=-d*d+h*(h+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(mw).addScaledVector(rg,h),f}intersectSphere(e,t){po.subVectors(e.center,this.origin);const i=po.dot(this.direction),r=po.dot(po)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:this.at(a<0?l:a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return null===i?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,h=this.origin;return c>=0?(i=(e.min.x-h.x)*c,r=(e.max.x-h.x)*c):(i=(e.max.x-h.x)*c,r=(e.min.x-h.x)*c),u>=0?(s=(e.min.y-h.y)*u,o=(e.max.y-h.y)*u):(s=(e.max.y-h.y)*u,o=(e.min.y-h.y)*u),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(e.min.z-h.z)*d,l=(e.max.z-h.z)*d):(a=(e.max.z-h.z)*d,l=(e.min.z-h.z)*d),i>l||a>r)||((a>i||i!=i)&&(i=a),(l<r||r!=r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return null!==this.intersectBox(e,po)}intersectTriangle(e,t,i,r,s){gw.subVectors(t,e),sg.subVectors(i,e),_w.crossVectors(gw,sg);let a,o=this.direction.dot(_w);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}qo.subVectors(this.origin,e);const l=a*this.direction.dot(sg.crossVectors(qo,sg));if(l<0)return null;const c=a*this.direction.dot(gw.cross(qo));if(c<0||l+c>o)return null;const u=-a*qo.dot(_w);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class at{constructor(){at.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,i,r,s,o,a,l,c,u,d,h,f,p,g,_){const m=this.elements;return m[0]=e,m[4]=t,m[8]=i,m[12]=r,m[1]=s,m[5]=o,m[9]=a,m[13]=l,m[2]=c,m[6]=u,m[10]=d,m[14]=h,m[3]=f,m[7]=p,m[11]=g,m[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new at).fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Xc.setFromMatrixColumn(e,0).length(),s=1/Xc.setFromMatrixColumn(e,1).length(),o=1/Xc.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),d=Math.sin(s);if("XYZ"===e.order){const h=o*u,f=o*d,p=a*u,g=a*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=f+p*c,t[5]=h-g*c,t[9]=-a*l,t[2]=g-h*c,t[6]=p+f*c,t[10]=o*l}else if("YXZ"===e.order){const h=l*u,f=l*d,p=c*u,g=c*d;t[0]=h+g*a,t[4]=p*a-f,t[8]=o*c,t[1]=o*d,t[5]=o*u,t[9]=-a,t[2]=f*a-p,t[6]=g+h*a,t[10]=o*l}else if("ZXY"===e.order){const h=l*u,f=l*d,p=c*u,g=c*d;t[0]=h-g*a,t[4]=-o*d,t[8]=p+f*a,t[1]=f+p*a,t[5]=o*u,t[9]=g-h*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if("ZYX"===e.order){const h=o*u,f=o*d,p=a*u,g=a*d;t[0]=l*u,t[4]=p*c-f,t[8]=h*c+g,t[1]=l*d,t[5]=g*c+h,t[9]=f*c-p,t[2]=-c,t[6]=a*l,t[10]=o*l}else if("YZX"===e.order){const h=o*l,f=o*c,p=a*l,g=a*c;t[0]=l*u,t[4]=g-h*d,t[8]=p*d+f,t[1]=d,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=f*d+p,t[10]=h-g*d}else if("XZY"===e.order){const h=o*l,f=o*c,p=a*l,g=a*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=h*d+g,t[5]=o*u,t[9]=f*d-p,t[2]=p*d-f,t[6]=a*u,t[10]=g*d+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(zee,e,Hee)}lookAt(e,t,i){const r=this.elements;return cr.subVectors(e,t),0===cr.lengthSq()&&(cr.z=1),cr.normalize(),Yo.crossVectors(i,cr),0===Yo.lengthSq()&&(1===Math.abs(i.z)?cr.x+=1e-4:cr.z+=1e-4,cr.normalize(),Yo.crossVectors(i,cr)),Yo.normalize(),ag.crossVectors(cr,Yo),r[0]=Yo.x,r[4]=ag.x,r[8]=cr.x,r[1]=Yo.y,r[5]=ag.y,r[9]=cr.y,r[2]=Yo.z,r[6]=ag.z,r[10]=cr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],d=i[5],h=i[9],f=i[13],p=i[2],g=i[6],_=i[10],m=i[14],y=i[3],v=i[7],b=i[11],x=i[15],M=r[0],S=r[4],C=r[8],w=r[12],E=r[1],L=r[5],U=r[9],R=r[13],N=r[2],B=r[6],k=r[10],z=r[14],V=r[3],X=r[7],ee=r[11],be=r[15];return s[0]=o*M+a*E+l*N+c*V,s[4]=o*S+a*L+l*B+c*X,s[8]=o*C+a*U+l*k+c*ee,s[12]=o*w+a*R+l*z+c*be,s[1]=u*M+d*E+h*N+f*V,s[5]=u*S+d*L+h*B+f*X,s[9]=u*C+d*U+h*k+f*ee,s[13]=u*w+d*R+h*z+f*be,s[2]=p*M+g*E+_*N+m*V,s[6]=p*S+g*L+_*B+m*X,s[10]=p*C+g*U+_*k+m*ee,s[14]=p*w+g*R+_*z+m*be,s[3]=y*M+v*E+b*N+x*V,s[7]=y*S+v*L+b*B+x*X,s[11]=y*C+v*U+b*k+x*ee,s[15]=y*w+v*R+b*z+x*be,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],h=e[10],f=e[14];return e[3]*(+s*l*d-r*c*d-s*a*h+i*c*h+r*a*f-i*l*f)+e[7]*(+t*l*f-t*c*h+s*o*h-r*o*f+r*c*u-s*l*u)+e[11]*(+t*c*d-t*a*f-s*o*d+i*o*f+s*a*u-i*c*u)+e[15]*(-r*a*u-t*l*d+t*a*h+r*o*d-i*o*h+i*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],f=e[11],p=e[12],g=e[13],_=e[14],m=e[15],y=d*_*c-g*h*c+g*l*f-a*_*f-d*l*m+a*h*m,v=p*h*c-u*_*c-p*l*f+o*_*f+u*l*m-o*h*m,b=u*g*c-p*d*c+p*a*f-o*g*f-u*a*m+o*d*m,x=p*d*l-u*g*l-p*a*h+o*g*h+u*a*_-o*d*_,M=t*y+i*v+r*b+s*x;if(0===M)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const S=1/M;return e[0]=y*S,e[1]=(g*h*s-d*_*s-g*r*f+i*_*f+d*r*m-i*h*m)*S,e[2]=(a*_*s-g*l*s+g*r*c-i*_*c-a*r*m+i*l*m)*S,e[3]=(d*l*s-a*h*s-d*r*c+i*h*c+a*r*f-i*l*f)*S,e[4]=v*S,e[5]=(u*_*s-p*h*s+p*r*f-t*_*f-u*r*m+t*h*m)*S,e[6]=(p*l*s-o*_*s-p*r*c+t*_*c+o*r*m-t*l*m)*S,e[7]=(o*h*s-u*l*s+u*r*c-t*h*c-o*r*f+t*l*f)*S,e[8]=b*S,e[9]=(p*d*s-u*g*s-p*i*f+t*g*f+u*i*m-t*d*m)*S,e[10]=(o*g*s-p*a*s+p*i*c-t*g*c-o*i*m+t*a*m)*S,e[11]=(u*a*s-o*d*s-u*i*c+t*d*c+o*i*f-t*a*f)*S,e[12]=x*S,e[13]=(u*g*r-p*d*r+p*i*h-t*g*h-u*i*_+t*d*_)*S,e[14]=(p*a*r-o*g*r-p*i*l+t*g*l+o*i*_-t*a*_)*S,e[15]=(o*d*r-u*a*r+u*i*l-t*d*l-o*i*h+t*a*h)*S,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,d=a+a,h=s*c,f=s*u,p=s*d,g=o*u,_=o*d,m=a*d,y=l*c,v=l*u,b=l*d,x=i.x,M=i.y,S=i.z;return r[0]=(1-(g+m))*x,r[1]=(f+b)*x,r[2]=(p-v)*x,r[3]=0,r[4]=(f-b)*M,r[5]=(1-(h+m))*M,r[6]=(_+y)*M,r[7]=0,r[8]=(p+v)*S,r[9]=(_-y)*S,r[10]=(1-(h+g))*S,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=Xc.set(r[0],r[1],r[2]).length();const o=Xc.set(r[4],r[5],r[6]).length(),a=Xc.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Yr.copy(this);const c=1/s,u=1/o,d=1/a;return Yr.elements[0]*=c,Yr.elements[1]*=c,Yr.elements[2]*=c,Yr.elements[4]*=u,Yr.elements[5]*=u,Yr.elements[6]*=u,Yr.elements[8]*=d,Yr.elements[9]*=d,Yr.elements[10]*=d,t.setFromRotationMatrix(Yr),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o){const a=this.elements,c=2*s/(i-r),u=(t+e)/(t-e),d=(i+r)/(i-r),h=-(o+s)/(o-s),f=-2*o*s/(o-s);return a[0]=2*s/(t-e),a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,r,s,o){const a=this.elements,l=1/(t-e),c=1/(i-r),u=1/(o-s),d=(t+e)*l,h=(i+r)*c,f=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Xc=new A,Yr=new at,zee=new A(0,0,0),Hee=new A(1,1,1),Yo=new A,ag=new A,cr=new A,PL=new at,OL=new oi;let Vee=(()=>{class n{constructor(t=0,i=0,r=0,s=n.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=i,this._z=r,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,i,r,s=this._order){return this._x=t,this._y=i,this._z=r,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,i=this._order,r=!0){const s=t.elements,o=s[0],a=s[4],l=s[8],c=s[1],u=s[5],d=s[9],h=s[2],f=s[6],p=s[10];switch(i){case"XYZ":this._y=Math.asin(wn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-wn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(l,p),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-h,o),this._z=0);break;case"ZXY":this._x=Math.asin(wn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-wn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,p),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(wn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(l,p));break;case"XZY":this._z=Math.asin(-wn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(l,o)):(this._x=Math.atan2(-d,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,!0===r&&this._onChangeCallback(),this}setFromQuaternion(t,i,r){return PL.makeRotationFromQuaternion(t),this.setFromRotationMatrix(PL,i,r)}setFromVector3(t,i=this._order){return this.set(t.x,t.y,t.z,i)}reorder(t){return OL.setFromEuler(this),this.setFromQuaternion(OL,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],i=0){return t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return n.DEFAULT_ORDER="XYZ",n})();class vw{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let Gee=0;const LL=new A,qc=new oi,mo=new at,lg=new A,ch=new A,Wee=new A,jee=new oi,kL=new A(1,0,0),NL=new A(0,1,0),FL=new A(0,0,1),$ee={type:"added"},BL={type:"removed"};let Zn=(()=>{class n extends za{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Gee++}),this.uuid=ar(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DEFAULT_UP.clone();const t=new A,i=new Vee,r=new oi,s=new A(1,1,1);i._onChange(function o(){r.setFromEuler(i,!1)}),r._onChange(function a(){i.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new at},normalMatrix:{value:new Rt}}),this.matrix=new at,this.matrixWorld=new at,this.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new vw,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,i){this.quaternion.setFromAxisAngle(t,i)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,i){return qc.setFromAxisAngle(t,i),this.quaternion.multiply(qc),this}rotateOnWorldAxis(t,i){return qc.setFromAxisAngle(t,i),this.quaternion.premultiply(qc),this}rotateX(t){return this.rotateOnAxis(kL,t)}rotateY(t){return this.rotateOnAxis(NL,t)}rotateZ(t){return this.rotateOnAxis(FL,t)}translateOnAxis(t,i){return LL.copy(t).applyQuaternion(this.quaternion),this.position.add(LL.multiplyScalar(i)),this}translateX(t){return this.translateOnAxis(kL,t)}translateY(t){return this.translateOnAxis(NL,t)}translateZ(t){return this.translateOnAxis(FL,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(mo.copy(this.matrixWorld).invert())}lookAt(t,i,r){t.isVector3?lg.copy(t):lg.set(t,i,r);const s=this.parent;this.updateWorldMatrix(!0,!1),ch.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?mo.lookAt(ch,lg,this.up):mo.lookAt(lg,ch,this.up),this.quaternion.setFromRotationMatrix(mo),s&&(mo.extractRotation(s.matrixWorld),qc.setFromRotationMatrix(mo),this.quaternion.premultiply(qc.invert()))}add(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent($ee)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const i=this.children.indexOf(t);return-1!==i&&(t.parent=null,this.children.splice(i,1),t.dispatchEvent(BL)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const i=this.children[t];i.parent=null,i.dispatchEvent(BL)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),mo.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),mo.multiply(t.parent.matrixWorld)),t.applyMatrix4(mo),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,i){if(this[t]===i)return this;for(let r=0,s=this.children.length;r<s;r++){const a=this.children[r].getObjectByProperty(t,i);if(void 0!==a)return a}}getObjectsByProperty(t,i){let r=[];this[t]===i&&r.push(this);for(let s=0,o=this.children.length;s<o;s++){const a=this.children[s].getObjectsByProperty(t,i);a.length>0&&(r=r.concat(a))}return r}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ch,t,Wee),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ch,jee,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return t.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(t){t(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverseVisible(t)}traverseAncestors(t){const i=this.parent;null!==i&&(t(i),i.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const i=this.children;for(let r=0,s=i.length;r<s;r++){const o=i[r];(!0===o.matrixWorldAutoUpdate||!0===t)&&o.updateMatrixWorld(t)}}updateWorldMatrix(t,i){const r=this.parent;if(!0===t&&null!==r&&!0===r.matrixWorldAutoUpdate&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===i){const s=this.children;for(let o=0,a=s.length;o<a;o++){const l=s[o];!0===l.matrixWorldAutoUpdate&&l.updateWorldMatrix(!1,!0)}}}toJSON(t){const i=void 0===t||"string"==typeof t,r={};i&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const s={};function o(l,c){return void 0===l[c.uuid]&&(l[c.uuid]=c.toJSON(t)),c.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=o(t.geometries,this.geometry);const l=this.geometry.parameters;if(void 0!==l&&void 0!==l.shapes){const c=l.shapes;if(Array.isArray(c))for(let u=0,d=c.length;u<d;u++)o(t.shapes,c[u]);else o(t.shapes,c)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(o(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const l=[];for(let c=0,u=this.material.length;c<u;c++)l.push(o(t.materials,this.material[c]));s.material=l}else s.material=o(t.materials,this.material);if(this.children.length>0){s.children=[];for(let l=0;l<this.children.length;l++)s.children.push(this.children[l].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let l=0;l<this.animations.length;l++)s.animations.push(o(t.animations,this.animations[l]))}if(i){const l=a(t.geometries),c=a(t.materials),u=a(t.textures),d=a(t.images),h=a(t.shapes),f=a(t.skeletons),p=a(t.animations),g=a(t.nodes);l.length>0&&(r.geometries=l),c.length>0&&(r.materials=c),u.length>0&&(r.textures=u),d.length>0&&(r.images=d),h.length>0&&(r.shapes=h),f.length>0&&(r.skeletons=f),p.length>0&&(r.animations=p),g.length>0&&(r.nodes=g)}return r.object=s,r;function a(l){const c=[];for(const u in l){const d=l[u];delete d.metadata,c.push(d)}return c}}clone(t){return(new this.constructor).copy(this,t)}copy(t,i=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===i)for(let r=0;r<t.children.length;r++)this.add(t.children[r].clone());return this}}return n.DEFAULT_UP=new A(0,1,0),n.DEFAULT_MATRIX_AUTO_UPDATE=!0,n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,n})();const Kr=new A,go=new A,yw=new A,_o=new A,Yc=new A,Kc=new A,UL=new A,bw=new A,xw=new A,ww=new A;let cg=!1;class ur{constructor(e=new A,t=new A,i=new A){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Kr.subVectors(e,t),r.cross(Kr);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Kr.subVectors(r,t),go.subVectors(i,t),yw.subVectors(e,t);const o=Kr.dot(Kr),a=Kr.dot(go),l=Kr.dot(yw),c=go.dot(go),u=go.dot(yw),d=o*c-a*a;if(0===d)return s.set(-2,-1,-1);const h=1/d,f=(c*l-a*u)*h,p=(o*u-a*l)*h;return s.set(1-f-p,p,f)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,_o),_o.x>=0&&_o.y>=0&&_o.x+_o.y<=1}static getUV(e,t,i,r,s,o,a,l){return!1===cg&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),cg=!0),this.getInterpolation(e,t,i,r,s,o,a,l)}static getInterpolation(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,_o),l.setScalar(0),l.addScaledVector(s,_o.x),l.addScaledVector(o,_o.y),l.addScaledVector(a,_o.z),l}static isFrontFacing(e,t,i,r){return Kr.subVectors(i,t),go.subVectors(e,t),Kr.cross(go).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Kr.subVectors(this.c,this.b),go.subVectors(this.a,this.b),.5*Kr.cross(go).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ur.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ur.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return!1===cg&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),cg=!0),ur.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}getInterpolation(e,t,i,r,s){return ur.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return ur.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ur.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;Yc.subVectors(r,i),Kc.subVectors(s,i),bw.subVectors(e,i);const l=Yc.dot(bw),c=Kc.dot(bw);if(l<=0&&c<=0)return t.copy(i);xw.subVectors(e,r);const u=Yc.dot(xw),d=Kc.dot(xw);if(u>=0&&d<=u)return t.copy(r);const h=l*d-u*c;if(h<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(i).addScaledVector(Yc,o);ww.subVectors(e,s);const f=Yc.dot(ww),p=Kc.dot(ww);if(p>=0&&f<=p)return t.copy(s);const g=f*c-l*p;if(g<=0&&c>=0&&p<=0)return a=c/(c-p),t.copy(i).addScaledVector(Kc,a);const _=u*p-f*d;if(_<=0&&d-u>=0&&f-p>=0)return UL.subVectors(s,r),a=(d-u)/(d-u+(f-p)),t.copy(r).addScaledVector(UL,a);const m=1/(_+g+h);return o=g*m,a=h*m,t.copy(i).addScaledVector(Yc,o).addScaledVector(Kc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Xee=0;class Zr extends za{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Xee++}),this.uuid=ar(),this.name="",this.type="Material",this.blending=Rc,this.side=lo,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=XO,this.blendDst=qO,this.blendEquation=Pc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Xx,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const i=e[t];if(void 0===i){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(i.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(i.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Rc&&(i.blending=this.blending),this.side!==lo&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(i.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(i.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=this.flatShading),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),!1===this.fog&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData),t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(null!==t){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}const zL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Qr={h:0,s:0,l:0},ug={h:0,s:0,l:0};function Mw(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+6*(e-n)*(2/3-t):n}class Ce{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===t&&void 0===i?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ot){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,$r.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=$r.workingColorSpace){return this.r=e,this.g=t,this.b=i,$r.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=$r.workingColorSpace){if(e=ow(e,1),t=wn(t,0,1),i=wn(i,0,1),0===t)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=Mw(o,s,e+1/3),this.g=Mw(o,s,e),this.b=Mw(o,s,e-1/3)}return $r.toWorkingColorSpace(this,r),this}setStyle(e,t=ot){function i(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[2];switch(r[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(3===o)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(6===o)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=ot){const i=zL[e.toLowerCase()];return void 0!==i?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=zc(e.r),this.g=zc(e.g),this.b=zc(e.b),this}copyLinearToSRGB(e){return this.r=cw(e.r),this.g=cw(e.g),this.b=cw(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ot){return $r.fromWorkingColorSpace(_i.copy(this),e),65536*Math.round(wn(255*_i.r,0,255))+256*Math.round(wn(255*_i.g,0,255))+Math.round(wn(255*_i.b,0,255))}getHexString(e=ot){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=$r.workingColorSpace){$r.fromWorkingColorSpace(_i.copy(this),t);const i=_i.r,r=_i.g,s=_i.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case i:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-i)/d+2;break;case s:l=(i-r)/d+4}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=$r.workingColorSpace){return $r.fromWorkingColorSpace(_i.copy(this),t),e.r=_i.r,e.g=_i.g,e.b=_i.b,e}getStyle(e=ot){$r.fromWorkingColorSpace(_i.copy(this),e);const t=_i.r,i=_i.g,r=_i.b;return e!==ot?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*i)},${Math.round(255*r)})`}offsetHSL(e,t,i){return this.getHSL(Qr),Qr.h+=e,Qr.s+=t,Qr.l+=i,this.setHSL(Qr.h,Qr.s,Qr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Qr),e.getHSL(ug);const i=rh(Qr.h,ug.h,t),r=rh(Qr.s,ug.s,t),s=rh(Qr.l,ug.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const _i=new Ce;Ce.NAMES=zL;class Ar extends Zr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ce(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Km,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const zn=new A,dg=new se;class Mn{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=i,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,i=this.count;t<i;t++)dg.fromBufferAttribute(this,t),dg.applyMatrix3(e),this.setXY(t,dg.x,dg.y);else if(3===this.itemSize)for(let t=0,i=this.count;t<i;t++)zn.fromBufferAttribute(this,t),zn.applyMatrix3(e),this.setXYZ(t,zn.x,zn.y,zn.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)zn.fromBufferAttribute(this,t),zn.applyMatrix4(e),this.setXYZ(t,zn.x,zn.y,zn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)zn.fromBufferAttribute(this,t),zn.applyNormalMatrix(e),this.setXYZ(t,zn.x,zn.y,zn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)zn.fromBufferAttribute(this,t),zn.transformDirection(e),this.setXYZ(t,zn.x,zn.y,zn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=lr(t,this.array)),t}setX(e,t){return this.normalized&&(t=yt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=lr(t,this.array)),t}setY(e,t){return this.normalized&&(t=yt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=lr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=yt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=lr(t,this.array)),t}setW(e,t){return this.normalized&&(t=yt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=yt(t,this.array),i=yt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=yt(t,this.array),i=yt(i,this.array),r=yt(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=yt(t,this.array),i=yt(i,this.array),r=yt(r,this.array),s=yt(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class HL extends Mn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class VL extends Mn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Ue extends Mn{constructor(e,t,i){super(new Float32Array(e),t,i)}}let Yee=0;const Dr=new at,Ew=new Zn,Zc=new A,dr=new qr,dh=new qr,Qn=new A;class Et extends za{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Yee++}),this.uuid=ar(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(TL(e)?VL:HL)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const s=(new Rt).getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Dr.makeRotationFromQuaternion(e),this.applyMatrix4(Dr),this}rotateX(e){return Dr.makeRotationX(e),this.applyMatrix4(Dr),this}rotateY(e){return Dr.makeRotationY(e),this.applyMatrix4(Dr),this}rotateZ(e){return Dr.makeRotationZ(e),this.applyMatrix4(Dr),this}translate(e,t,i){return Dr.makeTranslation(e,t,i),this.applyMatrix4(Dr),this}scale(e,t,i){return Dr.makeScale(e,t,i),this.applyMatrix4(Dr),this}lookAt(e){return Ew.lookAt(e),Ew.updateMatrix(),this.applyMatrix4(Ew.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Zc).negate(),this.translate(Zc.x,Zc.y,Zc.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ue(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new qr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new A(-1/0,-1/0,-1/0),new A(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++)dr.setFromBufferAttribute(t[i]),this.morphTargetsRelative?(Qn.addVectors(this.boundingBox.min,dr.min),this.boundingBox.expandByPoint(Qn),Qn.addVectors(this.boundingBox.max,dr.max),this.boundingBox.expandByPoint(Qn)):(this.boundingBox.expandByPoint(dr.min),this.boundingBox.expandByPoint(dr.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new ws);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new A,1/0);if(e){const i=this.boundingSphere.center;if(dr.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++)dh.setFromBufferAttribute(t[s]),this.morphTargetsRelative?(Qn.addVectors(dr.min,dh.min),dr.expandByPoint(Qn),Qn.addVectors(dr.max,dh.max),dr.expandByPoint(Qn)):(dr.expandByPoint(dh.min),dr.expandByPoint(dh.max));dr.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Qn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Qn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Qn.fromBufferAttribute(a,c),l&&(Zc.fromBufferAttribute(e,c),Qn.add(Zc)),r=Math.max(r,i.distanceToSquared(Qn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Mn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let E=0;E<a;E++)c[E]=new A,u[E]=new A;const d=new A,h=new A,f=new A,p=new se,g=new se,_=new se,m=new A,y=new A;function v(E,L,U){d.fromArray(r,3*E),h.fromArray(r,3*L),f.fromArray(r,3*U),p.fromArray(o,2*E),g.fromArray(o,2*L),_.fromArray(o,2*U),h.sub(d),f.sub(d),g.sub(p),_.sub(p);const R=1/(g.x*_.y-_.x*g.y);isFinite(R)&&(m.copy(h).multiplyScalar(_.y).addScaledVector(f,-g.y).multiplyScalar(R),y.copy(f).multiplyScalar(g.x).addScaledVector(h,-_.x).multiplyScalar(R),c[E].add(m),c[L].add(m),c[U].add(m),u[E].add(y),u[L].add(y),u[U].add(y))}let b=this.groups;0===b.length&&(b=[{start:0,count:i.length}]);for(let E=0,L=b.length;E<L;++E){const U=b[E],R=U.start;for(let B=R,k=R+U.count;B<k;B+=3)v(i[B+0],i[B+1],i[B+2])}const x=new A,M=new A,S=new A,C=new A;function w(E){S.fromArray(s,3*E),C.copy(S);const L=c[E];x.copy(L),x.sub(S.multiplyScalar(S.dot(L))).normalize(),M.crossVectors(C,L);const R=M.dot(u[E])<0?-1:1;l[4*E]=x.x,l[4*E+1]=x.y,l[4*E+2]=x.z,l[4*E+3]=R}for(let E=0,L=b.length;E<L;++E){const U=b[E],R=U.start;for(let B=R,k=R+U.count;B<k;B+=3)w(i[B+0]),w(i[B+1]),w(i[B+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let i=this.getAttribute("normal");if(void 0===i)i=new Mn(new Float32Array(3*t.count),3),this.setAttribute("normal",i);else for(let h=0,f=i.count;h<f;h++)i.setXYZ(h,0,0,0);const r=new A,s=new A,o=new A,a=new A,l=new A,c=new A,u=new A,d=new A;if(e)for(let h=0,f=e.count;h<f;h+=3){const p=e.getX(h+0),g=e.getX(h+1),_=e.getX(h+2);r.fromBufferAttribute(t,p),s.fromBufferAttribute(t,g),o.fromBufferAttribute(t,_),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),a.fromBufferAttribute(i,p),l.fromBufferAttribute(i,g),c.fromBufferAttribute(i,_),a.add(u),l.add(u),c.add(u),i.setXYZ(p,a.x,a.y,a.z),i.setXYZ(g,l.x,l.y,l.z),i.setXYZ(_,c.x,c.y,c.z)}else for(let h=0,f=t.count;h<f;h+=3)r.fromBufferAttribute(t,h+0),s.fromBufferAttribute(t,h+1),o.fromBufferAttribute(t,h+2),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),i.setXYZ(h+0,u.x,u.y,u.z),i.setXYZ(h+1,u.x,u.y,u.z),i.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Qn.fromBufferAttribute(e,t),Qn.normalize(),e.setXYZ(t,Qn.x,Qn.y,Qn.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,h=new c.constructor(l.length*u);let f=0,p=0;for(let g=0,_=l.length;g<_;g++){f=a.isInterleavedBufferAttribute?l[g]*a.data.stride+a.offset:l[g]*u;for(let m=0;m<u;m++)h[p++]=c[f++]}return new Mn(h,u,d)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Et,i=this.index.array,r=this.attributes;for(const a in r){const c=e(r[a],i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const f=e(c[u],i);l.push(f)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const l=this.parameters;for(const c in l)void 0!==l[c]&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i)e.data.attributes[l]=i[l].toJSON(e.data);const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,h=c.length;d<h;d++)u.push(c[d].toJSON(e.data));u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;null!==i&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r)this.setAttribute(c,r[c].clone(t));const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let h=0,f=d.length;h<f;h++)u.push(d[h].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const l=e.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const GL=new at,Ms=new og,hg=new ws,WL=new A,Qc=new A,Jc=new A,eu=new A,Sw=new A,fg=new A,pg=new se,mg=new se,gg=new se,jL=new A,$L=new A,XL=new A,_g=new A,vg=new A;class vi extends Zn{constructor(e=new Et,t=new Ar){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(i.attributes.position,e);const a=this.morphTargetInfluences;if(s&&a){fg.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l];0!==u&&(Sw.fromBufferAttribute(s[l],e),fg.addScaledVector(o?Sw:Sw.sub(t),u))}t.add(fg)}return t}raycast(e,t){const i=this.geometry,s=this.matrixWorld;void 0!==this.material&&(null===i.boundingSphere&&i.computeBoundingSphere(),hg.copy(i.boundingSphere),hg.applyMatrix4(s),Ms.copy(e.ray).recast(e.near),(!1!==hg.containsPoint(Ms.origin)||!(null===Ms.intersectSphere(hg,WL)||Ms.origin.distanceToSquared(WL)>(e.far-e.near)**2))&&(GL.copy(s).invert(),Ms.copy(e.ray).applyMatrix4(GL),(null===i.boundingBox||!1!==Ms.intersectsBox(i.boundingBox))&&this._computeIntersections(e,t)))}_computeIntersections(e,t){let i;const r=this.geometry,s=this.material,o=r.index,a=r.attributes.position,l=r.attributes.uv,c=r.attributes.uv1,u=r.attributes.normal,d=r.groups,h=r.drawRange;if(null!==o)if(Array.isArray(s))for(let f=0,p=d.length;f<p;f++){const g=d[f],_=s[g.materialIndex];for(let v=Math.max(g.start,h.start),b=Math.min(o.count,Math.min(g.start+g.count,h.start+h.count));v<b;v+=3){const x=o.getX(v),M=o.getX(v+1),S=o.getX(v+2);i=yg(this,_,e,Ms,l,c,u,x,M,S),i&&(i.faceIndex=Math.floor(v/3),i.face.materialIndex=g.materialIndex,t.push(i))}}else for(let g=Math.max(0,h.start),_=Math.min(o.count,h.start+h.count);g<_;g+=3){const m=o.getX(g),y=o.getX(g+1),v=o.getX(g+2);i=yg(this,s,e,Ms,l,c,u,m,y,v),i&&(i.faceIndex=Math.floor(g/3),t.push(i))}else if(void 0!==a)if(Array.isArray(s))for(let f=0,p=d.length;f<p;f++){const g=d[f],_=s[g.materialIndex];for(let v=Math.max(g.start,h.start),b=Math.min(a.count,Math.min(g.start+g.count,h.start+h.count));v<b;v+=3)i=yg(this,_,e,Ms,l,c,u,v,v+1,v+2),i&&(i.faceIndex=Math.floor(v/3),i.face.materialIndex=g.materialIndex,t.push(i))}else for(let g=Math.max(0,h.start),_=Math.min(a.count,h.start+h.count);g<_;g+=3)i=yg(this,s,e,Ms,l,c,u,g,g+1,g+2),i&&(i.faceIndex=Math.floor(g/3),t.push(i))}}function yg(n,e,t,i,r,s,o,a,l,c){n.getVertexPosition(a,Qc),n.getVertexPosition(l,Jc),n.getVertexPosition(c,eu);const u=function Kee(n,e,t,i,r,s,o,a){let l;if(l=e.side===$i?i.intersectTriangle(o,s,r,!0,a):i.intersectTriangle(r,s,o,e.side===lo,a),null===l)return null;vg.copy(a),vg.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(vg);return c<t.near||c>t.far?null:{distance:c,point:vg.clone(),object:n}}(n,e,t,i,Qc,Jc,eu,_g);if(u){r&&(pg.fromBufferAttribute(r,a),mg.fromBufferAttribute(r,l),gg.fromBufferAttribute(r,c),u.uv=ur.getInterpolation(_g,Qc,Jc,eu,pg,mg,gg,new se)),s&&(pg.fromBufferAttribute(s,a),mg.fromBufferAttribute(s,l),gg.fromBufferAttribute(s,c),u.uv1=ur.getInterpolation(_g,Qc,Jc,eu,pg,mg,gg,new se),u.uv2=u.uv1),o&&(jL.fromBufferAttribute(o,a),$L.fromBufferAttribute(o,l),XL.fromBufferAttribute(o,c),u.normal=ur.getInterpolation(_g,Qc,Jc,eu,jL,$L,XL,new A),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const d={a,b:l,c,normal:new A,materialIndex:0};ur.getNormal(Qc,Jc,eu,d.normal),u.face=d}return u}class tu extends Et{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let h=0,f=0;function p(g,_,m,y,v,b,x,M,S,C,w){const E=b/S,L=x/C,U=b/2,R=x/2,N=M/2,B=S+1,k=C+1;let z=0,V=0;const X=new A;for(let ee=0;ee<k;ee++){const be=ee*L-R;for(let ge=0;ge<B;ge++)X[g]=(ge*E-U)*y,X[_]=be*v,X[m]=N,c.push(X.x,X.y,X.z),X[g]=0,X[_]=0,X[m]=M>0?1:-1,u.push(X.x,X.y,X.z),d.push(ge/S),d.push(1-ee/C),z+=1}for(let ee=0;ee<C;ee++)for(let be=0;be<S;be++){const Y=h+be+B*(ee+1),Z=h+(be+1)+B*(ee+1),_e=h+(be+1)+B*ee;l.push(h+be+B*ee,Y,_e),l.push(Y,Z,_e),V+=6}a.addGroup(f,V,w),f+=V,h+=z}p("z","y","x",-1,-1,i,t,e,o,s,0),p("z","y","x",1,-1,i,t,-e,o,s,1),p("x","z","y",1,1,e,i,t,r,o,2),p("x","z","y",1,-1,e,i,-t,r,o,3),p("x","y","z",1,-1,e,t,i,r,s,4),p("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Ue(c,3)),this.setAttribute("normal",new Ue(u,3)),this.setAttribute("uv",new Ue(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function nu(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():e[t][i]=Array.isArray(r)?r.slice():r}}return e}function Pi(n){const e={};for(let t=0;t<n.length;t++){const i=nu(n[t]);for(const r in i)e[r]=i[r]}return e}function qL(n){return null===n.getRenderTarget()?n.outputColorSpace:xs}const Qee={clone:nu,merge:Pi};class Ko extends Zr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=nu(e.uniforms),this.uniformsGroups=function Zee(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;t.uniforms[r]=o&&o.isTexture?{type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?{type:"c",value:o.getHex()}:o&&o.isVector2?{type:"v2",value:o.toArray()}:o&&o.isVector3?{type:"v3",value:o.toArray()}:o&&o.isVector4?{type:"v4",value:o.toArray()}:o&&o.isMatrix3?{type:"m3",value:o.toArray()}:o&&o.isMatrix4?{type:"m4",value:o.toArray()}:{value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)!0===this.extensions[r]&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class Cw extends Zn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new at,this.projectionMatrix=new at,this.projectionMatrixInverse=new at}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class Jn extends Cw{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Bc*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Ha*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Bc*Math.atan(Math.tan(.5*Ha*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Ha*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;0!==a&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class tte extends Zn{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i;const r=new Jn(-90,1,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const s=new Jn(-90,1,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new Jn(-90,1,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new Jn(-90,1,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new Jn(-90,1,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const c=new Jn(-90,1,e,t);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,-1),this.add(c)}update(e,t){null===this.parent&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,l,c]=this.children,u=e.getRenderTarget(),d=e.toneMapping,h=e.xr.enabled;e.toneMapping=co,e.xr.enabled=!1;const f=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=f,e.setRenderTarget(i,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=d,e.xr.enabled=h,i.texture.needsPMREMUpdate=!0}}class bg extends Xr{constructor(e,t,i,r,s,o,a,l,c,u){super(e=void 0!==e?e:[],t=void 0!==t?t:Ra,i,r,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class nte extends Va{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];void 0!==t.encoding&&(oh("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Fa?ot:Ua),this.texture=new bg(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:xn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i_uniforms={tEquirect:{value:null}},i_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",r=new tu(5,5,5),s=new Ko({name:"CubemapFromEquirect",uniforms:nu(i_uniforms),vertexShader:i_vertexShader,fragmentShader:i_fragmentShader,side:$i,blending:Wo});s.uniforms.tEquirect.value=t;const o=new vi(r,s),a=t.minFilter;return t.minFilter===uo&&(t.minFilter=xn),new tte(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const Tw=new A,ite=new A,rte=new Rt;class ja{constructor(e=new A(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=Tw.subVectors(i,t).cross(ite.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(Tw),r=this.normal.dot(i);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||rte.getNormalMatrix(e),r=this.coplanarPoint(Tw).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const $a=new ws,xg=new A;class Aw{constructor(e=new ja,t=new ja,i=new ja,r=new ja,s=new ja,o=new ja){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],c=i[5],u=i[6],d=i[7],h=i[8],f=i[9],p=i[10],g=i[11],_=i[12],m=i[13],y=i[14],v=i[15];return t[0].setComponents(a-r,d-l,g-h,v-_).normalize(),t[1].setComponents(a+r,d+l,g+h,v+_).normalize(),t[2].setComponents(a+s,d+c,g+f,v+m).normalize(),t[3].setComponents(a-s,d-c,g-f,v-m).normalize(),t[4].setComponents(a-o,d-u,g-p,v-y).normalize(),t[5].setComponents(a+o,d+u,g+p,v+y).normalize(),this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),$a.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),$a.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere($a)}intersectsSprite(e){return $a.center.set(0,0,0),$a.radius=.7071067811865476,$a.applyMatrix4(e.matrixWorld),this.intersectsSphere($a)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(xg.x=r.normal.x>0?e.max.x:e.min.x,xg.y=r.normal.y>0?e.max.y:e.min.y,xg.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(xg)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function YL(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==t&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function ste(n,e){const t=e.isWebGL2,i=new WeakMap;return{get:function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)},remove:function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u&&(n.deleteBuffer(u.buffer),i.delete(c))},update:function l(c,u){if(c.isGLBufferAttribute){const h=i.get(c);return void((!h||h.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version}))}c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);void 0===d?i.set(c,function r(c,u){const d=c.array,h=c.usage,f=n.createBuffer();let p;if(n.bindBuffer(u,f),n.bufferData(u,d,h),c.onUploadCallback(),d instanceof Float32Array)p=n.FLOAT;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute){if(!t)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");p=n.HALF_FLOAT}else p=n.UNSIGNED_SHORT;else if(d instanceof Int16Array)p=n.SHORT;else if(d instanceof Uint32Array)p=n.UNSIGNED_INT;else if(d instanceof Int32Array)p=n.INT;else if(d instanceof Int8Array)p=n.BYTE;else if(d instanceof Uint8Array)p=n.UNSIGNED_BYTE;else{if(!(d instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);p=n.UNSIGNED_BYTE}return{buffer:f,type:p,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}(c,u)):d.version<c.version&&(function s(c,u,d){const h=u.array,f=u.updateRange;n.bindBuffer(d,c),-1===f.count?n.bufferSubData(d,0,h):(t?n.bufferSubData(d,f.offset*h.BYTES_PER_ELEMENT,h,f.offset,f.count):n.bufferSubData(d,f.offset*h.BYTES_PER_ELEMENT,h.subarray(f.offset,f.offset+f.count)),f.count=-1),u.onUploadCallback()}(d.buffer,c,u),d.version=c.version)}}}class wg extends Et{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,d=e/a,h=t/l,f=[],p=[],g=[],_=[];for(let m=0;m<u;m++){const y=m*h-o;for(let v=0;v<c;v++)p.push(v*d-s,-y,0),g.push(0,0,1),_.push(v/a),_.push(1-m/l)}for(let m=0;m<l;m++)for(let y=0;y<a;y++){const b=y+c*(m+1),x=y+1+c*(m+1),M=y+1+c*m;f.push(y+c*m,b,M),f.push(b,x,M)}this.setIndex(f),this.setAttribute("position",new Ue(p,3)),this.setAttribute("normal",new Ue(g,3)),this.setAttribute("uv",new Ue(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wg(e.width,e.height,e.widthSegments,e.heightSegments)}}const xt={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, vMapUv );\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_NORMALMAP_TANGENTSPACE\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#ifdef USE_UV\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},Me={common:{diffuse:{value:new Ce(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Rt},alphaMap:{value:null},alphaMapTransform:{value:new Rt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Rt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Rt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Rt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Rt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Rt},normalScale:{value:new se(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Rt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Rt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Rt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Rt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ce(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ce(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Rt}},sprite:{diffuse:{value:new Ce(16777215)},opacity:{value:1},center:{value:new se(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Rt},alphaMap:{value:null},alphaTest:{value:0}}},Es={basic:{uniforms:Pi([Me.common,Me.specularmap,Me.envmap,Me.aomap,Me.lightmap,Me.fog]),vertexShader:xt.meshbasic_vert,fragmentShader:xt.meshbasic_frag},lambert:{uniforms:Pi([Me.common,Me.specularmap,Me.envmap,Me.aomap,Me.lightmap,Me.emissivemap,Me.bumpmap,Me.normalmap,Me.displacementmap,Me.fog,Me.lights,{emissive:{value:new Ce(0)}}]),vertexShader:xt.meshlambert_vert,fragmentShader:xt.meshlambert_frag},phong:{uniforms:Pi([Me.common,Me.specularmap,Me.envmap,Me.aomap,Me.lightmap,Me.emissivemap,Me.bumpmap,Me.normalmap,Me.displacementmap,Me.fog,Me.lights,{emissive:{value:new Ce(0)},specular:{value:new Ce(1118481)},shininess:{value:30}}]),vertexShader:xt.meshphong_vert,fragmentShader:xt.meshphong_frag},standard:{uniforms:Pi([Me.common,Me.envmap,Me.aomap,Me.lightmap,Me.emissivemap,Me.bumpmap,Me.normalmap,Me.displacementmap,Me.roughnessmap,Me.metalnessmap,Me.fog,Me.lights,{emissive:{value:new Ce(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:xt.meshphysical_vert,fragmentShader:xt.meshphysical_frag},toon:{uniforms:Pi([Me.common,Me.aomap,Me.lightmap,Me.emissivemap,Me.bumpmap,Me.normalmap,Me.displacementmap,Me.gradientmap,Me.fog,Me.lights,{emissive:{value:new Ce(0)}}]),vertexShader:xt.meshtoon_vert,fragmentShader:xt.meshtoon_frag},matcap:{uniforms:Pi([Me.common,Me.bumpmap,Me.normalmap,Me.displacementmap,Me.fog,{matcap:{value:null}}]),vertexShader:xt.meshmatcap_vert,fragmentShader:xt.meshmatcap_frag},points:{uniforms:Pi([Me.points,Me.fog]),vertexShader:xt.points_vert,fragmentShader:xt.points_frag},dashed:{uniforms:Pi([Me.common,Me.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:xt.linedashed_vert,fragmentShader:xt.linedashed_frag},depth:{uniforms:Pi([Me.common,Me.displacementmap]),vertexShader:xt.depth_vert,fragmentShader:xt.depth_frag},normal:{uniforms:Pi([Me.common,Me.bumpmap,Me.normalmap,Me.displacementmap,{opacity:{value:1}}]),vertexShader:xt.meshnormal_vert,fragmentShader:xt.meshnormal_frag},sprite:{uniforms:Pi([Me.sprite,Me.fog]),vertexShader:xt.sprite_vert,fragmentShader:xt.sprite_frag},background:{uniforms:{uvTransform:{value:new Rt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:xt.background_vert,fragmentShader:xt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:xt.backgroundCube_vert,fragmentShader:xt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:xt.cube_vert,fragmentShader:xt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:xt.equirect_vert,fragmentShader:xt.equirect_frag},distanceRGBA:{uniforms:Pi([Me.common,Me.displacementmap,{referencePosition:{value:new A},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:xt.distanceRGBA_vert,fragmentShader:xt.distanceRGBA_frag},shadow:{uniforms:Pi([Me.lights,Me.fog,{color:{value:new Ce(0)},opacity:{value:1}}]),vertexShader:xt.shadow_vert,fragmentShader:xt.shadow_frag}};Es.physical={uniforms:Pi([Es.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Rt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Rt},clearcoatNormalScale:{value:new se(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Rt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Rt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Rt},sheen:{value:0},sheenColor:{value:new Ce(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Rt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Rt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Rt},transmissionSamplerSize:{value:new se},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Rt},attenuationDistance:{value:0},attenuationColor:{value:new Ce(0)},specularColor:{value:new Ce(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Rt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Rt}}]),vertexShader:xt.meshphysical_vert,fragmentShader:xt.meshphysical_frag};const Mg={r:0,b:0,g:0};function tie(n,e,t,i,r,s,o){const a=new Ce(0);let c,u,l=!0===s?0:1,d=null,h=0,f=null;function g(_,m){_.getRGB(Mg,qL(n)),i.buffers.color.setClear(Mg.r,Mg.g,Mg.b,m,o)}return{getClearColor:function(){return a},setClearColor:function(_,m=1){a.set(_),l=m,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,g(a,l)},render:function p(_,m){let y=!1,v=!0===m.isScene?m.background:null;switch(v&&v.isTexture&&(v=(m.backgroundBlurriness>0?t:e).get(v)),null===v?g(a,l):v&&v.isColor&&(g(v,1),y=!0),n.xr.getEnvironmentBlendMode()){case"opaque":y=!0;break;case"additive":i.buffers.color.setClear(0,0,0,1,o),y=!0;break;case"alpha-blend":i.buffers.color.setClear(0,0,0,0,o),y=!0}(n.autoClear||y)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),v&&(v.isCubeTexture||v.mapping===Jd)?(void 0===u&&(u=new vi(new tu(1,1,1),new Ko({name:"BackgroundCubeMaterial",uniforms:nu(Es.backgroundCube.uniforms),vertexShader:Es.backgroundCube.vertexShader,fragmentShader:Es.backgroundCube.fragmentShader,side:$i,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(M,S,C){this.matrixWorld.copyPosition(C.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=v,u.material.uniforms.flipEnvMap.value=v.isCubeTexture&&!1===v.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=m.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,u.material.toneMapped=v.colorSpace!==ot,(d!==v||h!==v.version||f!==n.toneMapping)&&(u.material.needsUpdate=!0,d=v,h=v.version,f=n.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null)):v&&v.isTexture&&(void 0===c&&(c=new vi(new wg(2,2),new Ko({name:"BackgroundMaterial",uniforms:nu(Es.background.uniforms),vertexShader:Es.background.vertexShader,fragmentShader:Es.background.fragmentShader,side:lo,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=v,c.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,c.material.toneMapped=v.colorSpace!==ot,!0===v.matrixAutoUpdate&&v.updateMatrix(),c.material.uniforms.uvTransform.value.copy(v.matrix),(d!==v||h!==v.version||f!==n.toneMapping)&&(c.material.needsUpdate=!0,d=v,h=v.version,f=n.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}}}function nie(n,e,t,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||null!==s,a={},l=_(null);let c=l,u=!1;function f(N){return i.isWebGL2?n.bindVertexArray(N):s.bindVertexArrayOES(N)}function p(N){return i.isWebGL2?n.deleteVertexArray(N):s.deleteVertexArrayOES(N)}function _(N){const B=[],k=[],z=[];for(let V=0;V<r;V++)B[V]=0,k[V]=0,z[V]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:B,enabledAttributes:k,attributeDivisors:z,object:N,attributes:{},index:null}}function v(){const N=c.newAttributes;for(let B=0,k=N.length;B<k;B++)N[B]=0}function b(N){x(N,0)}function x(N,B){const z=c.enabledAttributes,V=c.attributeDivisors;c.newAttributes[N]=1,0===z[N]&&(n.enableVertexAttribArray(N),z[N]=1),V[N]!==B&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](N,B),V[N]=B)}function M(){const N=c.newAttributes,B=c.enabledAttributes;for(let k=0,z=B.length;k<z;k++)B[k]!==N[k]&&(n.disableVertexAttribArray(k),B[k]=0)}function S(N,B,k,z,V,X){!0!==i.isWebGL2||k!==n.INT&&k!==n.UNSIGNED_INT?n.vertexAttribPointer(N,B,k,z,V,X):n.vertexAttribIPointer(N,B,k,V,X)}function U(){R(),u=!0,c!==l&&(c=l,f(c.object))}function R(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function d(N,B,k,z,V){let X=!1;if(o){const ee=function g(N,B,k){const z=!0===k.wireframe;let V=a[N.id];void 0===V&&(V={},a[N.id]=V);let X=V[B.id];void 0===X&&(X={},V[B.id]=X);let ee=X[z];return void 0===ee&&(ee=_(function h(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}()),X[z]=ee),ee}(z,k,B);c!==ee&&(c=ee,f(c.object)),X=function m(N,B,k,z){const V=c.attributes,X=B.attributes;let ee=0;const be=k.getAttributes();for(const ge in be)if(be[ge].location>=0){const Z=V[ge];let _e=X[ge];if(void 0===_e&&("instanceMatrix"===ge&&N.instanceMatrix&&(_e=N.instanceMatrix),"instanceColor"===ge&&N.instanceColor&&(_e=N.instanceColor)),void 0===Z||Z.attribute!==_e||_e&&Z.data!==_e.data)return!0;ee++}return c.attributesNum!==ee||c.index!==z}(N,z,k,V),X&&function y(N,B,k,z){const V={},X=B.attributes;let ee=0;const be=k.getAttributes();for(const ge in be)if(be[ge].location>=0){let Z=X[ge];void 0===Z&&("instanceMatrix"===ge&&N.instanceMatrix&&(Z=N.instanceMatrix),"instanceColor"===ge&&N.instanceColor&&(Z=N.instanceColor));const _e={};_e.attribute=Z,Z&&Z.data&&(_e.data=Z.data),V[ge]=_e,ee++}c.attributes=V,c.attributesNum=ee,c.index=z}(N,z,k,V)}else{const ee=!0===B.wireframe;(c.geometry!==z.id||c.program!==k.id||c.wireframe!==ee)&&(c.geometry=z.id,c.program=k.id,c.wireframe=ee,X=!0)}null!==V&&t.update(V,n.ELEMENT_ARRAY_BUFFER),(X||u)&&(u=!1,function C(N,B,k,z){if(!1===i.isWebGL2&&(N.isInstancedMesh||z.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;v();const V=z.attributes,X=k.getAttributes(),ee=B.defaultAttributeValues;for(const be in X){const ge=X[be];if(ge.location>=0){let Y=V[be];if(void 0===Y&&("instanceMatrix"===be&&N.instanceMatrix&&(Y=N.instanceMatrix),"instanceColor"===be&&N.instanceColor&&(Y=N.instanceColor)),void 0!==Y){const Z=Y.normalized,_e=Y.itemSize,ye=t.get(Y);if(void 0===ye)continue;const P=ye.buffer,Ne=ye.type,Ie=ye.bytesPerElement;if(Y.isInterleavedBufferAttribute){const he=Y.data,De=he.stride,le=Y.offset;if(he.isInstancedInterleavedBuffer){for(let te=0;te<ge.locationSize;te++)x(ge.location+te,he.meshPerAttribute);!0!==N.isInstancedMesh&&void 0===z._maxInstanceCount&&(z._maxInstanceCount=he.meshPerAttribute*he.count)}else for(let te=0;te<ge.locationSize;te++)b(ge.location+te);n.bindBuffer(n.ARRAY_BUFFER,P);for(let te=0;te<ge.locationSize;te++)S(ge.location+te,_e/ge.locationSize,Ne,Z,De*Ie,(le+_e/ge.locationSize*te)*Ie)}else{if(Y.isInstancedBufferAttribute){for(let he=0;he<ge.locationSize;he++)x(ge.location+he,Y.meshPerAttribute);!0!==N.isInstancedMesh&&void 0===z._maxInstanceCount&&(z._maxInstanceCount=Y.meshPerAttribute*Y.count)}else for(let he=0;he<ge.locationSize;he++)b(ge.location+he);n.bindBuffer(n.ARRAY_BUFFER,P);for(let he=0;he<ge.locationSize;he++)S(ge.location+he,_e/ge.locationSize,Ne,Z,_e*Ie,_e/ge.locationSize*he*Ie)}}else if(void 0!==ee){const Z=ee[be];if(void 0!==Z)switch(Z.length){case 2:n.vertexAttrib2fv(ge.location,Z);break;case 3:n.vertexAttrib3fv(ge.location,Z);break;case 4:n.vertexAttrib4fv(ge.location,Z);break;default:n.vertexAttrib1fv(ge.location,Z)}}}}M()}(N,B,k,z),null!==V&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(V).buffer))},reset:U,resetDefaultState:R,dispose:function w(){U();for(const N in a){const B=a[N];for(const k in B){const z=B[k];for(const V in z)p(z[V].object),delete z[V];delete B[k]}delete a[N]}},releaseStatesOfGeometry:function E(N){if(void 0===a[N.id])return;const B=a[N.id];for(const k in B){const z=B[k];for(const V in z)p(z[V].object),delete z[V];delete B[k]}delete a[N.id]},releaseStatesOfProgram:function L(N){for(const B in a){const k=a[B];if(void 0===k[N.id])continue;const z=k[N.id];for(const V in z)p(z[V].object),delete z[V];delete k[N.id]}},initAttributes:v,enableAttribute:b,disableUnusedAttributes:M}}function iie(n,e,t,i){const r=i.isWebGL2;let s;this.setMode=function o(c){s=c},this.render=function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)},this.renderInstances=function l(c,u,d){if(0===d)return;let h,f;if(r)h=n,f="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),f="drawArraysInstancedANGLE",null===h)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[f](s,c,u,d),t.update(u,s,d)}}function rie(n,e,t){let i;function s(S){if("highp"===S){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";S="mediump"}return"mediump"===S&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&"WebGL2RenderingContext"===n.constructor.name;let a=void 0!==t.precision?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=!0===t.logarithmicDepthBuffer,d=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),h=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),f=n.getParameter(n.MAX_TEXTURE_SIZE),p=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),g=n.getParameter(n.MAX_VERTEX_ATTRIBS),_=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),m=n.getParameter(n.MAX_VARYING_VECTORS),y=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),v=h>0,b=o||e.has("OES_texture_float");return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:function r(){if(void 0!==i)return i;if(!0===e.has("EXT_texture_filter_anisotropic")){const S=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(S.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:h,maxTextureSize:f,maxCubemapSize:p,maxAttributes:g,maxVertexUniforms:_,maxVaryings:m,maxFragmentUniforms:y,vertexTextures:v,floatFragmentTextures:b,floatVertexTextures:v&&b,maxSamples:o?n.getParameter(n.MAX_SAMPLES):0}}function sie(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new ja,a=new Rt,l={value:null,needsUpdate:!1};function u(d,h,f,p){const g=null!==d?d.length:0;let _=null;if(0!==g){if(_=l.value,!0!==p||null===_){const m=f+4*g,y=h.matrixWorldInverse;a.getNormalMatrix(y),(null===_||_.length<m)&&(_=new Float32Array(m));for(let v=0,b=f;v!==g;++v,b+=4)o.copy(d[v]).applyMatrix4(y,a),o.normal.toArray(_,b),_[b+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,_}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h){const f=0!==d.length||h||0!==i||r;return r=h,i=d.length,f},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,h){t=u(d,h,0)},this.setState=function(d,h,f){const p=d.clippingPlanes,g=d.clipIntersection,_=d.clipShadows,m=n.get(d);if(!r||null===p||0===p.length||s&&!_)s?u(null):function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}();else{const y=s?0:i,v=4*y;let b=m.clippingState||null;l.value=b,b=u(p,h,v,f);for(let x=0;x!==v;++x)b[x]=t[x];m.clippingState=b,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=y}}}function oie(n){let e=new WeakMap;function t(o,a){return a===Zm?o.mapping=Ra:a===Qm&&(o.mapping=Pa),o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);void 0!==l&&(e.delete(a),l.dispose())}return{get:function i(o){if(o&&o.isTexture&&!1===o.isRenderTargetTexture){const a=o.mapping;if(a===Zm||a===Qm){if(e.has(o))return t(e.get(o).texture,o.mapping);{const l=o.image;if(l&&l.height>0){const c=new nte(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}return null}}}return o},dispose:function s(){e=new WeakMap}}}class Eg extends Cw{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(null!==this.view&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const KL=[.125,.215,.35,.446,.526,.582],Dw=new Eg,ZL=new Ce;let Iw=null;const qa=(1+Math.sqrt(5))/2,ou=1/qa,QL=[new A(1,1,1),new A(-1,1,1),new A(1,1,-1),new A(-1,1,-1),new A(0,qa,ou),new A(0,qa,-ou),new A(ou,0,qa),new A(-ou,0,qa),new A(qa,ou,0),new A(-qa,ou,0)];class JL{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){Iw=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=nk(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=tk(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Iw),e.scissorTest=!1,Sg(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(e.mapping===Ra||e.mapping===Pa?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),Iw=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:xn,minFilter:xn,generateMipmaps:!1,type:nh,format:Tr,colorSpace:xs,depthBuffer:!1},r=ek(e,t,i);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=ek(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function aie(n){const e=[],t=[],i=[];let r=n;const s=n-4+1+KL.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-4?l=KL[o-n+4-1]:0===o&&(l=0),i.push(l);const c=1/(a-2),u=-c,d=1+c,h=[u,u,d,u,d,d,u,u,d,d,u,d],f=6,p=6,g=3,_=2,m=1,y=new Float32Array(g*p*f),v=new Float32Array(_*p*f),b=new Float32Array(m*p*f);for(let M=0;M<f;M++){const S=M%3*2/3-1,C=M>2?0:-1;y.set([S,C,0,S+2/3,C,0,S+2/3,C+1,0,S,C,0,S+2/3,C+1,0,S,C+1,0],g*p*M),v.set(h,_*p*M),b.set([M,M,M,M,M,M],m*p*M)}const x=new Et;x.setAttribute("position",new Mn(y,g)),x.setAttribute("uv",new Mn(v,_)),x.setAttribute("faceIndex",new Mn(b,m)),e.push(x),r>4&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}(s)),this._blurMaterial=function lie(n,e,t){const i=new Float32Array(20),r=new A(0,1,0);return new Ko({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:Wo,depthTest:!1,depthWrite:!1})}(s,e,t)}return r}_compileMaterial(e){const t=new vi(this._lodPlanes[0],e);this._renderer.compile(t,Dw)}_sceneToCubeUV(e,t,i,r){const a=new Jn(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,h=u.toneMapping;u.getClearColor(ZL),u.toneMapping=co,u.autoClear=!1;const f=new Ar({name:"PMREM.Background",side:$i,depthWrite:!1,depthTest:!1}),p=new vi(new tu,f);let g=!1;const _=e.background;_?_.isColor&&(f.color.copy(_),e.background=null,g=!0):(f.color.copy(ZL),g=!0);for(let m=0;m<6;m++){const y=m%3;0===y?(a.up.set(0,l[m],0),a.lookAt(c[m],0,0)):1===y?(a.up.set(0,0,l[m]),a.lookAt(0,c[m],0)):(a.up.set(0,l[m],0),a.lookAt(0,0,c[m]));const v=this._cubeSize;Sg(r,y*v,m>2?v:0,v,v),u.setRenderTarget(r),g&&u.render(p,a),u.render(e,a)}p.geometry.dispose(),p.material.dispose(),u.toneMapping=h,u.autoClear=d,e.background=_}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Ra||e.mapping===Pa;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=nk()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=tk());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new vi(this._lodPlanes[0],s);s.uniforms.envMap.value=e;const l=this._cubeSize;Sg(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,Dw)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]);this._blur(e,r-1,r,s,QL[(r-1)%QL.length])}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const d=new vi(this._lodPlanes[r],c),h=c.uniforms,f=this._sizeLods[i]-1,p=isFinite(s)?Math.PI/(2*f):2*Math.PI/39,g=s/p,_=isFinite(s)?1+Math.floor(3*g):20;_>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to 20`);const m=[];let y=0;for(let S=0;S<20;++S){const C=S/g,w=Math.exp(-C*C/2);m.push(w),0===S?y+=w:S<_&&(y+=2*w)}for(let S=0;S<m.length;S++)m[S]=m[S]/y;h.envMap.value=e.texture,h.samples.value=_,h.weights.value=m,h.latitudinal.value="latitudinal"===o,a&&(h.poleAxis.value=a);const{_lodMax:v}=this;h.dTheta.value=p,h.mipInt.value=v-i;const b=this._sizeLods[r];Sg(t,3*b*(r>v-4?r-v+4:0),4*(this._cubeSize-b),3*b,2*b),l.setRenderTarget(t),l.render(d,Dw)}}function ek(n,e,t){const i=new Va(n,e,t);return i.texture.mapping=Jd,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Sg(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function tk(){return new Ko({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:Wo,depthTest:!1,depthWrite:!1})}function nk(){return new Ko({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:Wo,depthTest:!1,depthWrite:!1})}function cie(n){let e=new WeakMap,t=null;function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);void 0!==c&&(e.delete(l),c.dispose())}return{get:function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===Zm||l===Qm,u=l===Ra||l===Pa;if(c||u){if(a.isRenderTargetTexture&&!0===a.needsPMREMUpdate){a.needsPMREMUpdate=!1;let d=e.get(a);return null===t&&(t=new JL(n)),d=c?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||u&&d&&function r(a){let l=0;for(let u=0;u<6;u++)void 0!==a[u]&&l++;return 6===l}(d)){null===t&&(t=new JL(n));const h=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,h),a.addEventListener("dispose",s),h.texture}return null}}}return a},dispose:function o(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function uie(n){const e={};function t(i){if(void 0!==e[i])return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return null!==t(i)},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return null===r&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function die(n,e,t,i){const r={},s=new WeakMap;function o(d){const h=d.target;null!==h.index&&e.remove(h.index);for(const p in h.attributes)e.remove(h.attributes[p]);h.removeEventListener("dispose",o),delete r[h.id];const f=s.get(h);f&&(e.remove(f),s.delete(h)),i.releaseStatesOfGeometry(h),!0===h.isInstancedBufferGeometry&&delete h._maxInstanceCount,t.memory.geometries--}function c(d){const h=[],f=d.index,p=d.attributes.position;let g=0;if(null!==f){const y=f.array;g=f.version;for(let v=0,b=y.length;v<b;v+=3){const x=y[v+0],M=y[v+1],S=y[v+2];h.push(x,M,M,S,S,x)}}else{g=p.version;for(let v=0,b=p.array.length/3-1;v<b;v+=3){const x=v+0,M=v+1,S=v+2;h.push(x,M,M,S,S,x)}}const _=new(TL(h)?VL:HL)(h,1);_.version=g;const m=s.get(d);m&&e.remove(m),s.set(d,_)}return{get:function a(d,h){return!0===r[h.id]||(h.addEventListener("dispose",o),r[h.id]=!0,t.memory.geometries++),h},update:function l(d){const h=d.attributes;for(const p in h)e.update(h[p],n.ARRAY_BUFFER);const f=d.morphAttributes;for(const p in f){const g=f[p];for(let _=0,m=g.length;_<m;_++)e.update(g[_],n.ARRAY_BUFFER)}},getWireframeAttribute:function u(d){const h=s.get(d);if(h){const f=d.index;null!==f&&h.version<f.version&&c(d)}else c(d);return s.get(d)}}}function hie(n,e,t,i){const r=i.isWebGL2;let s,a,l;this.setMode=function o(h){s=h},this.setIndex=function c(h){a=h.type,l=h.bytesPerElement},this.render=function u(h,f){n.drawElements(s,f,a,h*l),t.update(f,s,1)},this.renderInstances=function d(h,f,p){if(0===p)return;let g,_;if(r)g=n,_="drawElementsInstanced";else if(g=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",null===g)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");g[_](s,f,a,h*l,p),t.update(f,s,p)}}function fie(n){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o)}}}}function pie(n,e){return n[0]-e[0]}function mie(n,e){return Math.abs(e[1])-Math.abs(n[1])}function gie(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new qt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];return{update:function l(c,u,d){const h=c.morphTargetInfluences;if(!0===e.isWebGL2){const f=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,p=void 0!==f?f.length:0;let g=s.get(u);if(void 0===g||g.count!==p){let N=function(){U.dispose(),s.delete(u),u.removeEventListener("dispose",N)};void 0!==g&&g.texture.dispose();const y=void 0!==u.morphAttributes.position,v=void 0!==u.morphAttributes.normal,b=void 0!==u.morphAttributes.color,x=u.morphAttributes.position||[],M=u.morphAttributes.normal||[],S=u.morphAttributes.color||[];let C=0;!0===y&&(C=1),!0===v&&(C=2),!0===b&&(C=3);let w=u.attributes.position.count*C,E=1;w>e.maxTextureSize&&(E=Math.ceil(w/e.maxTextureSize),w=e.maxTextureSize);const L=new Float32Array(w*E*4*p),U=new dw(L,w,E,p);U.type=jo,U.needsUpdate=!0;const R=4*C;for(let B=0;B<p;B++){const k=x[B],z=M[B],V=S[B],X=w*E*4*B;for(let ee=0;ee<k.count;ee++){const be=ee*R;!0===y&&(o.fromBufferAttribute(k,ee),L[X+be+0]=o.x,L[X+be+1]=o.y,L[X+be+2]=o.z,L[X+be+3]=0),!0===v&&(o.fromBufferAttribute(z,ee),L[X+be+4]=o.x,L[X+be+5]=o.y,L[X+be+6]=o.z,L[X+be+7]=0),!0===b&&(o.fromBufferAttribute(V,ee),L[X+be+8]=o.x,L[X+be+9]=o.y,L[X+be+10]=o.z,L[X+be+11]=4===V.itemSize?o.w:1)}}g={count:p,texture:U,size:new se(w,E)},s.set(u,g),u.addEventListener("dispose",N)}let _=0;for(let y=0;y<h.length;y++)_+=h[y];const m=u.morphTargetsRelative?1:1-_;d.getUniforms().setValue(n,"morphTargetBaseInfluence",m),d.getUniforms().setValue(n,"morphTargetInfluences",h),d.getUniforms().setValue(n,"morphTargetsTexture",g.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",g.size)}else{const f=void 0===h?0:h.length;let p=i[u.id];if(void 0===p||p.length!==f){p=[];for(let v=0;v<f;v++)p[v]=[v,0];i[u.id]=p}for(let v=0;v<f;v++){const b=p[v];b[0]=v,b[1]=h[v]}p.sort(mie);for(let v=0;v<8;v++)v<f&&p[v][1]?(a[v][0]=p[v][0],a[v][1]=p[v][1]):(a[v][0]=Number.MAX_SAFE_INTEGER,a[v][1]=0);a.sort(pie);const g=u.morphAttributes.position,_=u.morphAttributes.normal;let m=0;for(let v=0;v<8;v++){const b=a[v],x=b[0],M=b[1];x!==Number.MAX_SAFE_INTEGER&&M?(g&&u.getAttribute("morphTarget"+v)!==g[x]&&u.setAttribute("morphTarget"+v,g[x]),_&&u.getAttribute("morphNormal"+v)!==_[x]&&u.setAttribute("morphNormal"+v,_[x]),r[v]=M,m+=M):(g&&!0===u.hasAttribute("morphTarget"+v)&&u.deleteAttribute("morphTarget"+v),_&&!0===u.hasAttribute("morphNormal"+v)&&u.deleteAttribute("morphNormal"+v),r[v]=0)}const y=u.morphTargetsRelative?1:1-m;d.getUniforms().setValue(n,"morphTargetBaseInfluence",y),d.getUniforms().setValue(n,"morphTargetInfluences",r)}}}}function _ie(n,e,t,i){let r=new WeakMap;function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),null!==c.instanceColor&&t.remove(c.instanceColor)}return{update:function s(l){const c=i.render.frame,d=e.get(l,l.geometry);return r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(!1===l.hasEventListener("dispose",a)&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,n.ARRAY_BUFFER),null!==l.instanceColor&&t.update(l.instanceColor,n.ARRAY_BUFFER)),d},dispose:function o(){r=new WeakMap}}}const ik=new Xr,rk=new dw,sk=new IL,ok=new bg,ak=[],lk=[],ck=new Float32Array(16),uk=new Float32Array(9),dk=new Float32Array(4);function au(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=ak[r];if(void 0===s&&(s=new Float32Array(r),ak[r]=s),0!==e){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Xn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function qn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function Cg(n,e){let t=lk[e];void 0===t&&(t=new Int32Array(e),lk[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function vie(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function yie(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Xn(t,e))return;n.uniform2fv(this.addr,e),qn(t,e)}}function bie(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Xn(t,e))return;n.uniform3fv(this.addr,e),qn(t,e)}}function xie(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Xn(t,e))return;n.uniform4fv(this.addr,e),qn(t,e)}}function wie(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(Xn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),qn(t,e)}else{if(Xn(t,i))return;dk.set(i),n.uniformMatrix2fv(this.addr,!1,dk),qn(t,i)}}function Mie(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(Xn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),qn(t,e)}else{if(Xn(t,i))return;uk.set(i),n.uniformMatrix3fv(this.addr,!1,uk),qn(t,i)}}function Eie(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(Xn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),qn(t,e)}else{if(Xn(t,i))return;ck.set(i),n.uniformMatrix4fv(this.addr,!1,ck),qn(t,i)}}function Sie(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Cie(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Xn(t,e))return;n.uniform2iv(this.addr,e),qn(t,e)}}function Tie(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Xn(t,e))return;n.uniform3iv(this.addr,e),qn(t,e)}}function Aie(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Xn(t,e))return;n.uniform4iv(this.addr,e),qn(t,e)}}function Die(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Iie(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Xn(t,e))return;n.uniform2uiv(this.addr,e),qn(t,e)}}function Rie(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Xn(t,e))return;n.uniform3uiv(this.addr,e),qn(t,e)}}function Pie(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Xn(t,e))return;n.uniform4uiv(this.addr,e),qn(t,e)}}function Oie(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||ik,r)}function Lie(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||sk,r)}function kie(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||ok,r)}function Nie(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||rk,r)}function Bie(n,e){n.uniform1fv(this.addr,e)}function Uie(n,e){const t=au(e,this.size,2);n.uniform2fv(this.addr,t)}function zie(n,e){const t=au(e,this.size,3);n.uniform3fv(this.addr,t)}function Hie(n,e){const t=au(e,this.size,4);n.uniform4fv(this.addr,t)}function Vie(n,e){const t=au(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Gie(n,e){const t=au(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Wie(n,e){const t=au(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function jie(n,e){n.uniform1iv(this.addr,e)}function $ie(n,e){n.uniform2iv(this.addr,e)}function Xie(n,e){n.uniform3iv(this.addr,e)}function qie(n,e){n.uniform4iv(this.addr,e)}function Yie(n,e){n.uniform1uiv(this.addr,e)}function Kie(n,e){n.uniform2uiv(this.addr,e)}function Zie(n,e){n.uniform3uiv(this.addr,e)}function Qie(n,e){n.uniform4uiv(this.addr,e)}function Jie(n,e,t){const i=this.cache,r=e.length,s=Cg(t,r);Xn(i,s)||(n.uniform1iv(this.addr,s),qn(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||ik,s[o])}function ere(n,e,t){const i=this.cache,r=e.length,s=Cg(t,r);Xn(i,s)||(n.uniform1iv(this.addr,s),qn(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||sk,s[o])}function tre(n,e,t){const i=this.cache,r=e.length,s=Cg(t,r);Xn(i,s)||(n.uniform1iv(this.addr,s),qn(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||ok,s[o])}function nre(n,e,t){const i=this.cache,r=e.length,s=Cg(t,r);Xn(i,s)||(n.uniform1iv(this.addr,s),qn(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||rk,s[o])}class rre{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=function Fie(n){switch(n){case 5126:return vie;case 35664:return yie;case 35665:return bie;case 35666:return xie;case 35674:return wie;case 35675:return Mie;case 35676:return Eie;case 5124:case 35670:return Sie;case 35667:case 35671:return Cie;case 35668:case 35672:return Tie;case 35669:case 35673:return Aie;case 5125:return Die;case 36294:return Iie;case 36295:return Rie;case 36296:return Pie;case 35678:case 36198:case 36298:case 36306:case 35682:return Oie;case 35679:case 36299:case 36307:return Lie;case 35680:case 36300:case 36308:case 36293:return kie;case 36289:case 36303:case 36311:case 36292:return Nie}}(t.type)}}class sre{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=function ire(n){switch(n){case 5126:return Bie;case 35664:return Uie;case 35665:return zie;case 35666:return Hie;case 35674:return Vie;case 35675:return Gie;case 35676:return Wie;case 5124:case 35670:return jie;case 35667:case 35671:return $ie;case 35668:case 35672:return Xie;case 35669:case 35673:return qie;case 5125:return Yie;case 36294:return Kie;case 36295:return Zie;case 36296:return Qie;case 35678:case 36198:case 36298:case 36306:case 35682:return Jie;case 35679:case 36299:case 36307:return ere;case 35680:case 36300:case 36308:case 36293:return tre;case 36289:case 36303:case 36311:case 36292:return nre}}(t.type)}}class ore{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const Pw=/(\w+)(\])?(\[|\.)?/g;function hk(n,e){n.seq.push(e),n.map[e.id]=e}function are(n,e,t){const i=n.name,r=i.length;for(Pw.lastIndex=0;;){const s=Pw.exec(i);let a=s[1];const c=s[3];if("]"===s[2]&&(a|=0),void 0===c||"["===c&&Pw.lastIndex+2===r){hk(t,void 0===c?new rre(a,n,e):new sre(a,n,e));break}{let d=t.map[a];void 0===d&&(d=new ore(a),hk(t,d)),t=d}}}class Tg{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r);are(s,e.getUniformLocation(t,s.name),this)}}setValue(e,t,i,r){const s=this.map[t];void 0!==s&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];void 0!==r&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];!1!==l.needsUpdate&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function fk(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let lre=0;function pk(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&""===r)return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+"\n\n"+r+"\n\n"+function cre(n,e){const t=n.split("\n"),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join("\n")}(n.getShaderSource(e),o)}return r}function dre(n,e){const t=function ure(n){switch(n){case xs:return["Linear","( value )"];case ot:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function hre(n,e){let t;switch(e){case GJ:t="Linear";break;case WJ:t="Reinhard";break;case jJ:t="OptimizedCineon";break;case $J:t="ACESFilmic";break;case XJ:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function hh(n){return""!==n}function mk(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function gk(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const gre=/^[ \t]*#include +<([\w\d./]+)>/gm;function Ow(n){return n.replace(gre,_re)}function _re(n,e){const t=xt[e];if(void 0===t)throw new Error("Can not resolve #include <"+e+">");return Ow(t)}const vre=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function _k(n){return n.replace(vre,yre)}function yre(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function vk(n){let e="precision "+n.precision+" float;\nprecision "+n.precision+" int;";return"highp"===n.precision?e+="\n#define HIGH_PRECISION":"mediump"===n.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(e+="\n#define LOW_PRECISION"),e}function Sre(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=function bre(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===HO?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===xJ?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===ao&&(e="SHADOWMAP_TYPE_VSM"),e}(t),c=function xre(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Ra:case Pa:e="ENVMAP_TYPE_CUBE";break;case Jd:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),u=function wre(n){let e="ENVMAP_MODE_REFLECTION";return n.envMap&&n.envMapMode===Pa&&(e="ENVMAP_MODE_REFRACTION"),e}(t),d=function Mre(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Km:e="ENVMAP_BLENDING_MULTIPLY";break;case HJ:e="ENVMAP_BLENDING_MIX";break;case VJ:e="ENVMAP_BLENDING_ADD"}return e}(t),h=function Ere(n){const e=n.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}(t),f=t.isWebGL2?"":function fre(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||"physical"===n.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(hh).join("\n")}(t),p=function pre(n){const e=[];for(const t in n){const i=n[t];!1!==i&&e.push("#define "+t+" "+i)}return e.join("\n")}(s),g=r.createProgram();let _,m,y=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(_=[p].filter(hh).join("\n"),_.length>0&&(_+="\n"),m=[f,p].filter(hh).join("\n"),m.length>0&&(m+="\n")):(_=[vk(t),"#define SHADER_NAME "+t.shaderName,p,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(hh).join("\n"),m=[f,vk(t),"#define SHADER_NAME "+t.shaderName,p,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==co?"#define TONE_MAPPING":"",t.toneMapping!==co?xt.tonemapping_pars_fragment:"",t.toneMapping!==co?hre("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",xt.encodings_pars_fragment,dre("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(hh).join("\n")),o=Ow(o),o=mk(o,t),o=gk(o,t),a=Ow(a),a=mk(a,t),a=gk(a,t),o=_k(o),a=_k(a),t.isWebGL2&&!0!==t.isRawShaderMaterial&&(y="#version 300 es\n",_=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+_,m=["#define varying in",t.glslVersion===ML?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===ML?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+m);const b=y+m+a,x=fk(r,r.VERTEX_SHADER,y+_+o),M=fk(r,r.FRAGMENT_SHADER,b);if(r.attachShader(g,x),r.attachShader(g,M),void 0!==t.index0AttributeName?r.bindAttribLocation(g,0,t.index0AttributeName):!0===t.morphTargets&&r.bindAttribLocation(g,0,"position"),r.linkProgram(g),n.debug.checkShaderErrors){const w=r.getProgramInfoLog(g).trim(),E=r.getShaderInfoLog(x).trim(),L=r.getShaderInfoLog(M).trim();let U=!0,R=!0;if(!1===r.getProgramParameter(g,r.LINK_STATUS))if(U=!1,"function"==typeof n.debug.onShaderError)n.debug.onShaderError(r,g,x,M);else{const N=pk(r,x,"vertex"),B=pk(r,M,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(g,r.VALIDATE_STATUS)+"\n\nProgram Info Log: "+w+"\n"+N+"\n"+B)}else""!==w?console.warn("THREE.WebGLProgram: Program Info Log:",w):(""===E||""===L)&&(R=!1);R&&(this.diagnostics={runnable:U,programLog:w,vertexShader:{log:E,prefix:_},fragmentShader:{log:L,prefix:m}})}let S,C;return r.deleteShader(x),r.deleteShader(M),this.getUniforms=function(){return void 0===S&&(S=new Tg(r,g)),S},this.getAttributes=function(){return void 0===C&&(C=function mre(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}(r,g)),C},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(g),this.program=void 0},this.name=t.shaderName,this.id=lre++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=x,this.fragmentShader=M,this}let Cre=0;class Tre{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const i=e.fragmentShader,r=this._getShaderStage(e.vertexShader),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(s)&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return void 0===i&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return void 0===i&&(i=new Are(e),t.set(e,i)),i}}class Are{constructor(e){this.id=Cre++,this.code=e,this.usedTimes=0}}function Dre(n,e,t,i,r,s,o){const a=new vw,l=new Tre,c=[],u=r.isWebGL2,d=r.logarithmicDepthBuffer,h=r.vertexTextures;let f=r.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(w){return 1===w?"uv1":2===w?"uv2":3===w?"uv3":"uv"}return{getParameters:function _(w,E,L,U,R){const N=U.fog,B=R.geometry,z=(w.isMeshStandardMaterial?t:e).get(w.envMap||(w.isMeshStandardMaterial?U.environment:null)),V=z&&z.mapping===Jd?z.image.height:null,X=p[w.type];null!==w.precision&&(f=r.getMaxPrecision(w.precision),f!==w.precision&&console.warn("THREE.WebGLProgram.getParameters:",w.precision,"not supported, using",f,"instead."));const ee=B.morphAttributes.position||B.morphAttributes.normal||B.morphAttributes.color,be=void 0!==ee?ee.length:0;let Y,Z,_e,ye,ge=0;if(void 0!==B.morphAttributes.position&&(ge=1),void 0!==B.morphAttributes.normal&&(ge=2),void 0!==B.morphAttributes.color&&(ge=3),X){const Zt=Es[X];Y=Zt.vertexShader,Z=Zt.fragmentShader}else Y=w.vertexShader,Z=w.fragmentShader,l.update(w),_e=l.getVertexShaderID(w),ye=l.getFragmentShaderID(w);const P=n.getRenderTarget(),Ne=!0===R.isInstancedMesh,Ie=!!w.map,De=!!z,le=!!w.aoMap,te=!!w.lightMap,de=!!w.bumpMap,Ae=!!w.normalMap,xe=!!w.displacementMap,je=!!w.emissiveMap,qe=!!w.metalnessMap,Ve=!!w.roughnessMap,ht=w.clearcoat>0,St=w.iridescence>0,I=w.sheen>0,T=w.transmission>0,K=ht&&!!w.clearcoatMap,oe=ht&&!!w.clearcoatNormalMap,fe=ht&&!!w.clearcoatRoughnessMap,Ee=St&&!!w.iridescenceMap,O=St&&!!w.iridescenceThicknessMap,ae=I&&!!w.sheenColorMap,Q=I&&!!w.sheenRoughnessMap,Se=!!w.specularMap,Be=!!w.specularColorMap,$e=!!w.specularIntensityMap,Le=T&&!!w.transmissionMap,Ge=T&&!!w.thicknessMap,Ct=!!w.alphaMap,F=!!w.extensions,ne=!!B.attributes.uv1,me=!!B.attributes.uv2,ke=!!B.attributes.uv3;return{isWebGL2:u,shaderID:X,shaderName:w.type,vertexShader:Y,fragmentShader:Z,defines:w.defines,customVertexShaderID:_e,customFragmentShaderID:ye,isRawShaderMaterial:!0===w.isRawShaderMaterial,glslVersion:w.glslVersion,precision:f,instancing:Ne,instancingColor:Ne&&null!==R.instanceColor,supportsVertexTextures:h,outputColorSpace:null===P?n.outputColorSpace:!0===P.isXRRenderTarget?P.texture.colorSpace:xs,map:Ie,matcap:!!w.matcap,envMap:De,envMapMode:De&&z.mapping,envMapCubeUVHeight:V,aoMap:le,lightMap:te,bumpMap:de,normalMap:Ae,displacementMap:h&&xe,emissiveMap:je,normalMapObjectSpace:Ae&&w.normalMapType===mee,normalMapTangentSpace:Ae&&w.normalMapType===Ba,metalnessMap:qe,roughnessMap:Ve,clearcoat:ht,clearcoatMap:K,clearcoatNormalMap:oe,clearcoatRoughnessMap:fe,iridescence:St,iridescenceMap:Ee,iridescenceThicknessMap:O,sheen:I,sheenColorMap:ae,sheenRoughnessMap:Q,specularMap:Se,specularColorMap:Be,specularIntensityMap:$e,transmission:T,transmissionMap:Le,thicknessMap:Ge,gradientMap:!!w.gradientMap,opaque:!1===w.transparent&&w.blending===Rc,alphaMap:Ct,alphaTest:w.alphaTest>0,combine:w.combine,mapUv:Ie&&g(w.map.channel),aoMapUv:le&&g(w.aoMap.channel),lightMapUv:te&&g(w.lightMap.channel),bumpMapUv:de&&g(w.bumpMap.channel),normalMapUv:Ae&&g(w.normalMap.channel),displacementMapUv:xe&&g(w.displacementMap.channel),emissiveMapUv:je&&g(w.emissiveMap.channel),metalnessMapUv:qe&&g(w.metalnessMap.channel),roughnessMapUv:Ve&&g(w.roughnessMap.channel),clearcoatMapUv:K&&g(w.clearcoatMap.channel),clearcoatNormalMapUv:oe&&g(w.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:fe&&g(w.clearcoatRoughnessMap.channel),iridescenceMapUv:Ee&&g(w.iridescenceMap.channel),iridescenceThicknessMapUv:O&&g(w.iridescenceThicknessMap.channel),sheenColorMapUv:ae&&g(w.sheenColorMap.channel),sheenRoughnessMapUv:Q&&g(w.sheenRoughnessMap.channel),specularMapUv:Se&&g(w.specularMap.channel),specularColorMapUv:Be&&g(w.specularColorMap.channel),specularIntensityMapUv:$e&&g(w.specularIntensityMap.channel),transmissionMapUv:Le&&g(w.transmissionMap.channel),thicknessMapUv:Ge&&g(w.thicknessMap.channel),alphaMapUv:Ct&&g(w.alphaMap.channel),vertexTangents:Ae&&!!B.attributes.tangent,vertexColors:w.vertexColors,vertexAlphas:!0===w.vertexColors&&!!B.attributes.color&&4===B.attributes.color.itemSize,vertexUv1s:ne,vertexUv2s:me,vertexUv3s:ke,pointsUvs:!0===R.isPoints&&!!B.attributes.uv&&(Ie||Ct),fog:!!N,useFog:!0===w.fog,fogExp2:N&&N.isFogExp2,flatShading:!0===w.flatShading,sizeAttenuation:!0===w.sizeAttenuation,logarithmicDepthBuffer:d,skinning:!0===R.isSkinnedMesh,morphTargets:void 0!==B.morphAttributes.position,morphNormals:void 0!==B.morphAttributes.normal,morphColors:void 0!==B.morphAttributes.color,morphTargetsCount:be,morphTextureStride:ge,numDirLights:E.directional.length,numPointLights:E.point.length,numSpotLights:E.spot.length,numSpotLightMaps:E.spotLightMap.length,numRectAreaLights:E.rectArea.length,numHemiLights:E.hemi.length,numDirLightShadows:E.directionalShadowMap.length,numPointLightShadows:E.pointShadowMap.length,numSpotLightShadows:E.spotShadowMap.length,numSpotLightShadowsWithMaps:E.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:w.dithering,shadowMapEnabled:n.shadowMap.enabled&&L.length>0,shadowMapType:n.shadowMap.type,toneMapping:w.toneMapped?n.toneMapping:co,useLegacyLights:n.useLegacyLights,premultipliedAlpha:w.premultipliedAlpha,doubleSided:w.side===bs,flipSided:w.side===$i,useDepthPacking:w.depthPacking>=0,depthPacking:w.depthPacking||0,index0AttributeName:w.index0AttributeName,extensionDerivatives:F&&!0===w.extensions.derivatives,extensionFragDepth:F&&!0===w.extensions.fragDepth,extensionDrawBuffers:F&&!0===w.extensions.drawBuffers,extensionShaderTextureLOD:F&&!0===w.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),customProgramCacheKey:w.customProgramCacheKey()}},getProgramCacheKey:function m(w){const E=[];if(w.shaderID?E.push(w.shaderID):(E.push(w.customVertexShaderID),E.push(w.customFragmentShaderID)),void 0!==w.defines)for(const L in w.defines)E.push(L),E.push(w.defines[L]);return!1===w.isRawShaderMaterial&&(function y(w,E){w.push(E.precision),w.push(E.outputColorSpace),w.push(E.envMapMode),w.push(E.envMapCubeUVHeight),w.push(E.mapUv),w.push(E.alphaMapUv),w.push(E.lightMapUv),w.push(E.aoMapUv),w.push(E.bumpMapUv),w.push(E.normalMapUv),w.push(E.displacementMapUv),w.push(E.emissiveMapUv),w.push(E.metalnessMapUv),w.push(E.roughnessMapUv),w.push(E.clearcoatMapUv),w.push(E.clearcoatNormalMapUv),w.push(E.clearcoatRoughnessMapUv),w.push(E.iridescenceMapUv),w.push(E.iridescenceThicknessMapUv),w.push(E.sheenColorMapUv),w.push(E.sheenRoughnessMapUv),w.push(E.specularMapUv),w.push(E.specularColorMapUv),w.push(E.specularIntensityMapUv),w.push(E.transmissionMapUv),w.push(E.thicknessMapUv),w.push(E.combine),w.push(E.fogExp2),w.push(E.sizeAttenuation),w.push(E.morphTargetsCount),w.push(E.morphAttributeCount),w.push(E.numDirLights),w.push(E.numPointLights),w.push(E.numSpotLights),w.push(E.numSpotLightMaps),w.push(E.numHemiLights),w.push(E.numRectAreaLights),w.push(E.numDirLightShadows),w.push(E.numPointLightShadows),w.push(E.numSpotLightShadows),w.push(E.numSpotLightShadowsWithMaps),w.push(E.shadowMapType),w.push(E.toneMapping),w.push(E.numClippingPlanes),w.push(E.numClipIntersection),w.push(E.depthPacking)}(E,w),function v(w,E){a.disableAll(),E.isWebGL2&&a.enable(0),E.supportsVertexTextures&&a.enable(1),E.instancing&&a.enable(2),E.instancingColor&&a.enable(3),E.matcap&&a.enable(4),E.envMap&&a.enable(5),E.normalMapObjectSpace&&a.enable(6),E.normalMapTangentSpace&&a.enable(7),E.clearcoat&&a.enable(8),E.iridescence&&a.enable(9),E.alphaTest&&a.enable(10),E.vertexColors&&a.enable(11),E.vertexAlphas&&a.enable(12),E.vertexUv1s&&a.enable(13),E.vertexUv2s&&a.enable(14),E.vertexUv3s&&a.enable(15),E.vertexTangents&&a.enable(16),w.push(a.mask),a.disableAll(),E.fog&&a.enable(0),E.useFog&&a.enable(1),E.flatShading&&a.enable(2),E.logarithmicDepthBuffer&&a.enable(3),E.skinning&&a.enable(4),E.morphTargets&&a.enable(5),E.morphNormals&&a.enable(6),E.morphColors&&a.enable(7),E.premultipliedAlpha&&a.enable(8),E.shadowMapEnabled&&a.enable(9),E.useLegacyLights&&a.enable(10),E.doubleSided&&a.enable(11),E.flipSided&&a.enable(12),E.useDepthPacking&&a.enable(13),E.dithering&&a.enable(14),E.transmission&&a.enable(15),E.sheen&&a.enable(16),E.opaque&&a.enable(17),E.pointsUvs&&a.enable(18),w.push(a.mask)}(E,w),E.push(n.outputColorSpace)),E.push(w.customProgramCacheKey),E.join()},getUniforms:function b(w){const E=p[w.type];let L;return L=E?Qee.clone(Es[E].uniforms):w.uniforms,L},acquireProgram:function x(w,E){let L;for(let U=0,R=c.length;U<R;U++){const N=c[U];if(N.cacheKey===E){L=N,++L.usedTimes;break}}return void 0===L&&(L=new Sre(n,E,w,s),c.push(L)),L},releaseProgram:function M(w){if(0==--w.usedTimes){const E=c.indexOf(w);c[E]=c[c.length-1],c.pop(),w.destroy()}},releaseShaderCache:function S(w){l.remove(w)},programs:c,dispose:function C(){l.dispose()}}}function Ire(){let n=new WeakMap;return{get:function e(s){let o=n.get(s);return void 0===o&&(o={},n.set(s,o)),o},remove:function t(s){n.delete(s)},update:function i(s,o,a){n.get(s)[o]=a},dispose:function r(){n=new WeakMap}}}function Rre(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function yk(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function bk(){const n=[];let e=0;const t=[],i=[],r=[];function o(d,h,f,p,g,_){let m=n[e];return void 0===m?(m={id:d.id,object:d,geometry:h,material:f,groupOrder:p,renderOrder:d.renderOrder,z:g,group:_},n[e]=m):(m.id=d.id,m.object=d,m.geometry=h,m.material=f,m.groupOrder=p,m.renderOrder=d.renderOrder,m.z=g,m.group=_),e++,m}return{opaque:t,transmissive:i,transparent:r,init:function s(){e=0,t.length=0,i.length=0,r.length=0},push:function a(d,h,f,p,g,_){const m=o(d,h,f,p,g,_);f.transmission>0?i.push(m):!0===f.transparent?r.push(m):t.push(m)},unshift:function l(d,h,f,p,g,_){const m=o(d,h,f,p,g,_);f.transmission>0?i.unshift(m):!0===f.transparent?r.unshift(m):t.unshift(m)},finish:function u(){for(let d=e,h=n.length;d<h;d++){const f=n[d];if(null===f.id)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}},sort:function c(d,h){t.length>1&&t.sort(d||Rre),i.length>1&&i.sort(h||yk),r.length>1&&r.sort(h||yk)}}}function Pre(){let n=new WeakMap;return{get:function e(i,r){const s=n.get(i);let o;return void 0===s?(o=new bk,n.set(i,[o])):r>=s.length?(o=new bk,s.push(o)):o=s[r],o},dispose:function t(){n=new WeakMap}}}function Ore(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new A,color:new Ce};break;case"SpotLight":t={position:new A,direction:new A,color:new Ce,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new A,color:new Ce,distance:0,decay:0};break;case"HemisphereLight":t={direction:new A,skyColor:new Ce,groundColor:new Ce};break;case"RectAreaLight":t={color:new Ce,position:new A,halfWidth:new A,halfHeight:new A}}return n[e.id]=t,t}}}let kre=0;function Nre(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Fre(n,e){const t=new Ore,i=function Lre(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new se};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new se,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)r.probe.push(new A);const s=new A,o=new at,a=new at;return{setup:function l(u,d){let h=0,f=0,p=0;for(let L=0;L<9;L++)r.probe[L].set(0,0,0);let g=0,_=0,m=0,y=0,v=0,b=0,x=0,M=0,S=0,C=0;u.sort(Nre);const w=!0===d?Math.PI:1;for(let L=0,U=u.length;L<U;L++){const R=u[L],N=R.color,B=R.intensity,k=R.distance,z=R.shadow&&R.shadow.map?R.shadow.map.texture:null;if(R.isAmbientLight)h+=N.r*B*w,f+=N.g*B*w,p+=N.b*B*w;else if(R.isLightProbe)for(let V=0;V<9;V++)r.probe[V].addScaledVector(R.sh.coefficients[V],B);else if(R.isDirectionalLight){const V=t.get(R);if(V.color.copy(R.color).multiplyScalar(R.intensity*w),R.castShadow){const X=R.shadow,ee=i.get(R);ee.shadowBias=X.bias,ee.shadowNormalBias=X.normalBias,ee.shadowRadius=X.radius,ee.shadowMapSize=X.mapSize,r.directionalShadow[g]=ee,r.directionalShadowMap[g]=z,r.directionalShadowMatrix[g]=R.shadow.matrix,b++}r.directional[g]=V,g++}else if(R.isSpotLight){const V=t.get(R);V.position.setFromMatrixPosition(R.matrixWorld),V.color.copy(N).multiplyScalar(B*w),V.distance=k,V.coneCos=Math.cos(R.angle),V.penumbraCos=Math.cos(R.angle*(1-R.penumbra)),V.decay=R.decay,r.spot[m]=V;const X=R.shadow;if(R.map&&(r.spotLightMap[S]=R.map,S++,X.updateMatrices(R),R.castShadow&&C++),r.spotLightMatrix[m]=X.matrix,R.castShadow){const ee=i.get(R);ee.shadowBias=X.bias,ee.shadowNormalBias=X.normalBias,ee.shadowRadius=X.radius,ee.shadowMapSize=X.mapSize,r.spotShadow[m]=ee,r.spotShadowMap[m]=z,M++}m++}else if(R.isRectAreaLight){const V=t.get(R);V.color.copy(N).multiplyScalar(B),V.halfWidth.set(.5*R.width,0,0),V.halfHeight.set(0,.5*R.height,0),r.rectArea[y]=V,y++}else if(R.isPointLight){const V=t.get(R);if(V.color.copy(R.color).multiplyScalar(R.intensity*w),V.distance=R.distance,V.decay=R.decay,R.castShadow){const X=R.shadow,ee=i.get(R);ee.shadowBias=X.bias,ee.shadowNormalBias=X.normalBias,ee.shadowRadius=X.radius,ee.shadowMapSize=X.mapSize,ee.shadowCameraNear=X.camera.near,ee.shadowCameraFar=X.camera.far,r.pointShadow[_]=ee,r.pointShadowMap[_]=z,r.pointShadowMatrix[_]=R.shadow.matrix,x++}r.point[_]=V,_++}else if(R.isHemisphereLight){const V=t.get(R);V.skyColor.copy(R.color).multiplyScalar(B*w),V.groundColor.copy(R.groundColor).multiplyScalar(B*w),r.hemi[v]=V,v++}}y>0&&(e.isWebGL2||!0===n.has("OES_texture_float_linear")?(r.rectAreaLTC1=Me.LTC_FLOAT_1,r.rectAreaLTC2=Me.LTC_FLOAT_2):!0===n.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=Me.LTC_HALF_1,r.rectAreaLTC2=Me.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=h,r.ambient[1]=f,r.ambient[2]=p;const E=r.hash;(E.directionalLength!==g||E.pointLength!==_||E.spotLength!==m||E.rectAreaLength!==y||E.hemiLength!==v||E.numDirectionalShadows!==b||E.numPointShadows!==x||E.numSpotShadows!==M||E.numSpotMaps!==S)&&(r.directional.length=g,r.spot.length=m,r.rectArea.length=y,r.point.length=_,r.hemi.length=v,r.directionalShadow.length=b,r.directionalShadowMap.length=b,r.pointShadow.length=x,r.pointShadowMap.length=x,r.spotShadow.length=M,r.spotShadowMap.length=M,r.directionalShadowMatrix.length=b,r.pointShadowMatrix.length=x,r.spotLightMatrix.length=M+S-C,r.spotLightMap.length=S,r.numSpotLightShadowsWithMaps=C,E.directionalLength=g,E.pointLength=_,E.spotLength=m,E.rectAreaLength=y,E.hemiLength=v,E.numDirectionalShadows=b,E.numPointShadows=x,E.numSpotShadows=M,E.numSpotMaps=S,r.version=kre++)},setupView:function c(u,d){let h=0,f=0,p=0,g=0,_=0;const m=d.matrixWorldInverse;for(let y=0,v=u.length;y<v;y++){const b=u[y];if(b.isDirectionalLight){const x=r.directional[h];x.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),x.direction.sub(s),x.direction.transformDirection(m),h++}else if(b.isSpotLight){const x=r.spot[p];x.position.setFromMatrixPosition(b.matrixWorld),x.position.applyMatrix4(m),x.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),x.direction.sub(s),x.direction.transformDirection(m),p++}else if(b.isRectAreaLight){const x=r.rectArea[g];x.position.setFromMatrixPosition(b.matrixWorld),x.position.applyMatrix4(m),a.identity(),o.copy(b.matrixWorld),o.premultiply(m),a.extractRotation(o),x.halfWidth.set(.5*b.width,0,0),x.halfHeight.set(0,.5*b.height,0),x.halfWidth.applyMatrix4(a),x.halfHeight.applyMatrix4(a),g++}else if(b.isPointLight){const x=r.point[f];x.position.setFromMatrixPosition(b.matrixWorld),x.position.applyMatrix4(m),f++}else if(b.isHemisphereLight){const x=r.hemi[_];x.direction.setFromMatrixPosition(b.matrixWorld),x.direction.transformDirection(m),_++}}},state:r}}function xk(n,e){const t=new Fre(n,e),i=[],r=[];return{init:function s(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:function l(d){t.setup(i,d)},setupLightsView:function c(d){t.setupView(i,d)},pushLight:function o(d){i.push(d)},pushShadow:function a(d){r.push(d)}}}function Bre(n,e){let t=new WeakMap;return{get:function i(s,o=0){const a=t.get(s);let l;return void 0===a?(l=new xk(n,e),t.set(s,[l])):o>=a.length?(l=new xk(n,e),a.push(l)):l=a[o],l},dispose:function r(){t=new WeakMap}}}class wk extends Zr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Mk extends Zr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Ure="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",zre="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function Hre(n,e,t){let i=new Aw;const r=new se,s=new se,o=new qt,a=new wk({depthPacking:pee}),l=new Mk,c={},u=t.maxTextureSize,d={[lo]:$i,[$i]:lo,[bs]:bs},h=new Ko({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new se},radius:{value:4}},vertexShader:Ure,fragmentShader:zre}),f=h.clone();f.defines.HORIZONTAL_PASS=1;const p=new Et;p.setAttribute("position",new Mn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new vi(p,h),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=HO;let m=this.type;function y(x,M){const S=e.update(g);h.defines.VSM_SAMPLES!==x.blurSamples&&(h.defines.VSM_SAMPLES=x.blurSamples,f.defines.VSM_SAMPLES=x.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),null===x.mapPass&&(x.mapPass=new Va(r.x,r.y)),h.uniforms.shadow_pass.value=x.map.texture,h.uniforms.resolution.value=x.mapSize,h.uniforms.radius.value=x.radius,n.setRenderTarget(x.mapPass),n.clear(),n.renderBufferDirect(M,null,S,h,g,null),f.uniforms.shadow_pass.value=x.mapPass.texture,f.uniforms.resolution.value=x.mapSize,f.uniforms.radius.value=x.radius,n.setRenderTarget(x.map),n.clear(),n.renderBufferDirect(M,null,S,f,g,null)}function v(x,M,S,C){let w=null;const E=!0===S.isPointLight?x.customDistanceMaterial:x.customDepthMaterial;if(void 0!==E)w=E;else if(w=!0===S.isPointLight?l:a,n.localClippingEnabled&&!0===M.clipShadows&&Array.isArray(M.clippingPlanes)&&0!==M.clippingPlanes.length||M.displacementMap&&0!==M.displacementScale||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0){const L=w.uuid,U=M.uuid;let R=c[L];void 0===R&&(R={},c[L]=R);let N=R[U];void 0===N&&(N=w.clone(),R[U]=N),w=N}return w.visible=M.visible,w.wireframe=M.wireframe,w.side=C===ao?null!==M.shadowSide?M.shadowSide:M.side:null!==M.shadowSide?M.shadowSide:d[M.side],w.alphaMap=M.alphaMap,w.alphaTest=M.alphaTest,w.map=M.map,w.clipShadows=M.clipShadows,w.clippingPlanes=M.clippingPlanes,w.clipIntersection=M.clipIntersection,w.displacementMap=M.displacementMap,w.displacementScale=M.displacementScale,w.displacementBias=M.displacementBias,w.wireframeLinewidth=M.wireframeLinewidth,w.linewidth=M.linewidth,!0===S.isPointLight&&!0===w.isMeshDistanceMaterial&&(n.properties.get(w).light=S),w}function b(x,M,S,C,w){if(!1===x.visible)return;if(x.layers.test(M.layers)&&(x.isMesh||x.isLine||x.isPoints)&&(x.castShadow||x.receiveShadow&&w===ao)&&(!x.frustumCulled||i.intersectsObject(x))){x.modelViewMatrix.multiplyMatrices(S.matrixWorldInverse,x.matrixWorld);const U=e.update(x),R=x.material;if(Array.isArray(R)){const N=U.groups;for(let B=0,k=N.length;B<k;B++){const z=N[B],V=R[z.materialIndex];if(V&&V.visible){const X=v(x,V,C,w);n.renderBufferDirect(S,null,U,X,x,z)}}}else if(R.visible){const N=v(x,R,C,w);n.renderBufferDirect(S,null,U,N,x,null)}}const L=x.children;for(let U=0,R=L.length;U<R;U++)b(L[U],M,S,C,w)}this.render=function(x,M,S){if(!1===_.enabled||!1===_.autoUpdate&&!1===_.needsUpdate||0===x.length)return;const C=n.getRenderTarget(),w=n.getActiveCubeFace(),E=n.getActiveMipmapLevel(),L=n.state;L.setBlending(Wo),L.buffers.color.setClear(1,1,1,1),L.buffers.depth.setTest(!0),L.setScissorTest(!1);const U=m!==ao&&this.type===ao,R=m===ao&&this.type!==ao;for(let N=0,B=x.length;N<B;N++){const k=x[N],z=k.shadow;if(void 0===z){console.warn("THREE.WebGLShadowMap:",k,"has no shadow.");continue}if(!1===z.autoUpdate&&!1===z.needsUpdate)continue;r.copy(z.mapSize);const V=z.getFrameExtents();if(r.multiply(V),s.copy(z.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/V.x),r.x=s.x*V.x,z.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/V.y),r.y=s.y*V.y,z.mapSize.y=s.y)),null===z.map||!0===U||!0===R){const ee=this.type!==ao?{minFilter:In,magFilter:In}:{};null!==z.map&&z.map.dispose(),z.map=new Va(r.x,r.y,ee),z.map.texture.name=k.name+".shadowMap",z.camera.updateProjectionMatrix()}n.setRenderTarget(z.map),n.clear();const X=z.getViewportCount();for(let ee=0;ee<X;ee++){const be=z.getViewport(ee);o.set(s.x*be.x,s.y*be.y,s.x*be.z,s.y*be.w),L.viewport(o),z.updateMatrices(k,ee),i=z.getFrustum(),b(M,S,z.camera,k,this.type)}!0!==z.isPointLightShadow&&this.type===ao&&y(z,S),z.needsUpdate=!1}m=this.type,_.needsUpdate=!1,n.setRenderTarget(C,w,E)}}function Vre(n,e,t){const i=t.isWebGL2,a=new function r(){let F=!1;const ne=new qt;let me=null;const ke=new qt(0,0,0,0);return{setMask:function(Xe){me!==Xe&&!F&&(n.colorMask(Xe,Xe,Xe,Xe),me=Xe)},setLocked:function(Xe){F=Xe},setClear:function(Xe,Zt,Qt,yi,na){!0===na&&(Xe*=yi,Zt*=yi,Qt*=yi),ne.set(Xe,Zt,Qt,yi),!1===ke.equals(ne)&&(n.clearColor(Xe,Zt,Qt,yi),ke.copy(ne))},reset:function(){F=!1,me=null,ke.set(-1,0,0,0)}}},l=new function s(){let F=!1,ne=null,me=null,ke=null;return{setTest:function(Xe){Xe?P(n.DEPTH_TEST):Ne(n.DEPTH_TEST)},setMask:function(Xe){ne!==Xe&&!F&&(n.depthMask(Xe),ne=Xe)},setFunc:function(Xe){if(me!==Xe){switch(Xe){case LJ:n.depthFunc(n.NEVER);break;case kJ:n.depthFunc(n.ALWAYS);break;case NJ:n.depthFunc(n.LESS);break;case Xx:n.depthFunc(n.LEQUAL);break;case FJ:n.depthFunc(n.EQUAL);break;case BJ:n.depthFunc(n.GEQUAL);break;case UJ:n.depthFunc(n.GREATER);break;case zJ:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}me=Xe}},setLocked:function(Xe){F=Xe},setClear:function(Xe){ke!==Xe&&(n.clearDepth(Xe),ke=Xe)},reset:function(){F=!1,ne=null,me=null,ke=null}}},c=new function o(){let F=!1,ne=null,me=null,ke=null,Xe=null,Zt=null,Qt=null,yi=null,na=null;return{setTest:function(On){F||(On?P(n.STENCIL_TEST):Ne(n.STENCIL_TEST))},setMask:function(On){ne!==On&&!F&&(n.stencilMask(On),ne=On)},setFunc:function(On,Pr,As){(me!==On||ke!==Pr||Xe!==As)&&(n.stencilFunc(On,Pr,As),me=On,ke=Pr,Xe=As)},setOp:function(On,Pr,As){(Zt!==On||Qt!==Pr||yi!==As)&&(n.stencilOp(On,Pr,As),Zt=On,Qt=Pr,yi=As)},setLocked:function(On){F=On},setClear:function(On){na!==On&&(n.clearStencil(On),na=On)},reset:function(){F=!1,ne=null,me=null,ke=null,Xe=null,Zt=null,Qt=null,yi=null,na=null}}},u=new WeakMap,d=new WeakMap;let h={},f={},p=new WeakMap,g=[],_=null,m=!1,y=null,v=null,b=null,x=null,M=null,S=null,C=null,w=!1,E=null,L=null,U=null,R=null,N=null;const B=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let k=!1,z=0;const V=n.getParameter(n.VERSION);-1!==V.indexOf("WebGL")?(z=parseFloat(/^WebGL (\d)/.exec(V)[1]),k=z>=1):-1!==V.indexOf("OpenGL ES")&&(z=parseFloat(/^OpenGL ES (\d)/.exec(V)[1]),k=z>=2);let X=null,ee={};const be=n.getParameter(n.SCISSOR_BOX),ge=n.getParameter(n.VIEWPORT),Y=(new qt).fromArray(be),Z=(new qt).fromArray(ge);function _e(F,ne,me,ke){const Xe=new Uint8Array(4),Zt=n.createTexture();n.bindTexture(F,Zt),n.texParameteri(F,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(F,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Qt=0;Qt<me;Qt++)!i||F!==n.TEXTURE_3D&&F!==n.TEXTURE_2D_ARRAY?n.texImage2D(ne+Qt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Xe):n.texImage3D(ne,0,n.RGBA,1,1,ke,0,n.RGBA,n.UNSIGNED_BYTE,Xe);return Zt}const ye={};function P(F){!0!==h[F]&&(n.enable(F),h[F]=!0)}function Ne(F){!1!==h[F]&&(n.disable(F),h[F]=!1)}ye[n.TEXTURE_2D]=_e(n.TEXTURE_2D,n.TEXTURE_2D,1),ye[n.TEXTURE_CUBE_MAP]=_e(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(ye[n.TEXTURE_2D_ARRAY]=_e(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ye[n.TEXTURE_3D]=_e(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),P(n.DEPTH_TEST),l.setFunc(Xx),xe(!1),je(zO),P(n.CULL_FACE),de(Wo);const le={[Pc]:n.FUNC_ADD,[MJ]:n.FUNC_SUBTRACT,[EJ]:n.FUNC_REVERSE_SUBTRACT};if(i)le[jO]=n.MIN,le[$O]=n.MAX;else{const F=e.get("EXT_blend_minmax");null!==F&&(le[jO]=F.MIN_EXT,le[$O]=F.MAX_EXT)}const te={[SJ]:n.ZERO,[CJ]:n.ONE,[TJ]:n.SRC_COLOR,[XO]:n.SRC_ALPHA,[OJ]:n.SRC_ALPHA_SATURATE,[RJ]:n.DST_COLOR,[DJ]:n.DST_ALPHA,[AJ]:n.ONE_MINUS_SRC_COLOR,[qO]:n.ONE_MINUS_SRC_ALPHA,[PJ]:n.ONE_MINUS_DST_COLOR,[IJ]:n.ONE_MINUS_DST_ALPHA};function de(F,ne,me,ke,Xe,Zt,Qt,yi){if(F!==Wo){if(!1===m&&(P(n.BLEND),m=!0),F===wJ)Xe=Xe||ne,Zt=Zt||me,Qt=Qt||ke,(ne!==v||Xe!==M)&&(n.blendEquationSeparate(le[ne],le[Xe]),v=ne,M=Xe),(me!==b||ke!==x||Zt!==S||Qt!==C)&&(n.blendFuncSeparate(te[me],te[ke],te[Zt],te[Qt]),b=me,x=ke,S=Zt,C=Qt),y=F,w=!1;else if(F!==y||yi!==w){if((v!==Pc||M!==Pc)&&(n.blendEquation(n.FUNC_ADD),v=Pc,M=Pc),yi)switch(F){case Rc:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case VO:n.blendFunc(n.ONE,n.ONE);break;case GO:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case WO:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",F)}else switch(F){case Rc:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case VO:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case GO:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case WO:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",F)}b=null,x=null,S=null,C=null,y=F,w=yi}}else!0===m&&(Ne(n.BLEND),m=!1)}function xe(F){E!==F&&(n.frontFace(F?n.CW:n.CCW),E=F)}function je(F){F!==yJ?(P(n.CULL_FACE),F!==L&&n.cullFace(F===zO?n.BACK:F===bJ?n.FRONT:n.FRONT_AND_BACK)):Ne(n.CULL_FACE),L=F}function Ve(F,ne,me){F?(P(n.POLYGON_OFFSET_FILL),(R!==ne||N!==me)&&(n.polygonOffset(ne,me),R=ne,N=me)):Ne(n.POLYGON_OFFSET_FILL)}return{buffers:{color:a,depth:l,stencil:c},enable:P,disable:Ne,bindFramebuffer:function Ie(F,ne){return f[F]!==ne&&(n.bindFramebuffer(F,ne),f[F]=ne,i&&(F===n.DRAW_FRAMEBUFFER&&(f[n.FRAMEBUFFER]=ne),F===n.FRAMEBUFFER&&(f[n.DRAW_FRAMEBUFFER]=ne)),!0)},drawBuffers:function he(F,ne){let me=g,ke=!1;if(F)if(me=p.get(ne),void 0===me&&(me=[],p.set(ne,me)),F.isWebGLMultipleRenderTargets){const Xe=F.texture;if(me.length!==Xe.length||me[0]!==n.COLOR_ATTACHMENT0){for(let Zt=0,Qt=Xe.length;Zt<Qt;Zt++)me[Zt]=n.COLOR_ATTACHMENT0+Zt;me.length=Xe.length,ke=!0}}else me[0]!==n.COLOR_ATTACHMENT0&&(me[0]=n.COLOR_ATTACHMENT0,ke=!0);else me[0]!==n.BACK&&(me[0]=n.BACK,ke=!0);ke&&(t.isWebGL2?n.drawBuffers(me):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(me))},useProgram:function De(F){return _!==F&&(n.useProgram(F),_=F,!0)},setBlending:de,setMaterial:function Ae(F,ne){F.side===bs?Ne(n.CULL_FACE):P(n.CULL_FACE);let me=F.side===$i;ne&&(me=!me),xe(me),F.blending===Rc&&!1===F.transparent?de(Wo):de(F.blending,F.blendEquation,F.blendSrc,F.blendDst,F.blendEquationAlpha,F.blendSrcAlpha,F.blendDstAlpha,F.premultipliedAlpha),l.setFunc(F.depthFunc),l.setTest(F.depthTest),l.setMask(F.depthWrite),a.setMask(F.colorWrite);const ke=F.stencilWrite;c.setTest(ke),ke&&(c.setMask(F.stencilWriteMask),c.setFunc(F.stencilFunc,F.stencilRef,F.stencilFuncMask),c.setOp(F.stencilFail,F.stencilZFail,F.stencilZPass)),Ve(F.polygonOffset,F.polygonOffsetFactor,F.polygonOffsetUnits),!0===F.alphaToCoverage?P(n.SAMPLE_ALPHA_TO_COVERAGE):Ne(n.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:xe,setCullFace:je,setLineWidth:function qe(F){F!==U&&(k&&n.lineWidth(F),U=F)},setPolygonOffset:Ve,setScissorTest:function ht(F){F?P(n.SCISSOR_TEST):Ne(n.SCISSOR_TEST)},activeTexture:function St(F){void 0===F&&(F=n.TEXTURE0+B-1),X!==F&&(n.activeTexture(F),X=F)},bindTexture:function I(F,ne,me){void 0===me&&(me=null===X?n.TEXTURE0+B-1:X);let ke=ee[me];void 0===ke&&(ke={type:void 0,texture:void 0},ee[me]=ke),(ke.type!==F||ke.texture!==ne)&&(X!==me&&(n.activeTexture(me),X=me),n.bindTexture(F,ne||ye[F]),ke.type=F,ke.texture=ne)},unbindTexture:function T(){const F=ee[X];void 0!==F&&void 0!==F.type&&(n.bindTexture(F.type,null),F.type=void 0,F.texture=void 0)},compressedTexImage2D:function K(){try{n.compressedTexImage2D.apply(n,arguments)}catch(F){console.error("THREE.WebGLState:",F)}},compressedTexImage3D:function oe(){try{n.compressedTexImage3D.apply(n,arguments)}catch(F){console.error("THREE.WebGLState:",F)}},texImage2D:function Be(){try{n.texImage2D.apply(n,arguments)}catch(F){console.error("THREE.WebGLState:",F)}},texImage3D:function $e(){try{n.texImage3D.apply(n,arguments)}catch(F){console.error("THREE.WebGLState:",F)}},updateUBOMapping:function ft(F,ne){let me=d.get(ne);void 0===me&&(me=new WeakMap,d.set(ne,me));let ke=me.get(F);void 0===ke&&(ke=n.getUniformBlockIndex(ne,F.name),me.set(F,ke))},uniformBlockBinding:function Ct(F,ne){const ke=d.get(ne).get(F);u.get(ne)!==ke&&(n.uniformBlockBinding(ne,ke,F.__bindingPointIndex),u.set(ne,ke))},texStorage2D:function Q(){try{n.texStorage2D.apply(n,arguments)}catch(F){console.error("THREE.WebGLState:",F)}},texStorage3D:function Se(){try{n.texStorage3D.apply(n,arguments)}catch(F){console.error("THREE.WebGLState:",F)}},texSubImage2D:function fe(){try{n.texSubImage2D.apply(n,arguments)}catch(F){console.error("THREE.WebGLState:",F)}},texSubImage3D:function Ee(){try{n.texSubImage3D.apply(n,arguments)}catch(F){console.error("THREE.WebGLState:",F)}},compressedTexSubImage2D:function O(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(F){console.error("THREE.WebGLState:",F)}},compressedTexSubImage3D:function ae(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(F){console.error("THREE.WebGLState:",F)}},scissor:function Le(F){!1===Y.equals(F)&&(n.scissor(F.x,F.y,F.z,F.w),Y.copy(F))},viewport:function Ge(F){!1===Z.equals(F)&&(n.viewport(F.x,F.y,F.z,F.w),Z.copy(F))},reset:function Pn(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),!0===i&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),h={},X=null,ee={},f={},p=new WeakMap,g=[],_=null,m=!1,y=null,v=null,b=null,x=null,M=null,S=null,C=null,w=!1,E=null,L=null,U=null,R=null,N=null,Y.set(0,0,n.canvas.width,n.canvas.height),Z.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}}}function Gre(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,d=r.maxSamples,h=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,f=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let g;const _=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function y(I,T){return m?new OffscreenCanvas(I,T):sh("canvas")}function v(I,T,K,oe){let fe=1;if((I.width>oe||I.height>oe)&&(fe=oe/Math.max(I.width,I.height)),fe<1||!0===T){if(typeof HTMLImageElement<"u"&&I instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&I instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&I instanceof ImageBitmap){const Ee=T?CL:Math.floor,O=Ee(fe*I.width),ae=Ee(fe*I.height);void 0===g&&(g=y(O,ae));const Q=K?y(O,ae):g;return Q.width=O,Q.height=ae,Q.getContext("2d").drawImage(I,0,0,O,ae),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+I.width+"x"+I.height+") to ("+O+"x"+ae+")."),Q}return"data"in I&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+I.width+"x"+I.height+")."),I}return I}function b(I){return aw(I.width)&&aw(I.height)}function M(I,T){return I.generateMipmaps&&T&&I.minFilter!==In&&I.minFilter!==xn}function S(I){n.generateMipmap(I)}function C(I,T,K,oe,fe=!1){if(!1===a)return T;if(null!==I){if(void 0!==n[I])return n[I];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+I+"'")}let Ee=T;return T===n.RED&&(K===n.FLOAT&&(Ee=n.R32F),K===n.HALF_FLOAT&&(Ee=n.R16F),K===n.UNSIGNED_BYTE&&(Ee=n.R8)),T===n.RG&&(K===n.FLOAT&&(Ee=n.RG32F),K===n.HALF_FLOAT&&(Ee=n.RG16F),K===n.UNSIGNED_BYTE&&(Ee=n.RG8)),T===n.RGBA&&(K===n.FLOAT&&(Ee=n.RGBA32F),K===n.HALF_FLOAT&&(Ee=n.RGBA16F),K===n.UNSIGNED_BYTE&&(Ee=oe===ot&&!1===fe?n.SRGB8_ALPHA8:n.RGBA8),K===n.UNSIGNED_SHORT_4_4_4_4&&(Ee=n.RGBA4),K===n.UNSIGNED_SHORT_5_5_5_1&&(Ee=n.RGB5_A1)),(Ee===n.R16F||Ee===n.R32F||Ee===n.RG16F||Ee===n.RG32F||Ee===n.RGBA16F||Ee===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ee}function w(I,T,K){return!0===M(I,K)||I.isFramebufferTexture&&I.minFilter!==In&&I.minFilter!==xn?Math.log2(Math.max(T.width,T.height))+1:void 0!==I.mipmaps&&I.mipmaps.length>0?I.mipmaps.length:I.isCompressedTexture&&Array.isArray(I.image)?T.mipmaps.length:1}function E(I){return I===In||I===Jm||I===th?n.NEAREST:n.LINEAR}function L(I){const T=I.target;T.removeEventListener("dispose",L),function R(I){const T=i.get(I);if(void 0===T.__webglInit)return;const K=I.source,oe=_.get(K);if(oe){const fe=oe[T.__cacheKey];fe.usedTimes--,0===fe.usedTimes&&N(I),0===Object.keys(oe).length&&_.delete(K)}i.remove(I)}(T),T.isVideoTexture&&p.delete(T)}function U(I){const T=I.target;T.removeEventListener("dispose",U),function B(I){const T=I.texture,K=i.get(I),oe=i.get(T);if(void 0!==oe.__webglTexture&&(n.deleteTexture(oe.__webglTexture),o.memory.textures--),I.depthTexture&&I.depthTexture.dispose(),I.isWebGLCubeRenderTarget)for(let fe=0;fe<6;fe++)n.deleteFramebuffer(K.__webglFramebuffer[fe]),K.__webglDepthbuffer&&n.deleteRenderbuffer(K.__webglDepthbuffer[fe]);else{if(n.deleteFramebuffer(K.__webglFramebuffer),K.__webglDepthbuffer&&n.deleteRenderbuffer(K.__webglDepthbuffer),K.__webglMultisampledFramebuffer&&n.deleteFramebuffer(K.__webglMultisampledFramebuffer),K.__webglColorRenderbuffer)for(let fe=0;fe<K.__webglColorRenderbuffer.length;fe++)K.__webglColorRenderbuffer[fe]&&n.deleteRenderbuffer(K.__webglColorRenderbuffer[fe]);K.__webglDepthRenderbuffer&&n.deleteRenderbuffer(K.__webglDepthRenderbuffer)}if(I.isWebGLMultipleRenderTargets)for(let fe=0,Ee=T.length;fe<Ee;fe++){const O=i.get(T[fe]);O.__webglTexture&&(n.deleteTexture(O.__webglTexture),o.memory.textures--),i.remove(T[fe])}i.remove(T),i.remove(I)}(T)}function N(I){const T=i.get(I);n.deleteTexture(T.__webglTexture),delete _.get(I.source)[T.__cacheKey],o.memory.textures--}let k=0;function ee(I,T){const K=i.get(I);if(I.isVideoTexture&&function ht(I){const T=o.render.frame;p.get(I)!==T&&(p.set(I,T),I.update())}(I),!1===I.isRenderTargetTexture&&I.version>0&&K.__version!==I.version){const oe=I.image;if(null===oe)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==oe.complete)return void Ne(K,I,T);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.bindTexture(n.TEXTURE_2D,K.__webglTexture,n.TEXTURE0+T)}const Z={[Oa]:n.REPEAT,[mi]:n.CLAMP_TO_EDGE,[eh]:n.MIRRORED_REPEAT},_e={[In]:n.NEAREST,[Jm]:n.NEAREST_MIPMAP_NEAREST,[th]:n.NEAREST_MIPMAP_LINEAR,[xn]:n.LINEAR,[Yx]:n.LINEAR_MIPMAP_NEAREST,[uo]:n.LINEAR_MIPMAP_LINEAR};function ye(I,T,K){if(K?(n.texParameteri(I,n.TEXTURE_WRAP_S,Z[T.wrapS]),n.texParameteri(I,n.TEXTURE_WRAP_T,Z[T.wrapT]),(I===n.TEXTURE_3D||I===n.TEXTURE_2D_ARRAY)&&n.texParameteri(I,n.TEXTURE_WRAP_R,Z[T.wrapR]),n.texParameteri(I,n.TEXTURE_MAG_FILTER,_e[T.magFilter]),n.texParameteri(I,n.TEXTURE_MIN_FILTER,_e[T.minFilter])):(n.texParameteri(I,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(I,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(I===n.TEXTURE_3D||I===n.TEXTURE_2D_ARRAY)&&n.texParameteri(I,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(T.wrapS!==mi||T.wrapT!==mi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(I,n.TEXTURE_MAG_FILTER,E(T.magFilter)),n.texParameteri(I,n.TEXTURE_MIN_FILTER,E(T.minFilter)),T.minFilter!==In&&T.minFilter!==xn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===e.has("EXT_texture_filter_anisotropic")){const oe=e.get("EXT_texture_filter_anisotropic");if(T.magFilter===In||T.minFilter!==th&&T.minFilter!==uo||T.type===jo&&!1===e.has("OES_texture_float_linear")||!1===a&&T.type===nh&&!1===e.has("OES_texture_half_float_linear"))return;(T.anisotropy>1||i.get(T).__currentAnisotropy)&&(n.texParameterf(I,oe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(T.anisotropy,r.getMaxAnisotropy())),i.get(T).__currentAnisotropy=T.anisotropy)}}function P(I,T){let K=!1;void 0===I.__webglInit&&(I.__webglInit=!0,T.addEventListener("dispose",L));const oe=T.source;let fe=_.get(oe);void 0===fe&&(fe={},_.set(oe,fe));const Ee=function X(I){const T=[];return T.push(I.wrapS),T.push(I.wrapT),T.push(I.wrapR||0),T.push(I.magFilter),T.push(I.minFilter),T.push(I.anisotropy),T.push(I.internalFormat),T.push(I.format),T.push(I.type),T.push(I.generateMipmaps),T.push(I.premultiplyAlpha),T.push(I.flipY),T.push(I.unpackAlignment),T.push(I.colorSpace),T.join()}(T);if(Ee!==I.__cacheKey){void 0===fe[Ee]&&(fe[Ee]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,K=!0),fe[Ee].usedTimes++;const O=fe[I.__cacheKey];void 0!==O&&(fe[I.__cacheKey].usedTimes--,0===O.usedTimes&&N(T)),I.__cacheKey=Ee,I.__webglTexture=fe[Ee].texture}return K}function Ne(I,T,K){let oe=n.TEXTURE_2D;(T.isDataArrayTexture||T.isCompressedArrayTexture)&&(oe=n.TEXTURE_2D_ARRAY),T.isData3DTexture&&(oe=n.TEXTURE_3D);const fe=P(I,T),Ee=T.source;t.bindTexture(oe,I.__webglTexture,n.TEXTURE0+K);const O=i.get(Ee);if(Ee.version!==O.__version||!0===fe){t.activeTexture(n.TEXTURE0+K),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,T.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,T.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,T.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const ae=function x(I){return!a&&(I.wrapS!==mi||I.wrapT!==mi||I.minFilter!==In&&I.minFilter!==xn)}(T)&&!1===b(T.image);let Q=v(T.image,ae,!1,u);Q=St(T,Q);const Se=b(Q)||a,Be=s.convert(T.format,T.colorSpace);let Ge,$e=s.convert(T.type),Le=C(T.internalFormat,Be,$e,T.colorSpace);ye(oe,T,Se);const ft=T.mipmaps,Ct=a&&!0!==T.isVideoTexture,Pn=void 0===O.__version||!0===fe,F=w(T,Q,Se);if(T.isDepthTexture)Le=n.DEPTH_COMPONENT,a?Le=T.type===jo?n.DEPTH_COMPONENT32F:T.type===ka?n.DEPTH_COMPONENT24:T.type===Oc?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT16:T.type===jo&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),T.format===Na&&Le===n.DEPTH_COMPONENT&&T.type!==YO&&T.type!==ka&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),T.type=ka,$e=s.convert(T.type)),T.format===Lc&&Le===n.DEPTH_COMPONENT&&(Le=n.DEPTH_STENCIL,T.type!==Oc&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),T.type=Oc,$e=s.convert(T.type))),Pn&&(Ct?t.texStorage2D(n.TEXTURE_2D,1,Le,Q.width,Q.height):t.texImage2D(n.TEXTURE_2D,0,Le,Q.width,Q.height,0,Be,$e,null));else if(T.isDataTexture)if(ft.length>0&&Se){Ct&&Pn&&t.texStorage2D(n.TEXTURE_2D,F,Le,ft[0].width,ft[0].height);for(let ne=0,me=ft.length;ne<me;ne++)Ge=ft[ne],Ct?t.texSubImage2D(n.TEXTURE_2D,ne,0,0,Ge.width,Ge.height,Be,$e,Ge.data):t.texImage2D(n.TEXTURE_2D,ne,Le,Ge.width,Ge.height,0,Be,$e,Ge.data);T.generateMipmaps=!1}else Ct?(Pn&&t.texStorage2D(n.TEXTURE_2D,F,Le,Q.width,Q.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,Q.width,Q.height,Be,$e,Q.data)):t.texImage2D(n.TEXTURE_2D,0,Le,Q.width,Q.height,0,Be,$e,Q.data);else if(T.isCompressedTexture)if(T.isCompressedArrayTexture){Ct&&Pn&&t.texStorage3D(n.TEXTURE_2D_ARRAY,F,Le,ft[0].width,ft[0].height,Q.depth);for(let ne=0,me=ft.length;ne<me;ne++)Ge=ft[ne],T.format!==Tr?null!==Be?Ct?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,ne,0,0,0,Ge.width,Ge.height,Q.depth,Be,Ge.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,ne,Le,Ge.width,Ge.height,Q.depth,0,Ge.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ct?t.texSubImage3D(n.TEXTURE_2D_ARRAY,ne,0,0,0,Ge.width,Ge.height,Q.depth,Be,$e,Ge.data):t.texImage3D(n.TEXTURE_2D_ARRAY,ne,Le,Ge.width,Ge.height,Q.depth,0,Be,$e,Ge.data)}else{Ct&&Pn&&t.texStorage2D(n.TEXTURE_2D,F,Le,ft[0].width,ft[0].height);for(let ne=0,me=ft.length;ne<me;ne++)Ge=ft[ne],T.format!==Tr?null!==Be?Ct?t.compressedTexSubImage2D(n.TEXTURE_2D,ne,0,0,Ge.width,Ge.height,Be,Ge.data):t.compressedTexImage2D(n.TEXTURE_2D,ne,Le,Ge.width,Ge.height,0,Ge.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ct?t.texSubImage2D(n.TEXTURE_2D,ne,0,0,Ge.width,Ge.height,Be,$e,Ge.data):t.texImage2D(n.TEXTURE_2D,ne,Le,Ge.width,Ge.height,0,Be,$e,Ge.data)}else if(T.isDataArrayTexture)Ct?(Pn&&t.texStorage3D(n.TEXTURE_2D_ARRAY,F,Le,Q.width,Q.height,Q.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Q.width,Q.height,Q.depth,Be,$e,Q.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,Le,Q.width,Q.height,Q.depth,0,Be,$e,Q.data);else if(T.isData3DTexture)Ct?(Pn&&t.texStorage3D(n.TEXTURE_3D,F,Le,Q.width,Q.height,Q.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Q.width,Q.height,Q.depth,Be,$e,Q.data)):t.texImage3D(n.TEXTURE_3D,0,Le,Q.width,Q.height,Q.depth,0,Be,$e,Q.data);else if(T.isFramebufferTexture){if(Pn)if(Ct)t.texStorage2D(n.TEXTURE_2D,F,Le,Q.width,Q.height);else{let ne=Q.width,me=Q.height;for(let ke=0;ke<F;ke++)t.texImage2D(n.TEXTURE_2D,ke,Le,ne,me,0,Be,$e,null),ne>>=1,me>>=1}}else if(ft.length>0&&Se){Ct&&Pn&&t.texStorage2D(n.TEXTURE_2D,F,Le,ft[0].width,ft[0].height);for(let ne=0,me=ft.length;ne<me;ne++)Ge=ft[ne],Ct?t.texSubImage2D(n.TEXTURE_2D,ne,0,0,Be,$e,Ge):t.texImage2D(n.TEXTURE_2D,ne,Le,Be,$e,Ge);T.generateMipmaps=!1}else Ct?(Pn&&t.texStorage2D(n.TEXTURE_2D,F,Le,Q.width,Q.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,Be,$e,Q)):t.texImage2D(n.TEXTURE_2D,0,Le,Be,$e,Q);M(T,Se)&&S(oe),O.__version=Ee.version,T.onUpdate&&T.onUpdate(T)}I.__version=T.version}function he(I,T,K,oe,fe){const Ee=s.convert(K.format,K.colorSpace),O=s.convert(K.type),ae=C(K.internalFormat,Ee,O,K.colorSpace);i.get(T).__hasExternalTextures||(fe===n.TEXTURE_3D||fe===n.TEXTURE_2D_ARRAY?t.texImage3D(fe,0,ae,T.width,T.height,T.depth,0,Ee,O,null):t.texImage2D(fe,0,ae,T.width,T.height,0,Ee,O,null)),t.bindFramebuffer(n.FRAMEBUFFER,I),Ve(T)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,oe,fe,i.get(K).__webglTexture,0,qe(T)):(fe===n.TEXTURE_2D||fe>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&fe<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,oe,fe,i.get(K).__webglTexture,0),t.bindFramebuffer(n.FRAMEBUFFER,null)}function De(I,T,K){if(n.bindRenderbuffer(n.RENDERBUFFER,I),T.depthBuffer&&!T.stencilBuffer){let oe=n.DEPTH_COMPONENT16;if(K||Ve(T)){const fe=T.depthTexture;fe&&fe.isDepthTexture&&(fe.type===jo?oe=n.DEPTH_COMPONENT32F:fe.type===ka&&(oe=n.DEPTH_COMPONENT24));const Ee=qe(T);Ve(T)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ee,oe,T.width,T.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Ee,oe,T.width,T.height)}else n.renderbufferStorage(n.RENDERBUFFER,oe,T.width,T.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,I)}else if(T.depthBuffer&&T.stencilBuffer){const oe=qe(T);K&&!1===Ve(T)?n.renderbufferStorageMultisample(n.RENDERBUFFER,oe,n.DEPTH24_STENCIL8,T.width,T.height):Ve(T)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,oe,n.DEPTH24_STENCIL8,T.width,T.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,T.width,T.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,I)}else{const oe=!0===T.isWebGLMultipleRenderTargets?T.texture:[T.texture];for(let fe=0;fe<oe.length;fe++){const Ee=oe[fe],O=s.convert(Ee.format,Ee.colorSpace),ae=s.convert(Ee.type),Q=C(Ee.internalFormat,O,ae,Ee.colorSpace),Se=qe(T);K&&!1===Ve(T)?n.renderbufferStorageMultisample(n.RENDERBUFFER,Se,Q,T.width,T.height):Ve(T)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Se,Q,T.width,T.height):n.renderbufferStorage(n.RENDERBUFFER,Q,T.width,T.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function te(I){const T=i.get(I),K=!0===I.isWebGLCubeRenderTarget;if(I.depthTexture&&!T.__autoAllocateDepthBuffer){if(K)throw new Error("target.depthTexture not supported in Cube render targets");!function le(I,T){if(T&&T.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,I),!T.depthTexture||!T.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(T.depthTexture).__webglTexture||T.depthTexture.image.width!==T.width||T.depthTexture.image.height!==T.height)&&(T.depthTexture.image.width=T.width,T.depthTexture.image.height=T.height,T.depthTexture.needsUpdate=!0),ee(T.depthTexture,0);const oe=i.get(T.depthTexture).__webglTexture,fe=qe(T);if(T.depthTexture.format===Na)Ve(T)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,oe,0,fe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,oe,0);else{if(T.depthTexture.format!==Lc)throw new Error("Unknown depthTexture format");Ve(T)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,oe,0,fe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,oe,0)}}(T.__webglFramebuffer,I)}else if(K){T.__webglDepthbuffer=[];for(let oe=0;oe<6;oe++)t.bindFramebuffer(n.FRAMEBUFFER,T.__webglFramebuffer[oe]),T.__webglDepthbuffer[oe]=n.createRenderbuffer(),De(T.__webglDepthbuffer[oe],I,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,T.__webglFramebuffer),T.__webglDepthbuffer=n.createRenderbuffer(),De(T.__webglDepthbuffer,I,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function qe(I){return Math.min(d,I.samples)}function Ve(I){const T=i.get(I);return a&&I.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==T.__useRenderToTexture}function St(I,T){const K=I.colorSpace,oe=I.format,fe=I.type;return!0===I.isCompressedTexture||I.format===sw||K!==xs&&K!==Ua&&(K===ot?!1===a?!0===e.has("EXT_sRGB")&&oe===Tr?(I.format=sw,I.minFilter=xn,I.generateMipmaps=!1):T=DL.sRGBToLinear(T):(oe!==Tr||fe!==La)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",K)),T}this.allocateTextureUnit=function V(){const I=k;return I>=l&&console.warn("THREE.WebGLTextures: Trying to use "+I+" texture units while this GPU supports only "+l),k+=1,I},this.resetTextureUnits=function z(){k=0},this.setTexture2D=ee,this.setTexture2DArray=function be(I,T){const K=i.get(I);I.version>0&&K.__version!==I.version?Ne(K,I,T):t.bindTexture(n.TEXTURE_2D_ARRAY,K.__webglTexture,n.TEXTURE0+T)},this.setTexture3D=function ge(I,T){const K=i.get(I);I.version>0&&K.__version!==I.version?Ne(K,I,T):t.bindTexture(n.TEXTURE_3D,K.__webglTexture,n.TEXTURE0+T)},this.setTextureCube=function Y(I,T){const K=i.get(I);I.version>0&&K.__version!==I.version?function Ie(I,T,K){if(6!==T.image.length)return;const oe=P(I,T),fe=T.source;t.bindTexture(n.TEXTURE_CUBE_MAP,I.__webglTexture,n.TEXTURE0+K);const Ee=i.get(fe);if(fe.version!==Ee.__version||!0===oe){t.activeTexture(n.TEXTURE0+K),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,T.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,T.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,T.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const O=T.isCompressedTexture||T.image[0].isCompressedTexture,ae=T.image[0]&&T.image[0].isDataTexture,Q=[];for(let ne=0;ne<6;ne++)Q[ne]=O||ae?ae?T.image[ne].image:T.image[ne]:v(T.image[ne],!1,!0,c),Q[ne]=St(T,Q[ne]);const Se=Q[0],Be=b(Se)||a,$e=s.convert(T.format,T.colorSpace),Le=s.convert(T.type),Ge=C(T.internalFormat,$e,Le,T.colorSpace),ft=a&&!0!==T.isVideoTexture,Ct=void 0===Ee.__version||!0===oe;let F,Pn=w(T,Se,Be);if(ye(n.TEXTURE_CUBE_MAP,T,Be),O){ft&&Ct&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Pn,Ge,Se.width,Se.height);for(let ne=0;ne<6;ne++){F=Q[ne].mipmaps;for(let me=0;me<F.length;me++){const ke=F[me];T.format!==Tr?null!==$e?ft?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,me,0,0,ke.width,ke.height,$e,ke.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,me,Ge,ke.width,ke.height,0,ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ft?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,me,0,0,ke.width,ke.height,$e,Le,ke.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,me,Ge,ke.width,ke.height,0,$e,Le,ke.data)}}}else{F=T.mipmaps,ft&&Ct&&(F.length>0&&Pn++,t.texStorage2D(n.TEXTURE_CUBE_MAP,Pn,Ge,Q[0].width,Q[0].height));for(let ne=0;ne<6;ne++)if(ae){ft?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,0,0,0,Q[ne].width,Q[ne].height,$e,Le,Q[ne].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,0,Ge,Q[ne].width,Q[ne].height,0,$e,Le,Q[ne].data);for(let me=0;me<F.length;me++){const Xe=F[me].image[ne].image;ft?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,me+1,0,0,Xe.width,Xe.height,$e,Le,Xe.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,me+1,Ge,Xe.width,Xe.height,0,$e,Le,Xe.data)}}else{ft?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,0,0,0,$e,Le,Q[ne]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,0,Ge,$e,Le,Q[ne]);for(let me=0;me<F.length;me++){const ke=F[me];ft?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,me+1,0,0,$e,Le,ke.image[ne]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,me+1,Ge,$e,Le,ke.image[ne])}}}M(T,Be)&&S(n.TEXTURE_CUBE_MAP),Ee.__version=fe.version,T.onUpdate&&T.onUpdate(T)}I.__version=T.version}(K,I,T):t.bindTexture(n.TEXTURE_CUBE_MAP,K.__webglTexture,n.TEXTURE0+T)},this.rebindTextures=function de(I,T,K){const oe=i.get(I);void 0!==T&&he(oe.__webglFramebuffer,I,I.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D),void 0!==K&&te(I)},this.setupRenderTarget=function Ae(I){const T=I.texture,K=i.get(I),oe=i.get(T);I.addEventListener("dispose",U),!0!==I.isWebGLMultipleRenderTargets&&(void 0===oe.__webglTexture&&(oe.__webglTexture=n.createTexture()),oe.__version=T.version,o.memory.textures++);const fe=!0===I.isWebGLCubeRenderTarget,Ee=!0===I.isWebGLMultipleRenderTargets,O=b(I)||a;if(fe){K.__webglFramebuffer=[];for(let ae=0;ae<6;ae++)K.__webglFramebuffer[ae]=n.createFramebuffer()}else{if(K.__webglFramebuffer=n.createFramebuffer(),Ee)if(r.drawBuffers){const ae=I.texture;for(let Q=0,Se=ae.length;Q<Se;Q++){const Be=i.get(ae[Q]);void 0===Be.__webglTexture&&(Be.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&I.samples>0&&!1===Ve(I)){const ae=Ee?T:[T];K.__webglMultisampledFramebuffer=n.createFramebuffer(),K.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,K.__webglMultisampledFramebuffer);for(let Q=0;Q<ae.length;Q++){const Se=ae[Q];K.__webglColorRenderbuffer[Q]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,K.__webglColorRenderbuffer[Q]);const Be=s.convert(Se.format,Se.colorSpace),$e=s.convert(Se.type),Le=C(Se.internalFormat,Be,$e,Se.colorSpace,!0===I.isXRRenderTarget),Ge=qe(I);n.renderbufferStorageMultisample(n.RENDERBUFFER,Ge,Le,I.width,I.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Q,n.RENDERBUFFER,K.__webglColorRenderbuffer[Q])}n.bindRenderbuffer(n.RENDERBUFFER,null),I.depthBuffer&&(K.__webglDepthRenderbuffer=n.createRenderbuffer(),De(K.__webglDepthRenderbuffer,I,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(fe){t.bindTexture(n.TEXTURE_CUBE_MAP,oe.__webglTexture),ye(n.TEXTURE_CUBE_MAP,T,O);for(let ae=0;ae<6;ae++)he(K.__webglFramebuffer[ae],I,T,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ae);M(T,O)&&S(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Ee){const ae=I.texture;for(let Q=0,Se=ae.length;Q<Se;Q++){const Be=ae[Q],$e=i.get(Be);t.bindTexture(n.TEXTURE_2D,$e.__webglTexture),ye(n.TEXTURE_2D,Be,O),he(K.__webglFramebuffer,I,Be,n.COLOR_ATTACHMENT0+Q,n.TEXTURE_2D),M(Be,O)&&S(n.TEXTURE_2D)}t.unbindTexture()}else{let ae=n.TEXTURE_2D;(I.isWebGL3DRenderTarget||I.isWebGLArrayRenderTarget)&&(a?ae=I.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(ae,oe.__webglTexture),ye(ae,T,O),he(K.__webglFramebuffer,I,T,n.COLOR_ATTACHMENT0,ae),M(T,O)&&S(ae),t.unbindTexture()}I.depthBuffer&&te(I)},this.updateRenderTargetMipmap=function xe(I){const T=b(I)||a,K=!0===I.isWebGLMultipleRenderTargets?I.texture:[I.texture];for(let oe=0,fe=K.length;oe<fe;oe++){const Ee=K[oe];if(M(Ee,T)){const O=I.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,ae=i.get(Ee).__webglTexture;t.bindTexture(O,ae),S(O),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function je(I){if(a&&I.samples>0&&!1===Ve(I)){const T=I.isWebGLMultipleRenderTargets?I.texture:[I.texture],K=I.width,oe=I.height;let fe=n.COLOR_BUFFER_BIT;const Ee=[],O=I.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ae=i.get(I),Q=!0===I.isWebGLMultipleRenderTargets;if(Q)for(let Se=0;Se<T.length;Se++)t.bindFramebuffer(n.FRAMEBUFFER,ae.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Se,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,ae.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Se,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,ae.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ae.__webglFramebuffer);for(let Se=0;Se<T.length;Se++){Ee.push(n.COLOR_ATTACHMENT0+Se),I.depthBuffer&&Ee.push(O);const Be=void 0!==ae.__ignoreDepthValues&&ae.__ignoreDepthValues;if(!1===Be&&(I.depthBuffer&&(fe|=n.DEPTH_BUFFER_BIT),I.stencilBuffer&&(fe|=n.STENCIL_BUFFER_BIT)),Q&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ae.__webglColorRenderbuffer[Se]),!0===Be&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[O]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[O])),Q){const $e=i.get(T[Se]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,$e,0)}n.blitFramebuffer(0,0,K,oe,0,0,K,oe,fe,n.NEAREST),f&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ee)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Q)for(let Se=0;Se<T.length;Se++){t.bindFramebuffer(n.FRAMEBUFFER,ae.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Se,n.RENDERBUFFER,ae.__webglColorRenderbuffer[Se]);const Be=i.get(T[Se]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,ae.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Se,n.TEXTURE_2D,Be,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ae.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=te,this.setupFrameBufferTexture=he,this.useMultisampledRTT=Ve}function Wre(n,e,t){const i=t.isWebGL2;return{convert:function r(s,o=Ua){let a;if(s===La)return n.UNSIGNED_BYTE;if(s===ZJ)return n.UNSIGNED_SHORT_4_4_4_4;if(s===QJ)return n.UNSIGNED_SHORT_5_5_5_1;if(s===qJ)return n.BYTE;if(s===YJ)return n.SHORT;if(s===YO)return n.UNSIGNED_SHORT;if(s===KJ)return n.INT;if(s===ka)return n.UNSIGNED_INT;if(s===jo)return n.FLOAT;if(s===nh)return i?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(s===JJ)return n.ALPHA;if(s===Tr)return n.RGBA;if(s===eee)return n.LUMINANCE;if(s===tee)return n.LUMINANCE_ALPHA;if(s===Na)return n.DEPTH_COMPONENT;if(s===Lc)return n.DEPTH_STENCIL;if(s===sw)return a=e.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(s===nee)return n.RED;if(s===iee)return n.RED_INTEGER;if(s===ree)return n.RG;if(s===see)return n.RG_INTEGER;if(s===oee)return n.RGBA_INTEGER;if(s===Kx||s===Zx||s===Qx||s===Jx)if(o===ot){if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(s===Kx)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Zx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Qx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Jx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=e.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(s===Kx)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Zx)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Qx)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Jx)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(s===KO||s===ZO||s===QO||s===JO){if(a=e.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(s===KO)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===ZO)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===QO)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===JO)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(s===aee)return a=e.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===eL||s===tL){if(a=e.get("WEBGL_compressed_texture_etc"),null===a)return null;if(s===eL)return o===ot?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===tL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(s===nL||s===iL||s===rL||s===sL||s===oL||s===aL||s===lL||s===cL||s===uL||s===dL||s===hL||s===fL||s===pL||s===mL){if(a=e.get("WEBGL_compressed_texture_astc"),null===a)return null;if(s===nL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===iL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===rL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===sL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===oL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===aL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===lL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===cL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===uL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===dL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===hL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===fL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===pL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===mL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(s===ew){if(a=e.get("EXT_texture_compression_bptc"),null===a)return null;if(s===ew)return o===ot?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(s===lee||s===gL||s===_L||s===vL){if(a=e.get("EXT_texture_compression_rgtc"),null===a)return null;if(s===ew)return a.COMPRESSED_RED_RGTC1_EXT;if(s===gL)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===_L)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===vL)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return s===Oc?i?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0!==n[s]?n[s]:null}}}class jre extends Jn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Zo extends Zn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const $re={type:"move"};class Lw{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Zo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Zo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new A,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new A),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Zo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new A,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new A),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(c&&e.hand){o=!0;for(const g of e.hand.values()){const _=t.getJointPose(g,i),m=this._getHandJoint(c,g);null!==_&&(m.matrix.fromArray(_.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.matrixWorldNeedsUpdate=!0,m.jointRadius=_.radius),m.visible=null!==_}const h=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),f=.02,p=.005;c.inputState.pinching&&h>f+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=f-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==l&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),null!==s&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));null!==a&&(r=t.getPose(e.targetRaySpace,i),null===r&&null!==s&&(r=s),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent($re)))}return null!==a&&(a.visible=null!==r),null!==l&&(l.visible=null!==s),null!==c&&(c.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const i=new Zo;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class Xre extends Xr{constructor(e,t,i,r,s,o,a,l,c,u){if((u=void 0!==u?u:Na)!==Na&&u!==Lc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&u===Na&&(i=ka),void 0===i&&u===Lc&&(i=Oc),super(null,r,s,o,a,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:In,this.minFilter=void 0!==l?l:In,this.flipY=!1,this.generateMipmaps=!1}}class qre extends za{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,d=null,h=null,f=null,p=null;const g=t.getContextAttributes();let _=null,m=null;const y=[],v=[],b=new Set,x=new Map,M=new Jn;M.layers.enable(1),M.viewport=new qt;const S=new Jn;S.layers.enable(2),S.viewport=new qt;const C=[M,S],w=new jre;w.layers.enable(1),w.layers.enable(2);let E=null,L=null;function U(Y){const Z=v.indexOf(Y.inputSource);if(-1===Z)return;const _e=y[Z];void 0!==_e&&(_e.update(Y.inputSource,Y.frame,c||o),_e.dispatchEvent({type:Y.type,data:Y.inputSource}))}function R(){r.removeEventListener("select",U),r.removeEventListener("selectstart",U),r.removeEventListener("selectend",U),r.removeEventListener("squeeze",U),r.removeEventListener("squeezestart",U),r.removeEventListener("squeezeend",U),r.removeEventListener("end",R),r.removeEventListener("inputsourceschange",N);for(let Y=0;Y<y.length;Y++){const Z=v[Y];null!==Z&&(v[Y]=null,y[Y].disconnect(Z))}E=null,L=null,e.setRenderTarget(_),f=null,h=null,d=null,r=null,m=null,ge.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function N(Y){for(let Z=0;Z<Y.removed.length;Z++){const _e=Y.removed[Z],ye=v.indexOf(_e);ye>=0&&(v[ye]=null,y[ye].disconnect(_e))}for(let Z=0;Z<Y.added.length;Z++){const _e=Y.added[Z];let ye=v.indexOf(_e);if(-1===ye){for(let Ne=0;Ne<y.length;Ne++){if(Ne>=v.length){v.push(_e),ye=Ne;break}if(null===v[Ne]){v[Ne]=_e,ye=Ne;break}}if(-1===ye)break}const P=y[ye];P&&P.connect(_e)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Y){let Z=y[Y];return void 0===Z&&(Z=new Lw,y[Y]=Z),Z.getTargetRaySpace()},this.getControllerGrip=function(Y){let Z=y[Y];return void 0===Z&&(Z=new Lw,y[Y]=Z),Z.getGripSpace()},this.getHand=function(Y){let Z=y[Y];return void 0===Z&&(Z=new Lw,y[Y]=Z),Z.getHandSpace()},this.setFramebufferScaleFactor=function(Y){s=Y,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Y){a=Y,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(Y){c=Y},this.getBaseLayer=function(){return null!==h?h:f},this.getBinding=function(){return d},this.getFrame=function(){return p},this.getSession=function(){return r},this.setSession=function(){var Y=tO(function*(Z){if(r=Z,null!==r){if(_=e.getRenderTarget(),r.addEventListener("select",U),r.addEventListener("selectstart",U),r.addEventListener("selectend",U),r.addEventListener("squeeze",U),r.addEventListener("squeezestart",U),r.addEventListener("squeezeend",U),r.addEventListener("end",R),r.addEventListener("inputsourceschange",N),!0!==g.xrCompatible&&(yield t.makeXRCompatible()),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2)f=new XRWebGLLayer(r,t,{antialias:void 0!==r.renderState.layers||g.antialias,alpha:!0,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s}),r.updateRenderState({baseLayer:f}),m=new Va(f.framebufferWidth,f.framebufferHeight,{format:Tr,type:La,colorSpace:e.outputColorSpace,stencilBuffer:g.stencil});else{let _e=null,ye=null,P=null;g.depth&&(P=g.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,_e=g.stencil?Lc:Na,ye=g.stencil?Oc:ka);const Ne={colorFormat:t.RGBA8,depthFormat:P,scaleFactor:s};d=new XRWebGLBinding(r,t),h=d.createProjectionLayer(Ne),r.updateRenderState({layers:[h]}),m=new Va(h.textureWidth,h.textureHeight,{format:Tr,type:La,depthTexture:new Xre(h.textureWidth,h.textureHeight,ye,void 0,void 0,void 0,void 0,void 0,void 0,_e),stencilBuffer:g.stencil,colorSpace:e.outputColorSpace,samples:g.antialias?4:0}),e.properties.get(m).__ignoreDepthValues=h.ignoreDepthValues}m.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=yield r.requestReferenceSpace(a),ge.setContext(r),ge.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}});return function(Z){return Y.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode};const B=new A,k=new A;function V(Y,Z){null===Z?Y.matrixWorld.copy(Y.matrix):Y.matrixWorld.multiplyMatrices(Z.matrixWorld,Y.matrix),Y.matrixWorldInverse.copy(Y.matrixWorld).invert()}this.updateCamera=function(Y){if(null===r)return;w.near=S.near=M.near=Y.near,w.far=S.far=M.far=Y.far,(E!==w.near||L!==w.far)&&(r.updateRenderState({depthNear:w.near,depthFar:w.far}),E=w.near,L=w.far);const Z=Y.parent,_e=w.cameras;V(w,Z);for(let ye=0;ye<_e.length;ye++)V(_e[ye],Z);2===_e.length?function z(Y,Z,_e){B.setFromMatrixPosition(Z.matrixWorld),k.setFromMatrixPosition(_e.matrixWorld);const ye=B.distanceTo(k),P=Z.projectionMatrix.elements,Ne=_e.projectionMatrix.elements,Ie=P[14]/(P[10]-1),he=P[14]/(P[10]+1),De=(P[9]+1)/P[5],le=(P[9]-1)/P[5],te=(P[8]-1)/P[0],de=(Ne[8]+1)/Ne[0],Ae=Ie*te,xe=Ie*de,je=ye/(-te+de),qe=je*-te;Z.matrixWorld.decompose(Y.position,Y.quaternion,Y.scale),Y.translateX(qe),Y.translateZ(je),Y.matrixWorld.compose(Y.position,Y.quaternion,Y.scale),Y.matrixWorldInverse.copy(Y.matrixWorld).invert();const Ve=Ie+je,ht=he+je;Y.projectionMatrix.makePerspective(Ae-qe,xe+(ye-qe),De*he/ht*Ve,le*he/ht*Ve,Ve,ht),Y.projectionMatrixInverse.copy(Y.projectionMatrix).invert()}(w,M,S):w.projectionMatrix.copy(M.projectionMatrix),function X(Y,Z,_e){null===_e?Y.matrix.copy(Z.matrixWorld):(Y.matrix.copy(_e.matrixWorld),Y.matrix.invert(),Y.matrix.multiply(Z.matrixWorld)),Y.matrix.decompose(Y.position,Y.quaternion,Y.scale),Y.updateMatrixWorld(!0);const ye=Y.children;for(let P=0,Ne=ye.length;P<Ne;P++)ye[P].updateMatrixWorld(!0);Y.projectionMatrix.copy(Z.projectionMatrix),Y.projectionMatrixInverse.copy(Z.projectionMatrixInverse),Y.isPerspectiveCamera&&(Y.fov=2*Bc*Math.atan(1/Y.projectionMatrix.elements[5]),Y.zoom=1)}(Y,w,Z)},this.getCamera=function(){return w},this.getFoveation=function(){if(null!==h||null!==f)return l},this.setFoveation=function(Y){l=Y,null!==h&&(h.fixedFoveation=Y),null!==f&&void 0!==f.fixedFoveation&&(f.fixedFoveation=Y)},this.getPlanes=function(){return b};let ee=null;const ge=new YL;ge.setAnimationLoop(function be(Y,Z){if(u=Z.getViewerPose(c||o),p=Z,null!==u){const _e=u.views;null!==f&&(e.setRenderTargetFramebuffer(m,f.framebuffer),e.setRenderTarget(m));let ye=!1;_e.length!==w.cameras.length&&(w.cameras.length=0,ye=!0);for(let P=0;P<_e.length;P++){const Ne=_e[P];let Ie=null;if(null!==f)Ie=f.getViewport(Ne);else{const De=d.getViewSubImage(h,Ne);Ie=De.viewport,0===P&&(e.setRenderTargetTextures(m,De.colorTexture,h.ignoreDepthValues?void 0:De.depthStencilTexture),e.setRenderTarget(m))}let he=C[P];void 0===he&&(he=new Jn,he.layers.enable(P),he.viewport=new qt,C[P]=he),he.matrix.fromArray(Ne.transform.matrix),he.matrix.decompose(he.position,he.quaternion,he.scale),he.projectionMatrix.fromArray(Ne.projectionMatrix),he.projectionMatrixInverse.copy(he.projectionMatrix).invert(),he.viewport.set(Ie.x,Ie.y,Ie.width,Ie.height),0===P&&(w.matrix.copy(he.matrix),w.matrix.decompose(w.position,w.quaternion,w.scale)),!0===ye&&w.cameras.push(he)}}for(let _e=0;_e<y.length;_e++){const ye=v[_e],P=y[_e];null!==ye&&void 0!==P&&P.update(ye,Z,c||o)}if(ee&&ee(Y,Z),Z.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:Z.detectedPlanes});let _e=null;for(const ye of b)Z.detectedPlanes.has(ye)||(null===_e&&(_e=[]),_e.push(ye));if(null!==_e)for(const ye of _e)b.delete(ye),x.delete(ye),i.dispatchEvent({type:"planeremoved",data:ye});for(const ye of Z.detectedPlanes)if(b.has(ye)){const P=x.get(ye);ye.lastChangedTime>P&&(x.set(ye,ye.lastChangedTime),i.dispatchEvent({type:"planechanged",data:ye}))}else b.add(ye),x.set(ye,Z.lastChangedTime),i.dispatchEvent({type:"planeadded",data:ye})}p=null}),this.setAnimationLoop=function(Y){ee=Y},this.dispose=function(){}}}function Yre(n,e){function t(_,m){!0===_.matrixAutoUpdate&&_.updateMatrix(),m.value.copy(_.matrix)}function s(_,m){_.opacity.value=m.opacity,m.color&&_.diffuse.value.copy(m.color),m.emissive&&_.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(_.map.value=m.map,t(m.map,_.mapTransform)),m.alphaMap&&(_.alphaMap.value=m.alphaMap,t(m.alphaMap,_.alphaMapTransform)),m.bumpMap&&(_.bumpMap.value=m.bumpMap,t(m.bumpMap,_.bumpMapTransform),_.bumpScale.value=m.bumpScale,m.side===$i&&(_.bumpScale.value*=-1)),m.normalMap&&(_.normalMap.value=m.normalMap,t(m.normalMap,_.normalMapTransform),_.normalScale.value.copy(m.normalScale),m.side===$i&&_.normalScale.value.negate()),m.displacementMap&&(_.displacementMap.value=m.displacementMap,t(m.displacementMap,_.displacementMapTransform),_.displacementScale.value=m.displacementScale,_.displacementBias.value=m.displacementBias),m.emissiveMap&&(_.emissiveMap.value=m.emissiveMap,t(m.emissiveMap,_.emissiveMapTransform)),m.specularMap&&(_.specularMap.value=m.specularMap,t(m.specularMap,_.specularMapTransform)),m.alphaTest>0&&(_.alphaTest.value=m.alphaTest);const y=e.get(m).envMap;if(y&&(_.envMap.value=y,_.flipEnvMap.value=y.isCubeTexture&&!1===y.isRenderTargetTexture?-1:1,_.reflectivity.value=m.reflectivity,_.ior.value=m.ior,_.refractionRatio.value=m.refractionRatio),m.lightMap){_.lightMap.value=m.lightMap;const v=!0===n.useLegacyLights?Math.PI:1;_.lightMapIntensity.value=m.lightMapIntensity*v,t(m.lightMap,_.lightMapTransform)}m.aoMap&&(_.aoMap.value=m.aoMap,_.aoMapIntensity.value=m.aoMapIntensity,t(m.aoMap,_.aoMapTransform))}return{refreshFogUniforms:function i(_,m){m.color.getRGB(_.fogColor.value,qL(n)),m.isFog?(_.fogNear.value=m.near,_.fogFar.value=m.far):m.isFogExp2&&(_.fogDensity.value=m.density)},refreshMaterialUniforms:function r(_,m,y,v,b){m.isMeshBasicMaterial||m.isMeshLambertMaterial?s(_,m):m.isMeshToonMaterial?(s(_,m),function d(_,m){m.gradientMap&&(_.gradientMap.value=m.gradientMap)}(_,m)):m.isMeshPhongMaterial?(s(_,m),function u(_,m){_.specular.value.copy(m.specular),_.shininess.value=Math.max(m.shininess,1e-4)}(_,m)):m.isMeshStandardMaterial?(s(_,m),function h(_,m){_.metalness.value=m.metalness,m.metalnessMap&&(_.metalnessMap.value=m.metalnessMap,t(m.metalnessMap,_.metalnessMapTransform)),_.roughness.value=m.roughness,m.roughnessMap&&(_.roughnessMap.value=m.roughnessMap,t(m.roughnessMap,_.roughnessMapTransform)),e.get(m).envMap&&(_.envMapIntensity.value=m.envMapIntensity)}(_,m),m.isMeshPhysicalMaterial&&function f(_,m,y){_.ior.value=m.ior,m.sheen>0&&(_.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),_.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(_.sheenColorMap.value=m.sheenColorMap,t(m.sheenColorMap,_.sheenColorMapTransform)),m.sheenRoughnessMap&&(_.sheenRoughnessMap.value=m.sheenRoughnessMap,t(m.sheenRoughnessMap,_.sheenRoughnessMapTransform))),m.clearcoat>0&&(_.clearcoat.value=m.clearcoat,_.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(_.clearcoatMap.value=m.clearcoatMap,t(m.clearcoatMap,_.clearcoatMapTransform)),m.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap,t(m.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),m.clearcoatNormalMap&&(_.clearcoatNormalMap.value=m.clearcoatNormalMap,t(m.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),m.side===$i&&_.clearcoatNormalScale.value.negate())),m.iridescence>0&&(_.iridescence.value=m.iridescence,_.iridescenceIOR.value=m.iridescenceIOR,_.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(_.iridescenceMap.value=m.iridescenceMap,t(m.iridescenceMap,_.iridescenceMapTransform)),m.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=m.iridescenceThicknessMap,t(m.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),m.transmission>0&&(_.transmission.value=m.transmission,_.transmissionSamplerMap.value=y.texture,_.transmissionSamplerSize.value.set(y.width,y.height),m.transmissionMap&&(_.transmissionMap.value=m.transmissionMap,t(m.transmissionMap,_.transmissionMapTransform)),_.thickness.value=m.thickness,m.thicknessMap&&(_.thicknessMap.value=m.thicknessMap,t(m.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=m.attenuationDistance,_.attenuationColor.value.copy(m.attenuationColor)),_.specularIntensity.value=m.specularIntensity,_.specularColor.value.copy(m.specularColor),m.specularColorMap&&(_.specularColorMap.value=m.specularColorMap,t(m.specularColorMap,_.specularColorMapTransform)),m.specularIntensityMap&&(_.specularIntensityMap.value=m.specularIntensityMap,t(m.specularIntensityMap,_.specularIntensityMapTransform))}(_,m,b)):m.isMeshMatcapMaterial?(s(_,m),function p(_,m){m.matcap&&(_.matcap.value=m.matcap)}(_,m)):m.isMeshDepthMaterial?s(_,m):m.isMeshDistanceMaterial?(s(_,m),function g(_,m){const y=e.get(m).light;_.referencePosition.value.setFromMatrixPosition(y.matrixWorld),_.nearDistance.value=y.shadow.camera.near,_.farDistance.value=y.shadow.camera.far}(_,m)):m.isMeshNormalMaterial?s(_,m):m.isLineBasicMaterial?(function o(_,m){_.diffuse.value.copy(m.color),_.opacity.value=m.opacity,m.map&&(_.map.value=m.map,t(m.map,_.mapTransform))}(_,m),m.isLineDashedMaterial&&function a(_,m){_.dashSize.value=m.dashSize,_.totalSize.value=m.dashSize+m.gapSize,_.scale.value=m.scale}(_,m)):m.isPointsMaterial?function l(_,m,y,v){_.diffuse.value.copy(m.color),_.opacity.value=m.opacity,_.size.value=m.size*y,_.scale.value=.5*v,m.map&&(_.map.value=m.map,t(m.map,_.uvTransform)),m.alphaMap&&(_.alphaMap.value=m.alphaMap),m.alphaTest>0&&(_.alphaTest.value=m.alphaTest)}(_,m,y,v):m.isSpriteMaterial?function c(_,m){_.diffuse.value.copy(m.color),_.opacity.value=m.opacity,_.rotation.value=m.rotation,m.map&&(_.map.value=m.map,t(m.map,_.mapTransform)),m.alphaMap&&(_.alphaMap.value=m.alphaMap),m.alphaTest>0&&(_.alphaTest.value=m.alphaTest)}(_,m):m.isShadowMaterial?(_.color.value.copy(m.color),_.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}}}function Kre(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function f(y,v,b){const x=y.value;if(void 0===b[v]){if("number"==typeof x)b[v]=x;else{const M=Array.isArray(x)?x:[x],S=[];for(let C=0;C<M.length;C++)S.push(M[C].clone());b[v]=S}return!0}if("number"==typeof x){if(b[v]!==x)return b[v]=x,!0}else{const M=Array.isArray(b[v])?b[v]:[b[v]],S=Array.isArray(x)?x:[x];for(let C=0;C<M.length;C++){const w=M[C];if(!1===w.equals(S[C]))return w.copy(S[C]),!0}}return!1}function g(y){const v={boundary:0,storage:0};return"number"==typeof y?(v.boundary=4,v.storage=4):y.isVector2?(v.boundary=8,v.storage=8):y.isVector3||y.isColor?(v.boundary=16,v.storage=12):y.isVector4?(v.boundary=16,v.storage=16):y.isMatrix3?(v.boundary=48,v.storage=48):y.isMatrix4?(v.boundary=64,v.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),v}function _(y){const v=y.target;v.removeEventListener("dispose",_);const b=o.indexOf(v.__bindingPointIndex);o.splice(b,1),n.deleteBuffer(r[v.id]),delete r[v.id],delete s[v.id]}return{bind:function l(y,v){i.uniformBlockBinding(y,v.program)},update:function c(y,v){let b=r[y.id];void 0===b&&(function p(y){const v=y.uniforms;let b=0;let M=0;for(let S=0,C=v.length;S<C;S++){const w=v[S],E={boundary:0,storage:0},L=Array.isArray(w.value)?w.value:[w.value];for(let U=0,R=L.length;U<R;U++){const B=g(L[U]);E.boundary+=B.boundary,E.storage+=B.storage}w.__data=new Float32Array(E.storage/Float32Array.BYTES_PER_ELEMENT),w.__offset=b,S>0&&(M=b%16,0!==M&&16-M-E.boundary<0&&(b+=16-M,w.__offset=b)),b+=E.storage}M=b%16,M>0&&(b+=16-M),y.__size=b,y.__cache={}}(y),b=function u(y){const v=function d(){for(let y=0;y<a;y++)if(-1===o.indexOf(y))return o.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();y.__bindingPointIndex=v;const b=n.createBuffer(),x=y.__size,M=y.usage;return n.bindBuffer(n.UNIFORM_BUFFER,b),n.bufferData(n.UNIFORM_BUFFER,x,M),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,v,b),b}(y),r[y.id]=b,y.addEventListener("dispose",_)),i.updateUBOMapping(y,v.program);const M=e.render.frame;s[y.id]!==M&&(function h(y){const b=y.uniforms,x=y.__cache;n.bindBuffer(n.UNIFORM_BUFFER,r[y.id]);for(let M=0,S=b.length;M<S;M++){const C=b[M];if(!0===f(C,M,x)){const w=C.__offset,E=Array.isArray(C.value)?C.value:[C.value];let L=0;for(let U=0;U<E.length;U++){const R=E[U],N=g(R);"number"==typeof R?(C.__data[0]=R,n.bufferSubData(n.UNIFORM_BUFFER,w+L,C.__data)):R.isMatrix3?(C.__data[0]=R.elements[0],C.__data[1]=R.elements[1],C.__data[2]=R.elements[2],C.__data[3]=R.elements[0],C.__data[4]=R.elements[3],C.__data[5]=R.elements[4],C.__data[6]=R.elements[5],C.__data[7]=R.elements[0],C.__data[8]=R.elements[6],C.__data[9]=R.elements[7],C.__data[10]=R.elements[8],C.__data[11]=R.elements[0]):(R.toArray(C.__data,L),L+=N.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,w,C.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}(y),s[y.id]=M)},dispose:function m(){for(const y in r)n.deleteBuffer(r[y]);o=[],r={},s={}}}}function Zre(){const n=sh("canvas");return n.style.display="block",n}class Ek{constructor(e={}){const{canvas:t=Zre(),context:i=null,depth:r=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1}=e;let h;this.isWebGLRenderer=!0,h=null!==i?i.getContextAttributes().alpha:o;let f=null,p=null;const g=[],_=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=ot,this.useLegacyLights=!0,this.toneMapping=co,this.toneMappingExposure=1;const m=this;let y=!1,v=0,b=0,x=null,M=-1,S=null;const C=new qt,w=new qt;let E=null,L=t.width,U=t.height,R=1,N=null,B=null;const k=new qt(0,0,L,U),z=new qt(0,0,L,U);let V=!1;const X=new Aw;let ee=!1,be=!1,ge=null;const Y=new at,Z=new A,_e={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ye(){return null===x?R:1}let Ie,he,De,le,te,de,Ae,xe,je,qe,Ve,ht,St,I,T,K,oe,fe,Ee,O,ae,Q,Se,Be,P=i;function Ne(D,q){for(let ie=0;ie<D.length;ie++){const re=t.getContext(D[ie],q);if(null!==re)return re}return null}try{const D={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r152"),t.addEventListener("webglcontextlost",Ge,!1),t.addEventListener("webglcontextrestored",ft,!1),t.addEventListener("webglcontextcreationerror",Ct,!1),null===P){const q=["webgl2","webgl","experimental-webgl"];if(!0===m.isWebGL1Renderer&&q.shift(),P=Ne(q,D),null===P)throw Ne(q)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===P.getShaderPrecisionFormat&&(P.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(D){throw console.error("THREE.WebGLRenderer: "+D.message),D}function $e(){Ie=new uie(P),he=new rie(P,Ie,e),Ie.init(he),Q=new Wre(P,Ie,he),De=new Vre(P,Ie,he),le=new fie(P),te=new Ire,de=new Gre(P,Ie,De,te,he,Q,le),Ae=new oie(m),xe=new cie(m),je=new ste(P,he),Se=new nie(P,Ie,je,he),qe=new die(P,je,le,Se),Ve=new _ie(P,qe,je,le),Ee=new gie(P,he,de),K=new sie(te),ht=new Dre(m,Ae,xe,Ie,he,Se,K),St=new Yre(m,te),I=new Pre,T=new Bre(Ie,he),fe=new tie(m,Ae,xe,De,Ve,h,l),oe=new Hre(m,Ve,he),Be=new Kre(P,le,he,De),O=new iie(P,Ie,le,he),ae=new hie(P,Ie,le,he),le.programs=ht.programs,m.capabilities=he,m.extensions=Ie,m.properties=te,m.renderLists=I,m.shadowMap=oe,m.state=De,m.info=le}$e();const Le=new qre(m,P);function Ge(D){D.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function ft(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const D=le.autoReset,q=oe.enabled,ie=oe.autoUpdate,j=oe.needsUpdate,re=oe.type;$e(),le.autoReset=D,oe.enabled=q,oe.autoUpdate=ie,oe.needsUpdate=j,oe.type=re}function Ct(D){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",D.statusMessage)}function Pn(D){const q=D.target;q.removeEventListener("dispose",Pn),function F(D){(function ne(D){const q=te.get(D).programs;void 0!==q&&(q.forEach(function(ie){ht.releaseProgram(ie)}),D.isShaderMaterial&&ht.releaseShaderCache(D))})(D),te.remove(D)}(q)}this.xr=Le,this.getContext=function(){return P},this.getContextAttributes=function(){return P.getContextAttributes()},this.forceContextLoss=function(){const D=Ie.get("WEBGL_lose_context");D&&D.loseContext()},this.forceContextRestore=function(){const D=Ie.get("WEBGL_lose_context");D&&D.restoreContext()},this.getPixelRatio=function(){return R},this.setPixelRatio=function(D){void 0!==D&&(R=D,this.setSize(L,U,!1))},this.getSize=function(D){return D.set(L,U)},this.setSize=function(D,q,ie=!0){Le.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(L=D,U=q,t.width=Math.floor(D*R),t.height=Math.floor(q*R),!0===ie&&(t.style.width=D+"px",t.style.height=q+"px"),this.setViewport(0,0,D,q))},this.getDrawingBufferSize=function(D){return D.set(L*R,U*R).floor()},this.setDrawingBufferSize=function(D,q,ie){L=D,U=q,R=ie,t.width=Math.floor(D*ie),t.height=Math.floor(q*ie),this.setViewport(0,0,D,q)},this.getCurrentViewport=function(D){return D.copy(C)},this.getViewport=function(D){return D.copy(k)},this.setViewport=function(D,q,ie,j){D.isVector4?k.set(D.x,D.y,D.z,D.w):k.set(D,q,ie,j),De.viewport(C.copy(k).multiplyScalar(R).floor())},this.getScissor=function(D){return D.copy(z)},this.setScissor=function(D,q,ie,j){D.isVector4?z.set(D.x,D.y,D.z,D.w):z.set(D,q,ie,j),De.scissor(w.copy(z).multiplyScalar(R).floor())},this.getScissorTest=function(){return V},this.setScissorTest=function(D){De.setScissorTest(V=D)},this.setOpaqueSort=function(D){N=D},this.setTransparentSort=function(D){B=D},this.getClearColor=function(D){return D.copy(fe.getClearColor())},this.setClearColor=function(){fe.setClearColor.apply(fe,arguments)},this.getClearAlpha=function(){return fe.getClearAlpha()},this.setClearAlpha=function(){fe.setClearAlpha.apply(fe,arguments)},this.clear=function(D=!0,q=!0,ie=!0){let j=0;D&&(j|=P.COLOR_BUFFER_BIT),q&&(j|=P.DEPTH_BUFFER_BIT),ie&&(j|=P.STENCIL_BUFFER_BIT),P.clear(j)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ge,!1),t.removeEventListener("webglcontextrestored",ft,!1),t.removeEventListener("webglcontextcreationerror",Ct,!1),I.dispose(),T.dispose(),te.dispose(),Ae.dispose(),xe.dispose(),Ve.dispose(),Se.dispose(),Be.dispose(),ht.dispose(),Le.dispose(),Le.removeEventListener("sessionstart",Xe),Le.removeEventListener("sessionend",Zt),ge&&(ge.dispose(),ge=null),Qt.stop()},this.renderBufferDirect=function(D,q,ie,j,re,Ye){null===q&&(q=_e);const it=re.isMesh&&re.matrixWorld.determinant()<0,pt=function _ae(D,q,ie,j,re){!0!==q.isScene&&(q=_e),de.resetTextureUnits();const Ye=q.fog,pt=null===x?m.outputColorSpace:!0===x.isXRRenderTarget?x.texture.colorSpace:xs,wt=(j.isMeshStandardMaterial?xe:Ae).get(j.envMap||(j.isMeshStandardMaterial?q.environment:null)),Dt=!0===j.vertexColors&&!!ie.attributes.color&&4===ie.attributes.color.itemSize,It=!!j.normalMap&&!!ie.attributes.tangent,Pt=!!ie.morphAttributes.position,Yt=!!ie.morphAttributes.normal,Li=!!ie.morphAttributes.color,Jr=j.toneMapped?m.toneMapping:co,ol=ie.morphAttributes.position||ie.morphAttributes.normal||ie.morphAttributes.color,Hn=void 0!==ol?ol.length:0,Nt=te.get(j),OM=p.state.lights;!0!==ee||!0!==be&&D===S||K.setState(j,D,D===S&&j.id===M);let ei=!1;j.version===Nt.__version?(Nt.needsLights&&Nt.lightsStateVersion!==OM.state.version||Nt.outputColorSpace!==pt||re.isInstancedMesh&&!1===Nt.instancing||!re.isInstancedMesh&&!0===Nt.instancing||re.isSkinnedMesh&&!1===Nt.skinning||!re.isSkinnedMesh&&!0===Nt.skinning||Nt.envMap!==wt||!0===j.fog&&Nt.fog!==Ye||void 0!==Nt.numClippingPlanes&&(Nt.numClippingPlanes!==K.numPlanes||Nt.numIntersection!==K.numIntersection)||Nt.vertexAlphas!==Dt||Nt.vertexTangents!==It||Nt.morphTargets!==Pt||Nt.morphNormals!==Yt||Nt.morphColors!==Li||Nt.toneMapping!==Jr||!0===he.isWebGL2&&Nt.morphTargetsCount!==Hn)&&(ei=!0):(ei=!0,Nt.__version=j.version);let al=Nt.currentProgram;!0===ei&&(al=r_(j,q,re));let XN=!1,kh=!1,LM=!1;const ki=al.getUniforms(),ll=Nt.uniforms;if(De.useProgram(al.program)&&(XN=!0,kh=!0,LM=!0),j.id!==M&&(M=j.id,kh=!0),XN||S!==D){if(ki.setValue(P,"projectionMatrix",D.projectionMatrix),he.logarithmicDepthBuffer&&ki.setValue(P,"logDepthBufFC",2/(Math.log(D.far+1)/Math.LN2)),S!==D&&(S=D,kh=!0,LM=!0),j.isShaderMaterial||j.isMeshPhongMaterial||j.isMeshToonMaterial||j.isMeshStandardMaterial||j.envMap){const hr=ki.map.cameraPosition;void 0!==hr&&hr.setValue(P,Z.setFromMatrixPosition(D.matrixWorld))}(j.isMeshPhongMaterial||j.isMeshToonMaterial||j.isMeshLambertMaterial||j.isMeshBasicMaterial||j.isMeshStandardMaterial||j.isShaderMaterial)&&ki.setValue(P,"isOrthographic",!0===D.isOrthographicCamera),(j.isMeshPhongMaterial||j.isMeshToonMaterial||j.isMeshLambertMaterial||j.isMeshBasicMaterial||j.isMeshStandardMaterial||j.isShaderMaterial||j.isShadowMaterial||re.isSkinnedMesh)&&ki.setValue(P,"viewMatrix",D.matrixWorldInverse)}if(re.isSkinnedMesh){ki.setOptional(P,re,"bindMatrix"),ki.setOptional(P,re,"bindMatrixInverse");const hr=re.skeleton;hr&&(he.floatVertexTextures?(null===hr.boneTexture&&hr.computeBoneTexture(),ki.setValue(P,"boneTexture",hr.boneTexture,de),ki.setValue(P,"boneTextureSize",hr.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const kM=ie.morphAttributes;if((void 0!==kM.position||void 0!==kM.normal||void 0!==kM.color&&!0===he.isWebGL2)&&Ee.update(re,ie,al),(kh||Nt.receiveShadow!==re.receiveShadow)&&(Nt.receiveShadow=re.receiveShadow,ki.setValue(P,"receiveShadow",re.receiveShadow)),j.isMeshGouraudMaterial&&null!==j.envMap&&(ll.envMap.value=wt,ll.flipEnvMap.value=wt.isCubeTexture&&!1===wt.isRenderTargetTexture?-1:1),kh&&(ki.setValue(P,"toneMappingExposure",m.toneMappingExposure),Nt.needsLights&&function vae(D,q){D.ambientLightColor.needsUpdate=q,D.lightProbe.needsUpdate=q,D.directionalLights.needsUpdate=q,D.directionalLightShadows.needsUpdate=q,D.pointLights.needsUpdate=q,D.pointLightShadows.needsUpdate=q,D.spotLights.needsUpdate=q,D.spotLightShadows.needsUpdate=q,D.rectAreaLights.needsUpdate=q,D.hemisphereLights.needsUpdate=q}(ll,LM),Ye&&!0===j.fog&&St.refreshFogUniforms(ll,Ye),St.refreshMaterialUniforms(ll,j,R,U,ge),Tg.upload(P,Nt.uniformsList,ll,de)),j.isShaderMaterial&&!0===j.uniformsNeedUpdate&&(Tg.upload(P,Nt.uniformsList,ll,de),j.uniformsNeedUpdate=!1),j.isSpriteMaterial&&ki.setValue(P,"center",re.center),ki.setValue(P,"modelViewMatrix",re.modelViewMatrix),ki.setValue(P,"normalMatrix",re.normalMatrix),ki.setValue(P,"modelMatrix",re.matrixWorld),j.isShaderMaterial||j.isRawShaderMaterial){const hr=j.uniformsGroups;for(let NM=0,bae=hr.length;NM<bae;NM++)if(he.isWebGL2){const qN=hr[NM];Be.update(qN,al),Be.bind(qN,al)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return al}(D,q,ie,j,re);De.setMaterial(j,it);let wt=ie.index,Dt=1;!0===j.wireframe&&(wt=qe.getWireframeAttribute(ie),Dt=2);const It=ie.drawRange,Pt=ie.attributes.position;let Yt=It.start*Dt,Li=(It.start+It.count)*Dt;null!==Ye&&(Yt=Math.max(Yt,Ye.start*Dt),Li=Math.min(Li,(Ye.start+Ye.count)*Dt)),null!==wt?(Yt=Math.max(Yt,0),Li=Math.min(Li,wt.count)):null!=Pt&&(Yt=Math.max(Yt,0),Li=Math.min(Li,Pt.count));const Jr=Li-Yt;if(Jr<0||Jr===1/0)return;Se.setup(re,j,pt,ie,wt);let ol,Hn=O;if(null!==wt&&(ol=je.get(wt),Hn=ae,Hn.setIndex(ol)),re.isMesh)!0===j.wireframe?(De.setLineWidth(j.wireframeLinewidth*ye()),Hn.setMode(P.LINES)):Hn.setMode(P.TRIANGLES);else if(re.isLine){let Nt=j.linewidth;void 0===Nt&&(Nt=1),De.setLineWidth(Nt*ye()),Hn.setMode(re.isLineSegments?P.LINES:re.isLineLoop?P.LINE_LOOP:P.LINE_STRIP)}else re.isPoints?Hn.setMode(P.POINTS):re.isSprite&&Hn.setMode(P.TRIANGLES);if(re.isInstancedMesh)Hn.renderInstances(Yt,Jr,re.count);else if(ie.isInstancedBufferGeometry){const OM=Math.min(ie.instanceCount,void 0!==ie._maxInstanceCount?ie._maxInstanceCount:1/0);Hn.renderInstances(Yt,Jr,OM)}else Hn.render(Yt,Jr)},this.compile=function(D,q){function ie(j,re,Ye){!0===j.transparent&&j.side===bs&&!1===j.forceSinglePass?(j.side=$i,j.needsUpdate=!0,r_(j,re,Ye),j.side=lo,j.needsUpdate=!0,r_(j,re,Ye),j.side=bs):r_(j,re,Ye)}p=T.get(D),p.init(),_.push(p),D.traverseVisible(function(j){j.isLight&&j.layers.test(q.layers)&&(p.pushLight(j),j.castShadow&&p.pushShadow(j))}),p.setupLights(m.useLegacyLights),D.traverse(function(j){const re=j.material;if(re)if(Array.isArray(re))for(let Ye=0;Ye<re.length;Ye++)ie(re[Ye],D,j);else ie(re,D,j)}),_.pop(),p=null};let me=null;function Xe(){Qt.stop()}function Zt(){Qt.start()}const Qt=new YL;function yi(D,q,ie,j){if(!1===D.visible)return;if(D.layers.test(q.layers))if(D.isGroup)ie=D.renderOrder;else if(D.isLOD)!0===D.autoUpdate&&D.update(q);else if(D.isLight)p.pushLight(D),D.castShadow&&p.pushShadow(D);else if(D.isSprite){if(!D.frustumCulled||X.intersectsSprite(D)){j&&Z.setFromMatrixPosition(D.matrixWorld).applyMatrix4(Y);const it=Ve.update(D),pt=D.material;pt.visible&&f.push(D,it,pt,ie,Z.z,null)}}else if((D.isMesh||D.isLine||D.isPoints)&&(!D.frustumCulled||X.intersectsObject(D))){D.isSkinnedMesh&&D.skeleton.frame!==le.render.frame&&(D.skeleton.update(),D.skeleton.frame=le.render.frame);const it=Ve.update(D),pt=D.material;if(j&&(null===it.boundingSphere&&it.computeBoundingSphere(),Z.copy(it.boundingSphere.center).applyMatrix4(D.matrixWorld).applyMatrix4(Y)),Array.isArray(pt)){const wt=it.groups;for(let Dt=0,It=wt.length;Dt<It;Dt++){const Pt=wt[Dt],Yt=pt[Pt.materialIndex];Yt&&Yt.visible&&f.push(D,it,Yt,ie,Z.z,Pt)}}else pt.visible&&f.push(D,it,pt,ie,Z.z,null)}const Ye=D.children;for(let it=0,pt=Ye.length;it<pt;it++)yi(Ye[it],q,ie,j)}function na(D,q,ie,j){const re=D.opaque,Ye=D.transmissive,it=D.transparent;p.setupLightsView(ie),!0===ee&&K.setGlobalState(m.clippingPlanes,ie),Ye.length>0&&function On(D,q,ie,j){if(null===ge){const pt=he.isWebGL2;ge=new Va(1024,1024,{generateMipmaps:!0,type:Ie.has("EXT_color_buffer_half_float")?nh:La,minFilter:uo,samples:pt&&!0===a?4:0})}const re=m.getRenderTarget();m.setRenderTarget(ge),m.clear();const Ye=m.toneMapping;m.toneMapping=co,Pr(D,ie,j),de.updateMultisampleRenderTarget(ge),de.updateRenderTargetMipmap(ge);let it=!1;for(let pt=0,wt=q.length;pt<wt;pt++){const Dt=q[pt],It=Dt.object,Pt=Dt.geometry,Yt=Dt.material,Li=Dt.group;if(Yt.side===bs&&It.layers.test(j.layers)){const Jr=Yt.side;Yt.side=$i,Yt.needsUpdate=!0,As(It,ie,j,Pt,Yt,Li),Yt.side=Jr,Yt.needsUpdate=!0,it=!0}}!0===it&&(de.updateMultisampleRenderTarget(ge),de.updateRenderTargetMipmap(ge)),m.setRenderTarget(re),m.toneMapping=Ye}(re,Ye,q,ie),j&&De.viewport(C.copy(j)),re.length>0&&Pr(re,q,ie),Ye.length>0&&Pr(Ye,q,ie),it.length>0&&Pr(it,q,ie),De.buffers.depth.setTest(!0),De.buffers.depth.setMask(!0),De.buffers.color.setMask(!0),De.setPolygonOffset(!1)}function Pr(D,q,ie){const j=!0===q.isScene?q.overrideMaterial:null;for(let re=0,Ye=D.length;re<Ye;re++){const it=D[re],pt=it.object,wt=it.geometry,Dt=null===j?it.material:j,It=it.group;pt.layers.test(ie.layers)&&As(pt,q,ie,wt,Dt,It)}}function As(D,q,ie,j,re,Ye){D.onBeforeRender(m,q,ie,j,re,Ye),D.modelViewMatrix.multiplyMatrices(ie.matrixWorldInverse,D.matrixWorld),D.normalMatrix.getNormalMatrix(D.modelViewMatrix),re.onBeforeRender(m,q,ie,j,D,Ye),!0===re.transparent&&re.side===bs&&!1===re.forceSinglePass?(re.side=$i,re.needsUpdate=!0,m.renderBufferDirect(ie,q,j,re,D,Ye),re.side=lo,re.needsUpdate=!0,m.renderBufferDirect(ie,q,j,re,D,Ye),re.side=bs):m.renderBufferDirect(ie,q,j,re,D,Ye),D.onAfterRender(m,q,ie,j,re,Ye)}function r_(D,q,ie){!0!==q.isScene&&(q=_e);const j=te.get(D),re=p.state.lights,it=re.state.version,pt=ht.getParameters(D,re.state,p.state.shadowsArray,q,ie),wt=ht.getProgramCacheKey(pt);let Dt=j.programs;j.environment=D.isMeshStandardMaterial?q.environment:null,j.fog=q.fog,j.envMap=(D.isMeshStandardMaterial?xe:Ae).get(D.envMap||j.environment),void 0===Dt&&(D.addEventListener("dispose",Pn),Dt=new Map,j.programs=Dt);let It=Dt.get(wt);if(void 0!==It){if(j.currentProgram===It&&j.lightsStateVersion===it)return $N(D,pt),It}else pt.uniforms=ht.getUniforms(D),D.onBuild(ie,pt,m),D.onBeforeCompile(pt,m),It=ht.acquireProgram(pt,wt),Dt.set(wt,It),j.uniforms=pt.uniforms;const Pt=j.uniforms;(!D.isShaderMaterial&&!D.isRawShaderMaterial||!0===D.clipping)&&(Pt.clippingPlanes=K.uniform),$N(D,pt),j.needsLights=function yae(D){return D.isMeshLambertMaterial||D.isMeshToonMaterial||D.isMeshPhongMaterial||D.isMeshStandardMaterial||D.isShadowMaterial||D.isShaderMaterial&&!0===D.lights}(D),j.lightsStateVersion=it,j.needsLights&&(Pt.ambientLightColor.value=re.state.ambient,Pt.lightProbe.value=re.state.probe,Pt.directionalLights.value=re.state.directional,Pt.directionalLightShadows.value=re.state.directionalShadow,Pt.spotLights.value=re.state.spot,Pt.spotLightShadows.value=re.state.spotShadow,Pt.rectAreaLights.value=re.state.rectArea,Pt.ltc_1.value=re.state.rectAreaLTC1,Pt.ltc_2.value=re.state.rectAreaLTC2,Pt.pointLights.value=re.state.point,Pt.pointLightShadows.value=re.state.pointShadow,Pt.hemisphereLights.value=re.state.hemi,Pt.directionalShadowMap.value=re.state.directionalShadowMap,Pt.directionalShadowMatrix.value=re.state.directionalShadowMatrix,Pt.spotShadowMap.value=re.state.spotShadowMap,Pt.spotLightMatrix.value=re.state.spotLightMatrix,Pt.spotLightMap.value=re.state.spotLightMap,Pt.pointShadowMap.value=re.state.pointShadowMap,Pt.pointShadowMatrix.value=re.state.pointShadowMatrix);const Yt=It.getUniforms(),Li=Tg.seqWithValue(Yt.seq,Pt);return j.currentProgram=It,j.uniformsList=Li,It}function $N(D,q){const ie=te.get(D);ie.outputColorSpace=q.outputColorSpace,ie.instancing=q.instancing,ie.skinning=q.skinning,ie.morphTargets=q.morphTargets,ie.morphNormals=q.morphNormals,ie.morphColors=q.morphColors,ie.morphTargetsCount=q.morphTargetsCount,ie.numClippingPlanes=q.numClippingPlanes,ie.numIntersection=q.numClipIntersection,ie.vertexAlphas=q.vertexAlphas,ie.vertexTangents=q.vertexTangents,ie.toneMapping=q.toneMapping}Qt.setAnimationLoop(function ke(D){me&&me(D)}),typeof self<"u"&&Qt.setContext(self),this.setAnimationLoop=function(D){me=D,Le.setAnimationLoop(D),null===D?Qt.stop():Qt.start()},Le.addEventListener("sessionstart",Xe),Le.addEventListener("sessionend",Zt),this.render=function(D,q){if(void 0===q||!0===q.isCamera){if(!0!==y){if(!0===D.matrixWorldAutoUpdate&&D.updateMatrixWorld(),null===q.parent&&!0===q.matrixWorldAutoUpdate&&q.updateMatrixWorld(),!0===Le.enabled&&!0===Le.isPresenting&&(!0===Le.cameraAutoUpdate&&Le.updateCamera(q),q=Le.getCamera()),!0===D.isScene&&D.onBeforeRender(m,D,q,x),p=T.get(D,_.length),p.init(),_.push(p),Y.multiplyMatrices(q.projectionMatrix,q.matrixWorldInverse),X.setFromProjectionMatrix(Y),be=this.localClippingEnabled,ee=K.init(this.clippingPlanes,be),f=I.get(D,g.length),f.init(),g.push(f),yi(D,q,0,m.sortObjects),f.finish(),!0===m.sortObjects&&f.sort(N,B),!0===ee&&K.beginShadows(),oe.render(p.state.shadowsArray,D,q),!0===ee&&K.endShadows(),!0===this.info.autoReset&&this.info.reset(),fe.render(f,D),p.setupLights(m.useLegacyLights),q.isArrayCamera){const j=q.cameras;for(let re=0,Ye=j.length;re<Ye;re++){const it=j[re];na(f,D,it,it.viewport)}}else na(f,D,q);null!==x&&(de.updateMultisampleRenderTarget(x),de.updateRenderTargetMipmap(x)),!0===D.isScene&&D.onAfterRender(m,D,q),Se.resetDefaultState(),M=-1,S=null,_.pop(),p=_.length>0?_[_.length-1]:null,g.pop(),f=g.length>0?g[g.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return x},this.setRenderTargetTextures=function(D,q,ie){te.get(D.texture).__webglTexture=q,te.get(D.depthTexture).__webglTexture=ie;const j=te.get(D);j.__hasExternalTextures=!0,j.__hasExternalTextures&&(j.__autoAllocateDepthBuffer=void 0===ie,j.__autoAllocateDepthBuffer||!0===Ie.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),j.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(D,q){const ie=te.get(D);ie.__webglFramebuffer=q,ie.__useDefaultFramebuffer=void 0===q},this.setRenderTarget=function(D,q=0,ie=0){x=D,v=q,b=ie;let j=!0,re=null,Ye=!1,it=!1;if(D){const wt=te.get(D);void 0!==wt.__useDefaultFramebuffer?(De.bindFramebuffer(P.FRAMEBUFFER,null),j=!1):void 0===wt.__webglFramebuffer?de.setupRenderTarget(D):wt.__hasExternalTextures&&de.rebindTextures(D,te.get(D.texture).__webglTexture,te.get(D.depthTexture).__webglTexture);const Dt=D.texture;(Dt.isData3DTexture||Dt.isDataArrayTexture||Dt.isCompressedArrayTexture)&&(it=!0);const It=te.get(D).__webglFramebuffer;D.isWebGLCubeRenderTarget?(re=It[q],Ye=!0):re=he.isWebGL2&&D.samples>0&&!1===de.useMultisampledRTT(D)?te.get(D).__webglMultisampledFramebuffer:It,C.copy(D.viewport),w.copy(D.scissor),E=D.scissorTest}else C.copy(k).multiplyScalar(R).floor(),w.copy(z).multiplyScalar(R).floor(),E=V;if(De.bindFramebuffer(P.FRAMEBUFFER,re)&&he.drawBuffers&&j&&De.drawBuffers(D,re),De.viewport(C),De.scissor(w),De.setScissorTest(E),Ye){const wt=te.get(D.texture);P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_CUBE_MAP_POSITIVE_X+q,wt.__webglTexture,ie)}else if(it){const wt=te.get(D.texture);P.framebufferTextureLayer(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,wt.__webglTexture,ie||0,q||0)}M=-1},this.readRenderTargetPixels=function(D,q,ie,j,re,Ye,it){if(!D||!D.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let pt=te.get(D).__webglFramebuffer;if(D.isWebGLCubeRenderTarget&&void 0!==it&&(pt=pt[it]),pt){De.bindFramebuffer(P.FRAMEBUFFER,pt);try{const wt=D.texture,Dt=wt.format,It=wt.type;if(Dt!==Tr&&Q.convert(Dt)!==P.getParameter(P.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const Pt=It===nh&&(Ie.has("EXT_color_buffer_half_float")||he.isWebGL2&&Ie.has("EXT_color_buffer_float"));if(!(It===La||Q.convert(It)===P.getParameter(P.IMPLEMENTATION_COLOR_READ_TYPE)||It===jo&&(he.isWebGL2||Ie.has("OES_texture_float")||Ie.has("WEBGL_color_buffer_float"))||Pt))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");q>=0&&q<=D.width-j&&ie>=0&&ie<=D.height-re&&P.readPixels(q,ie,j,re,Q.convert(Dt),Q.convert(It),Ye)}finally{const wt=null!==x?te.get(x).__webglFramebuffer:null;De.bindFramebuffer(P.FRAMEBUFFER,wt)}}},this.copyFramebufferToTexture=function(D,q,ie=0){const j=Math.pow(2,-ie),re=Math.floor(q.image.width*j),Ye=Math.floor(q.image.height*j);de.setTexture2D(q,0),P.copyTexSubImage2D(P.TEXTURE_2D,ie,0,0,D.x,D.y,re,Ye),De.unbindTexture()},this.copyTextureToTexture=function(D,q,ie,j=0){const re=q.image.width,Ye=q.image.height,it=Q.convert(ie.format),pt=Q.convert(ie.type);de.setTexture2D(ie,0),P.pixelStorei(P.UNPACK_FLIP_Y_WEBGL,ie.flipY),P.pixelStorei(P.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ie.premultiplyAlpha),P.pixelStorei(P.UNPACK_ALIGNMENT,ie.unpackAlignment),q.isDataTexture?P.texSubImage2D(P.TEXTURE_2D,j,D.x,D.y,re,Ye,it,pt,q.image.data):q.isCompressedTexture?P.compressedTexSubImage2D(P.TEXTURE_2D,j,D.x,D.y,q.mipmaps[0].width,q.mipmaps[0].height,it,q.mipmaps[0].data):P.texSubImage2D(P.TEXTURE_2D,j,D.x,D.y,it,pt,q.image),0===j&&ie.generateMipmaps&&P.generateMipmap(P.TEXTURE_2D),De.unbindTexture()},this.copyTextureToTexture3D=function(D,q,ie,j,re=0){if(m.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const Ye=D.max.x-D.min.x+1,it=D.max.y-D.min.y+1,pt=D.max.z-D.min.z+1,wt=Q.convert(j.format),Dt=Q.convert(j.type);let It;if(j.isData3DTexture)de.setTexture3D(j,0),It=P.TEXTURE_3D;else{if(!j.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");de.setTexture2DArray(j,0),It=P.TEXTURE_2D_ARRAY}P.pixelStorei(P.UNPACK_FLIP_Y_WEBGL,j.flipY),P.pixelStorei(P.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),P.pixelStorei(P.UNPACK_ALIGNMENT,j.unpackAlignment);const Pt=P.getParameter(P.UNPACK_ROW_LENGTH),Yt=P.getParameter(P.UNPACK_IMAGE_HEIGHT),Li=P.getParameter(P.UNPACK_SKIP_PIXELS),Jr=P.getParameter(P.UNPACK_SKIP_ROWS),ol=P.getParameter(P.UNPACK_SKIP_IMAGES),Hn=ie.isCompressedTexture?ie.mipmaps[0]:ie.image;P.pixelStorei(P.UNPACK_ROW_LENGTH,Hn.width),P.pixelStorei(P.UNPACK_IMAGE_HEIGHT,Hn.height),P.pixelStorei(P.UNPACK_SKIP_PIXELS,D.min.x),P.pixelStorei(P.UNPACK_SKIP_ROWS,D.min.y),P.pixelStorei(P.UNPACK_SKIP_IMAGES,D.min.z),ie.isDataTexture||ie.isData3DTexture?P.texSubImage3D(It,re,q.x,q.y,q.z,Ye,it,pt,wt,Dt,Hn.data):ie.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),P.compressedTexSubImage3D(It,re,q.x,q.y,q.z,Ye,it,pt,wt,Hn.data)):P.texSubImage3D(It,re,q.x,q.y,q.z,Ye,it,pt,wt,Dt,Hn),P.pixelStorei(P.UNPACK_ROW_LENGTH,Pt),P.pixelStorei(P.UNPACK_IMAGE_HEIGHT,Yt),P.pixelStorei(P.UNPACK_SKIP_PIXELS,Li),P.pixelStorei(P.UNPACK_SKIP_ROWS,Jr),P.pixelStorei(P.UNPACK_SKIP_IMAGES,ol),0===re&&j.generateMipmaps&&P.generateMipmap(It),De.unbindTexture()},this.initTexture=function(D){D.isCubeTexture?de.setTextureCube(D,0):D.isData3DTexture?de.setTexture3D(D,0):D.isDataArrayTexture||D.isCompressedArrayTexture?de.setTexture2DArray(D,0):de.setTexture2D(D,0),De.unbindTexture()},this.resetState=function(){v=0,b=0,x=null,De.reset(),Se.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===ot?Fa:3e3}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Fa?ot:xs}}(class Qre extends Ek{}).prototype.isWebGL1Renderer=!0;class Sk extends Zn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Fw{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ar()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=ar()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=ar()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Oi=new A;class Ya{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Oi.fromBufferAttribute(this,t),Oi.applyMatrix4(e),this.setXYZ(t,Oi.x,Oi.y,Oi.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Oi.fromBufferAttribute(this,t),Oi.applyNormalMatrix(e),this.setXYZ(t,Oi.x,Oi.y,Oi.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Oi.fromBufferAttribute(this,t),Oi.transformDirection(e),this.setXYZ(t,Oi.x,Oi.y,Oi.z);return this}setX(e,t){return this.normalized&&(t=yt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=yt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=yt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=yt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=lr(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=lr(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=lr(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=lr(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=yt(t,this.array),i=yt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=yt(t,this.array),i=yt(i,this.array),r=yt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=yt(t,this.array),i=yt(i,this.array),r=yt(r,this.array),s=yt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Mn(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ya(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const Rk=new A,Pk=new qt,Ok=new qt,tse=new A,Lk=new at,hu=new A;class kk extends vi{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new at,this.bindMatrixInverse=new at,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;null===this.boundingBox&&(this.boundingBox=new qr),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)hu.fromBufferAttribute(t,i),this.applyBoneTransform(i,hu),this.boundingBox.expandByPoint(hu)}computeBoundingSphere(){const e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new ws),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)hu.fromBufferAttribute(t,i),this.applyBoneTransform(i,hu),this.boundingSphere.expandByPoint(hu)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new qt,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;Pk.fromBufferAttribute(r.attributes.skinIndex,e),Ok.fromBufferAttribute(r.attributes.skinWeight,e),Rk.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=Ok.getComponent(s);if(0!==o){const a=Pk.getComponent(s);Lk.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(tse.copy(Rk).applyMatrix4(Lk),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class Uw extends Zn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class gh extends Xr{constructor(e=null,t=1,i=1,r,s,o,a,l,c=In,u=In,d,h){super(null,o,a,l,c,u,r,s,d,h),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Nk=new at,nse=new at;class Pg{constructor(e=[],t=[]){this.uuid=ar(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new at)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new at;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++)Nk.multiplyMatrices(e[s]?e[s].matrixWorld:nse,t[s]),Nk.toArray(i,16*s);null!==r&&(r.needsUpdate=!0)}clone(){return new Pg(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=SL(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new gh(t,e,e,Tr,jo);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];void 0===o&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new Uw),this.bones.push(o),this.boneInverses.push((new at).fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++)e.bones.push(t[r].uuid),e.boneInverses.push(i[r].toArray());return e}}class _h extends Mn{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const fu=new at,Fk=new at,Og=[],Bk=new qr,ise=new at,vh=new vi,yh=new ws;class Uk extends vi{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new _h(new Float32Array(16*i),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,ise)}computeBoundingBox(){const e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new qr),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,fu),Bk.copy(e.boundingBox).applyMatrix4(fu),this.boundingBox.union(Bk)}computeBoundingSphere(){const e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new ws),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,fu),yh.copy(e.boundingSphere).applyMatrix4(fu),this.boundingSphere.union(yh)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(vh.geometry=this.geometry,vh.material=this.material,void 0!==vh.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),yh.copy(this.boundingSphere),yh.applyMatrix4(i),!1!==e.ray.intersectsSphere(yh)))for(let s=0;s<r;s++){this.getMatrixAt(s,fu),Fk.multiplyMatrices(i,fu),vh.matrixWorld=Fk,vh.raycast(e,Og);for(let o=0,a=Og.length;o<a;o++){const l=Og[o];l.instanceId=s,l.object=this,t.push(l)}Og.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new _h(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class qi extends Zr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ce(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const zk=new A,Hk=new A,Vk=new at,zw=new og,Lg=new ws;class Ka extends Zn{constructor(e=new Et,t=new qi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)zk.fromBufferAttribute(t,r-1),Hk.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=zk.distanceTo(Hk);e.setAttribute("lineDistance",new Ue(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),Lg.copy(i.boundingSphere),Lg.applyMatrix4(r),Lg.radius+=s,!1===e.ray.intersectsSphere(Lg))return;Vk.copy(r).invert(),zw.copy(e.ray).applyMatrix4(Vk);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new A,u=new A,d=new A,h=new A,f=this.isLineSegments?2:1,p=i.index,_=i.attributes.position;if(null!==p)for(let v=Math.max(0,o.start),b=Math.min(p.count,o.start+o.count)-1;v<b;v+=f){const x=p.getX(v),M=p.getX(v+1);if(c.fromBufferAttribute(_,x),u.fromBufferAttribute(_,M),zw.distanceSqToSegment(c,u,h,d)>l)continue;h.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(h);C<e.near||C>e.far||t.push({distance:C,point:d.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}else for(let v=Math.max(0,o.start),b=Math.min(_.count,o.start+o.count)-1;v<b;v+=f){if(c.fromBufferAttribute(_,v),u.fromBufferAttribute(_,v+1),zw.distanceSqToSegment(c,u,h,d)>l)continue;h.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(h);M<e.near||M>e.far||t.push({distance:M,point:d.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const Gk=new A,Wk=new A;class Hw extends Ka{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)Gk.fromBufferAttribute(t,r),Wk.fromBufferAttribute(t,r+1),i[r]=0===r?0:i[r-1],i[r+1]=i[r]+Gk.distanceTo(Wk);e.setAttribute("lineDistance",new Ue(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class jk extends Ka{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Vw extends Zr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ce(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const $k=new at,Gw=new og,kg=new ws,Ng=new A;class Xk extends Zn{constructor(e=new Et,t=new Vw){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),kg.copy(i.boundingSphere),kg.applyMatrix4(r),kg.radius+=s,!1===e.ray.intersectsSphere(kg))return;$k.copy(r).invert(),Gw.copy(e.ray).applyMatrix4($k);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,d=i.attributes.position;if(null!==c)for(let p=Math.max(0,o.start),g=Math.min(c.count,o.start+o.count);p<g;p++){const _=c.getX(p);Ng.fromBufferAttribute(d,_),qk(Ng,_,l,r,e,t,this)}else for(let p=Math.max(0,o.start),g=Math.min(d.count,o.start+o.count);p<g;p++)Ng.fromBufferAttribute(d,p),qk(Ng,p,l,r,e,t,this)}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function qk(n,e,t,i,r,s,o){const a=Gw.distanceSqToPoint(n);if(a<t){const l=new A;Gw.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class qg extends Zr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ce(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ce(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ba,this.normalScale=new se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Qo extends qg{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new se(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return wn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ce(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ce(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ce(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}function Ir(n,e,t){return hM(n)?new n.constructor(n.subarray(e,void 0!==t?t:n.length)):n.slice(e,t)}function Ja(n,e,t){return!n||!t&&n.constructor===e?n:"number"==typeof e.BYTES_PER_ELEMENT?new e(n):Array.prototype.slice.call(n)}function hM(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function lN(n){const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(function e(r,s){return n[r]-n[s]}),i}function fM(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function pM(n,e,t,i){let r=1,s=n[0];for(;void 0!==s&&void 0===s[i];)s=n[r++];if(void 0===s)return;let o=s[i];if(void 0!==o)if(Array.isArray(o))do{o=s[i],void 0!==o&&(e.push(s.time),t.push.apply(t,o)),s=n[r++]}while(void 0!==s);else if(void 0!==o.toArray)do{o=s[i],void 0!==o&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++]}while(void 0!==s);else do{o=s[i],void 0!==o&&(e.push(s.time),t.push(o)),s=n[r++]}while(void 0!==s)}class Ch{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(void 0===r){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(e>=s)break e;{const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0}}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Yse extends Ch{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:s=e,a=2*t-i;break;case 2402:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(void 0===l)switch(this.getSettings_().endingEnd){case 2401:o=e,l=2*i-t;break;case 2402:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=.5*(i-t),u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,h=this._weightPrev,f=this._weightNext,p=(i-t)/(r-t),g=p*p,_=g*p,m=-h*_+2*h*g-h*p,y=(1+h)*_+(-1.5-2*h)*g+(-.5+h)*p+1,v=(-1-f)*_+(1.5+f)*g+.5*p,b=f*_-f*g;for(let x=0;x!==a;++x)s[x]=m*o[u+x]+y*o[c+x]+v*o[l+x]+b*o[d+x];return s}}class cN extends Ch{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(i-t)/(r-t),d=1-u;for(let h=0;h!==a;++h)s[h]=o[c+h]*d+o[l+h]*u;return s}}class Kse extends Ch{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Cs{constructor(e,t,i,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ja(t,this.TimeBufferType),this.values=Ja(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Ja(e.times,Array),values:Ja(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new Kse(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new cN(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Yse(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case ih:t=this.InterpolantFactoryMethodDiscrete;break;case kc:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ih;case this.InterpolantFactoryMethodLinear:return kc;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;-1!==o&&i[o]>t;)--o;if(++o,0!==s||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Ir(i,s,o),this.values=Ir(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if("number"==typeof l&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(null!==o&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(void 0!==r&&hM(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Ir(this.times),t=Ir(this.values),i=this.getValueSize(),r=2302===this.getInterpolation(),s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a];if(c!==e[a+1]&&(1!==a||c!==e[0]))if(r)l=!0;else{const d=a*i,h=d-i,f=d+i;for(let p=0;p!==i;++p){const g=t[d+p];if(g!==t[h+p]||g!==t[f+p]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*i,h=o*i;for(let f=0;f!==i;++f)t[h+f]=t[d+f]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Ir(e,0,o),this.values=Ir(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=Ir(this.times,0),t=Ir(this.values,0),r=new(0,this.constructor)(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Cs.prototype.TimeBufferType=Float32Array,Cs.prototype.ValueBufferType=Float32Array,Cs.prototype.DefaultInterpolation=kc;class gu extends Cs{}gu.prototype.ValueTypeName="bool",gu.prototype.ValueBufferType=Array,gu.prototype.DefaultInterpolation=ih,gu.prototype.InterpolantFactoryMethodLinear=void 0,gu.prototype.InterpolantFactoryMethodSmooth=void 0;class uN extends Cs{}uN.prototype.ValueTypeName="color";class Th extends Cs{}Th.prototype.ValueTypeName="number";class Zse extends Ch{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let u=c+a;c!==u;c+=4)oi.slerpFlat(s,0,o,c-a,o,c,l);return s}}class el extends Cs{InterpolantFactoryMethodLinear(e){return new Zse(this.times,this.values,this.getValueSize(),e)}}el.prototype.ValueTypeName="quaternion",el.prototype.DefaultInterpolation=kc,el.prototype.InterpolantFactoryMethodSmooth=void 0;class _u extends Cs{}_u.prototype.ValueTypeName="string",_u.prototype.ValueBufferType=Array,_u.prototype.DefaultInterpolation=ih,_u.prototype.InterpolantFactoryMethodLinear=void 0,_u.prototype.InterpolantFactoryMethodSmooth=void 0;class Ah extends Cs{}Ah.prototype.ValueTypeName="vector";class Dh{constructor(e,t=-1,i,r=2500){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=ar(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(Jse(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(Cs.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=lN(l);l=fM(l,1,u),c=fM(c,1,u),!r&&0===l[0]&&(l.push(s),c.push(c[0])),o.push(new Th(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;Array.isArray(e)||(i=e.geometry&&e.geometry.animations||e.animations);for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let h=r[d];h||(r[d]=h=[]),h.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,h,f,p,g){if(0!==f.length){const _=[],m=[];pM(f,_,m,p),0!==_.length&&g.push(new d(h,_,m))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const h=c[d].keys;if(h&&0!==h.length)if(h[0].morphTargets){const f={};let p;for(p=0;p<h.length;p++)if(h[p].morphTargets)for(let g=0;g<h[p].morphTargets.length;g++)f[h[p].morphTargets[g]]=-1;for(const g in f){const _=[],m=[];for(let y=0;y!==h[p].morphTargets.length;++y){const v=h[p];_.push(v.time),m.push(v.morphTarget===g?1:0)}r.push(new Th(".morphTargetInfluence["+g+"]",_,m))}l=f.length*o}else{const f=".bones["+t[d].name+"]";i(Ah,f+".position",h,"pos",r),i(el,f+".quaternion",h,"rot",r),i(Ah,f+".scale",h,"scl",r)}}return 0===r.length?null:new this(s,l,r,a)}resetDuration(){let t=0;for(let i=0,r=this.tracks.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Jse(n){if(void 0===n.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function Qse(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Th;case"vector":case"vector2":case"vector3":case"vector4":return Ah;case"color":return uN;case"quaternion":return el;case"bool":case"boolean":return gu;case"string":return _u}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}(n.type);if(void 0===n.times){const t=[],i=[];pM(n.keys,t,i,"value"),n.times=t,n.values=i}return void 0!==e.parse?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const vu={enabled:!1,files:{},add:function(n,e){!1!==this.enabled&&(this.files[n]=e)},get:function(n){if(!1!==this.enabled)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class mM{constructor(e,t,i){const r=this;let l,s=!1,o=0,a=0;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(u){a++,!1===s&&void 0!==r.onStart&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,void 0!==r.onProgress&&r.onProgress(u,o,a),o===a&&(s=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(u){void 0!==r.onError&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return-1!==d&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,h=c.length;d<h;d+=2){const f=c[d],p=c[d+1];if(f.global&&(f.lastIndex=0),f.test(u))return p}return null}}}const eoe=new mM;class Ih{constructor(e){this.manager=void 0!==e?e:eoe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const bo={};class toe extends Error{constructor(e,t){super(e),this.response=t}}class Ts extends Ih{constructor(e){super(e)}load(e,t,i,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=vu.get(e);if(void 0!==s)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(void 0!==bo[e])return void bo[e].push({onLoad:t,onProgress:i,onError:r});bo[e]=[],bo[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(200===c.status||0===c.status){if(0===c.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||void 0===c.body||void 0===c.body.getReader)return c;const u=bo[e],d=c.body.getReader(),h=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),f=h?parseInt(h):0,p=0!==f;let g=0;const _=new ReadableStream({start(m){!function y(){d.read().then(({done:v,value:b})=>{if(v)m.close();else{g+=b.byteLength;const x=new ProgressEvent("progress",{lengthComputable:p,loaded:g,total:f});for(let M=0,S=u.length;M<S;M++){const C=u[M];C.onProgress&&C.onProgress(x)}m.enqueue(b),y()}})}()}});return new Response(_)}throw new toe(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>(new DOMParser).parseFromString(u,a));case"json":return c.json();default:if(void 0===a)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),h=d&&d[1]?d[1].toLowerCase():void 0,f=new TextDecoder(h);return c.arrayBuffer().then(p=>f.decode(p))}}}).then(c=>{vu.add(e,c);const u=bo[e];delete bo[e];for(let d=0,h=u.length;d<h;d++){const f=u[d];f.onLoad&&f.onLoad(c)}}).catch(c=>{const u=bo[e];if(void 0===u)throw this.manager.itemError(e),c;delete bo[e];for(let d=0,h=u.length;d<h;d++){const f=u[d];f.onError&&f.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Yg extends Ih{constructor(e){super(e)}load(e,t,i,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=vu.get(e);if(void 0!==o)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=sh("img");function l(){u(),vu.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(d){u(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class noe extends Ih{constructor(e){super(e)}load(e,t,i,r){const s=new Xr,o=new Yg(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,void 0!==t&&t(s)},i,r),s}}class Kg extends Zn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ce(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}const gM=new at,dN=new A,hN=new A;class _M{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new se(512,512),this.map=null,this.mapPass=null,this.matrix=new at,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Aw,this._frameExtents=new se(1,1),this._viewportCount=1,this._viewports=[new qt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;dN.setFromMatrixPosition(e.matrixWorld),t.position.copy(dN),hN.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(hN),t.updateMatrixWorld(),gM.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(gM),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(gM)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class roe extends _M{constructor(){super(new Jn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=2*Bc*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class fN extends Kg{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Zn.DEFAULT_UP),this.updateMatrix(),this.target=new Zn,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new roe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const pN=new at,Rh=new A,vM=new A;class soe extends _M{constructor(){super(new Jn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new se(4,2),this._viewportCount=6,this._viewports=[new qt(2,1,1,1),new qt(0,1,1,1),new qt(3,1,1,1),new qt(1,1,1,1),new qt(3,0,1,1),new qt(1,0,1,1)],this._cubeDirections=[new A(1,0,0),new A(-1,0,0),new A(0,0,1),new A(0,0,-1),new A(0,1,0),new A(0,-1,0)],this._cubeUps=[new A(0,1,0),new A(0,1,0),new A(0,1,0),new A(0,1,0),new A(0,0,1),new A(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Rh.setFromMatrixPosition(e.matrixWorld),i.position.copy(Rh),vM.copy(i.position),vM.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(vM),i.updateMatrixWorld(),r.makeTranslation(-Rh.x,-Rh.y,-Rh.z),pN.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(pN)}}class yu extends Kg{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new soe}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class ooe extends _M{constructor(){super(new Eg(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class yM extends Kg{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Zn.DEFAULT_UP),this.updateMatrix(),this.target=new Zn,this.shadow=new ooe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class mN extends Kg{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Ph{static decodeText(e){if(typeof TextDecoder<"u")return(new TextDecoder).decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class foe extends Ih{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=vu.get(e);if(void 0!==o)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){vu.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}const xM="\\[\\]\\.:\\/",voe=new RegExp("["+xM+"]","g"),wM="[^"+xM+"]",yoe="[^"+xM.replace("\\.","")+"]",Eoe=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",wM)+/(WCOD+)?/.source.replace("WCOD",yoe)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",wM)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",wM)+"$"),Soe=["material","materials","bones","map"];class Coe{constructor(e,t,i){const r=i||sn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}let sn=(()=>{class n{constructor(t,i,r){this.path=i,this.parsedPath=r||n.parseTrackName(i),this.node=n.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,i,r){return t&&t.isAnimationObjectGroup?new n.Composite(t,i,r):new n(t,i,r)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(voe,"")}static parseTrackName(t){const i=Eoe.exec(t);if(null===i)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const r={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},s=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){const o=r.nodeName.substring(s+1);-1!==Soe.indexOf(o)&&(r.nodeName=r.nodeName.substring(0,s),r.objectName=o)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return r}static findNode(t,i){if(void 0===i||""===i||"."===i||-1===i||i===t.name||i===t.uuid)return t;if(t.skeleton){const r=t.skeleton.getBoneByName(i);if(void 0!==r)return r}if(t.children){const r=function(o){for(let a=0;a<o.length;a++){const l=o[a];if(l.name===i||l.uuid===i)return l;const c=r(l.children);if(c)return c}return null},s=r(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,i){t[i]=this.targetObject[this.propertyName]}_getValue_array(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)t[i++]=r[s]}_getValue_arrayElement(t,i){t[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,i){this.resolvedProperty.toArray(t,i)}_setValue_direct(t,i){this.targetObject[this.propertyName]=t[i]}_setValue_direct_setNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[i++]}_setValue_array_setNeedsUpdate(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,i){this.resolvedProperty[this.propertyIndex]=t[i]}_setValue_arrayElement_setNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,i){this.resolvedProperty.fromArray(t,i)}_setValue_fromArray_setNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,i){this.bind(),this.getValue(t,i)}_setValue_unbound(t,i){this.bind(),this.setValue(t,i)}bind(){let t=this.node;const i=this.parsedPath,r=i.objectName,s=i.propertyName;let o=i.propertyIndex;if(t||(t=n.findNode(this.rootNode,i.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(r){let u=i.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let d=0;d<t.length;d++)if(t[d].name===u){u=d;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==u){if(void 0===t[u])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[u]}}const a=t[s];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+i.nodeName+"."+s+" but it wasn't found.",t);let l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===s){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else void 0!==a.fromArray&&void 0!==a.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=s;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=Coe,n})();sn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},sn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},sn.prototype.GetterByBindingType=[sn.prototype._getValue_direct,sn.prototype._getValue_array,sn.prototype._getValue_arrayElement,sn.prototype._getValue_toArray],sn.prototype.SetterByBindingTypeAndVersioning=[[sn.prototype._setValue_direct,sn.prototype._setValue_direct_setNeedsUpdate,sn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[sn.prototype._setValue_array,sn.prototype._setValue_array_setNeedsUpdate,sn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[sn.prototype._setValue_arrayElement,sn.prototype._setValue_arrayElement_setNeedsUpdate,sn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[sn.prototype._setValue_fromArray,sn.prototype._setValue_fromArray_setNeedsUpdate,sn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);class CN{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(wn(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}function NN(n,e){if(e===hee)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===iw||e===bL){let t=n.getIndex();if(null===t){const o=[],a=n.getAttribute("position");if(void 0===a)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n;for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}const i=t.count-2,r=[];if(e===iw)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2==0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"152"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="152");class Poe extends Ih{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Foe(t)}),this.register(function(t){return new Woe(t)}),this.register(function(t){return new joe(t)}),this.register(function(t){return new $oe(t)}),this.register(function(t){return new Uoe(t)}),this.register(function(t){return new zoe(t)}),this.register(function(t){return new Hoe(t)}),this.register(function(t){return new Voe(t)}),this.register(function(t){return new Noe(t)}),this.register(function(t){return new Goe(t)}),this.register(function(t){return new Boe(t)}),this.register(function(t){return new Loe(t)}),this.register(function(t){return new Xoe(t)}),this.register(function(t){return new qoe(t)})}load(e,t,i,r){const s=this;let o;o=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:Ph.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Ts(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={},l=new TextDecoder;if("string"==typeof e)s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(l.decode(new Uint8Array(e,0,4))===FN){try{o[kt.KHR_BINARY_GLTF]=new Yoe(e)}catch(d){return void(r&&r(d))}s=JSON.parse(o[kt.KHR_BINARY_GLTF].content)}else s=JSON.parse(l.decode(e));else s=e;if(void 0===s.asset||s.asset.version[0]<2)return void(r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const c=new lae(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const d=this.pluginCallbacks[u](c);a[d.name]=d,o[d.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const d=s.extensionsUsed[u],h=s.extensionsRequired||[];switch(d){case kt.KHR_MATERIALS_UNLIT:o[d]=new koe;break;case kt.KHR_DRACO_MESH_COMPRESSION:o[d]=new Koe(s,this.dracoLoader);break;case kt.KHR_TEXTURE_TRANSFORM:o[d]=new Zoe;break;case kt.KHR_MESH_QUANTIZATION:o[d]=new Qoe;break;default:h.indexOf(d)>=0&&void 0===a[d]&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function Ooe(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const kt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Loe{constructor(e){this.parser=e,this.name=kt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&void 0!==s.extensions[this.name].light&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new Ce(16777215);void 0!==l.color&&u.fromArray(l.color);const d=void 0!==l.range?l.range:0;switch(l.type){case"directional":c=new yM(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new yu(u),c.distance=d;break;case"spot":c=new fN(u),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=void 0!==l.spot.innerConeAngle?l.spot.innerConeAngle:0,l.spot.outerConeAngle=void 0!==l.spot.outerConeAngle?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,ta(c,l),void 0!==l.intensity&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(i,r),r}getDependency(e,t){if("light"===e)return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return void 0===a?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class koe{constructor(){this.name=kt.KHR_MATERIALS_UNLIT}getMaterialType(){return Ar}extendParams(e,t,i){const r=[];e.color=new Ce(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}void 0!==s.baseColorTexture&&r.push(i.assignTexture(e,"map",s.baseColorTexture,ot))}return Promise.all(r)}}class Noe{constructor(e){this.parser=e,this.name=kt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return void 0!==s&&(t.emissiveIntensity=s),Promise.resolve()}}class Foe{constructor(e){this.parser=e,this.name=kt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?Qo:null}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(void 0!==o.clearcoatFactor&&(t.clearcoat=o.clearcoatFactor),void 0!==o.clearcoatTexture&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),void 0!==o.clearcoatRoughnessFactor&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),void 0!==o.clearcoatRoughnessTexture&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),void 0!==o.clearcoatNormalTexture&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),void 0!==o.clearcoatNormalTexture.scale)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new se(a,a)}return Promise.all(s)}}class Boe{constructor(e){this.parser=e,this.name=kt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?Qo:null}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return void 0!==o.iridescenceFactor&&(t.iridescence=o.iridescenceFactor),void 0!==o.iridescenceTexture&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),void 0!==o.iridescenceIor&&(t.iridescenceIOR=o.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==o.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),void 0!==o.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),void 0!==o.iridescenceThicknessTexture&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Uoe{constructor(e){this.parser=e,this.name=kt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?Qo:null}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Ce(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];return void 0!==o.sheenColorFactor&&t.sheenColor.fromArray(o.sheenColorFactor),void 0!==o.sheenRoughnessFactor&&(t.sheenRoughness=o.sheenRoughnessFactor),void 0!==o.sheenColorTexture&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,ot)),void 0!==o.sheenRoughnessTexture&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class zoe{constructor(e){this.parser=e,this.name=kt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?Qo:null}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return void 0!==o.transmissionFactor&&(t.transmission=o.transmissionFactor),void 0!==o.transmissionTexture&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Hoe{constructor(e){this.parser=e,this.name=kt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?Qo:null}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=void 0!==o.thicknessFactor?o.thicknessFactor:0,void 0!==o.thicknessTexture&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Ce(a[0],a[1],a[2]),Promise.all(s)}}class Voe{constructor(e){this.parser=e,this.name=kt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?Qo:null}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=void 0!==s.ior?s.ior:1.5,Promise.resolve()}}class Goe{constructor(e){this.parser=e,this.name=kt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?Qo:null}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=void 0!==o.specularFactor?o.specularFactor:1,void 0!==o.specularTexture&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Ce(a[0],a[1],a[2]),void 0!==o.specularColorTexture&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,ot)),Promise.all(s)}}class Woe{constructor(e){this.parser=e,this.name=kt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class joe{constructor(e){this.parser=e,this.name=kt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);null!==c&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported}}class $oe{constructor(e){this.parser=e,this.name=kt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);null!==c&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported}}class Xoe{constructor(e){this.name=kt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const u=r.count,d=r.byteStride,h=new Uint8Array(a,r.byteOffset||0,r.byteLength||0);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,d,h,r.mode,r.filter).then(function(f){return f.buffer}):o.ready.then(function(){const f=new ArrayBuffer(u*d);return o.decodeGltfBuffer(new Uint8Array(f),u,d,h,r.mode,r.filter),f})})}return null}}class qoe{constructor(e){this.name=kt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||void 0===i.mesh)return null;const r=t.meshes[i.mesh];for(const c of r.primitives)if(c.mode!==Rr.TRIANGLES&&c.mode!==Rr.TRIANGLE_STRIP&&c.mode!==Rr.TRIANGLE_FAN&&void 0!==c.mode)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),d=u.isGroup?u.children:[u],h=c[0].count,f=[];for(const p of d){const g=new at,_=new A,m=new oi,y=new A(1,1,1),v=new Uk(p.geometry,p.material,h);for(let b=0;b<h;b++)l.TRANSLATION&&_.fromBufferAttribute(l.TRANSLATION,b),l.ROTATION&&m.fromBufferAttribute(l.ROTATION,b),l.SCALE&&y.fromBufferAttribute(l.SCALE,b),v.setMatrixAt(b,g.compose(_,m,y));for(const b in l)"TRANSLATION"!==b&&"ROTATION"!==b&&"SCALE"!==b&&p.geometry.setAttribute(b,l[b]);Zn.prototype.copy.call(v,p),this.parser.assignFinalMaterial(v),f.push(v)}return u.isGroup?(u.clear(),u.add(...f),u):f[0]}))}}const FN="glTF";class Yoe{constructor(e){this.name=kt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,12),i=new TextDecoder;if(this.header={magic:i.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==FN)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-12,s=new DataView(e,12);let o=0;for(;o<r;){const a=s.getUint32(o,!0);o+=4;const l=s.getUint32(o,!0);if(o+=4,1313821514===l){const c=new Uint8Array(e,12+o,a);this.content=i.decode(c)}else if(5130562===l){const c=12+o;this.body=e.slice(c,c+a)}o+=a}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Koe{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=kt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const d=DM[u]||u.toLowerCase();a[d]=o[u]}for(const u in e.attributes){const d=DM[u]||u.toLowerCase();if(void 0!==o[u]){const h=i.accessors[e.attributes[u]];c[d]=bu[h.componentType].name,l[d]=!0===h.normalized}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(d){r.decodeDracoFile(u,function(h){for(const f in h.attributes){const g=l[f];void 0!==g&&(h.attributes[f].normalized=g)}d(h)},a,c)})})}}class Zoe{constructor(){this.name=kt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(void 0===t.texCoord||t.texCoord===e.channel)&&void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Qoe{constructor(){this.name=kt.KHR_MESH_QUANTIZATION}}class UN extends Ch{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=2*a,c=3*a,u=r-t,d=(i-t)/u,h=d*d,f=h*d,p=e*c,g=p-c,_=-2*f+3*h,m=f-h,y=1-_,v=m-h+d;for(let b=0;b!==a;b++)s[b]=y*o[g+b+a]+v*(o[g+b+l]*u)+_*o[p+b+a]+m*(o[p+b]*u);return s}}const Joe=new oi;class eae extends UN{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return Joe.fromArray(s).normalize().toArray(s),s}}const Rr={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},bu={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},zN={9728:In,9729:xn,9984:Jm,9985:Yx,9986:th,9987:uo},HN={33071:mi,33648:eh,10497:Oa},AM={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},DM={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},ea={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},tae={CUBICSPLINE:void 0,LINEAR:kc,STEP:ih};function Lh(n,e,t){for(const i in t.extensions)void 0===n[i]&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function ta(n,e){void 0!==e.extras&&("object"==typeof e.extras?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function rae(n,e){if(n.updateMorphTargets(),void 0!==e.weights)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function sae(n){const e=n.extensions&&n.extensions[kt.KHR_DRACO_MESH_COMPRESSION];let t;return t=e?"draco:"+e.bufferView+":"+e.indices+":"+VN(e.attributes):n.indices+":"+VN(n.attributes)+":"+n.mode,t}function VN(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function RM(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const aae=new at;class lae{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Ooe,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&(i=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),this.textureLoader=typeof createImageBitmap>"u"||i||r&&s<98?new noe(this.options.manager):new foe(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ts(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};Lh(s,a,r),ta(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];void 0!==o.mesh&&(this._addNodeRef(this.meshCache,o.mesh),void 0!==o.skin&&(i[o.mesh].isSkinnedMesh=!0)),void 0!==o.camera&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);null!=l&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e)}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this;t=Promise.all((this.json[e+("mesh"===e?"es":"s")]||[]).map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[kt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(Ph.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const s=t.byteOffset||0;return i.slice(s,s+(t.byteLength||0))})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse){const o=AM[r.type],l=!0===r.normalized,c=new(0,bu[r.componentType])(r.count*o);return Promise.resolve(new Mn(c,o,l))}const s=[];return s.push(void 0!==r.bufferView?this.getDependency("bufferView",r.bufferView):null),void 0!==r.sparse&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=AM[r.type],c=bu[r.componentType],u=c.BYTES_PER_ELEMENT,h=r.byteOffset||0,f=void 0!==r.bufferView?i.bufferViews[r.bufferView].byteStride:void 0,p=!0===r.normalized;let g,_;if(f&&f!==u*l){const m=Math.floor(h/f),y="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+m+":"+r.count;let v=t.cache.get(y);v||(g=new c(a,m*f,r.count*f/u),v=new Fw(g,f/u),t.cache.add(y,v)),_=new Ya(v,l,h%f/u,p)}else g=null===a?new c(r.count*l):new c(a,h,r.count*l),_=new Mn(g,l,p);if(void 0!==r.sparse){const b=r.sparse.values.byteOffset||0,x=new(0,bu[r.sparse.indices.componentType])(o[1],r.sparse.indices.byteOffset||0,r.sparse.count*AM.SCALAR),M=new c(o[2],b,r.sparse.count*l);null!==a&&(_=new Mn(_.array.slice(),_.itemSize,_.normalized));for(let S=0,C=x.length;S<C;S++){const w=x[S];if(_.setX(w,M[S*l]),l>=2&&_.setY(w,M[S*l+1]),l>=3&&_.setZ(w,M[S*l+2]),l>=4&&_.setW(w,M[S*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return _})}loadTexture(e){const t=this.json,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=this.options.manager.getHandler(o.uri);null!==l&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,i).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",""===u.name&&"string"==typeof a.uri&&!1===a.uri.startsWith("data:image/")&&(u.name=a.uri);const h=(s.samplers||{})[o.sampler]||{};return u.magFilter=zN[h.magFilter]||xn,u.minFilter=zN[h.minFilter]||uo,u.wrapS=HN[h.wrapS]||Oa,u.wrapT=HN[h.wrapT]||Oa,r.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this.json,s=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then(d=>d.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(void 0!==o.bufferView)l=this.getDependency("bufferView",o.bufferView).then(function(d){c=!0;const h=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(h),l});else if(void 0===o.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(h,f){let p=h;!0===t.isImageBitmapLoader&&(p=function(g){const _=new Xr(g);_.needsUpdate=!0,h(_)}),t.load(Ph.resolveURL(d,s.path),p,void 0,f)})}).then(function(d){return!0===c&&a.revokeObjectURL(l),d.userData.mimeType=o.mimeType||function oae(n){return n.search(/\.jpe?g($|\?)/i)>0||0===n.search(/^data\:image\/jpeg/)?"image/jpeg":n.search(/\.webp($|\?)/i)>0||0===n.search(/^data\:image\/webp/)?"image/webp":"image/png"}(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(void 0!==i.texCoord&&i.texCoord>0&&((o=o.clone()).channel=i.texCoord),s.extensions[kt.KHR_TEXTURE_TRANSFORM]){const a=void 0!==i.extensions?i.extensions[kt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[kt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return void 0!==r&&(o.colorSpace=r),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=void 0===t.attributes.tangent,s=void 0!==t.attributes.color,o=void 0===t.attributes.normal;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Vw,Zr.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new qi,Zr.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return qg}loadMaterial(e){const t=this,r=this.extensions,s=this.json.materials[e];let o;const a={},c=[];if((s.extensions||{})[kt.KHR_MATERIALS_UNLIT]){const d=r[kt.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),c.push(d.extendParams(a,s,t))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new Ce(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const h=d.baseColorFactor;a.color.fromArray(h),a.opacity=h[3]}void 0!==d.baseColorTexture&&c.push(t.assignTexture(a,"map",d.baseColorTexture,ot)),a.metalness=void 0!==d.metallicFactor?d.metallicFactor:1,a.roughness=void 0!==d.roughnessFactor?d.roughnessFactor:1,void 0!==d.metallicRoughnessTexture&&(c.push(t.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,a)})))}!0===s.doubleSided&&(a.side=bs);const u=s.alphaMode||"OPAQUE";if("BLEND"===u?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,"MASK"===u&&(a.alphaTest=void 0!==s.alphaCutoff?s.alphaCutoff:.5)),void 0!==s.normalTexture&&o!==Ar&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new se(1,1),void 0!==s.normalTexture.scale)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}return void 0!==s.occlusionTexture&&o!==Ar&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),void 0!==s.occlusionTexture.strength&&(a.aoMapIntensity=s.occlusionTexture.strength)),void 0!==s.emissiveFactor&&o!==Ar&&(a.emissive=(new Ce).fromArray(s.emissiveFactor)),void 0!==s.emissiveTexture&&o!==Ar&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,ot)),Promise.all(c).then(function(){const d=new o(a);return s.name&&(d.name=s.name),ta(d,s),t.associations.set(d,{materials:e}),s.extensions&&Lh(r,d,s),d})}createUniqueName(e){const t=sn.sanitizeNodeName(e||"");let i=t;for(let r=1;this.nodeNamesUsed[i];++r)i=t+"_"+r;return this.nodeNamesUsed[i]=!0,i}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[kt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return GN(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=sae(c),d=r[u];if(d)o.push(d.promise);else{let h;h=c.extensions&&c.extensions[kt.KHR_DRACO_MESH_COMPRESSION]?s(c):GN(new Et,c,t),r[u]={primitive:c,promise:h},o.push(h)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.extensions,s=this.json.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=void 0===o[l].material?(void 0===(n=this.cache).DefaultMaterial&&(n.DefaultMaterial=new qg({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:lo})),n.DefaultMaterial):this.getDependency("material",o[l].material);a.push(u)}var n;return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let f=0,p=u.length;f<p;f++){const g=u[f],_=o[f];let m;const y=c[f];if(_.mode===Rr.TRIANGLES||_.mode===Rr.TRIANGLE_STRIP||_.mode===Rr.TRIANGLE_FAN||void 0===_.mode)m=!0===s.isSkinnedMesh?new kk(g,y):new vi(g,y),!0===m.isSkinnedMesh&&m.normalizeSkinWeights(),_.mode===Rr.TRIANGLE_STRIP?m.geometry=NN(m.geometry,bL):_.mode===Rr.TRIANGLE_FAN&&(m.geometry=NN(m.geometry,iw));else if(_.mode===Rr.LINES)m=new Hw(g,y);else if(_.mode===Rr.LINE_STRIP)m=new Ka(g,y);else if(_.mode===Rr.LINE_LOOP)m=new jk(g,y);else{if(_.mode!==Rr.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);m=new Xk(g,y)}Object.keys(m.geometry.morphAttributes).length>0&&rae(m,s),m.name=t.createUniqueName(s.name||"mesh_"+e),ta(m,s),_.extensions&&Lh(r,m,_),t.assignFinalMaterial(m),d.push(m)}for(let f=0,p=d.length;f<p;f++)t.associations.set(d[f],{meshes:e,primitives:f});if(1===d.length)return d[0];const h=new Zo;t.associations.set(h,{meshes:e});for(let f=0,p=d.length;f<p;f++)h.add(d[f]);return h})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(r)return"perspective"===i.type?t=new Jn(Iee_radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===i.type&&(t=new Eg(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),ta(t,i),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return i.push(void 0!==t.inverseBindMatrices?this.getDependency("accessor",t.inverseBindMatrices):null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const d=o[c];if(d){a.push(d);const h=new at;null!==s&&h.fromArray(s.array,16*c),l.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new Pg(a,l)})}loadAnimation(e){const i=this.json.animations[e],r=i.name?i.name:"animation_"+e,s=[],o=[],a=[],l=[],c=[];for(let u=0,d=i.channels.length;u<d;u++){const h=i.channels[u],f=i.samplers[h.sampler],p=h.target,_=void 0!==i.parameters?i.parameters[f.input]:f.input,m=void 0!==i.parameters?i.parameters[f.output]:f.output;void 0!==p.node&&(s.push(this.getDependency("node",p.node)),o.push(this.getDependency("accessor",_)),a.push(this.getDependency("accessor",m)),l.push(f),c.push(p))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(u){const d=u[0],h=u[1],f=u[2],p=u[3],g=u[4],_=[];for(let m=0,y=d.length;m<y;m++){const v=d[m],b=h[m],x=f[m],M=p[m],S=g[m];if(void 0===v)continue;let C;switch(v.updateMatrix(),ea[S.path]){case ea.weights:C=Th;break;case ea.rotation:C=el;break;default:C=Ah}const w=v.name?v.name:v.uuid,E=void 0!==M.interpolation?tae[M.interpolation]:kc,L=[];ea[S.path]===ea.weights?v.traverse(function(R){R.morphTargetInfluences&&L.push(R.name?R.name:R.uuid)}):L.push(w);let U=x.array;if(x.normalized){const R=RM(U.constructor),N=new Float32Array(U.length);for(let B=0,k=U.length;B<k;B++)N[B]=U[B]*R;U=N}for(let R=0,N=L.length;R<N;R++){const B=new C(L[R]+"."+ea[S.path],b.array,U,E);"CUBICSPLINE"===M.interpolation&&(B.createInterpolant=function(z){return new(this instanceof el?eae:UN)(this.times,this.values,this.getValueSize()/3,z)},B.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),_.push(B)}}return new Dh(r,void 0,_)})}createNodeMesh(e){const i=this,r=this.json.nodes[e];return void 0===r.mesh?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return void 0!==r.weights&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const i=this,r=this.json.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let c=0,u=a.length;c<u;c++)o.push(i.getDependency("node",a[c]));const l=void 0===r.skin?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],d=c[1],h=c[2];null!==h&&u.traverse(function(f){f.isSkinnedMesh&&f.bind(h,aae)});for(let f=0,p=d.length;f<p;f++)u.add(d[f]);return u})}_loadNodeShallow(e){const i=this.extensions,r=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];const s=this.json.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),void 0!==s.camera&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(u=!0===s.isBone?new Uw:c.length>1?new Zo:1===c.length?c[0]:new Zn,u!==c[0])for(let d=0,h=c.length;d<h;d++)u.add(c[d]);if(s.name&&(u.userData.name=s.name,u.name=o),ta(u,s),s.extensions&&Lh(i,u,s),void 0!==s.matrix){const d=new at;d.fromArray(s.matrix),u.applyMatrix4(d)}else void 0!==s.translation&&u.position.fromArray(s.translation),void 0!==s.rotation&&u.quaternion.fromArray(s.rotation),void 0!==s.scale&&u.scale.fromArray(s.scale);return r.associations.has(u)||r.associations.set(u,{}),r.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new Zo;i.name&&(s.name=r.createUniqueName(i.name)),ta(s,i),i.extensions&&Lh(t,s,i);const o=i.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,d=l.length;u<d;u++)s.add(l[u]);return r.associations=(u=>{const d=new Map;for(const[h,f]of r.associations)(h instanceof Zr||h instanceof Xr)&&d.set(h,f);return u.traverse(h=>{const f=r.associations.get(h);null!=f&&d.set(h,f)}),d})(s),s})}}function GN(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=DM[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(void 0!==e.indices&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return ta(n,e),function cae(n,e,t){const i=e.attributes,r=new qr;if(void 0===i.POSITION)return;{const a=t.json.accessors[i.POSITION],l=a.min,c=a.max;if(void 0===l||void 0===c)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(r.set(new A(l[0],l[1],l[2]),new A(c[0],c[1],c[2])),a.normalized){const u=RM(bu[a.componentType]);r.min.multiplyScalar(u),r.max.multiplyScalar(u)}}const s=e.targets;if(void 0!==s){const a=new A,l=new A;for(let c=0,u=s.length;c<u;c++){const d=s[c];if(void 0!==d.POSITION){const h=t.json.accessors[d.POSITION],f=h.min,p=h.max;if(void 0!==f&&void 0!==p){if(l.setX(Math.max(Math.abs(f[0]),Math.abs(p[0]))),l.setY(Math.max(Math.abs(f[1]),Math.abs(p[1]))),l.setZ(Math.max(Math.abs(f[2]),Math.abs(p[2]))),h.normalized){const g=RM(bu[h.componentType]);l.multiplyScalar(g)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new ws;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}(n,e,t),Promise.all(r).then(function(){return void 0!==e.targets?function iae(n,e,t){let i=!1,r=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(void 0!==d.POSITION&&(i=!0),void 0!==d.NORMAL&&(r=!0),void 0!==d.COLOR_0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(i){const h=void 0!==d.POSITION?t.getDependency("accessor",d.POSITION):n.attributes.position;o.push(h)}if(r){const h=void 0!==d.NORMAL?t.getDependency("accessor",d.NORMAL):n.attributes.normal;a.push(h)}if(s){const h=void 0!==d.COLOR_0?t.getDependency("accessor",d.COLOR_0):n.attributes.color;l.push(h)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const d=c[1],h=c[2];return i&&(n.morphAttributes.position=c[0]),r&&(n.morphAttributes.normal=d),s&&(n.morphAttributes.color=h),n.morphTargetsRelative=!0,n})}(n,e.targets,t):n})}const WN={type:"change"},PM={type:"start"},jN={type:"end"};class uae extends za{constructor(e,t){super(),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new A,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Dc.ROTATE,MIDDLE:Dc.DOLLY,RIGHT:Dc.PAN},this.touches={ONE:Ic.ROTATE,TWO:Ic.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return a.phi},this.getAzimuthalAngle=function(){return a.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(O){O.addEventListener("keydown",ht),this._domElementKeyEvents=O},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",ht),this._domElementKeyEvents=null},this.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(WN),i.update(),s=r.NONE},this.update=function(){const O=new A,ae=(new oi).setFromUnitVectors(e.up,new A(0,1,0)),Q=ae.clone().invert(),Se=new A,Be=new oi,$e=2*Math.PI;return function(){const Ge=i.object.position;O.copy(Ge).sub(i.target),O.applyQuaternion(ae),a.setFromVector3(O),i.autoRotate&&s===r.NONE&&w(function S(){return 2*Math.PI/60/60*i.autoRotateSpeed}()),i.enableDamping?(a.theta+=l.theta*i.dampingFactor,a.phi+=l.phi*i.dampingFactor):(a.theta+=l.theta,a.phi+=l.phi);let ft=i.minAzimuthAngle,Ct=i.maxAzimuthAngle;return isFinite(ft)&&isFinite(Ct)&&(ft<-Math.PI?ft+=$e:ft>Math.PI&&(ft-=$e),Ct<-Math.PI?Ct+=$e:Ct>Math.PI&&(Ct-=$e),a.theta=ft<=Ct?Math.max(ft,Math.min(Ct,a.theta)):a.theta>(ft+Ct)/2?Math.max(ft,a.theta):Math.min(Ct,a.theta)),a.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,a.phi)),a.makeSafe(),a.radius*=c,a.radius=Math.max(i.minDistance,Math.min(i.maxDistance,a.radius)),!0===i.enableDamping?i.target.addScaledVector(u,i.dampingFactor):i.target.add(u),O.setFromSpherical(a),O.applyQuaternion(Q),Ge.copy(i.target).add(O),i.object.lookAt(i.target),!0===i.enableDamping?(l.theta*=1-i.dampingFactor,l.phi*=1-i.dampingFactor,u.multiplyScalar(1-i.dampingFactor)):(l.set(0,0,0),u.set(0,0,0)),c=1,!!(d||Se.distanceToSquared(i.object.position)>o||8*(1-Be.dot(i.object.quaternion))>o)&&(i.dispatchEvent(WN),Se.copy(i.object.position),Be.copy(i.object.quaternion),d=!1,!0)}}(),this.dispose=function(){i.domElement.removeEventListener("contextmenu",T),i.domElement.removeEventListener("pointerdown",de),i.domElement.removeEventListener("pointercancel",xe),i.domElement.removeEventListener("wheel",Ve),i.domElement.removeEventListener("pointermove",Ae),i.domElement.removeEventListener("pointerup",xe),null!==i._domElementKeyEvents&&(i._domElementKeyEvents.removeEventListener("keydown",ht),i._domElementKeyEvents=null)};const i=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=r.NONE;const o=1e-6,a=new CN,l=new CN;let c=1;const u=new A;let d=!1;const h=new se,f=new se,p=new se,g=new se,_=new se,m=new se,y=new se,v=new se,b=new se,x=[],M={};function C(){return Math.pow(.95,i.zoomSpeed)}function w(O){l.theta-=O}function E(O){l.phi-=O}const L=function(){const O=new A;return function(Q,Se){O.setFromMatrixColumn(Se,0),O.multiplyScalar(-Q),u.add(O)}}(),U=function(){const O=new A;return function(Q,Se){!0===i.screenSpacePanning?O.setFromMatrixColumn(Se,1):(O.setFromMatrixColumn(Se,0),O.crossVectors(i.object.up,O)),O.multiplyScalar(Q),u.add(O)}}(),R=function(){const O=new A;return function(Q,Se){const Be=i.domElement;if(i.object.isPerspectiveCamera){O.copy(i.object.position).sub(i.target);let Le=O.length();Le*=Math.tan(i.object.fov/2*Math.PI/180),L(2*Q*Le/Be.clientHeight,i.object.matrix),U(2*Se*Le/Be.clientHeight,i.object.matrix)}else i.object.isOrthographicCamera?(L(Q*(i.object.right-i.object.left)/i.object.zoom/Be.clientWidth,i.object.matrix),U(Se*(i.object.top-i.object.bottom)/i.object.zoom/Be.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function N(O){i.object.isPerspectiveCamera?c/=O:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*O)),i.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function B(O){i.object.isPerspectiveCamera?c*=O:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/O)),i.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function k(O){h.set(O.clientX,O.clientY)}function V(O){g.set(O.clientX,O.clientY)}function Z(){1===x.length?h.set(x[0].pageX,x[0].pageY):h.set(.5*(x[0].pageX+x[1].pageX),.5*(x[0].pageY+x[1].pageY))}function _e(){1===x.length?g.set(x[0].pageX,x[0].pageY):g.set(.5*(x[0].pageX+x[1].pageX),.5*(x[0].pageY+x[1].pageY))}function ye(){const O=x[0].pageX-x[1].pageX,ae=x[0].pageY-x[1].pageY,Q=Math.sqrt(O*O+ae*ae);y.set(0,Q)}function Ie(O){if(1==x.length)f.set(O.pageX,O.pageY);else{const Q=Ee(O);f.set(.5*(O.pageX+Q.x),.5*(O.pageY+Q.y))}p.subVectors(f,h).multiplyScalar(i.rotateSpeed);const ae=i.domElement;w(2*Math.PI*p.x/ae.clientHeight),E(2*Math.PI*p.y/ae.clientHeight),h.copy(f)}function he(O){if(1===x.length)_.set(O.pageX,O.pageY);else{const ae=Ee(O);_.set(.5*(O.pageX+ae.x),.5*(O.pageY+ae.y))}m.subVectors(_,g).multiplyScalar(i.panSpeed),R(m.x,m.y),g.copy(_)}function De(O){const ae=Ee(O),Q=O.pageX-ae.x,Se=O.pageY-ae.y,Be=Math.sqrt(Q*Q+Se*Se);v.set(0,Be),b.set(0,Math.pow(v.y/y.y,i.zoomSpeed)),N(b.y),y.copy(v)}function de(O){!1!==i.enabled&&(0===x.length&&(i.domElement.setPointerCapture(O.pointerId),i.domElement.addEventListener("pointermove",Ae),i.domElement.addEventListener("pointerup",xe)),function K(O){x.push(O)}(O),"touch"===O.pointerType?function St(O){switch(fe(O),x.length){case 1:switch(i.touches.ONE){case Ic.ROTATE:if(!1===i.enableRotate)return;Z(),s=r.TOUCH_ROTATE;break;case Ic.PAN:if(!1===i.enablePan)return;_e(),s=r.TOUCH_PAN;break;default:s=r.NONE}break;case 2:switch(i.touches.TWO){case Ic.DOLLY_PAN:if(!1===i.enableZoom&&!1===i.enablePan)return;(function P(){i.enableZoom&&ye(),i.enablePan&&_e()})(),s=r.TOUCH_DOLLY_PAN;break;case Ic.DOLLY_ROTATE:if(!1===i.enableZoom&&!1===i.enableRotate)return;(function Ne(){i.enableZoom&&ye(),i.enableRotate&&Z()})(),s=r.TOUCH_DOLLY_ROTATE;break;default:s=r.NONE}break;default:s=r.NONE}s!==r.NONE&&i.dispatchEvent(PM)}(O):function je(O){let ae;switch(O.button){case 0:ae=i.mouseButtons.LEFT;break;case 1:ae=i.mouseButtons.MIDDLE;break;case 2:ae=i.mouseButtons.RIGHT;break;default:ae=-1}switch(ae){case Dc.DOLLY:if(!1===i.enableZoom)return;(function z(O){y.set(O.clientX,O.clientY)})(O),s=r.DOLLY;break;case Dc.ROTATE:if(O.ctrlKey||O.metaKey||O.shiftKey){if(!1===i.enablePan)return;V(O),s=r.PAN}else{if(!1===i.enableRotate)return;k(O),s=r.ROTATE}break;case Dc.PAN:if(O.ctrlKey||O.metaKey||O.shiftKey){if(!1===i.enableRotate)return;k(O),s=r.ROTATE}else{if(!1===i.enablePan)return;V(O),s=r.PAN}break;default:s=r.NONE}s!==r.NONE&&i.dispatchEvent(PM)}(O))}function Ae(O){!1!==i.enabled&&("touch"===O.pointerType?function I(O){switch(fe(O),s){case r.TOUCH_ROTATE:if(!1===i.enableRotate)return;Ie(O),i.update();break;case r.TOUCH_PAN:if(!1===i.enablePan)return;he(O),i.update();break;case r.TOUCH_DOLLY_PAN:if(!1===i.enableZoom&&!1===i.enablePan)return;(function le(O){i.enableZoom&&De(O),i.enablePan&&he(O)})(O),i.update();break;case r.TOUCH_DOLLY_ROTATE:if(!1===i.enableZoom&&!1===i.enableRotate)return;(function te(O){i.enableZoom&&De(O),i.enableRotate&&Ie(O)})(O),i.update();break;default:s=r.NONE}}(O):function qe(O){switch(s){case r.ROTATE:if(!1===i.enableRotate)return;!function X(O){f.set(O.clientX,O.clientY),p.subVectors(f,h).multiplyScalar(i.rotateSpeed);const ae=i.domElement;w(2*Math.PI*p.x/ae.clientHeight),E(2*Math.PI*p.y/ae.clientHeight),h.copy(f),i.update()}(O);break;case r.DOLLY:if(!1===i.enableZoom)return;!function ee(O){v.set(O.clientX,O.clientY),b.subVectors(v,y),b.y>0?N(C()):b.y<0&&B(C()),y.copy(v),i.update()}(O);break;case r.PAN:if(!1===i.enablePan)return;!function be(O){_.set(O.clientX,O.clientY),m.subVectors(_,g).multiplyScalar(i.panSpeed),R(m.x,m.y),g.copy(_),i.update()}(O)}}(O))}function xe(O){(function oe(O){delete M[O.pointerId];for(let ae=0;ae<x.length;ae++)if(x[ae].pointerId==O.pointerId)return void x.splice(ae,1)})(O),0===x.length&&(i.domElement.releasePointerCapture(O.pointerId),i.domElement.removeEventListener("pointermove",Ae),i.domElement.removeEventListener("pointerup",xe)),i.dispatchEvent(jN),s=r.NONE}function Ve(O){!1===i.enabled||!1===i.enableZoom||s!==r.NONE||(O.preventDefault(),i.dispatchEvent(PM),function ge(O){O.deltaY<0?B(C()):O.deltaY>0&&N(C()),i.update()}(O),i.dispatchEvent(jN))}function ht(O){!1===i.enabled||!1===i.enablePan||function Y(O){let ae=!1;switch(O.code){case i.keys.UP:O.ctrlKey||O.metaKey||O.shiftKey?E(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):R(0,i.keyPanSpeed),ae=!0;break;case i.keys.BOTTOM:O.ctrlKey||O.metaKey||O.shiftKey?E(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):R(0,-i.keyPanSpeed),ae=!0;break;case i.keys.LEFT:O.ctrlKey||O.metaKey||O.shiftKey?w(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):R(i.keyPanSpeed,0),ae=!0;break;case i.keys.RIGHT:O.ctrlKey||O.metaKey||O.shiftKey?w(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):R(-i.keyPanSpeed,0),ae=!0}ae&&(O.preventDefault(),i.update())}(O)}function T(O){!1!==i.enabled&&O.preventDefault()}function fe(O){let ae=M[O.pointerId];void 0===ae&&(ae=new se,M[O.pointerId]=ae),ae.set(O.pageX,O.pageY)}function Ee(O){return M[(O.pointerId===x[0].pointerId?x[1]:x[0]).pointerId]}i.domElement.addEventListener("contextmenu",T),i.domElement.addEventListener("pointerdown",de),i.domElement.addEventListener("pointercancel",xe),i.domElement.addEventListener("wheel",Ve,{passive:!1}),this.update()}}const dae=["canvas"];function hae(n,e){if(1&n){const t=Yl();G(0,"button",15),st("click",function(){const s=_l(t).$implicit;return vl(vr(2).setResolution(s))}),J(1),$()}if(2&n){const t=e.$implicit;ze("cdkMenuItemChecked",vr(2).resolution===t),Fe(1),Gs(" ",t," ")}}function fae(n,e){if(1&n&&(G(0,"div",13),Ei(1,hae,2,2,"button",14),$()),2&n){const t=vr();Fe(1),ze("ngForOf",t.Resolutions)}}let pae=(()=>{class n{constructor(){this.file="",this.doRotate=!1,this.fieldOfView=1,this.resolution=1,this.nearClippingPane=1,this.farClippingPane=1e3,this.positions=[new U6({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"})],this.Resolutions=[.1,.25,.5,.75,1],this.modelLoader=new Poe}ngAfterViewInit(){this._createScene(),this._createRenderer(),this._createControls(),this._loadModel()}ngOnDestroy(){cancelAnimationFrame(this.renderId)}get canvas(){return this.canvasRef.nativeElement}get viewPort(){return document.getElementById("viewport")}get aspectRatio(){return this.viewPort.clientWidth/this.viewPort.clientHeight}get isFullscreen(){return window.innerWidth===screen.width&&window.innerHeight===screen.height}onResize(){this.renderer.setSize(this.viewPort.clientWidth,this.viewPort.clientHeight),this.camera.aspect=this.aspectRatio,this.camera.updateProjectionMatrix()}onFullscreenChanged(t){this.isFullscreen||this.leaveFullscreen()}_createControls(){this.controler=new uae(this.camera,this.renderer.domElement),this.controler.autoRotate=this.doRotate,this.controler.enableZoom=!0,this.controler.enablePan=!0,this.controler.update()}_createScene(){this.scene=new Sk,this.scene.background=new Ce(13948120),this.camera=new Jn(this.fieldOfView,this.aspectRatio,this.nearClippingPane,this.farClippingPane),this.camera.position.set(200,200,200),this.camera.lookAt(0,0,0),this.ambientLight=new mN(0,100),this.scene.add(this.ambientLight),this.directionalLight=new yM(16768772,.4),this.directionalLight.position.set(0,1,0),this.directionalLight.castShadow=!0,this.scene.add(this.directionalLight),this.light1=new yu(4929308,10),this.light1.position.set(0,200,400),this.scene.add(this.light1),this.light2=new yu(4929308,10),this.light2.position.set(500,100,0),this.scene.add(this.light2),this.light3=new yu(4929308,10),this.light3.position.set(0,100,-500),this.scene.add(this.light3),this.light4=new yu(4929308,10),this.light4.position.set(-500,300,500),this.scene.add(this.light4)}_createRenderer(){this.renderer=new Ek({canvas:this.canvas,antialias:!0}),this.renderer.setPixelRatio(devicePixelRatio*this.resolution),this.renderer.setSize(this.canvas.clientWidth,this.canvas.clientHeight);let t=this;!function i(){t.renderer.render(t.scene,t.camera),t.renderId=requestAnimationFrame(i)}()}_loadModel(){let t=document.getElementById("loader"),i=document.getElementById("loading-state"),r=document.getElementById("loader-bar"),s=document.getElementById("loader-bar-progress");this.modelLoader.load(this.file,a=>{(new qr).setFromObject(a.scene).getCenter(a.scene.position),a.scene.position.multiplyScalar(-1),this.scene.add(a.scene)});const o=new mM;this.modelLoader.manager=o,o.onStart=function(a,l,c){},o.onLoad=function(){t.style.opacity="0",t.style.visibility="hidden"},o.onProgress=function(a,l,c){s.style.width=String(l/c*100)+"%"},o.onError=function(a){r.style.display="none",i.innerText="Error"}}setResolution(t){this.renderer.setPixelRatio(devicePixelRatio*t),this.resolution=t}toggleFullscreen(){this.isFullscreen?this.leaveFullscreen():this.enterFullscreen(),window.dispatchEvent(new Event("resize"))}enterFullscreen(){let t=document.getElementById("topbar");const i=document.documentElement;i.requestFullscreen?i.requestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.msRequestFullscreen&&i.msRequestFullscreen(),t.style.marginTop="-100%",t.style.visibility="hidden",this.viewPort.classList.add("fullscreen"),window.dispatchEvent(new Event("resize"))}leaveFullscreen(){let t=document.getElementById("topbar");const i=document;i.exitFullscreen?i.exitFullscreen():i.mozCancelFullScreen?i.mozCancelFullScreen():i.webkitExitFullscreen?i.webkitExitFullscreen():i.msExitFullscreen&&i.msExitFullscreen(),t.style.marginTop="unset",t.style.visibility="visible",this.viewPort.classList.remove("fullscreen"),window.dispatchEvent(new Event("resize"))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=tn({type:n,selectors:[["app-model-viewer"]],viewQuery:function(t,i){if(1&t&&To(dae,5),2&t){let r;Ai(r=Di())&&(i.canvasRef=r.first)}},hostBindings:function(t,i){1&t&&st("resize",function(){return i.onResize()},0,kl)("fullscreenchange",function(){return i.onFullscreenChanged()},!1,$u)("mozfullscreenchange",function(){return i.onFullscreenChanged()},!1,$u)("webkitfullscreenchange",function(){return i.onFullscreenChanged()},!1,$u)("msfullscreenchange",function(){return i.onFullscreenChanged()},!1,$u)},inputs:{file:"file",doRotate:"doRotate",fieldOfView:"fieldOfView",resolution:"resolution",nearClippingPane:["nearClipping","nearClippingPane"],farClippingPane:["farClipping","farClippingPane"]},decls:15,vars:5,consts:[["id","viewport"],["id","model-viewer"],["canvas",""],["id","loader"],[1,"center"],["id","loading-state"],["id","loader-bar"],["id","loader-bar-progress"],["id","viewport-bottom"],["id","model-tools"],["id","setting",1,"fa","fa-gear",3,"cdkMenuTriggerFor","cdkMenuPosition"],["id","expand",3,"click"],["Settings",""],["cdkMenu","",1,"ContextMenu"],["class","ContextMenu-Item","cdkMenuItemCheckbox","",3,"cdkMenuItemChecked","click",4,"ngFor","ngForOf"],["cdkMenuItemCheckbox","",1,"ContextMenu-Item",3,"cdkMenuItemChecked","click"]],template:function(t,i){if(1&t&&(G(0,"div",0),We(1,"canvas",1,2),G(3,"div",3)(4,"div",4)(5,"p",5),J(6," Loading 3D model... "),$(),G(7,"div",6),We(8,"div",7),$()()(),G(9,"div",8)(10,"div",9),We(11,"a",10),G(12,"a",11),st("click",function(){return i.toggleFullscreen()}),$()()()(),Ei(13,fae,2,1,"ng-template",null,12,ba)),2&t){const r=ql(14);Fe(11),ze("cdkMenuTriggerFor",r)("cdkMenuPosition",i.positions),Fe(1),Vf("fa ",i.isFullscreen?"fa-compress":"fa-expand","")}},dependencies:[gp,Gd,dP,bm],styles:["*[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.fa[_ngcontent-%COMP%]{width:30px;height:30px;font-size:21px;text-align:center;text-decoration:none;border-radius:50%;padding:5px}.center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}#viewport[_ngcontent-%COMP%]{width:100%;aspect-ratio:16/9;border-radius:var(--rounded);overflow:hidden;position:relative}#model-viewer[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;cursor:grab;background-color:#0ff}#model-viewer[_ngcontent-%COMP%]:active{cursor:grabbing}#loader[_ngcontent-%COMP%]{width:100%;height:100%;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);position:absolute;top:0;left:0;margin:0;opacity:1;visibility:visible;z-index:9999;transition:opacity 1s ease-in-out,visibility 1s ease-in-out}#loading-state[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin:0;text-align:center;color:var(--dark1)}#loader-bar[_ngcontent-%COMP%]{width:100%;height:5px;background-color:var(--alpha-dark);border-radius:100px;margin-top:5px;overflow:hidden}#loader-bar-progress[_ngcontent-%COMP%]{width:0%;height:100%;background-color:var(--scheme-color);border-radius:100px;transition:width .5s ease-in-out}#viewport-bottom[_ngcontent-%COMP%]{width:100%;height:14%;position:absolute;left:0;bottom:0;background-color:transparent;opacity:0;z-index:1000}#viewport-bottom[_ngcontent-%COMP%]:hover{opacity:1}#model-tools[_ngcontent-%COMP%]{width:auto;height:auto;background-color:var(--alpha-dark);border-radius:100px;position:absolute;right:0;bottom:0;margin:5px;padding:5px;gap:8px;display:flex;justify-content:right;align-items:center}#model-tools[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{cursor:pointer;background-color:transparent;color:var(--white1);transition:scale .1s ease}#model-tools[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:hover{background-color:var(--alpha-dark)}#model-tools[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:active{scale:.95}#viewport.fullscreen[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:0;position:fixed;top:0;left:0;z-index:9999}#viewport.fullscreen[_ngcontent-%COMP%]   #model-tools[_ngcontent-%COMP%]{margin:20px}@media only screen and (max-width: 900px){#viewport[_ngcontent-%COMP%]{border-radius:0}}@media only screen and (max-width: 900px) and (min-height: 1200px){#viewport[_ngcontent-%COMP%]{aspect-ratio:3/4}}@media only screen and (max-width: 900px) and (max-height: 1200px){#viewport[_ngcontent-%COMP%]{aspect-ratio:4/3}}@media only screen and (max-width: 900px) and (max-height: 900px){#viewport[_ngcontent-%COMP%]{aspect-ratio:16/9}}@media only screen and (max-width: 900px) and (max-height: 600px){#viewport[_ngcontent-%COMP%]{aspect-ratio:2.35/1}}@media only screen and (max-width: 600px) and (min-height: 1200px){#viewport[_ngcontent-%COMP%]{aspect-ratio:9/16}}@media only screen and (max-width: 600px) and (max-height: 1200px){#viewport[_ngcontent-%COMP%]{aspect-ratio:2/3}}@media only screen and (max-width: 600px) and (max-height: 900px){#viewport[_ngcontent-%COMP%]{aspect-ratio:4/5}}@media only screen and (max-width: 600px) and (max-height: 600px){#viewport[_ngcontent-%COMP%]{aspect-ratio:4/3}}"]}),n})();const mae=[{path:"",component:oZ,data:{title:"Home",description:"Hi I'm Stamp, nice to meet you!",Image:"assets/images/profile.jpg"}},{path:"aboutme",component:sZ,data:{title:"About me",description:"Hi I'm Stamp, nice to meet you!",Image:"assets/images/profile.jpg"}},{path:"contact",component:uZ,data:{title:"Contact me",description:"Feel free to contact me!",Image:"assets/images/profile.jpg"}},{path:"resume",component:pJ,data:{title:"Resume",description:"Stamp's resume is here!",Image:"assets/images/profile.jpg"}},{path:"3d",component:vJ},{path:"3d/:model",component:(()=>{class n{constructor(t,i,r){this.router=t,this.activatedRoute=i,this.backend=r,this.model=""}ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.model=t.get("model")}),this.backend.isFileExist(`assets/3D/${this.model}/obj.gltf`)||this.router.navigateByUrl("404")}}return n.\u0275fac=function(t){return new(t||n)(H(yn),H(No),H(Dm))},n.\u0275cmp=tn({type:n,selectors:[["app-model-details"]],decls:7,vars:3,consts:[["id","modelcontent",1,"row"],["id","viewer",1,"column"],[3,"file","resolution"],["id","details",1,"column"]],template:function(t,i){1&t&&(G(0,"app-page")(1,"div",0)(2,"div",1),We(3,"app-model-viewer",2),$(),G(4,"div",3)(5,"h1"),J(6),$()()()()),2&t&&(Fe(3),Uf("file","assets/3D/",i.model,"/obj.gltf"),ze("resolution",1),Fe(3),_a(i.model))},dependencies:[Cc,pae],styles:['*[_ngcontent-%COMP%]{transition:all .2s ease-in-out}#modelcontent[_ngcontent-%COMP%]{width:85%;height:auto;margin-top:50px;position:relative;overflow:hidden}#viewer[_ngcontent-%COMP%]{width:65%}#details[_ngcontent-%COMP%]{width:35%;height:100%;padding-left:20px}.column[_ngcontent-%COMP%]{float:left}.row[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}h1[_ngcontent-%COMP%]{width:100%;margin:0}@media only screen and (max-width: 1200px){#modelcontent[_ngcontent-%COMP%]{width:90%}#viewer[_ngcontent-%COMP%]{width:70%}#details[_ngcontent-%COMP%]{width:30%;padding-left:16px;font-size:smaller}}@media only screen and (max-width: 900px){#modelcontent[_ngcontent-%COMP%]{width:100%;margin-top:0}.row[_ngcontent-%COMP%]{justify-content:center}.row[_ngcontent-%COMP%]:after{display:flex;flex-direction:column;clear:unset}.column[_ngcontent-%COMP%]{float:unset}#viewer[_ngcontent-%COMP%], #details[_ngcontent-%COMP%]{width:100%}#details[_ngcontent-%COMP%]{margin-top:20px;padding-left:0}}']}),n})()},{path:"404",component:dZ,data:{title:"Hmmm 404",description:"What are you looking for?"}},{path:"**",redirectTo:"404"}];let gae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jt({type:n,bootstrap:[Lq]}),n.\u0275inj=Ut({providers:[_s,Dm],imports:[S0.forRoot(mae),I1,Rq,dq,cj,uJ,SX,jX,KX,fP,M9,$K,H9,Eq,Dq]}),n})();lW().bootstrapModule(gae).catch(n=>console.error(n))}},Ft=>{Ft(Ft.s=863)}]);
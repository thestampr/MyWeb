"use strict";(self.webpackChunkresume=self.webpackChunkresume||[]).push([[179],{978:()=>{function Nt(n){return"function"==typeof n}function Au(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Gh=Au(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function gl(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class nn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(Nt(i))try{i()}catch(s){e=s instanceof Gh?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{IE(s)}catch(o){e=e??[],o instanceof Gh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Gh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)IE(e);else{if(e instanceof nn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&gl(t,e)}remove(e){const{_finalizers:t}=this;t&&gl(t,e),e instanceof nn&&e._removeParent(this)}}nn.EMPTY=(()=>{const n=new nn;return n.closed=!0,n})();const DE=nn.EMPTY;function PE(n){return n instanceof nn||n&&"closed"in n&&Nt(n.remove)&&Nt(n.add)&&Nt(n.unsubscribe)}function IE(n){Nt(n)?n():n.unsubscribe()}const da={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Wh={setTimeout(n,e,...t){const{delegate:i}=Wh;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Wh;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function RE(n){Wh.setTimeout(()=>{const{onUnhandledError:e}=da;if(!e)throw n;e(n)})}function g_(){}const s2=__("C",void 0,void 0);function __(n,e,t){return{kind:n,value:e,error:t}}let ha=null;function $h(n){if(da.useDeprecatedSynchronousErrorHandling){const e=!ha;if(e&&(ha={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=ha;if(ha=null,t)throw i}}else n()}class v_ extends nn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,PE(e)&&e.add(this)):this.destination=h2}static create(e,t,i){return new Du(e,t,i)}next(e){this.isStopped?b_(function a2(n){return __("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?b_(function o2(n){return __("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?b_(s2,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const c2=Function.prototype.bind;function y_(n,e){return c2.call(n,e)}class u2{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){jh(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){jh(i)}else jh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){jh(t)}}}class Du extends v_{constructor(e,t,i){let r;if(super(),Nt(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&da.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&y_(e.next,s),error:e.error&&y_(e.error,s),complete:e.complete&&y_(e.complete,s)}):r=e}this.destination=new u2(r)}}function jh(n){da.useDeprecatedSynchronousErrorHandling?function l2(n){da.useDeprecatedSynchronousErrorHandling&&ha&&(ha.errorThrown=!0,ha.error=n)}(n):RE(n)}function b_(n,e){const{onStoppedNotification:t}=da;t&&Wh.setTimeout(()=>t(n,e))}const h2={closed:!0,next:g_,error:function d2(n){throw n},complete:g_},x_="function"==typeof Symbol&&Symbol.observable||"@@observable";function To(n){return n}function OE(n){return 0===n.length?To:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let qt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const s=function m2(n){return n&&n instanceof v_||function p2(n){return n&&Nt(n.next)&&Nt(n.error)&&Nt(n.complete)}(n)&&PE(n)}(t)?t:new Du(t,i,r);return $h(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=kE(i))((r,s)=>{const o=new Du({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[x_](){return this}pipe(...t){return OE(t)(this)}toPromise(t){return new(t=kE(t))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function kE(n){var e;return null!==(e=n??da.Promise)&&void 0!==e?e:Promise}const g2=Au(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ke=(()=>{class n extends qt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new LE(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new g2}next(t){$h(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){$h(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){$h(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:s}=this;return i||r?DE:(this.currentObservers=null,s.push(t),new nn(()=>{this.currentObservers=null,gl(s,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){const t=new qt;return t.source=this,t}}return n.create=(e,t)=>new LE(e,t),n})();class LE extends ke{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:DE}}function FE(n){return Nt(n?.lift)}function _n(n){return e=>{if(FE(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function dn(n,e,t,i,r){return new _2(n,e,t,i,r)}class _2 extends v_{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Qe(n,e){return _n((t,i)=>{let r=0;t.subscribe(dn(i,s=>{i.next(n.call(e,s,r++))}))})}function fa(n){return this instanceof fa?(this.v=n,this):new fa(n)}function x2(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function UE(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}const M_=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function zE(n){return Nt(n?.then)}function HE(n){return Nt(n[x_])}function VE(n){return Symbol.asyncIterator&&Nt(n?.[Symbol.asyncIterator])}function GE(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const WE=function M2(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function $E(n){return Nt(n?.[WE])}function jE(n){return function b2(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){i[h]&&(r[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof fa?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(i[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield fa(t.read());if(r)return yield fa(void 0);yield yield fa(i)}}finally{t.releaseLock()}})}function XE(n){return Nt(n?.getReader)}function ri(n){if(n instanceof qt)return n;if(null!=n){if(HE(n))return function E2(n){return new qt(e=>{const t=n[x_]();if(Nt(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(M_(n))return function S2(n){return new qt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(zE(n))return function C2(n){return new qt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,RE)})}(n);if(VE(n))return qE(n);if($E(n))return function T2(n){return new qt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(XE(n))return function A2(n){return qE(jE(n))}(n)}throw GE(n)}function qE(n){return new qt(e=>{(function D2(n,e){var t,i,r,s;return function v2(n,e,t,i){return new(t||(t=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function r(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=x2(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Ls(n,e,t,i=0,r=!1){const s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function vn(n,e,t=1/0){return Nt(e)?vn((i,r)=>Qe((s,o)=>e(i,s,r,o))(ri(n(i,r))),t):("number"==typeof e&&(t=e),_n((i,r)=>function P2(n,e,t,i,r,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=g=>c<i?p(g):l.push(g),p=g=>{s&&e.next(g),c++;let _=!1;ri(t(g,u++)).subscribe(dn(e,m=>{r?.(m),s?f(m):e.next(m)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<i;){const m=l.shift();o?Ls(e,o,()=>p(m)):p(m)}h()}catch(m){e.error(m)}}))};return n.subscribe(dn(e,f,()=>{d=!0,h()})),()=>{a?.()}}(i,r,n,t)))}function Fs(n=1/0){return vn(To,n)}const Hr=new qt(n=>n.complete());function YE(n){return n&&Nt(n.schedule)}function E_(n){return n[n.length-1]}function KE(n){return Nt(E_(n))?n.pop():void 0}function Pu(n){return YE(E_(n))?n.pop():void 0}function ZE(n,e=0){return _n((t,i)=>{t.subscribe(dn(i,r=>Ls(i,n,()=>i.next(r),e),()=>Ls(i,n,()=>i.complete(),e),r=>Ls(i,n,()=>i.error(r),e)))})}function JE(n,e=0){return _n((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function QE(n,e){if(!n)throw new Error("Iterable cannot be null");return new qt(t=>{Ls(t,e,()=>{const i=n[Symbol.asyncIterator]();Ls(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function jn(n,e){return e?function B2(n,e){if(null!=n){if(HE(n))return function O2(n,e){return ri(n).pipe(JE(e),ZE(e))}(n,e);if(M_(n))return function L2(n,e){return new qt(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(zE(n))return function k2(n,e){return ri(n).pipe(JE(e),ZE(e))}(n,e);if(VE(n))return QE(n,e);if($E(n))return function F2(n,e){return new qt(t=>{let i;return Ls(t,e,()=>{i=n[WE](),Ls(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void t.error(o)}s?t.complete():t.next(r)},0,!0)}),()=>Nt(i?.return)&&i.return()})}(n,e);if(XE(n))return function N2(n,e){return QE(jE(n),e)}(n,e)}throw GE(n)}(n,e):ri(n)}function Ns(...n){const e=Pu(n),t=function R2(n,e){return"number"==typeof E_(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?ri(i[0]):Fs(t)(jn(i,e)):Hr}function eS(n={}){const{connector:e=(()=>new ke),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return _n((g,_)=>{c++,!d&&!u&&h();const m=l=l??e();_.add(()=>{c--,0===c&&!d&&!u&&(a=S_(p,r))}),m.subscribe(_),!o&&c>0&&(o=new Du({next:y=>m.next(y),error:y=>{d=!0,h(),a=S_(f,t,y),m.error(y)},complete:()=>{u=!0,h(),a=S_(f,i),m.complete()}}),ri(g).subscribe(o))})(s)}}function S_(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new Du({next:()=>{i.unsubscribe(),n()}});return ri(e(...t)).subscribe(i)}function Jt(n){for(let e in n)if(n[e]===Jt)return e;throw Error("Could not find renamed property on target object.")}function C_(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function rn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(rn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function T_(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const U2=Jt({__forward_ref__:Jt});function A_(n){return n.__forward_ref__=A_,n.toString=function(){return rn(this())},n}function et(n){return D_(n)?n():n}function D_(n){return"function"==typeof n&&n.hasOwnProperty(U2)&&n.__forward_ref__===A_}function P_(n){return n&&!!n.\u0275providers}const Xh="https://g.co/ng/security#xss";class ce extends Error{constructor(e,t){super(qh(e,t)),this.code=e}}function qh(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function lt(n){return"string"==typeof n?n:null==n?"":String(n)}function Yh(n,e){throw new ce(-201,!1)}function br(n,e){null==n&&function Wt(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function ve(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ut(n){return{providers:n.providers||[],imports:n.imports||[]}}function Kh(n){return tS(n,Zh)||tS(n,iS)}function tS(n,e){return n.hasOwnProperty(e)?n[e]:null}function nS(n){return n&&(n.hasOwnProperty(I_)||n.hasOwnProperty(q2))?n[I_]:null}const Zh=Jt({\u0275prov:Jt}),I_=Jt({\u0275inj:Jt}),iS=Jt({ngInjectableDef:Jt}),q2=Jt({ngInjectorDef:Jt});var tt=(()=>((tt=tt||{})[tt.Default=0]="Default",tt[tt.Host=1]="Host",tt[tt.Self=2]="Self",tt[tt.SkipSelf=4]="SkipSelf",tt[tt.Optional=8]="Optional",tt))();let R_;function xr(n){const e=R_;return R_=n,e}function rS(n,e,t){const i=Kh(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&tt.Optional?null:void 0!==e?e:void Yh(rn(n))}const cn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Iu={},O_="__NG_DI_FLAG__",Jh="ngTempTokenPath",K2="ngTokenPath",Z2=/\n/gm,J2="\u0275",sS="__source";let Ru;function _l(n){const e=Ru;return Ru=n,e}function Q2(n,e=tt.Default){if(void 0===Ru)throw new ce(-203,!1);return null===Ru?rS(n,void 0,e):Ru.get(n,e&tt.Optional?null:void 0,e)}function $(n,e=tt.Default){return(function Y2(){return R_}()||Q2)(et(n),e)}function Ee(n,e=tt.Default){return $(n,Qh(e))}function Qh(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function k_(n){const e=[];for(let t=0;t<n.length;t++){const i=et(n[t]);if(Array.isArray(i)){if(0===i.length)throw new ce(900,!1);let r,s=tt.Default;for(let o=0;o<i.length;o++){const a=i[o],l=eB(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}e.push($(r,s))}else e.push($(i))}return e}function Ou(n,e){return n[O_]=e,n.prototype[O_]=e,n}function eB(n){return n[O_]}function Bs(n){return{toString:n}.toString()}var ls=(()=>((ls=ls||{})[ls.OnPush=0]="OnPush",ls[ls.Default=1]="Default",ls))(),Vr=(()=>{return(n=Vr||(Vr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Vr;var n})();const Us={},zt=[],ef=Jt({\u0275cmp:Jt}),L_=Jt({\u0275dir:Jt}),F_=Jt({\u0275pipe:Jt}),aS=Jt({\u0275mod:Jt}),zs=Jt({\u0275fac:Jt}),ku=Jt({__NG_ELEMENT_ID__:Jt});let iB=0;function Yt(n){return Bs(()=>{const e=cS(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ls.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Vr.Emulated,id:"c"+iB++,styles:n.styles||zt,_:null,schemas:n.schemas||null,tView:null};uS(t);const i=n.dependencies;return t.directiveDefs=tf(i,!1),t.pipeDefs=tf(i,!0),t})}function sB(n){return jt(n)||ui(n)}function oB(n){return null!==n}function $t(n){return Bs(()=>({type:n.type,bootstrap:n.bootstrap||zt,declarations:n.declarations||zt,imports:n.imports||zt,exports:n.exports||zt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function lS(n,e){if(null==n)return Us;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,e&&(e[r]=s)}return t}function Ze(n){return Bs(()=>{const e=cS(n);return uS(e),e})}function jt(n){return n[ef]||null}function ui(n){return n[L_]||null}function Ui(n){return n[F_]||null}function tr(n,e){const t=n[aS]||null;if(!t&&!0===e)throw new Error(`Type ${rn(n)} does not have '\u0275mod' property.`);return t}function cS(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||zt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:lS(n.inputs,e),outputs:lS(n.outputs)}}function uS(n){n.features?.forEach(e=>e(n))}function tf(n,e){if(!n)return null;const t=e?Ui:sB;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(oB)}const Hs=0,Le=1,gt=2,yn=3,Gr=4,pa=5,di=6,yl=7,An=8,nf=9,rf=10,vt=11,N_=12,Lu=13,dS=14,bl=15,hi=16,Fu=17,xl=18,cs=19,Nu=20,hS=21,un=22,B_=1,fS=2,sf=7,af=8,wl=9,Ei=10;function nr(n){return Array.isArray(n)&&"object"==typeof n[B_]}function Wr(n){return Array.isArray(n)&&!0===n[B_]}function U_(n){return 0!=(4&n.flags)}function Bu(n){return n.componentOffset>-1}function lf(n){return 1==(1&n.flags)}function $r(n){return!!n.template}function lB(n){return 0!=(256&n[gt])}function ma(n,e){return n.hasOwnProperty(zs)?n[zs]:null}class dB{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function us(){return gS}function gS(n){return n.type.prototype.ngOnChanges&&(n.setInput=fB),hB}function hB(){const n=vS(this),e=n?.current;if(e){const t=n.previous;if(t===Us)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function fB(n,e,t,i){const r=this.declaredInputs[t],s=vS(n)||function pB(n,e){return n[_S]=e}(n,{previous:Us,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new dB(l&&l.currentValue,e,a===Us),n[i]=e}us.ngInherit=!0;const _S="__ngSimpleChanges__";function vS(n){return n[_S]||null}const wr=function(n,e,t){};function si(n){for(;Array.isArray(n);)n=n[Hs];return n}function cf(n,e){return si(e[n])}function ir(n,e){return si(e[n.index])}function xS(n,e){return n.data[e]}function zi(n,e){const t=e[n];return nr(t)?t:t[Hs]}function uf(n){return 64==(64&n[gt])}function Do(n,e){return null==e?null:n[e]}function wS(n){n[xl]=0}function H_(n,e){n[pa]+=e;let t=n,i=n[yn];for(;null!==i&&(1===e&&1===t[pa]||-1===e&&0===t[pa]);)i[pa]+=e,t=i,i=i[yn]}const ct={lFrame:RS(null),bindingsEnabled:!0};function ES(){return ct.bindingsEnabled}function ue(){return ct.lFrame.lView}function Ot(){return ct.lFrame.tView}function Hi(n){return ct.lFrame.contextLView=n,n[An]}function Vi(n){return ct.lFrame.contextLView=null,n}function oi(){let n=SS();for(;null!==n&&64===n.type;)n=n.parent;return n}function SS(){return ct.lFrame.currentTNode}function ds(n,e){const t=ct.lFrame;t.currentTNode=n,t.isParent=e}function V_(){return ct.lFrame.isParent}function G_(){ct.lFrame.isParent=!1}function Si(){const n=ct.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function El(){return ct.lFrame.bindingIndex++}function Gs(n){const e=ct.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function TB(n,e){const t=ct.lFrame;t.bindingIndex=t.bindingRootIndex=n,W_(e)}function W_(n){ct.lFrame.currentDirectiveIndex=n}function $_(n){const e=ct.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function DS(){return ct.lFrame.currentQueryIndex}function j_(n){ct.lFrame.currentQueryIndex=n}function DB(n){const e=n[Le];return 2===e.type?e.declTNode:1===e.type?n[di]:null}function PS(n,e,t){if(t&tt.SkipSelf){let r=e,s=n;for(;!(r=r.parent,null!==r||t&tt.Host||(r=DB(s),null===r||(s=s[bl],10&r.type))););if(null===r)return!1;e=r,n=s}const i=ct.lFrame=IS();return i.currentTNode=e,i.lView=n,!0}function X_(n){const e=IS(),t=n[Le];ct.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function IS(){const n=ct.lFrame,e=null===n?null:n.child;return null===e?RS(n):e}function RS(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function OS(){const n=ct.lFrame;return ct.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const kS=OS;function q_(){const n=OS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ci(){return ct.lFrame.selectedIndex}function ga(n){ct.lFrame.selectedIndex=n}function fn(){const n=ct.lFrame;return xS(n.tView,n.selectedIndex)}function df(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks??(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks??(n.viewHooks=[])).push(t,c),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks??(n.destroyHooks=[])).push(t,u)}}function hf(n,e,t){LS(n,e,3,t)}function ff(n,e,t,i){(3&n[gt])===t&&LS(n,e,t,i)}function Y_(n,e){let t=n[gt];(3&t)===e&&(t&=2047,t+=1,n[gt]=t)}function LS(n,e,t,i){const s=i??-1,o=e.length-1;let a=0;for(let l=void 0!==i?65535&n[xl]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[xl]+=65536),(a<s||-1==s)&&(BB(n,t,e,l),n[xl]=(4294901760&n[xl])+l+2),l++}function BB(n,e,t,i){const r=t[i]<0,s=t[i+1],a=n[r?-t[i]:t[i]];if(r){if(n[gt]>>11<n[xl]>>16&&(3&n[gt])===e){n[gt]+=2048,wr(4,a,s);try{s.call(a)}finally{wr(5,a,s)}}}else{wr(4,a,s);try{s.call(a)}finally{wr(5,a,s)}}}const Sl=-1;class zu{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Z_(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{const s=r,o=t[++i];NS(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function FS(n){return 3===n||4===n||6===n}function NS(n){return 64===n.charCodeAt(0)}function Hu(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||BS(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function BS(n,e,t,i,r){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function US(n){return n!==Sl}function pf(n){return 32767&n}function mf(n,e){let t=function VB(n){return n>>16}(n),i=e;for(;t>0;)i=i[bl],t--;return i}let J_=!0;function gf(n){const e=J_;return J_=n,e}const zS=255,HS=5;let GB=0;const hs={};function _f(n,e){const t=VS(n,e);if(-1!==t)return t;const i=e[Le];i.firstCreatePass&&(n.injectorIndex=e.length,Q_(i.data,n),Q_(e,null),Q_(i.blueprint,null));const r=ev(n,e),s=n.injectorIndex;if(US(r)){const o=pf(r),a=mf(r,e),l=a[Le].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function Q_(n,e){n.push(0,0,0,0,0,0,0,0,e)}function VS(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function ev(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=YS(r),null===i)return Sl;if(t++,r=r[bl],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return Sl}function tv(n,e,t){!function WB(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(ku)&&(i=t[ku]),null==i&&(i=t[ku]=GB++);const r=i&zS;e.data[n+(r>>HS)]|=1<<r}(n,e,t)}function GS(n,e,t){if(t&tt.Optional||void 0!==n)return n;Yh()}function WS(n,e,t,i){if(t&tt.Optional&&void 0===i&&(i=null),!(t&(tt.Self|tt.Host))){const r=n[nf],s=xr(void 0);try{return r?r.get(e,i,t&tt.Optional):rS(e,i,t&tt.Optional)}finally{xr(s)}}return GS(i,0,t)}function $S(n,e,t,i=tt.Default,r){if(null!==n){if(1024&e[gt]){const o=function YB(n,e,t,i,r){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[gt]&&!(256&o[gt]);){const a=jS(s,o,t,i|tt.Self,hs);if(a!==hs)return a;let l=s.parent;if(!l){const c=o[hS];if(c){const u=c.get(t,hs,i);if(u!==hs)return u}l=YS(o),o=o[bl]}s=l}return r}(n,e,t,i,hs);if(o!==hs)return o}const s=jS(n,e,t,i,hs);if(s!==hs)return s}return WS(e,t,i,r)}function jS(n,e,t,i,r){const s=function XB(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(ku)?n[ku]:void 0;return"number"==typeof e?e>=0?e&zS:qB:e}(t);if("function"==typeof s){if(!PS(e,n,i))return i&tt.Host?GS(r,0,i):WS(e,t,i,r);try{const o=s(i);if(null!=o||i&tt.Optional)return o;Yh()}finally{kS()}}else if("number"==typeof s){let o=null,a=VS(n,e),l=Sl,c=i&tt.Host?e[hi][di]:null;for((-1===a||i&tt.SkipSelf)&&(l=-1===a?ev(n,e):e[a+8],l!==Sl&&qS(i,!1)?(o=e[Le],a=pf(l),e=mf(l,e)):a=-1);-1!==a;){const u=e[Le];if(XS(s,a,u.data)){const d=jB(a,e,t,o,i,c);if(d!==hs)return d}l=e[a+8],l!==Sl&&qS(i,e[Le].data[a+8]===c)&&XS(s,a,e)?(o=u,a=pf(l),e=mf(l,e)):a=-1}}return r}function jB(n,e,t,i,r,s){const o=e[Le],a=o.data[n+8],u=vf(a,o,t,null==i?Bu(a)&&J_:i!=o&&0!=(3&a.type),r&tt.Host&&s===a);return null!==u?_a(e,o,u,a):hs}function vf(n,e,t,i,r){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(r){const f=o[l];if(f&&$r(f)&&f.type===t)return l}return null}function _a(n,e,t,i){let r=n[t];const s=e.data;if(function UB(n){return n instanceof zu}(r)){const o=r;o.resolving&&function z2(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ce(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Gt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():lt(n)}(s[t]));const a=gf(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?xr(o.injectImpl):null;PS(n,i,tt.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&function NB(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const o=gS(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o)}r&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,r),s&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&xr(l),gf(a),o.resolving=!1,kS()}}return r}function XS(n,e,t){return!!(t[e+(n>>HS)]&1<<n)}function qS(n,e){return!(n&tt.Self||n&tt.Host&&e)}class Cl{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return $S(this._tNode,this._lView,e,Qh(i),t)}}function qB(){return new Cl(oi(),ue())}function Po(n){return Bs(()=>{const e=n.prototype.constructor,t=e[zs]||nv(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[zs]||nv(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function nv(n){return D_(n)?()=>{const e=nv(et(n));return e&&e()}:ma(n)}function YS(n){const e=n[Le],t=e.type;return 2===t?e.declTNode:1===t?n[di]:null}function Tl(n){return function $B(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const s=t[r];if(FS(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(s===e)return t[r+1];r+=2}}}return null}(oi(),n)}const Dl="__parameters__";function Il(n,e,t){return Bs(()=>{const i=function iv(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(Dl)?l[Dl]:Object.defineProperty(l,Dl,{value:[]})[Dl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class pe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ve({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function va(n,e){n.forEach(t=>Array.isArray(t)?va(t,e):e(t))}function ZS(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function yf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Wu(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function rr(n,e,t){let i=Rl(n,e);return i>=0?n[1|i]=t:(i=~i,function QB(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function sv(n,e){const t=Rl(n,e);if(t>=0)return n[1|t]}function Rl(n,e){return function JS(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}(n,e,1)}const Ol=Ou(Il("Inject",n=>({token:n})),-1),jr=Ou(Il("Optional"),8),Io=Ou(Il("SkipSelf"),4);var Gi=(()=>((Gi=Gi||{})[Gi.Important=1]="Important",Gi[Gi.DashCase=2]="DashCase",Gi))();const uv=new Map;let xU=0;const hv="__ngContext__";function fi(n,e){nr(e)?(n[hv]=e[Nu],function MU(n){uv.set(n[Nu],n)}(e)):n[hv]=e}let fv;function pv(n,e){return fv(n,e)}function qu(n){const e=n[yn];return Wr(e)?e[yn]:e}function mv(n){return vC(n[Lu])}function gv(n){return vC(n[Gr])}function vC(n){for(;null!==n&&!Wr(n);)n=n[Gr];return n}function Ll(n,e,t,i,r){if(null!=i){let s,o=!1;Wr(i)?s=i:nr(i)&&(o=!0,i=i[Hs]);const a=si(i);0===n&&null!==t?null==r?EC(e,t,a):ya(e,t,a,r||null,!0):1===n&&null!==t?ya(e,t,a,r||null,!0):2===n?function Mv(n,e,t){const i=Mf(n,e);i&&function GU(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function jU(n,e,t,i,r){const s=t[sf];s!==si(t)&&Ll(e,n,i,s,r);for(let a=Ei;a<t.length;a++){const l=t[a];Yu(l[Le],l,n,e,i,s)}}(e,n,s,t,r)}}function vv(n,e,t){return n.createElement(e,t)}function bC(n,e){const t=n[wl],i=t.indexOf(e),r=e[yn];512&e[gt]&&(e[gt]&=-513,H_(r,-1)),t.splice(i,1)}function yv(n,e){if(n.length<=Ei)return;const t=Ei+e,i=n[t];if(i){const r=i[Fu];null!==r&&r!==n&&bC(r,i),e>0&&(n[t-1][Gr]=i[Gr]);const s=yf(n,Ei+e);!function LU(n,e){Yu(n,e,e[vt],2,null,null),e[Hs]=null,e[di]=null}(i[Le],i);const o=s[cs];null!==o&&o.detachView(s[Le]),i[yn]=null,i[Gr]=null,i[gt]&=-65}return i}function xC(n,e){if(!(128&e[gt])){const t=e[vt];t.destroyNode&&Yu(n,e,t,3,null,null),function BU(n){let e=n[Lu];if(!e)return bv(n[Le],n);for(;e;){let t=null;if(nr(e))t=e[Lu];else{const i=e[Ei];i&&(t=i)}if(!t){for(;e&&!e[Gr]&&e!==n;)nr(e)&&bv(e[Le],e),e=e[yn];null===e&&(e=n),nr(e)&&bv(e[Le],e),t=e&&e[Gr]}e=t}}(e)}}function bv(n,e){if(!(128&e[gt])){e[gt]&=-65,e[gt]|=128,function VU(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof zu)){const s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];wr(4,a,l);try{l.call(a)}finally{wr(5,a,l)}}else{wr(4,r,s);try{s.call(r)}finally{wr(5,r,s)}}}}}(n,e),function HU(n,e){const t=n.cleanup,i=e[yl];let r=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?i[r=o]():i[r=-o].unsubscribe(),s+=2}else{const o=i[r=t[s+1]];t[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)(0,i[s])();e[yl]=null}}(n,e),1===e[Le].type&&e[vt].destroy();const t=e[Fu];if(null!==t&&Wr(e[yn])){t!==e[yn]&&bC(t,e);const i=e[cs];null!==i&&i.detachView(n)}!function EU(n){uv.delete(n[Nu])}(e)}}function wC(n,e,t){return function MC(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[Hs];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===Vr.None||s===Vr.Emulated)return null}return ir(i,t)}}(n,e.parent,t)}function ya(n,e,t,i,r){n.insertBefore(e,t,i,r)}function EC(n,e,t){n.appendChild(e,t)}function SC(n,e,t,i,r){null!==i?ya(n,e,t,i,r):EC(n,e,t)}function Mf(n,e){return n.parentNode(e)}function CC(n,e,t){return AC(n,e,t)}let xv,Cf,Cv,AC=function TC(n,e,t){return 40&n.type?ir(n,t):null};function Ef(n,e,t,i){const r=wC(n,i,e),s=e[vt],a=CC(i.parent||e[di],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)SC(s,r,t[l],a,!1);else SC(s,r,t,a,!1);void 0!==xv&&xv(s,i,e,t,r)}function Sf(n,e){if(null!==e){const t=e.type;if(3&t)return ir(e,n);if(4&t)return wv(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Sf(n,i);{const r=n[e.index];return Wr(r)?wv(-1,r):si(r)}}if(32&t)return pv(e,n)()||si(n[e.index]);{const i=PC(n,e);return null!==i?Array.isArray(i)?i[0]:Sf(qu(n[hi]),i):Sf(n,e.next)}}return null}function PC(n,e){return null!==e?n[hi][di].projection[e.projection]:null}function wv(n,e){const t=Ei+n+1;if(t<e.length){const i=e[t],r=i[Le].firstChild;if(null!==r)return Sf(i,r)}return e[sf]}function Ev(n,e,t,i,r,s,o){for(;null!=t;){const a=i[t.index],l=t.type;if(o&&0===e&&(a&&fi(si(a),i),t.flags|=2),32!=(32&t.flags))if(8&l)Ev(n,e,t.child,i,r,s,!1),Ll(e,n,r,a,s);else if(32&l){const c=pv(t,i);let u;for(;u=c();)Ll(e,n,r,u,s);Ll(e,n,r,a,s)}else 16&l?IC(n,e,i,t,r,s):Ll(e,n,r,a,s);t=o?t.projectionNext:t.next}}function Yu(n,e,t,i,r,s){Ev(t,i,n.firstChild,e,r,s,!1)}function IC(n,e,t,i,r,s){const o=t[hi],l=o[di].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Ll(e,n,r,l[c],s);else Ev(n,e,l,o[yn],r,s,!0)}function RC(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function OC(n,e,t){const{mergedAttrs:i,classes:r,styles:s}=t;null!==i&&Z_(n,e,i),null!==r&&RC(n,e,r),null!==s&&function qU(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function Fl(n){return function Sv(){if(void 0===Cf&&(Cf=null,cn.trustedTypes))try{Cf=cn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Cf}()?.createHTML(n)||n}class ba{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Xh})`}}class QU extends ba{getTypeName(){return"HTML"}}class e3 extends ba{getTypeName(){return"Style"}}class t3 extends ba{getTypeName(){return"Script"}}class n3 extends ba{getTypeName(){return"URL"}}class r3 extends ba{getTypeName(){return"ResourceURL"}}function sr(n){return n instanceof ba?n.changingThisBreaksApplicationSecurity:n}function fs(n,e){const t=function s3(n){return n instanceof ba&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Xh})`)}return t===e}class d3{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Fl(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class h3{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Fl(e),t}}const p3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Af(n){return(n=String(n)).match(p3)?n:"unsafe:"+n}function Ws(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Ku(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const UC=Ws("area,br,col,hr,img,wbr"),zC=Ws("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),HC=Ws("rp,rt"),Av=Ku(UC,Ku(zC,Ws("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ku(HC,Ws("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ku(HC,zC)),Dv=Ws("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),VC=Ku(Dv,Ws("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ws("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),m3=Ws("script,style,template");class g3{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Av.hasOwnProperty(t))return this.sanitizedSomething=!0,!m3.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!VC.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;Dv[a]&&(l=Af(l)),this.buf.push(" ",o,'="',GC(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Av.hasOwnProperty(t)&&!UC.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(GC(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const _3=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,v3=/([^\#-~ |!])/g;function GC(n){return n.replace(/&/g,"&amp;").replace(_3,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(v3,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Df;function WC(n,e){let t=null;try{Df=Df||function BC(n){const e=new h3(n);return function f3(){try{return!!(new window.DOMParser).parseFromString(Fl(""),"text/html")}catch{return!1}}()?new d3(e):e}(n);let i=e?String(e):"";t=Df.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=Df.getInertBodyElement(i)}while(i!==s);return Fl((new g3).sanitizeChildren(Pv(t)||t))}finally{if(t){const i=Pv(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Pv(n){return"content"in n&&function y3(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ht=(()=>((Ht=Ht||{})[Ht.NONE=0]="NONE",Ht[Ht.HTML=1]="HTML",Ht[Ht.STYLE=2]="STYLE",Ht[Ht.SCRIPT=3]="SCRIPT",Ht[Ht.URL=4]="URL",Ht[Ht.RESOURCE_URL=5]="RESOURCE_URL",Ht))();function Iv(n){const e=function Zu(){const n=ue();return n&&n[N_]}();return e?e.sanitize(Ht.URL,n)||"":fs(n,"URL")?sr(n):Af(lt(n))}const Pf=new pe("ENVIRONMENT_INITIALIZER"),XC=new pe("INJECTOR",-1),qC=new pe("INJECTOR_DEF_TYPES");class YC{get(e,t=Iu){if(t===Iu){const i=new Error(`NullInjectorError: No provider for ${rn(e)}!`);throw i.name="NullInjectorError",i}return t}}function T3(...n){return{\u0275providers:KC(0,n),\u0275fromNgModule:!0}}function KC(n,...e){const t=[],i=new Set;let r;return va(e,s=>{const o=s;Rv(o,t,[],i)&&(r||(r=[]),r.push(o))}),void 0!==r&&ZC(r,t),t}function ZC(n,e){for(let t=0;t<n.length;t++){const{providers:r}=n[t];Ov(r,s=>{e.push(s)})}}function Rv(n,e,t,i){if(!(n=et(n)))return!1;let r=null,s=nS(n);const o=!s&&jt(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const l=n.ngModule;if(s=nS(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)Rv(c,e,t,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;i.add(r);try{va(s.imports,u=>{Rv(u,e,t,i)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&ZC(c,e)}if(!a){const c=ma(r)||(()=>new r);e.push({provide:r,useFactory:c,deps:zt},{provide:qC,useValue:r,multi:!0},{provide:Pf,useValue:()=>$(r),multi:!0})}const l=s.providers;null==l||a||Ov(l,u=>{e.push(u)})}}return r!==n&&void 0!==n.providers}function Ov(n,e){for(let t of n)P_(t)&&(t=t.\u0275providers),Array.isArray(t)?Ov(t,e):e(t)}const A3=Jt({provide:String,useValue:Jt});function kv(n){return null!==n&&"object"==typeof n&&A3 in n}function xa(n){return"function"==typeof n}const Lv=new pe("Set Injector scope."),If={},P3={};let Fv;function Rf(){return void 0===Fv&&(Fv=new YC),Fv}class ps{}class eT extends ps{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Bv(e,o=>this.processProvider(o)),this.records.set(XC,Nl(void 0,this)),r.has("environment")&&this.records.set(ps,Nl(void 0,this));const s=this.records.get(Lv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(qC.multi,zt,tt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=_l(this),i=xr(void 0);try{return e()}finally{_l(t),xr(i)}}get(e,t=Iu,i=tt.Default){this.assertNotDestroyed(),i=Qh(i);const r=_l(this),s=xr(void 0);try{if(!(i&tt.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function L3(n){return"function"==typeof n||"object"==typeof n&&n instanceof pe}(e)&&Kh(e);a=l&&this.injectableDefInScope(l)?Nl(Nv(e),If):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&tt.Self?Rf():this.parent).get(e,t=i&tt.Optional&&t===Iu?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Jh]=o[Jh]||[]).unshift(rn(e)),r)throw o;return function tB(n,e,t,i){const r=n[Jh];throw e[sS]&&r.unshift(e[sS]),n.message=function nB(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==J2?n.slice(2):n;let r=rn(e);if(Array.isArray(e))r=e.map(rn).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):rn(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(Z2,"\n  ")}`}("\n"+n.message,r,t,i),n[K2]=r,n[Jh]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{xr(s),_l(r)}}resolveInjectorInitializers(){const e=_l(this),t=xr(void 0);try{const i=this.get(Pf.multi,zt,tt.Self);for(const r of i)r()}finally{_l(e),xr(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(rn(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ce(205,!1)}processProvider(e){let t=xa(e=et(e))?e:et(e&&e.provide);const i=function R3(n){return kv(n)?Nl(void 0,n.useValue):Nl(tT(n),If)}(e);if(xa(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=Nl(void 0,If,!0),r.factory=()=>k_(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===If&&(t.value=P3,t.value=t.factory()),"object"==typeof t.value&&t.value&&function k3(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=et(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Nv(n){const e=Kh(n),t=null!==e?e.factory:ma(n);if(null!==t)return t;if(n instanceof pe)throw new ce(204,!1);if(n instanceof Function)return function I3(n){const e=n.length;if(e>0)throw Wu(e,"?"),new ce(204,!1);const t=function j2(n){const e=n&&(n[Zh]||n[iS]);return e?(function X2(n){if(n.hasOwnProperty("name"))return n.name;(""+n).match(/^function\s*([^\s(]+)/)}(n),e):null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new ce(204,!1)}function tT(n,e,t){let i;if(xa(n)){const r=et(n);return ma(r)||Nv(r)}if(kv(n))i=()=>et(n.useValue);else if(function QC(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...k_(n.deps||[]));else if(function JC(n){return!(!n||!n.useExisting)}(n))i=()=>$(et(n.useExisting));else{const r=et(n&&(n.useClass||n.provide));if(!function O3(n){return!!n.deps}(n))return ma(r)||Nv(r);i=()=>new r(...k_(n.deps))}return i}function Nl(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Bv(n,e){for(const t of n)Array.isArray(t)?Bv(t,e):t&&P_(t)?Bv(t.\u0275providers,e):e(t)}class F3{}class nT{}class B3{resolveComponentFactory(e){throw function N3(n){const e=Error(`No component factory found for ${rn(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let wa=(()=>{class n{}return n.NULL=new B3,n})();function U3(){return Bl(oi(),ue())}function Bl(n,e){return new Xt(ir(n,e))}let Xt=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=U3,n})();function z3(n){return n instanceof Xt?n.nativeElement:n}class Ju{}let Of=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function H3(){const n=ue(),t=zi(oi().index,n);return(nr(t)?t:n)[vt]}(),n})(),V3=(()=>{class n{}return n.\u0275prov=ve({token:n,providedIn:"root",factory:()=>null}),n})();class Ul{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const G3=new Ul("15.2.7"),Uv={},zv="ngOriginalError";function Hv(n){return n[zv]}class $s{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Hv(e);for(;t&&Hv(t);)t=Hv(t);return t||null}}function zl(n){return n.ownerDocument.defaultView}function Hl(n){return n.ownerDocument}function js(n){return n instanceof Function?n():n}function sT(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}const oT="ng-template";function J3(n,e,t){let i=0,r=!0;for(;i<n.length;){let s=n[i++];if("string"==typeof s&&r){const o=n[i++];if(t&&"class"===s&&-1!==sT(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function aT(n){return 4===n.type&&n.value!==oT}function Q3(n,e,t){return e===(4!==n.type||t?n.value:oT)}function ez(n,e,t){let i=4;const r=n.attrs||[],s=function iz(n){for(let e=0;e<n.length;e++)if(FS(n[e]))return e;return n.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!Q3(n,l,t)||""===l&&1===e.length){if(Xr(i))return!1;o=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!J3(n.attrs,c,t)){if(Xr(i))return!1;o=!0}continue}const d=tz(8&i?"class":l,r,aT(n),t);if(-1===d){if(Xr(i))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==sT(f,c,0)||2&i&&c!==h){if(Xr(i))return!1;o=!0}}}}else{if(!o&&!Xr(i)&&!Xr(l))return!1;if(o&&Xr(l))continue;o=!1,i=l|1&i}}return Xr(i)||o}function Xr(n){return 0==(1&n)}function tz(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){const o=e[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function rz(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function lT(n,e,t=!1){for(let i=0;i<e.length;i++)if(ez(n,e[i],t))return!0;return!1}function sz(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function cT(n,e){return n?":not("+e.trim()+")":e}function oz(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Xr(o)&&(e+=cT(s,r),r=""),i=o,s=s||!Xr(i);t++}return""!==r&&(e+=cT(s,r)),e}const ut={};function Me(n){uT(Ot(),ue(),Ci()+n,!1)}function uT(n,e,t,i){if(!i)if(3==(3&e[gt])){const s=n.preOrderCheckHooks;null!==s&&hf(e,s,t)}else{const s=n.preOrderHooks;null!==s&&ff(e,s,0,t)}ga(t)}function pT(n,e=null,t=null,i){const r=mT(n,e,t,i);return r.resolveInjectorInitializers(),r}function mT(n,e=null,t=null,i,r=new Set){const s=[t||zt,T3(n)];return i=i||("object"==typeof n?void 0:rn(n)),new eT(s,e||Rf(),i||null,r)}let Qn=(()=>{class n{static create(t,i){if(Array.isArray(t))return pT({name:""},i,t,"");{const r=t.name??"";return pT({name:r},t.parent,t.providers,r)}}}return n.THROW_IF_NOT_FOUND=Iu,n.NULL=new YC,n.\u0275prov=ve({token:n,providedIn:"any",factory:()=>$(XC)}),n.__NG_ELEMENT_ID__=-1,n})();function H(n,e=tt.Default){const t=ue();return null===t?$(n,e):$S(oi(),t,et(n),e)}function Lf(){throw new Error("invalid")}function wT(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const s=t[i+1];if(-1!==s){const o=n.data[s];j_(t[i]),o.contentQueries(2,e[s],s)}}}function Ff(n,e,t,i,r,s,o,a,l,c,u){const d=e.blueprint.slice();return d[Hs]=r,d[gt]=76|i,(null!==u||n&&1024&n[gt])&&(d[gt]|=1024),wS(d),d[yn]=d[bl]=n,d[An]=t,d[rf]=o||n&&n[rf],d[vt]=a||n&&n[vt],d[N_]=l||n&&n[N_]||null,d[nf]=c||n&&n[nf]||null,d[di]=s,d[Nu]=function wU(){return xU++}(),d[hS]=u,d[hi]=2==e.type?n[hi]:d,d}function Wl(n,e,t,i,r){let s=n.data[e];if(null===s)s=function jv(n,e,t,i,r){const s=SS(),o=V_(),l=n.data[e]=function Rz(n,e,t,i,r,s){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,e,t,i,r),function CB(){return ct.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const o=function Uu(){const n=ct.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ds(s,!0),s}function Qu(n,e,t,i){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function Xv(n,e,t){X_(e);try{const i=n.viewQuery;null!==i&&ny(1,i,t);const r=n.template;null!==r&&MT(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&wT(n,e),n.staticViewQueries&&ny(2,n.viewQuery,t);const s=n.components;null!==s&&function Dz(n,e){for(let t=0;t<e.length;t++)Jz(n,e[t])}(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[gt]&=-5,q_()}}function Nf(n,e,t,i){const r=e[gt];if(128!=(128&r)){X_(e);try{wS(e),function TS(n){return ct.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&MT(n,e,t,2,i);const o=3==(3&r);if(o){const c=n.preOrderCheckHooks;null!==c&&hf(e,c,null)}else{const c=n.preOrderHooks;null!==c&&ff(e,c,0,null),Y_(e,0)}if(function Kz(n){for(let e=mv(n);null!==e;e=gv(e)){if(!e[fS])continue;const t=e[wl];for(let i=0;i<t.length;i++){const r=t[i];512&r[gt]||H_(r[yn],1),r[gt]|=512}}}(e),function Yz(n){for(let e=mv(n);null!==e;e=gv(e))for(let t=Ei;t<e.length;t++){const i=e[t],r=i[Le];uf(i)&&Nf(r,i,r.template,i[An])}}(e),null!==n.contentQueries&&wT(n,e),o){const c=n.contentCheckHooks;null!==c&&hf(e,c)}else{const c=n.contentHooks;null!==c&&ff(e,c,1),Y_(e,1)}!function Tz(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)ga(~r);else{const s=r,o=t[++i],a=t[++i];TB(o,s),a(2,e[s])}}}finally{ga(-1)}}(n,e);const a=n.components;null!==a&&function Az(n,e){for(let t=0;t<e.length;t++)Zz(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&ny(2,l,i),o){const c=n.viewCheckHooks;null!==c&&hf(e,c)}else{const c=n.viewHooks;null!==c&&ff(e,c,2),Y_(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[gt]&=-41,512&e[gt]&&(e[gt]&=-513,H_(e[yn],-1))}finally{q_()}}}function MT(n,e,t,i,r){const s=Ci(),o=2&i;try{ga(-1),o&&e.length>un&&uT(n,e,un,!1),wr(o?2:0,r),t(i,r)}finally{ga(s),wr(o?3:1,r)}}function qv(n,e,t){if(U_(e)){const r=e.directiveEnd;for(let s=e.directiveStart;s<r;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function Yv(n,e,t){ES()&&(function Uz(n,e,t,i){const r=t.directiveStart,s=t.directiveEnd;Bu(t)&&function jz(n,e,t){const i=ir(e,n),r=ET(t),s=n[rf],o=Bf(n,Ff(n,r,null,t.onPush?32:16,i,e,s,s.createRenderer(i,t),null,null,null));n[e.index]=o}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||_f(t,e),fi(i,e);const o=t.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=_a(e,n,a,t);fi(c,e),null!==o&&Xz(0,a-r,c,l,0,o),$r(l)&&(zi(t.index,e)[An]=_a(e,n,a,t))}}(n,e,t,ir(t,e)),64==(64&t.flags)&&DT(n,e,t))}function Kv(n,e,t=ir){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?t(e,n):n[o];n[r++]=a}}}function ET(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Zv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Zv(n,e,t,i,r,s,o,a,l,c){const u=un+i,d=u+r,h=function Pz(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:ut);return t}(u,d),f="function"==typeof c?c():c;return h[Le]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function ST(n,e,t,i){const r=IT(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&RT(n).push(i,r.length-1))}function CT(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const s=n[r];null===i?TT(t,e,r,s):i.hasOwnProperty(r)&&TT(t,e,i[r],s)}return t}function TT(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function or(n,e,t,i,r,s,o,a){const l=ir(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[i])?(iy(n,t,u,i,r),Bu(e)&&function Lz(n,e){const t=zi(e,n);16&t[gt]||(t[gt]|=32)}(t,e.index)):3&e.type&&(i=function kz(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,e.value||"",i):r,s.setProperty(l,i,r))}function Jv(n,e,t,i){if(ES()){const r=null===i?null:{"":-1},s=function Hz(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(lT(e,o.selectors,!1))if(i||(i=[]),$r(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),Qv(n,e,a.length)}else i.unshift(o),Qv(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&AT(n,e,t,o,r,a),r&&function Vz(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new ce(-301,!1);i.push(e[r],s)}}}(t,i,r)}t.mergedAttrs=Hu(t.mergedAttrs,t.attrs)}function AT(n,e,t,i,r,s){for(let c=0;c<i.length;c++)tv(_f(t,e),n,i[c].type);!function Wz(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Qu(n,e,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];t.mergedAttrs=Hu(t.mergedAttrs,u.hostAttrs),$z(n,t,e,l,u),Gz(l,u,r),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),l++}!function Oz(n,e,t){const r=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<r;u++){const d=s[u],h=t?t.get(d):null,p=h?h.outputs:null;l=CT(d.inputs,u,l,h?h.inputs:null),c=CT(d.outputs,u,c,p);const g=null===l||null===o||aT(e)?null:qz(l,u,o);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function DT(n,e,t){const i=t.directiveStart,r=t.directiveEnd,s=t.index,o=function AB(){return ct.lFrame.currentDirectiveIndex}();try{ga(s);for(let a=i;a<r;a++){const l=n.data[a],c=e[a];W_(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&zz(l,c)}}finally{ga(-1),W_(o)}}function zz(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Qv(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function Gz(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;$r(e)&&(t[""]=n)}}function $z(n,e,t,i,r){n.data[i]=r;const s=r.factory||(r.factory=ma(r.type)),o=new zu(s,$r(r),H);n.blueprint[i]=o,t[i]=o,function Nz(n,e,t,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function Bz(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,i,s)}}(n,e,i,Qu(n,t,r.hostVars,ut),r)}function ms(n,e,t,i,r,s){const o=ir(n,e);!function ey(n,e,t,i,r,s,o){if(null==s)n.removeAttribute(e,r,t);else{const a=null==o?lt(s):o(s,i||"",r);n.setAttribute(e,r,a,t)}}(e[vt],o,s,n.value,t,i,r)}function Xz(n,e,t,i,r,s){const o=s[e];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?i.setInput(t,d,c,u):t[u]=d}}}function qz(n,e,t){let i=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){i.push(s,o[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function PT(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null]}function Zz(n,e){const t=zi(e,n);if(uf(t)){const i=t[Le];48&t[gt]?Nf(i,t,i.template,t[An]):t[pa]>0&&ty(t)}}function ty(n){for(let i=mv(n);null!==i;i=gv(i))for(let r=Ei;r<i.length;r++){const s=i[r];if(uf(s))if(512&s[gt]){const o=s[Le];Nf(o,s,o.template,s[An])}else s[pa]>0&&ty(s)}const t=n[Le].components;if(null!==t)for(let i=0;i<t.length;i++){const r=zi(t[i],n);uf(r)&&r[pa]>0&&ty(r)}}function Jz(n,e){const t=zi(e,n),i=t[Le];(function Qz(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),Xv(i,t,t[An])}function Bf(n,e){return n[Lu]?n[dS][Gr]=e:n[Lu]=e,n[dS]=e,e}function Uf(n){for(;n;){n[gt]|=32;const e=qu(n);if(lB(n)&&!e)return n;n=e}return null}function zf(n,e,t,i=!0){const r=e[rf];r.begin&&r.begin();try{Nf(n,e,n.template,t)}catch(o){throw i&&kT(e,o),o}finally{r.end&&r.end()}}function ny(n,e,t){j_(0),e(n,t)}function IT(n){return n[yl]||(n[yl]=[])}function RT(n){return n.cleanup||(n.cleanup=[])}function OT(n,e,t){return(null===n||$r(n))&&(t=function gB(n){for(;Array.isArray(n);){if("object"==typeof n[B_])return n;n=n[Hs]}return null}(t[e.index])),t[vt]}function kT(n,e){const t=n[nf],i=t?t.get($s,null):null;i&&i.handleError(e)}function iy(n,e,t,i,r){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function Hf(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?r=T_(r,a):2==s&&(i=T_(i,a+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function Vf(n,e,t,i,r=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&i.push(si(s)),Wr(s))for(let a=Ei;a<s.length;a++){const l=s[a],c=l[Le].firstChild;null!==c&&Vf(l[Le],l,c,i)}const o=t.type;if(8&o)Vf(n,e,t.child,i);else if(32&o){const a=pv(t,e);let l;for(;l=a();)i.push(l)}else if(16&o){const a=PC(e,t);if(Array.isArray(a))i.push(...a);else{const l=qu(e[hi]);Vf(l[Le],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}class ed{get rootNodes(){const e=this._lView,t=e[Le];return Vf(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[An]}set context(e){this._lView[An]=e}get destroyed(){return 128==(128&this._lView[gt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[yn];if(Wr(e)){const t=e[af],i=t?t.indexOf(this):-1;i>-1&&(yv(e,i),yf(t,i))}this._attachedToViewContainer=!1}xC(this._lView[Le],this._lView)}onDestroy(e){ST(this._lView[Le],this._lView,null,e)}markForCheck(){Uf(this._cdRefInjectingView||this._lView)}detach(){this._lView[gt]&=-65}reattach(){this._lView[gt]|=64}detectChanges(){zf(this._lView[Le],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function NU(n,e){Yu(n,e,e[vt],2,null,null)}(this._lView[Le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ce(902,!1);this._appRef=e}}class eH extends ed{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;zf(e[Le],e,e[An],!1)}checkNoChanges(){}get context(){return null}}class LT extends wa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=jt(e);return new td(t,this.ngModule)}}function FT(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class nH{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Qh(i);const r=this.injector.get(e,Uv,i);return r!==Uv||t===Uv?r:this.parentInjector.get(e,t,i)}}class td extends nT{get inputs(){return FT(this.componentDef.inputs)}get outputs(){return FT(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function az(n){return n.map(oz).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=(r=r||this.ngModule)instanceof ps?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new nH(e,s):e,a=o.get(Ju,null);if(null===a)throw new ce(407,!1);const l=o.get(V3,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=i?function Iz(n,e,t){return n.selectRootElement(e,t===Vr.ShadowDom)}(c,i,this.componentDef.encapsulation):vv(c,u,function tH(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,f=Zv(0,null,null,1,0,null,null,null,null,null),p=Ff(null,f,null,h,null,null,a,c,l,o,null);let g,_;X_(p);try{const m=this.componentDef;let y,v=null;m.findHostDirectiveDefs?(y=[],v=new Map,m.findHostDirectiveDefs(m,y,v),y.push(m)):y=[m];const b=function rH(n,e){const t=n[Le],i=un;return n[i]=e,Wl(t,i,2,"#host",null)}(p,d),x=function sH(n,e,t,i,r,s,o,a){const l=r[Le];!function oH(n,e,t,i){for(const r of n)e.mergedAttrs=Hu(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Hf(e,e.mergedAttrs,!0),null!==t&&OC(i,t,e))}(i,n,e,o);const c=s.createRenderer(e,t),u=Ff(r,ET(t),null,t.onPush?32:16,r[n.index],n,s,c,a||null,null,null);return l.firstCreatePass&&Qv(l,n,i.length-1),Bf(r,u),r[n.index]=u}(b,d,m,y,p,a,c);_=xS(f,un),d&&function lH(n,e,t,i){if(i)Z_(n,t,["ng-version",G3.full]);else{const{attrs:r,classes:s}=function lz(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&e.push(s,n[++i]):8===r&&t.push(s);else{if(!Xr(r))break;r=s}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&Z_(n,t,r),s&&s.length>0&&RC(n,t,s.join(" "))}}(c,m,d,i),void 0!==t&&function cH(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const s=t[r];i.push(null!=s?Array.from(s):null)}}(_,this.ngContentSelectors,t),g=function aH(n,e,t,i,r,s){const o=oi(),a=r[Le],l=ir(o,r);AT(a,r,o,t,null,i);for(let u=0;u<t.length;u++)fi(_a(r,a,o.directiveStart+u,o),r);DT(a,r,o),l&&fi(l,r);const c=_a(r,a,o.directiveStart+o.componentOffset,o);if(n[An]=r[An]=c,null!==s)for(const u of s)u(c,e);return qv(a,o,n),c}(x,m,y,v,p,[uH]),Xv(f,p,null)}finally{q_()}return new iH(this.componentType,g,Bl(_,p),p,_)}}class iH extends F3{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new eH(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){const s=this._rootLView;iy(s[Le],s,r,e,t),Uf(zi(this._tNode.index,s))}}get injector(){return new Cl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function uH(){const n=oi();df(ue()[Le],n)}function pn(n){let e=function NT(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if($r(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ce(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const o=n;o.inputs=ry(n.inputs),o.declaredInputs=ry(n.declaredInputs),o.outputs=ry(n.outputs);const a=r.hostBindings;a&&pH(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&hH(n,l),c&&fH(n,c),C_(n.inputs,r.inputs),C_(n.declaredInputs,r.declaredInputs),C_(n.outputs,r.outputs),$r(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===pn&&(t=!1)}}e=Object.getPrototypeOf(e)}!function dH(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Hu(r.hostAttrs,t=Hu(t,r.hostAttrs))}}(i)}function ry(n){return n===Us?{}:n===zt?[]:n}function hH(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function fH(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,s)=>{e(i,r,s),t(i,r,s)}:e}function pH(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function Gf(n){return!!sy(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function sy(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function gs(n,e,t){return n[e]=t}function nd(n,e){return n[e]}function pi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Ma(n,e,t,i){const r=pi(n,e,t);return pi(n,e+1,i)||r}function Er(n,e,t,i,r,s){const o=Ma(n,e,t,i);return Ma(n,e+2,r,s)||o}function Ti(n,e,t,i){const r=ue();return pi(r,El(),e)&&(Ot(),ms(fn(),r,n,e,t,i)),Ti}function jl(n,e,t,i){return pi(n,El(),t)?e+lt(t)+i:ut}function Nn(n,e,t,i,r,s,o,a){const l=ue(),c=Ot(),u=n+un,d=c.firstCreatePass?function EH(n,e,t,i,r,s,o,a,l){const c=e.consts,u=Wl(e,n,4,o||null,Do(c,a));Jv(e,t,u,Do(c,l)),df(e,u);const d=u.tView=Zv(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,i,r,s,o):c.data[u];ds(d,!1);const h=l[vt].createComment("");Ef(c,l,h,d),fi(h,l),Bf(l,l[u]=PT(h,l,h,d)),lf(d)&&Yv(c,l,d),null!=o&&Kv(l,d,a)}function qs(n){return function Ml(n,e){return n[e]}(function SB(){return ct.lFrame.contextLView}(),un+n)}function we(n,e,t){const i=ue();return pi(i,El(),e)&&or(Ot(),fn(),i,n,e,i[vt],t,!1),we}function oy(n,e,t,i,r){const o=r?"class":"style";iy(n,t,e.inputs[o],o,i)}function O(n,e,t,i){const r=ue(),s=Ot(),o=un+n,a=r[vt],l=s.firstCreatePass?function CH(n,e,t,i,r,s){const o=e.consts,l=Wl(e,n,2,i,Do(o,r));return Jv(e,t,l,Do(o,s)),null!==l.attrs&&Hf(l,l.attrs,!1),null!==l.mergedAttrs&&Hf(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,r,e,t,i):s.data[o],c=r[o]=vv(a,e,function FB(){return ct.lFrame.currentNamespace}()),u=lf(l);return ds(l,!0),OC(a,c,l),32!=(32&l.flags)&&Ef(s,r,c,l),0===function bB(){return ct.lFrame.elementDepthCount}()&&fi(c,r),function xB(){ct.lFrame.elementDepthCount++}(),u&&(Yv(s,r,l),qv(s,l,r)),null!==i&&Kv(r,l),O}function z(){let n=oi();V_()?G_():(n=n.parent,ds(n,!1));const e=n;!function wB(){ct.lFrame.elementDepthCount--}();const t=Ot();return t.firstCreatePass&&(df(t,n),U_(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function zB(n){return 0!=(8&n.flags)}(e)&&oy(t,e,ue(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function HB(n){return 0!=(16&n.flags)}(e)&&oy(t,e,ue(),e.stylesWithoutHost,!1),z}function Re(n,e,t,i){return O(n,e,t,i),z(),Re}function $f(n,e,t){const i=ue(),r=Ot(),s=n+un,o=r.firstCreatePass?function TH(n,e,t,i,r){const s=e.consts,o=Do(s,i),a=Wl(e,n,8,"ng-container",o);return null!==o&&Hf(a,o,!0),Jv(e,t,a,Do(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,r,i,e,t):r.data[s];ds(o,!0);const a=i[s]=i[vt].createComment("");return Ef(r,i,a,o),fi(a,i),lf(o)&&(Yv(r,i,o),qv(r,o,i)),null!=t&&Kv(i,o),$f}function jf(){let n=oi();const e=Ot();return V_()?G_():(n=n.parent,ds(n,!1)),e.firstCreatePass&&(df(e,n),U_(n)&&e.queries.elementEnd(n)),jf}function Sr(){return ue()}function Xf(n){return!!n&&"function"==typeof n.then}const JT=function ZT(n){return!!n&&"function"==typeof n.subscribe};function $e(n,e,t,i){const r=ue(),s=Ot(),o=oi();return QT(s,r,r[vt],o,n,e,i),$e}function ay(n,e){const t=oi(),i=ue(),r=Ot();return QT(r,i,OT($_(r.data),t,i),t,n,e),ay}function QT(n,e,t,i,r,s,o){const a=lf(i),c=n.firstCreatePass&&RT(n),u=e[An],d=IT(e);let h=!0;if(3&i.type||o){const g=ir(i,e),_=o?o(g):g,m=d.length,y=o?b=>o(si(b[i.index])):i.index;let v=null;if(!o&&a&&(v=function AH(n,e,t,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===i){const a=e[yl],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,r,i.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,h=!1;else{s=tA(i,e,u,s,!1);const b=t.listen(_,r,s);d.push(s,b),c&&c.push(r,y,m,m+1)}}else s=tA(i,e,u,s,!1);const f=i.outputs;let p;if(h&&null!==f&&(p=f[r])){const g=p.length;if(g)for(let _=0;_<g;_+=2){const x=e[p[_]][p[_+1]].subscribe(s),M=d.length;d.push(s,x),c&&c.push(r,i.index,M,-(M+1))}}}function eA(n,e,t,i){try{return wr(6,e,t),!1!==t(i)}catch(r){return kT(n,r),!1}finally{wr(7,e,t)}}function tA(n,e,t,i,r){return function s(o){if(o===Function)return i;Uf(n.componentOffset>-1?zi(n.index,e):e);let l=eA(e,t,i,o),c=s.__ngNextListenerFn__;for(;c;)l=eA(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function sn(n=1){return function PB(n){return(ct.lFrame.contextLView=function IB(n,e){for(;n>0;)e=e[bl],n--;return e}(n,ct.lFrame.contextLView))[An]}(n)}function DH(n,e){let t=null;const i=function nz(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?lT(n,s,!0):sz(i,s))return r}else t=r}return t}function Ys(n){const e=ue()[hi][di];if(!e.projection){const i=e.projection=Wu(n?n.length:1,null),r=i.slice();let s=e.child;for(;null!==s;){const o=n?DH(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function Ai(n,e=0,t){const i=ue(),r=Ot(),s=Wl(r,un+n,16,null,t||null);null===s.projection&&(s.projection=e),G_(),32!=(32&s.flags)&&function $U(n,e,t){IC(e[vt],0,e,t,wC(n,t,e),CC(t.parent||e[di],t,e))}(r,i,s)}function qf(n,e,t,i,r){const s=ue(),o=jl(s,e,t,i);return o!==ut&&or(Ot(),fn(),s,n,o,s[vt],r,!1),qf}function Yf(n,e){return n<<17|e<<2}function Ro(n){return n>>17&32767}function ly(n){return 2|n}function Ea(n){return(131068&n)>>2}function cy(n,e){return-131069&n|e<<2}function uy(n){return 1|n}function dA(n,e,t,i,r){const s=n[t+1],o=null===e;let a=i?Ro(s):Ea(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];LH(n[a],e)&&(l=!0,n[a+1]=i?uy(u):ly(u)),a=i?Ro(u):Ea(u)}l&&(n[t+1]=i?ly(s):uy(s))}function LH(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Rl(n,e)>=0}const qn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hA(n){return n.substring(qn.key,qn.keyEnd)}function FH(n){return n.substring(qn.value,qn.valueEnd)}function fA(n,e){const t=qn.textEnd;return t===e?-1:(e=qn.keyEnd=function UH(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,qn.key=e,t),ec(n,e,t))}function pA(n,e){const t=qn.textEnd;let i=qn.key=ec(n,e,t);return t===i?-1:(i=qn.keyEnd=function zH(n,e,t){let i;for(;e<t&&(45===(i=n.charCodeAt(e))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)e++;return e}(n,i,t),i=gA(n,i,t),i=qn.value=ec(n,i,t),i=qn.valueEnd=function HH(n,e,t){let i=-1,r=-1,s=-1,o=e,a=o;for(;o<t;){const l=n.charCodeAt(o++);if(59===l)return a;34===l||39===l?a=o=_A(n,l,o,t):e===o-4&&85===s&&82===r&&76===i&&40===l?a=o=_A(n,41,o,t):l>32&&(a=o),s=r,r=i,i=-33&l}return a}(n,i,t),gA(n,i,t))}function mA(n){qn.key=0,qn.keyEnd=0,qn.value=0,qn.valueEnd=0,qn.textEnd=n.length}function ec(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function gA(n,e,t,i){return(e=ec(n,e,t))<t&&e++,e}function _A(n,e,t,i){let r=-1,s=t;for(;s<i;){const o=n.charCodeAt(s++);if(o==e&&92!==r)return s;r=92==o&&92===r?0:o}throw new Error}function id(n,e,t){return qr(n,e,t,!1),id}function ai(n,e){return qr(n,e,null,!0),ai}function VH(n,e){for(let t=function BH(n){return mA(n),pA(n,ec(n,0,qn.textEnd))}(e);t>=0;t=pA(e,t))bA(n,hA(e),FH(e))}function vs(n,e){for(let t=function NH(n){return mA(n),fA(n,ec(n,0,qn.textEnd))}(e);t>=0;t=fA(e,t))rr(n,hA(e),!0)}function qr(n,e,t,i){const r=ue(),s=Ot(),o=Gs(2);s.firstUpdatePass&&yA(s,n,o,i),e!==ut&&pi(r,o,e)&&xA(s,s.data[Ci()],r,r[vt],n,r[o+1]=function KH(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=rn(sr(n)))),n}(e,t),i,o)}function Yr(n,e,t,i){const r=Ot(),s=Gs(2);r.firstUpdatePass&&yA(r,null,s,i);const o=ue();if(t!==ut&&pi(o,s,t)){const a=r.data[Ci()];if(MA(a,i)&&!vA(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=T_(l,t||"")),oy(r,a,o,t,i)}else!function YH(n,e,t,i,r,s,o,a){r===ut&&(r=zt);let l=0,c=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const h=l<r.length?r[l+1]:void 0,f=c<s.length?s[c+1]:void 0;let g,p=null;u===d?(l+=2,c+=2,h!==f&&(p=d,g=f)):null===d||null!==u&&u<d?(l+=2,p=u):(c+=2,p=d,g=f),null!==p&&xA(n,e,t,i,p,g,o,a),u=l<r.length?r[l]:null,d=c<s.length?s[c]:null}}(r,a,o,o[vt],o[s+1],o[s+1]=function qH(n,e,t){if(null==t||""===t)return zt;const i=[],r=sr(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,s)}}function vA(n,e){return e>=n.expandoStartIndex}function yA(n,e,t,i){const r=n.data;if(null===r[t+1]){const s=r[Ci()],o=vA(n,t);MA(s,i)&&null===e&&!o&&(e=!1),e=function WH(n,e,t,i){const r=$_(n);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=rd(t=dy(null,n,e,t,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==r)if(t=dy(r,n,e,t,i),null===s){let l=function $H(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Ea(i))return n[Ro(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=dy(null,n,e,l[1],i),l=rd(l,e.attrs,i),function jH(n,e,t,i){n[Ro(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else s=function XH(n,e,t){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=rd(i,n[s].hostAttrs,t);return rd(i,e.attrs,t)}(n,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,i),function OH(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Ro(o),l=Ea(o);n[i]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||Rl(t,u)>0)&&(c=!0)):u=t,r)if(0!==l){const h=Ro(n[a+1]);n[i+1]=Yf(h,a),0!==h&&(n[h+1]=cy(n[h+1],i)),n[a+1]=function IH(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Yf(a,0),0!==a&&(n[a+1]=cy(n[a+1],i)),a=i;else n[i+1]=Yf(l,0),0===a?a=i:n[l+1]=cy(n[l+1],i),l=i;c&&(n[i+1]=ly(n[i+1])),dA(n,u,i,!0),dA(n,u,i,!1),function kH(n,e,t,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Rl(s,e)>=0&&(t[i+1]=uy(t[i+1]))}(e,u,n,i,s),o=Yf(a,l),s?e.classBindings=o:e.styleBindings=o}(r,s,e,t,o,i)}}function dy(n,e,t,i,r){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],i=rd(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function rd(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),rr(n,o,!!t||e[++s]))}return void 0===n?null:n}function bA(n,e,t){rr(n,e,sr(t))}function xA(n,e,t,i,r,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function RH(n){return 1==(1&n)}(c)?wA(l,e,t,r,Ea(c),o):void 0;Kf(u)||(Kf(s)||function PH(n){return 2==(2&n)}(c)&&(s=wA(l,null,t,r,a,o)),function XU(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=-1===i.indexOf("-")?void 0:Gi.DashCase;null==r?n.removeStyle(t,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Gi.Important),n.setStyle(t,i,r,s))}}(i,o,cf(Ci(),t),r,s))}function wA(n,e,t,i,r,s){const o=null===e;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[r+1];h===ut&&(h=d?zt:void 0);let f=d?sv(h,i):u===i?h:void 0;if(c&&!Kf(f)&&(f=sv(l,i)),Kf(f)&&(a=f,o))return a;const p=n[r+1];r=o?Ro(p):Ea(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=sv(l,i))}return a}function Kf(n){return void 0!==n}function MA(n,e){return 0!=(n.flags&(e?8:16))}function X(n,e=""){const t=ue(),i=Ot(),r=n+un,s=i.firstCreatePass?Wl(i,r,1,e,null):i.data[r],o=t[r]=function _v(n,e){return n.createText(e)}(t[vt],e);Ef(i,t,o,s),ds(s,!1)}function tc(n){return Oo("",n,""),tc}function Oo(n,e,t){const i=ue(),r=jl(i,n,e,t);return r!==ut&&function Xs(n,e,t){const i=cf(e,n);!function yC(n,e,t){n.setValue(e,t)}(n[vt],i,t)}(i,Ci(),r),Oo}function hy(n,e,t){Yr(rr,vs,jl(ue(),n,e,t),!0)}function RA(n,e,t){!function _s(n){Yr(bA,VH,n,!1)}(jl(ue(),n,e,t))}function Zf(n,e,t){const i=ue();return pi(i,El(),e)&&or(Ot(),fn(),i,n,e,i[vt],t,!0),Zf}function fy(n,e,t){const i=ue();if(pi(i,El(),e)){const s=Ot(),o=fn();or(s,o,i,n,e,OT($_(s.data),o,i),t,!0)}return fy}const ic="en-US";let WA=ic;function gy(n,e,t,i,r){if(n=et(n),Array.isArray(n))for(let s=0;s<n.length;s++)gy(n[s],e,t,i,r);else{const s=Ot(),o=ue();let a=xa(n)?n:et(n.provide),l=tT(n);const c=oi(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(xa(n)||!n.multi){const f=new zu(l,r,H),p=vy(a,e,r?u:u+h,d);-1===p?(tv(_f(c,o),s,a),_y(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=vy(a,e,u+h,d),p=vy(a,e,u,u+h),_=p>=0&&t[p];if(r&&!_||!r&&!(f>=0&&t[f])){tv(_f(c,o),s,a);const m=function h4(n,e,t,i,r){const s=new zu(n,t,H);return s.multi=[],s.index=e,s.componentProviders=0,g1(s,r,i&&!t),s}(r?d4:u4,t.length,r,i,l);!r&&_&&(t[p].providerFactory=m),_y(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(m),o.push(m)}else _y(s,n,f>-1?f:p,g1(t[r?p:f],l,!r&&i));!r&&i&&_&&t[p].componentProviders++}}}function _y(n,e,t,i){const r=xa(e),s=function D3(n){return!!n.useClass}(e);if(r||s){const l=(s?et(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function g1(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function vy(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function u4(n,e,t,i){return yy(this.multi,[])}function d4(n,e,t,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=_a(t,t[Le],this.providerFactory.index,i);s=a.slice(0,o),yy(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],yy(r,s);return s}function yy(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Bn(n,e=[]){return t=>{t.providersResolver=(i,r)=>function c4(n,e,t){const i=Ot();if(i.firstCreatePass){const r=$r(n);gy(t,i.data,i.blueprint,r,!0),gy(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class rc{}class _1{}class v1 extends rc{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new LT(this);const i=tr(e);this._bootstrapComponents=js(i.bootstrap),this._r3Injector=mT(e,t,[{provide:rc,useValue:this},{provide:wa,useValue:this.componentFactoryResolver}],rn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class by extends _1{constructor(e){super(),this.moduleType=e}create(e){return new v1(this.moduleType,e)}}class p4 extends rc{constructor(e,t,i){super(),this.componentFactoryResolver=new LT(this),this.instance=null;const r=new eT([...e,{provide:rc,useValue:this},{provide:wa,useValue:this.componentFactoryResolver}],t||Rf(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function np(n,e,t=null){return new p4(n,e,t).injector}let m4=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const i=KC(0,t.type),r=i.length>0?np([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,r)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=ve({token:n,providedIn:"environment",factory:()=>new n($(ps))}),n})();function xy(n){n.getStandaloneInjector=e=>e.get(m4).getOrCreateStandaloneInjector(n)}function ko(n,e,t){const i=Si()+n,r=ue();return r[i]===ut?gs(r,i,t?e.call(t):e()):nd(r,i)}function Qt(n,e,t,i){return function T1(n,e,t,i,r,s){const o=e+t;return pi(n,o,r)?gs(n,o+1,s?i.call(s,r):i(r)):ud(n,o+1)}(ue(),Si(),n,e,t,i)}function mi(n,e,t,i,r){return function A1(n,e,t,i,r,s,o){const a=e+t;return Ma(n,a,r,s)?gs(n,a+2,o?i.call(o,r,s):i(r,s)):ud(n,a+2)}(ue(),Si(),n,e,t,i,r)}function S1(n,e,t,i,r,s){return function D1(n,e,t,i,r,s,o,a){const l=e+t;return function Wf(n,e,t,i,r){const s=Ma(n,e,t,i);return pi(n,e+2,r)||s}(n,l,r,s,o)?gs(n,l+3,a?i.call(a,r,s,o):i(r,s,o)):ud(n,l+3)}(ue(),Si(),n,e,t,i,r,s)}function My(n,e,t,i,r,s,o){return function P1(n,e,t,i,r,s,o,a,l){const c=e+t;return Er(n,c,r,s,o,a)?gs(n,c+4,l?i.call(l,r,s,o,a):i(r,s,o,a)):ud(n,c+4)}(ue(),Si(),n,e,t,i,r,s,o)}function ud(n,e){const t=n[e];return t===ut?void 0:t}function Ey(n){return e=>{setTimeout(n,void 0,e)}}const Mt=class L4 extends ke{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Ey(s),r&&(r=Ey(r)),o&&(o=Ey(o)));const a=super.subscribe({next:r,error:s,complete:o});return e instanceof nn&&e.add(a),a}};function F4(){return this._results[Symbol.iterator]()}class sc{get changes(){return this._changes||(this._changes=new Mt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=sc.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=F4)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function Mr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function ZB(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ar=(()=>{class n{}return n.__NG_ELEMENT_ID__=U4,n})();const N4=ar,B4=class extends N4{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e,t){const i=this._declarationTContainer.tView,r=Ff(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,null,t||null);r[Fu]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[cs];return null!==o&&(r[cs]=o.createEmbeddedView(i)),Xv(i,r,e),new ed(r)}};function U4(){return ip(oi(),ue())}function ip(n,e){return 4&n.type?new B4(e,n,Bl(n,e)):null}let gi=(()=>{class n{}return n.__NG_ELEMENT_ID__=z4,n})();function z4(){return k1(oi(),ue())}const H4=gi,R1=class extends H4{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Bl(this._hostTNode,this._hostLView)}get injector(){return new Cl(this._hostTNode,this._hostLView)}get parentInjector(){const e=ev(this._hostTNode,this._hostLView);if(US(e)){const t=mf(e,this._hostLView),i=pf(e);return new Cl(t[Le].data[i+8],t)}return new Cl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=O1(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Ei}createEmbeddedView(e,t,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,r),o}createComponent(e,t,i,r,s){const o=e&&!function Gu(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,i=d.injector,r=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?e:new td(jt(e)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?c:this.parentInjector).get(ps,null);h&&(s=h)}const u=l.create(c,r,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const i=e._lView,r=i[Le];if(function yB(n){return Wr(n[yn])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=i[yn],h=new R1(d,d[di],d[yn]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function UU(n,e,t,i){const r=Ei+i,s=t.length;i>0&&(t[r-1][Gr]=e),i<s-Ei?(e[Gr]=t[r],ZS(t,Ei+i,e)):(t.push(e),e[Gr]=null),e[yn]=t;const o=e[Fu];null!==o&&t!==o&&function zU(n,e){const t=n[wl];e[hi]!==e[yn][yn][hi]&&(n[fS]=!0),null===t?n[wl]=[e]:t.push(e)}(o,e);const a=e[cs];null!==a&&a.insertView(n),e[gt]|=64}(r,i,o,s);const a=wv(s,o),l=i[vt],c=Mf(l,o[sf]);return null!==c&&function FU(n,e,t,i,r,s){i[Hs]=r,i[di]=e,Yu(n,i,t,1,r,s)}(r,o[di],l,i,c,a),e.attachToViewContainerRef(),ZS(Sy(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=O1(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=yv(this._lContainer,t);i&&(yf(Sy(this._lContainer),t),xC(i[Le],i))}detach(e){const t=this._adjustIndex(e,-1),i=yv(this._lContainer,t);return i&&null!=yf(Sy(this._lContainer),t)?new ed(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function O1(n){return n[af]}function Sy(n){return n[af]||(n[af]=[])}function k1(n,e){let t;const i=e[n.index];if(Wr(i))t=i;else{let r;if(8&n.type)r=si(i);else{const s=e[vt];r=s.createComment("");const o=ir(n,e);ya(s,Mf(s,o),r,function WU(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=PT(i,e,r,n),Bf(e,t)}return new R1(t,n,e)}class Cy{constructor(e){this.queryList=e,this.matches=null}clone(){return new Cy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ty{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new Ty(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==U1(e,t).matches&&this.queries[t].setDirty()}}class L1{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class Ay{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new Ay(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Dy{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Dy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,t,V4(t,s)),this.matchTNodeWithReadOption(e,t,vf(t,e,s,!1,!1))}else i===ar?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,vf(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Xt||r===gi||r===ar&&4&t.type)this.addMatch(t.index,-2);else{const s=vf(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function V4(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function W4(n,e,t,i){return-1===t?function G4(n,e){return 11&n.type?Bl(n,e):4&n.type?ip(n,e):null}(e,n):-2===t?function $4(n,e,t){return t===Xt?Bl(e,n):t===ar?ip(e,n):t===gi?k1(e,n):void 0}(n,e,i):_a(n,n[Le],t,e)}function F1(n,e,t,i){const r=e[cs].queries[i];if(null===r.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:W4(e,s[c],o[l+1],t.metadata.read))}r.matches=a}return r.matches}function Py(n,e,t,i){const r=n.queries.getByIndex(t),s=r.matches;if(null!==s){const o=F1(n,e,r,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=Ei;d<u.length;d++){const h=u[d];h[Fu]===h[yn]&&Py(h[Le],h,c,i)}if(null!==u[wl]){const d=u[wl];for(let h=0;h<d.length;h++){const f=d[h];Py(f[Le],f,c,i)}}}}}return i}function Pi(n){const e=ue(),t=Ot(),i=DS();j_(i+1);const r=U1(t,i);if(n.dirty&&function vB(n){return 4==(4&n[gt])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?Py(t,e,i,[]):F1(t,e,r,i);n.reset(s,z3),n.notifyOnChanges()}return!0}return!1}function Lo(n,e,t){const i=Ot();i.firstCreatePass&&(B1(i,new L1(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),N1(i,ue(),e)}function Fo(n,e,t,i){const r=Ot();if(r.firstCreatePass){const s=oi();B1(r,new L1(e,t,i),s.index),function X4(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}N1(r,ue(),t)}function Ii(){return function j4(n,e){return n[cs].queries[e].queryList}(ue(),DS())}function N1(n,e,t){const i=new sc(4==(4&t));ST(n,e,i,i.destroy),null===e[cs]&&(e[cs]=new Ty),e[cs].queries.push(new Cy(i))}function B1(n,e,t){null===n.queries&&(n.queries=new Ay),n.queries.track(new Dy(e,t))}function U1(n,e){return n.queries.getByIndex(e)}function No(n,e){return ip(n,e)}function sp(...n){}const op=new pe("Application Initializer");let ap=(()=>{class n{constructor(t){this.appInits=t,this.resolve=sp,this.reject=sp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Xf(s))t.push(s);else if(JT(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)($(op,8))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lc=new pe("AppId",{providedIn:"root",factory:function iD(){return`${Fy()}${Fy()}${Fy()}`}});function Fy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const rD=new pe("Platform Initializer"),lp=new pe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ks=new pe("AnimationModuleType");let fG=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ys=new pe("LocaleId",{providedIn:"root",factory:()=>Ee(ys,tt.Optional|tt.SkipSelf)||function pG(){return typeof $localize<"u"&&$localize.locale||ic}()});class gG{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let sD=(()=>{class n{compileModuleSync(t){return new by(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),s=js(tr(t).declarations).reduce((o,a)=>{const l=jt(a);return l&&o.push(new td(l)),o},[]);return new gG(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yG=(()=>Promise.resolve(0))();function Ny(n){typeof Zone>"u"?yG.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class st{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mt(!1),this.onMicrotaskEmpty=new Mt(!1),this.onStable=new Mt(!1),this.onError=new Mt(!1),typeof Zone>"u")throw new ce(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function bG(){let n=cn.requestAnimationFrame,e=cn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function MG(n){const e=()=>{!function wG(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(cn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Uy(n),n.isCheckStableRunning=!0,By(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Uy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,a)=>{try{return lD(n),t.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),cD(n)}},onInvoke:(t,i,r,s,o,a,l)=>{try{return lD(n),t.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),cD(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Uy(n),By(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!st.isInAngularZone())throw new ce(909,!1)}static assertNotInAngularZone(){if(st.isInAngularZone())throw new ce(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,xG,sp,sp);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const xG={};function By(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Uy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function lD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function cD(n){n._nesting--,By(n)}class EG{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mt,this.onMicrotaskEmpty=new Mt,this.onStable=new Mt,this.onError=new Mt}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const uD=new pe(""),cp=new pe("");let Vy,zy=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Vy||(function SG(n){Vy=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{st.assertNotInAngularZone(),Ny(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ny(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)($(st),$(Hy),$(cp))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})(),Hy=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return Vy?.findTestabilityInTree(this,t,i)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Zs=!1;let Bo=null;const dD=new pe("AllowMultipleToken"),Gy=new pe("PlatformDestroyListeners"),hD=new pe("appBootstrapListener");class fD{constructor(e,t){this.name=e,this.token=t}}function mD(n,e,t=[]){const i=`Platform: ${e}`,r=new pe(i);return(s=[])=>{let o=Wy();if(!o||o.injector.get(dD,!1)){const a=[...t,...s,{provide:r,useValue:!0}];n?n(a):function AG(n){if(Bo&&!Bo.get(dD,!1))throw new ce(400,!1);Bo=n;const e=n.get(_D);(function pD(n){const e=n.get(rD,null);e&&e.forEach(t=>t())})(n)}(function gD(n=[],e){return Qn.create({name:e,providers:[{provide:Lv,useValue:"platform"},{provide:Gy,useValue:new Set([()=>Bo=null])},...n]})}(a,i))}return function PG(n){const e=Wy();if(!e)throw new ce(401,!1);return e}()}}function Wy(){return Bo?.get(_D)??null}let _D=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function yD(n,e){let t;return t="noop"===n?new EG:("zone.js"===n?void 0:n)||new st(e),t}(i?.ngZone,function vD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),s=[{provide:st,useValue:r}];return r.run(()=>{const o=Qn.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),l=a.injector.get($s,null);if(!l)throw new ce(402,!1);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{up(this._modules,a),c.unsubscribe()})}),function bD(n,e,t){try{const i=t();return Xf(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(l,r,()=>{const c=a.injector.get(ap);return c.runInitializers(),c.donePromise.then(()=>(function $A(n){br(n,"Expected localeId to be defined"),"string"==typeof n&&(WA=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(ys,ic)||ic),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,i=[]){const r=xD({},i);return function CG(n,e,t){const i=new by(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(cc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new ce(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ce(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(Gy,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)($(Qn))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function xD(n,e){return Array.isArray(e)?e.reduce(xD,n):{...n,...e}}let cc=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,i,r){this._zone=t,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new qt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new qt(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{st.assertNotInAngularZone(),Ny(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{st.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=Ns(s,o.pipe(eS()))}bootstrap(t,i){const r=t instanceof nT;if(!this._injector.get(ap).done){!r&&function vl(n){const e=jt(n)||ui(n)||Ui(n);return null!==e&&e.standalone}(t);throw new ce(405,Zs)}let o;o=r?t:this._injector.get(wa).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function TG(n){return n.isBoundToModule}(o)?void 0:this._injector.get(rc),c=o.create(Qn.NULL,[],i||o.selector,a),u=c.location.nativeElement,d=c.injector.get(uD,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),up(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new ce(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;up(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(hD,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>up(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ce(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)($(st),$(ps),$($s))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function up(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let lr=(()=>{class n{}return n.__NG_ELEMENT_ID__=RG,n})();function RG(n){return function OG(n,e,t){if(Bu(n)&&!t){const i=zi(n.index,e);return new ed(i,i)}return 47&n.type?new ed(e[hi],e):null}(oi(),ue(),16==(16&n))}class CD{constructor(){}supports(e){return Gf(e)}create(e){return new UG(e)}}const BG=(n,e)=>e;class UG{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||BG}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){const o=!i||t&&t.currentIndex<AD(i,r,s)?t:i,a=AD(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Gf(e))throw new ce(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,o,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),i=!0),t=t._next}else r=0,function xH(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{o=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new zG(t,i),s,r),e}_verifyReinsertion(e,t,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new TD),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new TD),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class zG{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class HG{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class TD{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new HG,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function AD(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class DD{constructor(){}supports(e){return e instanceof Map||sy(e)}create(){return new VG}}class VG{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||sy(e)))throw new ce(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new GG(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class GG{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function PD(){return new fp([new CD])}let fp=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||PD()),deps:[[n,new Io,new jr]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new ce(901,!1)}}return n.\u0275prov=ve({token:n,providedIn:"root",factory:PD}),n})();function ID(){return new fd([new DD])}let fd=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||ID()),deps:[[n,new Io,new jr]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new ce(901,!1)}}return n.\u0275prov=ve({token:n,providedIn:"root",factory:ID}),n})();const jG=mD(null,"core",[]);let XG=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)($(cc))},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({}),n})(),Ky=null;function Uo(){return Ky}class KG{}const nt=new pe("DocumentToken");let Zy=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:function(){return function ZG(){return $(RD)}()},providedIn:"platform"}),n})();const JG=new pe("Location Initialized");let RD=(()=>{class n extends Zy{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Uo().getBaseHref(this._doc)}onPopState(t){const i=Uo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Uo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){OD()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){OD()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)($(nt))},n.\u0275prov=ve({token:n,factory:function(){return function QG(){return new RD($(nt))}()},providedIn:"platform"}),n})();function OD(){return!!window.history.pushState}function Jy(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function kD(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Js(n){return n&&"?"!==n[0]?"?"+n:n}let Ta=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:function(){return Ee(FD)},providedIn:"root"}),n})();const LD=new pe("appBaseHref");let FD=(()=>{class n extends Ta{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Ee(nt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Jy(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Js(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const o=this.prepareExternalUrl(r+Js(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){const o=this.prepareExternalUrl(r+Js(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)($(Zy),$(LD,8))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),e5=(()=>{class n extends Ta{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Jy(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+Js(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+Js(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)($(Zy),$(LD,8))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})(),pp=(()=>{class n{constructor(t){this._subject=new Mt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function r5(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(kD(ND(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Js(i))}normalize(t){return n.stripTrailingSlash(function n5(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,ND(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Js(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Js(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Js,n.joinWithSlash=Jy,n.stripTrailingSlash=kD,n.\u0275fac=function(t){return new(t||n)($(Ta))},n.\u0275prov=ve({token:n,factory:function(){return function t5(){return new pp($(Ta))}()},providedIn:"root"}),n})();function ND(n){return n.replace(/\/index.html$/,"")}function jD(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}const lb=/\s+/,XD=[];let Ar=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=XD,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(lb):XD}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(lb):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,Boolean(t[i]));this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(lb).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(H(fp),H(fd),H(Xt),H(Of))},n.\u0275dir=Ze({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class V5{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ep=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new V5(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),KD(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{KD(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(H(gi),H(ar),H(fp))},n.\u0275dir=Ze({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function KD(n,e){n.context.$implicit=e.item}let uc=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new W5,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ZD("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ZD("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(H(gi),H(ar))},n.\u0275dir=Ze({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class W5{constructor(){this.$implicit=null,this.ngIf=null}}function ZD(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${rn(e)}'.`)}let dc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({}),n})();const eP="browser";let yW=(()=>{class n{}return n.\u0275prov=ve({token:n,providedIn:"root",factory:()=>new bW($(nt),window)}),n})();class bW{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function xW(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=tP(this.window.history)||tP(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function tP(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class nP{}class qW extends KG{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class mb extends qW{static makeCurrent(){!function YG(n){Ky||(Ky=n)}(new mb)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function YW(){return _d=_d||document.querySelector("base"),_d?_d.getAttribute("href"):null}();return null==t?null:function KW(n){Tp=Tp||document.createElement("a"),Tp.setAttribute("href",n);const e=Tp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){_d=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return jD(document.cookie,e)}}let Tp,_d=null;const aP=new pe("TRANSITION_ID"),JW=[{provide:op,useFactory:function ZW(n,e,t){return()=>{t.get(ap).donePromise.then(()=>{const i=Uo(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[aP,nt,Qn],multi:!0}];let e8=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();const Ap=new pe("EventManagerPlugins");let Dp=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)($(Ap),$(st))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();class lP{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=Uo().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let cP=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,i){const r=this.usageCount;let s=r.get(t)??0;return s+=i,s>0?r.set(t,s):r.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})(),vd=(()=>{class n extends cP{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.forEach(s=>s.remove()),i.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,i){const r=this.doc.createElement("style");r.textContent=i,t.appendChild(r);const s=this.styleRef.get(i);s?s.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)($(nt))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();const gb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_b=/%COMP%/g,hP=new pe("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function fP(n,e){return e.flat(100).map(t=>t.replace(_b,n))}function pP(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Pp=(()=>{class n{constructor(t,i,r,s){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new vb(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(t,i);return r instanceof _P?r.applyToHost(t):r instanceof yb&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(i.encapsulation){case Vr.Emulated:s=new _P(o,a,i,this.appId,l);break;case Vr.ShadowDom:return new a8(o,a,t,i);default:s=new yb(o,a,i,l)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)($(Dp),$(vd),$(lc),$(hP))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();class vb{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(gb[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(gP(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(gP(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=gb[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=gb[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Gi.DashCase|Gi.Important)?e.style.setProperty(t,i,r&Gi.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Gi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,pP(i)):this.eventManager.addEventListener(e,t,pP(i))}}function gP(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class a8 extends vb{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=fP(r.id,r.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class yb extends vb{constructor(e,t,i,r,s=i.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=fP(s,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class _P extends yb{constructor(e,t,i,r,s){const o=r+"-"+i.id;super(e,t,i,s,o),this.contentAttr=function r8(n){return"_ngcontent-%COMP%".replace(_b,n)}(o),this.hostAttr=function s8(n){return"_nghost-%COMP%".replace(_b,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let l8=(()=>{class n extends lP{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)($(nt))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();const vP=["alt","control","meta","shift"],c8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},u8={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let d8=(()=>{class n extends lP{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Uo().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),vP.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(t,i){let r=c8[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),vP.forEach(o=>{o!==r&&(0,u8[o])(t)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)($(nt))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();const m8=mD(jG,"browser",[{provide:lp,useValue:eP},{provide:rD,useValue:function h8(){mb.makeCurrent()},multi:!0},{provide:nt,useFactory:function p8(){return function JU(n){Cv=n}(document),document},deps:[]}]),xP=new pe(""),wP=[{provide:cp,useClass:class QW{addToWindow(e){cn.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},cn.getAllAngularTestabilities=()=>e.getAllTestabilities(),cn.getAllAngularRootElements=()=>e.getAllRootElements(),cn.frameworkStabilizers||(cn.frameworkStabilizers=[]),cn.frameworkStabilizers.push(i=>{const r=cn.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Uo().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:uD,useClass:zy,deps:[st,Hy,cp]},{provide:zy,useClass:zy,deps:[st,Hy,cp]}],MP=[{provide:Lv,useValue:"root"},{provide:$s,useFactory:function f8(){return new $s},deps:[]},{provide:Ap,useClass:l8,multi:!0,deps:[nt,st,lp]},{provide:Ap,useClass:d8,multi:!0,deps:[nt]},{provide:Pp,useClass:Pp,deps:[Dp,vd,lc,hP]},{provide:Ju,useExisting:Pp},{provide:cP,useExisting:vd},{provide:vd,useClass:vd,deps:[nt]},{provide:Dp,useClass:Dp,deps:[Ap,st]},{provide:nP,useClass:e8,deps:[]},[]];let EP=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:lc,useValue:t.appId},{provide:aP,useExisting:lc},JW]}}}return n.\u0275fac=function(t){return new(t||n)($(xP,12))},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({providers:[...MP,...wP],imports:[dc,XG]}),n})(),SP=(()=>{class n{constructor(t){this._doc=t,this._dom=Uo()}addTag(t,i=!1){return t?this._getOrCreateElement(t,i):null}addTags(t,i=!1){return t?t.reduce((r,s)=>(s&&r.push(this._getOrCreateElement(s,i)),r),[]):[]}getTag(t){return t&&this._doc.querySelector(`meta[${t}]`)||null}getTags(t){if(!t)return[];const i=this._doc.querySelectorAll(`meta[${t}]`);return i?[].slice.call(i):[]}updateTag(t,i){if(!t)return null;i=i||this._parseSelector(t);const r=this.getTag(i);return r?this._setMetaElementAttributes(t,r):this._getOrCreateElement(t,!0)}removeTag(t){this.removeTagElement(this.getTag(t))}removeTagElement(t){t&&this._dom.remove(t)}_getOrCreateElement(t,i=!1){if(!i){const o=this._parseSelector(t),a=this.getTags(o).filter(l=>this._containsAttributes(t,l))[0];if(void 0!==a)return a}const r=this._dom.createElement("meta");return this._setMetaElementAttributes(t,r),this._doc.getElementsByTagName("head")[0].appendChild(r),r}_setMetaElementAttributes(t,i){return Object.keys(t).forEach(r=>i.setAttribute(this._getMetaKeyMap(r),t[r])),i}_parseSelector(t){const i=t.name?"name":"property";return`${i}="${t[i]}"`}_containsAttributes(t,i){return Object.keys(t).every(r=>i.getAttribute(this._getMetaKeyMap(r))===t[r])}_getMetaKeyMap(t){return _8[t]||t}}return n.\u0275fac=function(t){return new(t||n)($(nt))},n.\u0275prov=ve({token:n,factory:function(t){let i=null;return i=t?new t:function g8(){return new SP($(nt))}(),i},providedIn:"root"}),n})();const _8={httpEquiv:"http-equiv"};let xb=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)($(nt))},n.\u0275prov=ve({token:n,factory:function(t){let i=null;return i=t?new t:function v8(){return new xb($(nt))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Mb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:function(t){let i=null;return i=t?new(t||n):$(AP),i},providedIn:"root"}),n})(),AP=(()=>{class n extends Mb{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case Ht.NONE:return i;case Ht.HTML:return fs(i,"HTML")?sr(i):WC(this._doc,String(i)).toString();case Ht.STYLE:return fs(i,"Style")?sr(i):i;case Ht.SCRIPT:if(fs(i,"Script"))return sr(i);throw new Error("unsafe value used in a script context");case Ht.URL:return fs(i,"URL")?sr(i):Af(String(i));case Ht.RESOURCE_URL:if(fs(i,"ResourceURL"))return sr(i);throw new Error(`unsafe value used in a resource URL context (see ${Xh})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${Xh})`)}}bypassSecurityTrustHtml(t){return function o3(n){return new QU(n)}(t)}bypassSecurityTrustStyle(t){return function a3(n){return new e3(n)}(t)}bypassSecurityTrustScript(t){return function l3(n){return new t3(n)}(t)}bypassSecurityTrustUrl(t){return function c3(n){return new n3(n)}(t)}bypassSecurityTrustResourceUrl(t){return function u3(n){return new r3(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)($(nt))},n.\u0275prov=ve({token:n,factory:function(t){let i=null;return i=t?new t:function M8(n){return new AP(n.get(nt))}($(Qn)),i},providedIn:"root"}),n})();function xn(n){return null!=n&&"false"!=`${n}`}function yd(n,e=0){return function E8(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function bd(n){return Array.isArray(n)?n:[n]}function Hn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Kn(n){return n instanceof Xt?n.nativeElement:n}function Ve(...n){return jn(n,Pu(n))}const{isArray:S8}=Array;function Eb(n){return Qe(e=>function C8(n,e){return S8(e)?n(...e):n(e)}(n,e))}const T8=["addListener","removeListener"],A8=["addEventListener","removeEventListener"],D8=["on","off"];function eo(n,e,t,i){if(Nt(t)&&(i=t,t=void 0),i)return eo(n,e,t).pipe(Eb(i));const[r,s]=function R8(n){return Nt(n.addEventListener)&&Nt(n.removeEventListener)}(n)?A8.map(o=>a=>n[o](e,a,t)):function P8(n){return Nt(n.addListener)&&Nt(n.removeListener)}(n)?T8.map(DP(n,e)):function I8(n){return Nt(n.on)&&Nt(n.off)}(n)?D8.map(DP(n,e)):[];if(!r&&M_(n))return vn(o=>eo(o,e,t))(ri(n));if(!r)throw new TypeError("Invalid event target");return new qt(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function DP(n,e){return t=>i=>n[t](e,i)}class O8 extends nn{constructor(e,t){super()}schedule(e,t=0){return this}}const Ip={setInterval(n,e,...t){const{delegate:i}=Ip;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Ip;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class Sb extends O8{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return Ip.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&Ip.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,gl(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const xd={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=xd;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new nn(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=xd;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=xd;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},PP={now:()=>(PP.delegate||Date).now(),delegate:void 0};class wd{constructor(e,t=wd.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}wd.now=PP.now;class Cb extends wd{constructor(e,t=wd.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const IP=new class L8 extends Cb{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class k8 extends Sb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=xd.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(xd.cancelAnimationFrame(t),e._scheduled=void 0)}});let Tb,F8=1;const Rp={};function RP(n){return n in Rp&&(delete Rp[n],!0)}const N8={setImmediate(n){const e=F8++;return Rp[e]=!0,Tb||(Tb=Promise.resolve()),Tb.then(()=>RP(e)&&n()),e},clearImmediate(n){RP(n)}},{setImmediate:B8,clearImmediate:U8}=N8,Op={setImmediate(...n){const{delegate:e}=Op;return(e?.setImmediate||B8)(...n)},clearImmediate(n){const{delegate:e}=Op;return(e?.clearImmediate||U8)(n)},delegate:void 0},V8=new class H8 extends Cb{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class z8 extends Sb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Op.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(Op.clearImmediate(t),e._scheduled=void 0)}}),kp=new Cb(Sb),G8=kp;function OP(n=0,e,t=G8){let i=-1;return null!=e&&(YE(e)?t=e:i=e),new qt(r=>{let s=function $8(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function Ab(n,e=kp){return function W8(n){return _n((e,t)=>{let i=!1,r=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const c=r;r=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(dn(t,c=>{i=!0,r=c,s||ri(n(c)).subscribe(s=dn(t,a,l))},()=>{o=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>OP(n,e))}function hn(n,e){return _n((t,i)=>{let r=0;t.subscribe(dn(i,s=>n.call(e,s,r++)&&i.next(s)))})}function kt(n){return _n((e,t)=>{ri(n).subscribe(dn(t,()=>t.complete(),g_)),!t.closed&&e.subscribe(t)})}function Lp(...n){return function j8(){return Fs(1)}()(jn(n,Pu(n)))}function Dr(...n){const e=Pu(n);return _n((t,i)=>{(e?Lp(n,t,e):Lp(n,t)).subscribe(i)})}let Db;try{Db=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Db=!1}let Md,Fp,Aa,Pb,Oi=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function vW(n){return n===eP}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Db)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)($(lp))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function to(n){return function X8(){if(null==Md&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Md=!0}))}finally{Md=Md||!1}return Md}()?n:!!n.capture}function LP(){if(null==Aa){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Aa=!1,Aa;if("scrollBehavior"in document.documentElement.style)Aa=!0;else{const n=Element.prototype.scrollTo;Aa=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Aa}function Ed(){if("object"!=typeof document||!document)return 0;if(null==Fp){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),Fp=0,0===n.scrollLeft&&(n.scrollLeft=1,Fp=0===n.scrollLeft?1:2),n.remove()}return Fp}function Ib(n){if(function q8(){if(null==Pb){const n=typeof document<"u"?document.head:null;Pb=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Pb}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function ji(n){return n.composedPath?n.composedPath()[0]:n.target}function Rb(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Y8=new pe("cdk-dir-doc",{providedIn:"root",factory:function K8(){return Ee(nt)}}),Z8=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Qr=(()=>{class n{constructor(t){this.value="ltr",this.change=new Mt,t&&(this.value=function J8(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Z8.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)($(Y8,8))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({}),n})();const Q8=["contentWrapper"],e$=["*"],t$=new pe("VIRTUAL_SCROLL_STRATEGY");let fc=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new ke,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new qt(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(Ab(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ve()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(hn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Kn(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>eo(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)($(st),$(Oi),$(nt,8))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FP=(()=>{class n{constructor(t,i,r,s){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new ke,this._elementScrolled=new qt(o=>this.ngZone.runOutsideAngular(()=>eo(this.elementRef.nativeElement,"scroll").pipe(kt(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=Ed()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==Ed()?t.left=t.right:1==Ed()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;LP()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?r:i:"end"==t&&(t=o?i:r),o&&2==Ed()?t==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&1==Ed()?t==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(H(Xt),H(fc),H(st),H(Qr,8))},n.\u0275dir=Ze({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),Np=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new ke,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Ab(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)($(Oi),$(st),$(nt,8))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NP=new pe("VIRTUAL_SCROLLABLE");let r$=(()=>{class n extends FP{constructor(t,i,r,s){super(t,i,r,s)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(H(Xt),H(fc),H(st),H(Qr,8))},n.\u0275dir=Ze({type:n,features:[pn]}),n})();const o$=typeof requestAnimationFrame<"u"?IP:V8;let a$=(()=>{class n extends r${get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=xn(t)}constructor(t,i,r,s,o,a,l,c){super(t,a,r,o),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=s,this.scrollable=c,this._platform=Ee(Oi),this._detachedSubject=new ke,this._renderedRangeSubject=new ke,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new qt(u=>this._scrollStrategy.scrolledIndexChange.subscribe(d=>Promise.resolve().then(()=>this.ngZone.run(()=>u.next(d))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=nn.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Dr(null),Ab(0,o$)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(kt(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function s$(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const s="horizontal"==this.orientation,o=s?"X":"Y";let l=`translate${o}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(l+=` translate${o}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const r="left",s="right",o="rtl"==this.dir?.value;i="start"==t?o?s:r:"end"==t?o?r:s:t||("horizontal"===this.orientation?"left":"top");const a=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-a}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(H(Xt),H(lr),H(st),H(t$,8),H(Qr,8),H(fc),H(Np),H(NP,8))},n.\u0275cmp=Yt({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&Lo(Q8,7),2&t){let r;Pi(r=Ii())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&ai("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[Bn([{provide:FP,useFactory:(e,t)=>e||t,deps:[[new jr,new Ol(NP)],n]}]),pn,xy],ngContentSelectors:e$,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(Ys(),O(0,"div",0,1),Ai(2),z(),Re(3,"div",2)),2&t&&(Me(3),id("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),Cd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({}),n})(),BP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({imports:[Sd,Cd,a$,Sd,Cd]}),n})();class Pr extends ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function _i(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function In(n,e,t){const i=Nt(n)||e||t?{next:n,error:e,complete:t}:n;return i?_n((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(dn(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):To}function Nb(n,e=kp){return _n((t,i)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=s;s=null,i.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}t.subscribe(dn(i,c=>{s=c,o=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}function Bb(n){return hn((e,t)=>n<=t)}function Ub(n,e=To){return n=n??x$,_n((t,i)=>{let r,s=!0;t.subscribe(dn(i,o=>{const a=e(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}function x$(n,e){return n===e}let w$=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),M$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({providers:[w$]}),n})();const{isArray:E$}=Array,{getPrototypeOf:S$,prototype:C$,keys:T$}=Object;function UP(n){if(1===n.length){const e=n[0];if(E$(e))return{args:e,keys:null};if(function A$(n){return n&&"object"==typeof n&&S$(n)===C$}(e)){const t=T$(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function zP(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function zb(...n){const e=Pu(n),t=KE(n),{args:i,keys:r}=UP(n);if(0===i.length)return jn([],e);const s=new qt(function D$(n,e,t=To){return i=>{HP(e,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)HP(e,()=>{const c=jn(n[l],e);let u=!1;c.subscribe(dn(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,r?o=>zP(r,o):To));return t?s.pipe(Eb(t)):s}function HP(n,e,t){n?Ls(t,n,e):e()}function Xi(n){return n<=0?()=>Hr:_n((e,t)=>{let i=0;e.subscribe(dn(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}const VP=new Set;let gc,P$=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):R$}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function I$(n){if(!VP.has(n))try{gc||(gc=document.createElement("style"),gc.setAttribute("type","text/css"),document.head.appendChild(gc)),gc.sheet&&(gc.sheet.insertRule(`@media ${n} {body{ }}`,0),VP.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)($(Oi))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function R$(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Hb=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new ke}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return GP(bd(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=zb(GP(bd(t)).map(o=>this._registerQuery(o).observable));return s=Lp(s.pipe(Xi(1)),s.pipe(Bb(1),Nb(0))),s.pipe(Qe(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new qt(o=>{const a=l=>this._zone.run(()=>o.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Dr(i),Qe(({matches:o})=>({query:t,matches:o})),kt(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)($(P$),$(st))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function GP(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function zp(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const $P="cdk-describedby-message",Hp="cdk-describedby-host";let Vb=0,F$=(()=>{class n{constructor(t,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Vb++,this._document=t,this._id=Ee(lc)+"-"+Vb++}describe(t,i,r){if(!this._canBeDescribed(t,i))return;const s=Gb(i,r);"string"!=typeof i?(jP(i,this._id),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(t,s)||this._addMessageReference(t,s)}removeDescription(t,i,r){if(!i||!this._isElementNode(t))return;const s=Gb(i,r);if(this._isElementDescribedByMessage(t,s)&&this._removeMessageReference(t,s),"string"==typeof i){const o=this._messageRegistry.get(s);o&&0===o.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${Hp}="${this._id}"]`);for(let i=0;i<t.length;i++)this._removeCdkDescribedByReferenceIds(t[i]),t[i].removeAttribute(Hp);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,i){const r=this._document.createElement("div");jP(r,this._id),r.textContent=t,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(Gb(t,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){const i=zp(t,"aria-describedby").filter(r=>0!=r.indexOf($P));t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){const r=this._messageRegistry.get(i);(function k$(n,e,t){const i=zp(n,e);i.some(r=>r.trim()==t.trim())||(i.push(t.trim()),n.setAttribute(e,i.join(" ")))})(t,"aria-describedby",r.messageElement.id),t.setAttribute(Hp,this._id),r.referenceCount++}_removeMessageReference(t,i){const r=this._messageRegistry.get(i);r.referenceCount--,function L$(n,e,t){const r=zp(n,e).filter(s=>s!=t.trim());r.length?n.setAttribute(e,r.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",r.messageElement.id),t.removeAttribute(Hp)}_isElementDescribedByMessage(t,i){const r=zp(t,"aria-describedby"),s=this._messageRegistry.get(i),o=s&&s.messageElement.id;return!!o&&-1!=r.indexOf(o)}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=t.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)($(nt),$(Oi))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gb(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function jP(n,e){n.id||(n.id=`${$P}-${e}-${Vb++}`)}class N${constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ke,this._typeaheadSubscription=nn.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new ke,this.change=new ke,e instanceof sc&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(In(t=>this._pressedLetters.push(t)),Nb(e),hn(()=>this._pressedLetters.length>0),Qe(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,o=i[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}return;default:return void((r||_i(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof sc?this._items.toArray():this._items}}class XP extends N${constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function Wb(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function $b(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const G$=new pe("cdk-input-modality-detector-options"),W$={ignoreKeys:[18,17,224,91,16]},_c=to({passive:!0,capture:!0});let jb=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Pr(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ji(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Wb(o)?"keyboard":"mouse"),this._mostRecentTarget=ji(o))},this._onTouchstart=o=>{$b(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ji(o))},this._options={...W$,...s},this.modalityDetected=this._modality.pipe(Bb(1)),this.modalityChanged=this.modalityDetected.pipe(Ub()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,_c),r.addEventListener("mousedown",this._onMousedown,_c),r.addEventListener("touchstart",this._onTouchstart,_c)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,_c),document.removeEventListener("mousedown",this._onMousedown,_c),document.removeEventListener("touchstart",this._onTouchstart,_c))}}return n.\u0275fac=function(t){return new(t||n)($(Oi),$(st),$(nt),$(G$,8))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $$=new pe("liveAnnouncerElement",{providedIn:"root",factory:function j$(){return null}}),X$=new pe("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let q$=0,KP=(()=>{class n{constructor(t,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let s,o;return 1===i.length&&"number"==typeof i[0]?o=i[0]:[s,o]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+q$++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],o=s.getAttribute("aria-owns");o?-1===o.indexOf(t)&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}}return n.\u0275fac=function(t){return new(t||n)($($$,8),$(st),$(nt),$(X$,8))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Y$=new pe("cdk-focus-monitor-default-options"),Vp=to({passive:!0,capture:!0});let Xb=(()=>{class n{constructor(t,i,r,s,o){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ke,this._rootNodeFocusAndBlurListener=a=>{for(let c=ji(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(t,i=!1){const r=Kn(t);if(!this._platform.isBrowser||1!==r.nodeType)return Ve(null);const s=Ib(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;const a={checkChildren:i,subject:new ke,rootNode:s};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Kn(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=Kn(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=ji(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Vp),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Vp)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(kt(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Vp),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Vp),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)($(st),$(Oi),$(jb),$(nt,8),$(Y$,8))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZP="cdk-high-contrast-black-on-white",JP="cdk-high-contrast-white-on-black",qb="cdk-high-contrast-active";let QP=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=Ee(Hb).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(qb,ZP,JP),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(qb,ZP):2===i&&t.add(qb,JP)}}}return n.\u0275fac=function(t){return new(t||n)($(Oi),$(nt))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K$=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)($(QP))},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({imports:[M$]}),n})();function Ir(n,e){return _n((t,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();t.subscribe(dn(i,l=>{r?.unsubscribe();let c=0;const u=s++;ri(n(l,u)).subscribe(r=dn(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Yb(n,e,t){for(let i in e)if(e.hasOwnProperty(i)){const r=e[i];r?n.setProperty(i,r,t?.has(i)?"important":""):n.removeProperty(i)}return n}function vc(n,e){const t=e?"":"none";Yb(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function eI(n,e,t){Yb(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function Gp(n,e){return e&&"none"!=e?n+" "+e:n}function tI(n){const e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function Kb(n,e){return n.getPropertyValue(e).split(",").map(i=>i.trim())}function Zb(n){const e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function Jb(n,e,t){const{top:i,bottom:r,left:s,right:o}=n;return t>=i&&t<=r&&e>=s&&e<=o}function Td(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function nI(n,e,t,i){const{top:r,right:s,bottom:o,left:a,width:l,height:c}=n,u=l*e,d=c*e;return i>r-d&&i<o+d&&t>a-u&&t<s+u}class iI{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Zb(t)})})}handleScroll(e){const t=ji(e),i=this.positions.get(t);if(!i)return null;const r=i.scrollPosition;let s,o;if(t===this._document){const c=this.getViewportScrollPosition();s=c.top,o=c.left}else s=t.scrollTop,o=t.scrollLeft;const a=r.top-s,l=r.left-o;return this.positions.forEach((c,u)=>{c.clientRect&&t!==u&&t.contains(u)&&Td(c.clientRect,a,l)}),r.top=s,r.left=o,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function rI(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();e.removeAttribute("id");for(let r=0;r<t.length;r++)t[r].removeAttribute("id");return"canvas"===i?aI(n,e):("input"===i||"select"===i||"textarea"===i)&&oI(n,e),sI("canvas",n,e,aI),sI("input, textarea, select",n,e,oI),e}function sI(n,e,t,i){const r=e.querySelectorAll(n);if(r.length){const s=t.querySelectorAll(n);for(let o=0;o<r.length;o++)i(r[o],s[o])}}let Q$=0;function oI(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${Q$++}`)}function aI(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}const lI=to({passive:!0}),Wp=to({passive:!1}),Qb=new Set(["position"]);class tj{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=xn(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(i=>vc(i,t)))}constructor(e,t,i,r,s,o){this._config=t,this._document=i,this._ngZone=r,this._viewportRuler=s,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new ke,this._pointerMoveSubscription=nn.EMPTY,this._pointerUpSubscription=nn.EMPTY,this._scrollSubscription=nn.EMPTY,this._resizeSubscription=nn.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new ke,this.started=new ke,this.released=new ke,this.ended=new ke,this.entered=new ke,this.exited=new ke,this.dropped=new ke,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const f=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),p=this._dropContainer;if(!f)return void this._endDragSequence(a);(!p||!p.isDragging()&&!p.isReceiving())&&(a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}a.preventDefault();const c=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(c),this._dropContainer)this._updateActiveDropContainer(c,l);else{const u=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,d=this._activeTransform;d.x=c.x-u.x+this._passiveTransform.x,d.y=c.y-u.y+this._passiveTransform.y,this._applyRootElementTransform(d.x,d.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:c,event:a,distance:this._getDragDistance(c),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new iI(i),o.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(i=>Kn(i)),this._handles.forEach(i=>vc(i,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=Kn(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,Wp),t.addEventListener("touchstart",this._pointerDown,lI),t.addEventListener("dragstart",this._nativeDragStart,Wp)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?Kn(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),vc(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),vc(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){Ad(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const i=this._rootElement,r=i.parentNode,s=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();r.insertBefore(o,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),eI(i,!1,Qb),this._document.body.appendChild(r.replaceChild(s,i)),this._getPreviewInsertionPoint(r,a).appendChild(this._preview),this.started.next({source:this,event:e}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const i=this.isDragging(),r=Ad(t),s=!r&&0!==t.button,o=this._rootElement,a=ji(t),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),c=r?$b(t):Wb(t);if(a&&a.draggable&&"mousedown"===t.type&&t.preventDefault(),i||s||l||c)return;if(this._handles.length){const h=o.style;this._rootElementTapHighlight=h.webkitTapHighlightColor||"",h.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(h=>this._updateOnScroll(h)),this._boundaryElement&&(this._boundaryRect=Zb(this._boundaryElement));const u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,e,t);const d=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:d.x,y:d.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){eI(this._rootElement,!0,Qb),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),r=this._getPointerPositionOnPage(e),s=this._getDragDistance(r),o=t._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:s,dropPoint:r,event:e}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:s,dropPoint:r,event:e}),t.drop(this,i,this._initialIndex,this._initialContainer,o,s,r,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:i,y:r}){let s=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,e,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,i=e?e.template:null;let r;if(i&&e){const s=e.matchSize?this._initialClientRect:null,o=e.viewContainer.createEmbeddedView(i,e.context);o.detectChanges(),r=uI(o,this._document),this._previewRef=o,e.matchSize?dI(r,s):r.style.transform=$p(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=rI(this._rootElement),dI(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return Yb(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Qb),vc(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>r.classList.add(s)):r.classList.add(t)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function J$(n){const e=getComputedStyle(n),t=Kb(e,"transition-property"),i=t.find(a=>"transform"===a||"all"===a);if(!i)return 0;const r=t.indexOf(i),s=Kb(e,"transition-duration"),o=Kb(e,"transition-delay");return tI(s[r])+tI(o[r])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=o=>{(!o||ji(o)===this._preview&&"transform"===o.propertyName)&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(s))},s=setTimeout(r,1.5*t);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let i;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),i=uI(this._placeholderRef,this._document)):i=rI(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(e,t,i){const r=t===this._rootElement?null:t,s=r?r.getBoundingClientRect():e,o=Ad(i)?i.targetTouches[0]:i,a=this._getViewportScrollPosition();return{x:s.left-e.left+(o.pageX-s.left-a.left),y:s.top-e.top+(o.pageY-s.top-a.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),i=Ad(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,r=i.pageX-t.left,s=i.pageY-t.top;if(this._ownerSVGElement){const o=this._ownerSVGElement.getScreenCTM();if(o){const a=this._ownerSVGElement.createSVGPoint();return a.x=r,a.y=s,a.matrixTransform(o.inverse())}}return{x:r,y:s}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(e,this,this._initialClientRect,this._pickupPositionInElement):e;if("x"===this.lockAxis||"x"===t?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:s,y:o}=this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),u=a.top+o,d=a.bottom-(c-o);i=cI(i,a.left+s,a.right-(l-s)),r=cI(r,u,d)}return{x:i,y:r}}_updatePointerDirectionDelta(e){const{x:t,y:i}=e,r=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,o=Math.abs(t-s.x),a=Math.abs(i-s.y);return o>this._config.pointerDirectionChangeThreshold&&(r.x=t>s.x?1:-1,s.x=t),a>this._config.pointerDirectionChangeThreshold&&(r.y=i>s.y?1:-1,s.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,vc(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,Wp),e.removeEventListener("touchstart",this._pointerDown,lI),e.removeEventListener("dragstart",this._nativeDragStart,Wp)}_applyRootElementTransform(e,t){const i=$p(e,t),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=Gp(i,this._initialTransform)}_applyPreviewTransform(e,t){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=$p(e,t);this._preview.style.transform=Gp(r,i)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const s=r.left-i.left,o=i.right-r.right,a=r.top-i.top,l=i.bottom-r.bottom;r.width>i.width?(s>0&&(e+=s),o>0&&(e-=o)):e=0,r.height>i.height?(a>0&&(t+=a),l>0&&(t-=l)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:Ad(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const i=ji(e);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Td(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Ib(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const i=this._previewContainer||"global";if("parent"===i)return e;if("global"===i){const r=this._document;return t||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Kn(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}}function $p(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function cI(n,e,t){return Math.max(e,Math.min(t,n))}function Ad(n){return"t"===n.type[0]}function uI(n,e){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const i=e.createElement("div");return t.forEach(r=>i.appendChild(r)),i}function dI(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=$p(e.left,e.top)}function Dd(n,e){return Math.max(0,Math.min(e,n))}class ij{constructor(e,t){this._element=e,this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(e){this.withItems(e)}sort(e,t,i,r){const s=this._itemPositions,o=this._getItemIndexFromPointerPosition(e,t,i,r);if(-1===o&&s.length>0)return null;const a="horizontal"===this.orientation,l=s.findIndex(_=>_.drag===e),c=s[o],d=c.clientRect,h=l>o?1:-1,f=this._getItemOffsetPx(s[l].clientRect,d,h),p=this._getSiblingOffsetPx(l,s,h),g=s.slice();return function nj(n,e,t){const i=Dd(e,n.length-1),r=Dd(t,n.length-1);if(i===r)return;const s=n[i],o=r<i?-1:1;for(let a=i;a!==r;a+=o)n[a]=n[a+o];n[r]=s}(s,l,o),s.forEach((_,m)=>{if(g[m]===_)return;const y=_.drag===e,v=y?f:p,b=y?e.getPlaceholderElement():_.drag.getRootElement();_.offset+=v,a?(b.style.transform=Gp(`translate3d(${Math.round(_.offset)}px, 0, 0)`,_.initialTransform),Td(_.clientRect,0,v)):(b.style.transform=Gp(`translate3d(0, ${Math.round(_.offset)}px, 0)`,_.initialTransform),Td(_.clientRect,v,0))}),this._previousSwap.overlaps=Jb(d,t,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?r.x:r.y,{previousIndex:l,currentIndex:o}}enter(e,t,i,r){const s=null==r||r<0?this._getItemIndexFromPointerPosition(e,t,i):r,o=this._activeDraggables,a=o.indexOf(e),l=e.getPlaceholderElement();let c=o[s];if(c===e&&(c=o[s+1]),!c&&(null==s||-1===s||s<o.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(c=o[0]),a>-1&&o.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){const u=c.getRootElement();u.parentElement.insertBefore(l,u),o.splice(s,0,e)}else Kn(this._element).appendChild(l),o.push(e);l.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables.forEach(e=>{const t=e.getRootElement();if(t){const i=this._itemPositions.find(r=>r.drag===e)?.initialTransform;t.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===e)}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:i})=>{Td(i,e,t)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const e="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:Zb(i)}}).sort((t,i)=>e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_getItemOffsetPx(e,t,i){const r="horizontal"===this.orientation;let s=r?t.left-e.left:t.top-e.top;return-1===i&&(s+=r?t.width-e.width:t.height-e.height),s}_getSiblingOffsetPx(e,t,i){const r="horizontal"===this.orientation,s=t[e].clientRect,o=t[e+-1*i];let a=s[r?"width":"height"]*i;if(o){const l=r?"left":"top",c=r?"right":"bottom";-1===i?a-=o.clientRect[l]-s[c]:a+=s[l]-o.clientRect[c]}return a}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const o=i[i.length-1].clientRect;return r?e>=o.right:t>=o.bottom}{const o=i[0].clientRect;return r?e<=o.left:t<=o.top}}_getItemIndexFromPointerPosition(e,t,i,r){const s="horizontal"===this.orientation,o=this._itemPositions.findIndex(({drag:a,clientRect:l})=>a!==e&&((!r||a!==this._previousSwap.drag||!this._previousSwap.overlaps||(s?r.x:r.y)!==this._previousSwap.delta)&&(s?t>=Math.floor(l.left)&&t<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom))));return-1!==o&&this._sortPredicate(o,e)?o:-1}}const fI=.05;class rj{constructor(e,t,i,r,s){this._dragDropRegistry=t,this._ngZone=r,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new ke,this.entered=new ke,this.exited=new ke,this.dropped=new ke,this.sorted=new ke,this.receivingStarted=new ke,this.receivingStopped=new ke,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=nn.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new ke,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function Z$(n=0,e=kp){return n<0&&(n=0),OP(n,n,e)}(0,IP).pipe(kt(this._stopScrollTimers)).subscribe(()=>{const o=this._scrollNode,a=this.autoScrollStep;1===this._verticalScrollDirection?o.scrollBy(0,-a):2===this._verticalScrollDirection&&o.scrollBy(0,a),1===this._horizontalScrollDirection?o.scrollBy(-a,0):2===this._horizontalScrollDirection&&o.scrollBy(a,0)})},this.element=Kn(e),this._document=i,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new iI(i),this._sortStrategy=new ij(this.element,t),this._sortStrategy.withSortPredicate((o,a)=>this.sortPredicate(o,a,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,i,r,s,o,a,l={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:s,distance:o,dropPoint:a,event:l})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(r=>r.isDragging()).every(r=>-1===e.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._sortStrategy.direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._sortStrategy.orientation=e,this}withScrollableParents(e){const t=Kn(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,i,r){if(this.sortingDisabled||!this._clientRect||!nI(this._clientRect,.05,t,i))return;const s=this._sortStrategy.sort(e,t,i,r);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let i,r=0,s=0;if(this._parentPositions.positions.forEach((o,a)=>{a===this._document||!o.clientRect||i||nI(o.clientRect,.05,e,t)&&([r,s]=function sj(n,e,t,i){const r=pI(e,i),s=mI(e,t);let o=0,a=0;if(r){const l=n.scrollTop;1===r?l>0&&(o=1):n.scrollHeight-l>n.clientHeight&&(o=2)}if(s){const l=n.scrollLeft;1===s?l>0&&(a=1):n.scrollWidth-l>n.clientWidth&&(a=2)}return[o,a]}(a,o.clientRect,e,t),(r||s)&&(i=a))}),!r&&!s){const{width:o,height:a}=this._viewportRuler.getViewportSize(),l={width:o,height:a,top:0,right:o,bottom:a,left:0};r=pI(l,t),s=mI(l,e),i=window}i&&(r!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=s,this._scrollNode=i,(r||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=Kn(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=Kn(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_reset(){this._isDragging=!1;const e=Kn(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(e,t){return null!=this._clientRect&&Jb(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,i){return this._siblings.find(r=>r._canReceive(e,t,i))}_canReceive(e,t,i){if(!this._clientRect||!Jb(this._clientRect,t,i)||!this.enterPredicate(e,this))return!1;const r=this._getShadowRoot().elementFromPoint(t,i);if(!r)return!1;const s=Kn(this.element);return r===s||s.contains(r)}_startReceiving(e,t){const i=this._activeSiblings;!i.has(e)&&t.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:t}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=Ib(Kn(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function pI(n,e){const{top:t,bottom:i,height:r}=n,s=r*fI;return e>=t-s&&e<=t+s?1:e>=i-s&&e<=i+s?2:0}function mI(n,e){const{left:t,right:i,width:r}=n,s=r*fI;return e>=t-s&&e<=t+s?1:e>=i-s&&e<=i+s?2:0}const jp=to({passive:!1,capture:!0});let oj=(()=>{class n{constructor(t,i){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new ke,this.pointerUp=new ke,this.scroll=new ke,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,jp)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,jp)}startDragging(t,i){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:jp}),r||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:jp}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,o)=>{this._document.addEventListener(o,s.handler,s.options)})})}}stopDragging(t){const i=this._activeDragInstances.indexOf(t);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const i=[this.scroll];return t&&t!==this._document&&i.push(new qt(r=>this._ngZone.runOutsideAngular(()=>{const o=a=>{this._activeDragInstances.length&&r.next(a)};return t.addEventListener("scroll",o,!0),()=>{t.removeEventListener("scroll",o,!0)}}))),Ns(...i)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,i)=>{this._document.removeEventListener(i,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)($(st),$(nt))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aj={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let e0=(()=>{class n{constructor(t,i,r,s){this._document=t,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=s}createDrag(t,i=aj){return new tj(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new rj(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)($(nt),$(st),$(Np),$(oj))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({providers:[e0],imports:[Cd]}),n})();class s0{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Xp extends s0{constructor(e,t,i,r,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class qp extends s0{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class _j extends s0{constructor(e){super(),this.element=e instanceof Xt?e.nativeElement:e}}class o0{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Xp?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof qp?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof _j?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class vj extends o0{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Qn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let a0=(()=>{class n extends o0{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Mt,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=i.createComponent(s,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(H(wa),H(gi),H(nt))},n.\u0275dir=Ze({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[pn]}),n})(),l0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({}),n})();const bI=LP();class yj{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Hn(-this._previousScrollPosition.left),e.style.top=Hn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),bI&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),bI&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class bj{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(hn(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class xI{enable(){}disable(){}attach(){}}function c0(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function wI(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class xj{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();c0(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let wj=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new xI,this.close=o=>new bj(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new yj(this._viewportRuler,this._document),this.reposition=o=>new xj(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)($(fc),$(Np),$(st),$(nt))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Yp{constructor(e){if(this.scrollStrategy=new xI,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Mj{constructor(e,t,i,r,s){this.offsetX=i,this.offsetY=r,this.panelClass=s,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class Ej{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let MI=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)($(nt))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sj=(()=>{class n extends MI{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)($(nt),$(st,8))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cj=(()=>{class n extends MI{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=ji(s)},this._clickListener=s=>{const o=ji(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)($(nt),$(Oi),$(st,8))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EI=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Rb()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),Rb()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)($(nt),$(Oi))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Tj{constructor(e,t,i,r,s,o,a,l,c,u=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new ke,this._attachments=new ke,this._detachments=new ke,this._locationChanges=nn.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new ke,this._outsidePointerEvents=new ke,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Xi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Hn(this._config.width),e.height=Hn(this._config.height),e.minWidth=Hn(this._config.minWidth),e.minHeight=Hn(this._config.minHeight),e.maxWidth=Hn(this._config.maxWidth),e.maxHeight=Hn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=bd(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(kt(Ns(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const SI="cdk-overlay-connected-position-bounding-box",Aj=/([A-Za-z%]+)$/;class Dj{get positions(){return this._preferredPositions}constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ke,this._resizeSubscription=nn.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(SI),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,i)?s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Da(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(SI),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?o:a}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=TI(t);let{x:o,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-i.height,p=this._subtractOverflows(s.width,0-o,o+s.width-i.width),g=this._subtractOverflows(s.height,h,f),_=p*g;return{visibleArea:_,isCompletelyWithinViewport:s.width*s.height===_,fitsInViewportVertically:g===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,o=CI(this._overlayRef.getConfig().minHeight),a=CI(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=TI(t),s=this._viewportRect,o=Math.max(e.x+r.width-s.width,0),a=Math.max(e.y+r.height-s.height,0),l=Math.max(s.top-i.top-e.y,0),c=Math.max(s.left-i.left-e.x,0);let u=0,d=0;return u=r.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-i.left-e.x:0,d=r.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Ej(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=i.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,s=i.height-a+this._viewportMargin;else{const f=Math.min(i.bottom-e.y+i.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)h=i.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)d=e.x,u=i.right-e.x;else{const f=Math.min(i.right-e.x+i.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=Hn(i.height),r.top=Hn(i.top),r.bottom=Hn(i.bottom),r.width=Hn(i.width),r.left=Hn(i.left),r.right=Hn(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Hn(s)),o&&(r.maxWidth=Hn(o))}this._lastBoundingBoxSize=i,Da(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Da(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Da(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();Da(i,this._getExactOverlayY(t,e,u)),Da(i,this._getExactOverlayX(t,e,u))}else i.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),o.maxHeight&&(r?i.maxHeight=Hn(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=Hn(o.maxWidth):s&&(i.maxWidth="")),Da(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Hn(s.y),r}_getExactOverlayX(e,t,i){let o,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Hn(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:wI(e,i),isOriginOutsideView:c0(e,i),isOverlayClipped:wI(t,i),isOverlayOutsideView:c0(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&bd(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Xt)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Da(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function CI(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Aj);return t&&"px"!==t?null:parseFloat(e)}return n||null}function TI(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const AI=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}],Pj=[{originX:"end",originY:"top",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"start",overlayY:"bottom"},{originX:"start",originY:"top",overlayX:"end",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"end",overlayY:"bottom"}],DI="cdk-global-overlay-wrapper";class Ij{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(DI),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",p="",g="";l?g="flex-start":"center"===u?(g="center",h?p=d:f=d):h?"left"===u||"end"===u?(g="flex-end",f=d):("right"===u||"start"===u)&&(g="flex-start",p=d):"left"===u||"start"===u?(g="flex-start",f=d):("right"===u||"end"===u)&&(g="flex-end",p=d),e.position=this._cssPosition,e.marginLeft=l?"0":f,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":p,t.justifyContent=g,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(DI),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Rj=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new Ij}flexibleConnectedTo(t){return new Dj(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)($(Np),$(nt),$(Oi),$(EI))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Oj=0,no=(()=>{class n{constructor(t,i,r,s,o,a,l,c,u,d,h,f){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new Yp(t);return o.direction=o.direction||this._directionality.value,new Tj(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Oj++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(cc)),new vj(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)($(wj),$(EI),$(wa),$(Rj),$(Sj),$(Qn),$(st),$(nt),$(Qr),$(pp),$(Cj),$(Ks,8))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Fj={provide:new pe("cdk-connected-overlay-scroll-strategy"),deps:[no],useFactory:function Lj(n){return()=>n.scrollStrategies.reposition()}};let Kp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({providers:[no,Fj],imports:[Sd,l0,BP,BP]}),n})();class PI{}class Nj{}const io="*";function yc(n,e){return{type:7,name:n,definitions:e,options:{}}}function ro(n,e=null){return{type:4,styles:e,timings:n}}function II(n,e=null){return{type:2,steps:n,options:e}}function vi(n){return{type:6,styles:n,offset:null}}function bs(n,e,t){return{type:0,name:n,styles:e,options:t}}function so(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function RI(n){Promise.resolve().then(n)}class Pd{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){RI(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class OI{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?RI(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const u0="!",Uj=new pe("mat-sanity-checks",{providedIn:"root",factory:function Bj(){return!0}});let qi=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Rb()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)($(QP),$(Uj,8),$(nt))},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({imports:[Sd,Sd]}),n})();function zj(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=xn(e)}constructor(...e){super(...e),this._disabled=!1}}}function FI(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function Hj(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=xn(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function Vj(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?yd(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}class Wj{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const NI=to({passive:!0,capture:!0});class $j{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=ji(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,i,r){const s=this._events.get(t);if(s){const o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,NI)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const s=r.get(t);s&&(s.delete(i),0===s.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,NI)))}}const BI={enterDuration:225,exitDuration:150},UI=to({passive:!0,capture:!0}),zI=["mousedown","touchstart"],HI=["mouseup","mouseleave","touchend","touchcancel"];class Rd{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Kn(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...BI,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const o=i.radius||function Xj(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,l=t-r.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,p="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f||0===r.width&&0===r.height,g=new Wj(this,u,i,p);u.style.transform="scale3d(1, 1, 1)",g.state=0,i.persistent||(this._mostRecentTransientRipple=g);let _=null;return!p&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const m=()=>this._finishRippleTransition(g),y=()=>this._destroyRipple(g);u.addEventListener("transitionend",m),u.addEventListener("transitioncancel",y),_={onTransitionEnd:m,onTransitionCancel:y}}),this._activeRipples.set(g,_),(p||!c)&&this._finishRippleTransition(g),g}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...BI,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Kn(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,zI.forEach(i=>{Rd._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{HI.forEach(t=>{this._triggerElement.addEventListener(t,this,UI)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=Wb(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!$b(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(zI.forEach(t=>Rd._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&HI.forEach(t=>e.removeEventListener(t,this,UI)))}}Rd._eventManager=new $j;const qj=new pe("mat-ripple-global-options");let Zp=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Rd(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(H(Xt),H(st),H(Oi),H(qj,8),H(Ks,8))},n.\u0275dir=Ze({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&ai("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),d0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({imports:[qi,qi]}),n})();const Yj=["tooltip"],VI=new pe("mat-tooltip-scroll-strategy"),Jj={provide:VI,deps:[no],useFactory:function Zj(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},e6=new pe("mat-tooltip-default-options",{providedIn:"root",factory:function Qj(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),GI="tooltip-panel",WI=to({passive:!0});let o6=(()=>{class n{get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=xn(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){this._disabled=xn(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=yd(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=yd(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(t,i,r,s,o,a,l,c,u,d,h,f){this._overlay=t,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=o,this._platform=a,this._ariaDescriber=l,this._focusMonitor=c,this._dir=d,this._defaultOptions=h,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new ke,this._scrollStrategy=u,this._document=f,h&&(h.position&&(this.position=h.position),h.positionAtOrigin&&(this.positionAtOrigin=h.positionAtOrigin),h.touchGestures&&(this.touchGestures=h.touchGestures)),d.change.pipe(kt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(kt(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{t.removeEventListener(i,r,WI)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new Xp(this._tooltipComponent,this._viewContainerRef);const s=this._tooltipInstance=r.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(kt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(t)}hide(t=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(t):(i._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){const s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&s._origin instanceof Xt)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&t||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(kt(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${GI}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(kt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(kt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(kt(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!_i(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const i=t.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={originX:"end",originY:"center"});const{x:s,y:o}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:o}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:o}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:o}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Xi(1),kt(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){const{overlayY:i,originX:r,originY:s}=t;let o;if(o="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",o!==this._currentPosition){const a=this._overlayRef;if(a){const l=`${this._cssClassPrefix}-${GI}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+o)}this._currentPosition=o}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==t.x&&void 0!==t.y&&(i=t),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{const i=t.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,WI)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const i=this._elementRef.nativeElement,r=i.style;("on"===t||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(t){Lf()},n.\u0275dir=Ze({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),$I=(()=>{class n extends o6{constructor(t,i,r,s,o,a,l,c,u,d,h,f){super(t,i,r,s,o,a,l,c,u,d,h,f),this._tooltipComponent=l6,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(t){const r=!this._dir||"ltr"==this._dir.value;return"top"===t.originY?t.offsetY=-8:"bottom"===t.originY?t.offsetY=8:"start"===t.originX?t.offsetX=r?-8:8:"end"===t.originX&&(t.offsetX=r?8:-8),t}}return n.\u0275fac=function(t){return new(t||n)(H(no),H(Xt),H(fc),H(gi),H(st),H(Oi),H(F$),H(Xb),H(VI),H(Qr,8),H(e6,8),H(nt))},n.\u0275dir=Ze({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],exportAs:["matTooltip"],features:[pn]}),n})(),a6=(()=>{class n{constructor(t,i){this._changeDetectorRef=t,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new ke,this._animationsDisabled="NoopAnimations"===i}show(t){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const i=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(t?s:r),i.classList.add(t?r:s),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const o=getComputedStyle(i);("0s"===o.getPropertyValue("animation-duration")||"none"===o.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}}return n.\u0275fac=function(t){return new(t||n)(H(lr),H(Ks,8))},n.\u0275dir=Ze({type:n}),n})(),l6=(()=>{class n extends a6{constructor(t,i,r){super(t,r),this._elementRef=i,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>24&&t.width>=200}}return n.\u0275fac=function(t){return new(t||n)(H(lr),H(Xt),H(Ks,8))},n.\u0275cmp=Yt({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(t,i){if(1&t&&Lo(Yj,7),2&t){let r;Pi(r=Ii())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,i){1&t&&$e("mouseleave",function(s){return i._handleMouseLeave(s)}),2&t&&id("zoom",i.isVisible()?1:null)},features:[pn],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(t,i){1&t&&(O(0,"div",0,1),$e("animationend",function(s){return i._handleAnimationEnd(s)}),O(2,"div",2),X(3),z()()),2&t&&(ai("mdc-tooltip--multiline",i._isMultiline),we("ngClass",i.tooltipClass),Me(3),tc(i.message))},dependencies:[Ar],styles:['.mdc-tooltip__surface{word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color, #fff)}.mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color, #000)}.mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font, inherit);font-size:var(--mdc-plain-tooltip-supporting-text-size, inherit);font-weight:var(--mdc-plain-tooltip-supporting-text-weight, inherit);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, inherit)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),n})(),c6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({providers:[Jj],imports:[K$,dc,Kp,qi,qi,Cd]}),n})();function Jp(n){return Qe(()=>n)}let Od=(()=>{class n{constructor(){this._listeners=[]}notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Qp(n){return new qt(e=>{ri(n()).subscribe(e)})}function u6(n,e){return(t,i)=>!n.call(e,t,i)}let em=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ze({type:n,selectors:[["","cdkMenuGroup",""]],hostAttrs:["role","group",1,"cdk-menu-group"],exportAs:["cdkMenuGroup"],standalone:!0,features:[Bn([{provide:Od,useClass:Od}])]}),n})();const tm=new pe("cdk-menu"),xs=new pe("cdk-menu-stack"),h6={provide:xs,deps:[[new jr,new Io,new Ol(xs)]],useFactory:n=>n||new nm},f6=n=>({provide:xs,deps:[[new jr,new Io,new Ol(xs)]],useFactory:e=>e||nm.inline(n)});let p6=0,nm=(()=>{class n{constructor(){this.id=""+p6++,this._elements=[],this._close=new ke,this._empty=new ke,this._hasFocus=new ke,this.closed=this._close,this.hasFocus=this._hasFocus.pipe(Dr(!1),Nb(0),Ub()),this.emptied=this._empty,this._inlineMenuOrientation=null}static inline(t){const i=new n;return i._inlineMenuOrientation=t,i}push(t){this._elements.push(t)}close(t,i){const{focusNextOnEmpty:r,focusParentTrigger:s}={...i};if(this._elements.indexOf(t)>=0){let o;do{o=this._elements.pop(),this._close.next({item:o,focusParentTrigger:s})}while(o!==t);this.isEmpty()&&this._empty.next(r)}}closeSubMenuOf(t){let i=!1;if(this._elements.indexOf(t)>=0)for(i=this.peek()!==t;this.peek()!==t;)this._close.next({item:this._elements.pop()});return i}closeAll(t){const{focusNextOnEmpty:i,focusParentTrigger:r}={...t};if(!this.isEmpty()){for(;!this.isEmpty();){const s=this._elements.pop();s&&this._close.next({item:s,focusParentTrigger:r})}this._empty.next(i)}}isEmpty(){return!this._elements.length}length(){return this._elements.length}peek(){return this._elements[this._elements.length-1]}hasInlineMenu(){return null!=this._inlineMenuOrientation}inlineMenuOrientation(){return this._inlineMenuOrientation}setHasFocus(t){this._hasFocus.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();const im=new pe("cdk-menu-trigger");let jI=(()=>{class n{constructor(){this.injector=Ee(Qn),this.viewContainerRef=Ee(gi),this.menuStack=Ee(xs),this.opened=new Mt,this.closed=new Mt,this.overlayRef=null,this.destroyed=new ke,this.stopOutsideClicksListener=Ns(this.closed,this.destroyed)}ngOnDestroy(){this._destroyOverlay(),this.destroyed.next(),this.destroyed.complete()}isOpen(){return!!this.overlayRef?.hasAttached()}registerChildMenu(t){this.childMenu=t}getMenuContentPortal(){return this.menuTemplateRef&&(!this._menuPortal||this.menuTemplateRef!==this._menuPortal?.templateRef)&&(this._menuPortal=new qp(this.menuTemplateRef,this.viewContainerRef,this.menuData,this._getChildMenuInjector())),this._menuPortal}isElementInsideMenuStack(t){for(let i=t;i;i=i?.parentElement??null)if(i.getAttribute("data-cdk-menu-stack-id")===this.menuStack.id)return!0;return!1}_destroyOverlay(){this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}_getChildMenuInjector(){return this._childMenuInjector=this._childMenuInjector||Qn.create({providers:[{provide:im,useValue:this},{provide:xs,useValue:this.menuStack}],parent:this.injector}),this._childMenuInjector}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ze({type:n,hostVars:2,hostBindings:function(t,i){2&t&&Ti("aria-controls",null==i.childMenu?null:i.childMenu.id)("data-cdk-menu-stack-id",i.menuStack.id)}}),n})();const rm=new pe("cdk-menu-aim");let sm=(()=>{class n extends jI{constructor(){super(),this._elementRef=Ee(Xt),this._overlay=Ee(no),this._ngZone=Ee(st),this._directionality=Ee(Qr,{optional:!0}),this._inputModalityDetector=Ee(jb),this._parentMenu=Ee(tm,{optional:!0}),this._menuAim=Ee(rm,{optional:!0}),this._setRole(),this._registerCloseHandler(),this._subscribeToMenuStackClosed(),this._subscribeToMouseEnter(),this._subscribeToMenuStackHasFocus(),this._setType()}toggle(){this.isOpen()?this.close():this.open()}open(){!this.isOpen()&&null!=this.menuTemplateRef&&(this.opened.next(),this.overlayRef=this.overlayRef||this._overlay.create(this._getOverlayConfig()),this.overlayRef.attach(this.getMenuContentPortal()),this._subscribeToOutsideClicks())}close(){this.isOpen()&&(this.closed.next(),this.overlayRef.detach()),this._closeSiblingTriggers()}getMenu(){return this.childMenu}_toggleOnKeydown(t){const i="vertical"===this._parentMenu?.orientation;switch(t.keyCode){case 32:case 13:_i(t)||(this.toggle(),this.childMenu?.focusFirstItem("keyboard"));break;case 39:_i(t)||this._parentMenu&&i&&"rtl"!==this._directionality?.value&&(t.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case 37:_i(t)||this._parentMenu&&i&&"rtl"===this._directionality?.value&&(t.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case 40:case 38:_i(t)||i||(t.preventDefault(),this.open(),40===t.keyCode?this.childMenu?.focusFirstItem("keyboard"):this.childMenu?.focusLastItem("keyboard"))}}_handleClick(){"keyboard"!==this._inputModalityDetector.mostRecentModality&&(this.toggle(),this.childMenu?.focusFirstItem("mouse"))}_setHasFocus(t){this._parentMenu||this.menuStack.setHasFocus(t)}_subscribeToMouseEnter(){this._ngZone.runOutsideAngular(()=>{eo(this._elementRef.nativeElement,"mouseenter").pipe(hn(()=>!this.menuStack.isEmpty()&&!this.isOpen()),kt(this.destroyed)).subscribe(()=>{const t=()=>this._ngZone.run(()=>{this._closeSiblingTriggers(),this.open()});this._menuAim?this._menuAim.toggle(t):t()})})}_closeSiblingTriggers(){this._parentMenu?!this.menuStack.closeSubMenuOf(this._parentMenu)&&this.menuStack.peek()!==this._parentMenu&&this.menuStack.closeAll():this.menuStack.closeAll()}_getOverlayConfig(){return new Yp({positionStrategy:this._getOverlayPositionStrategy(),scrollStrategy:this._overlay.scrollStrategies.reposition(),direction:this._directionality||void 0})}_getOverlayPositionStrategy(){return this._overlay.position().flexibleConnectedTo(this._elementRef).withLockedPosition().withGrowAfterOpen().withPositions(this._getOverlayPositions())}_getOverlayPositions(){return this.menuPosition??(this._parentMenu&&"horizontal"!==this._parentMenu.orientation?Pj:AI)}_registerCloseHandler(){this._parentMenu||this.menuStack.closed.pipe(kt(this.destroyed)).subscribe(({item:t})=>{t===this.childMenu&&this.close()})}_subscribeToOutsideClicks(){this.overlayRef&&this.overlayRef.outsidePointerEvents().pipe(kt(this.stopOutsideClicksListener)).subscribe(t=>{const i=ji(t),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&(this.isElementInsideMenuStack(i)?this._closeSiblingTriggers():this.menuStack.closeAll())})}_subscribeToMenuStackHasFocus(){this._parentMenu||this.menuStack.hasFocus.pipe(kt(this.destroyed)).subscribe(t=>{t||this.menuStack.closeAll()})}_subscribeToMenuStackClosed(){this._parentMenu||this.menuStack.closed.subscribe(({focusParentTrigger:t})=>{t&&!this.menuStack.length()&&this._elementRef.nativeElement.focus()})}_setRole(){this._parentMenu||this._elementRef.nativeElement.setAttribute("role","button")}_setType(){const t=this._elementRef.nativeElement;"BUTTON"===t.nodeName&&!t.getAttribute("type")&&t.setAttribute("type","button")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ze({type:n,selectors:[["","cdkMenuTriggerFor",""]],hostAttrs:[1,"cdk-menu-trigger"],hostVars:2,hostBindings:function(t,i){1&t&&$e("focusin",function(){return i._setHasFocus(!0)})("focusout",function(){return i._setHasFocus(!1)})("keydown",function(s){return i._toggleOnKeydown(s)})("click",function(){return i._handleClick()}),2&t&&Ti("aria-haspopup",i.menuTemplateRef?"menu":null)("aria-expanded",null==i.menuTemplateRef?null:i.isOpen())},inputs:{menuTemplateRef:["cdkMenuTriggerFor","menuTemplateRef"],menuPosition:["cdkMenuPosition","menuPosition"],menuData:["cdkMenuTriggerData","menuData"]},outputs:{opened:"cdkMenuOpened",closed:"cdkMenuClosed"},exportAs:["cdkMenuTriggerFor"],standalone:!0,features:[Bn([{provide:im,useExisting:n},h6]),pn]}),n})(),Pa=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=xn(t)}get hasMenu(){return null!=this._menuTrigger?.menuTemplateRef}constructor(){this._dir=Ee(Qr,{optional:!0}),this._inputModalityDetector=Ee(jb),this._elementRef=Ee(Xt),this._ngZone=Ee(st),this._menuAim=Ee(rm,{optional:!0}),this._menuStack=Ee(xs),this._parentMenu=Ee(tm,{optional:!0}),this._menuTrigger=Ee(sm,{optional:!0,self:!0}),this._disabled=!1,this.triggered=new Mt,this._tabindex=-1,this.closeOnSpacebarTrigger=!0,this.destroyed=new ke,this._setupMouseEnter(),this._setType(),this._isStandaloneItem()&&(this._tabindex=0)}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}trigger(t){const{keepOpen:i}={...t};!this.disabled&&!this.hasMenu&&(this.triggered.next(),i||this._menuStack.closeAll({focusParentTrigger:!0}))}isMenuOpen(){return!!this._menuTrigger?.isOpen()}getMenu(){return this._menuTrigger?.getMenu()}getMenuTrigger(){return this._menuTrigger}getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}_resetTabIndex(){this._isStandaloneItem()||(this._tabindex=-1)}_setTabIndex(t){this.disabled||(!t||!this._menuStack.isEmpty())&&(this._tabindex=0)}_onKeydown(t){switch(t.keyCode){case 32:case 13:_i(t)||this.trigger({keepOpen:32===t.keyCode&&!this.closeOnSpacebarTrigger});break;case 39:_i(t)||this._parentMenu&&this._isParentVertical()&&("rtl"!==this._dir?.value?this._forwardArrowPressed(t):this._backArrowPressed(t));break;case 37:_i(t)||this._parentMenu&&this._isParentVertical()&&("rtl"!==this._dir?.value?this._backArrowPressed(t):this._forwardArrowPressed(t))}}_handleClick(){"keyboard"!==this._inputModalityDetector.mostRecentModality&&this.trigger()}_isStandaloneItem(){return!this._parentMenu}_backArrowPressed(t){const i=this._parentMenu;(this._menuStack.hasInlineMenu()||this._menuStack.length()>1)&&(t.preventDefault(),this._menuStack.close(i,{focusNextOnEmpty:"horizontal"===this._menuStack.inlineMenuOrientation()?1:2,focusParentTrigger:!0}))}_forwardArrowPressed(t){!this.hasMenu&&"horizontal"===this._menuStack.inlineMenuOrientation()&&(t.preventDefault(),this._menuStack.closeAll({focusNextOnEmpty:0,focusParentTrigger:!0}))}_setupMouseEnter(){if(!this._isStandaloneItem()){const t=()=>this._ngZone.run(()=>this._menuStack.closeSubMenuOf(this._parentMenu));this._ngZone.runOutsideAngular(()=>eo(this._elementRef.nativeElement,"mouseenter").pipe(hn(()=>!this._menuStack.isEmpty()&&!this.hasMenu),kt(this.destroyed)).subscribe(()=>{this._menuAim?this._menuAim.toggle(t):t()}))}}_isParentVertical(){return"vertical"===this._parentMenu?.orientation}_setType(){const t=this._elementRef.nativeElement;"BUTTON"===t.nodeName&&!t.getAttribute("type")&&t.setAttribute("type","button")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ze({type:n,selectors:[["","cdkMenuItem",""]],hostAttrs:["role","menuitem",1,"cdk-menu-item"],hostVars:2,hostBindings:function(t,i){1&t&&$e("blur",function(){return i._resetTabIndex()})("focus",function(){return i._setTabIndex()})("click",function(){return i._handleClick()})("keydown",function(s){return i._onKeydown(s)}),2&t&&(Zf("tabindex",i._tabindex),Ti("aria-disabled",i.disabled||null))},inputs:{disabled:["cdkMenuItemDisabled","disabled"],typeaheadLabel:["cdkMenuitemTypeaheadLabel","typeaheadLabel"]},outputs:{triggered:"cdkMenuItemTriggered"},exportAs:["cdkMenuItem"],standalone:!0}),n})();class w6{constructor(e){this._items=e,this.entered=this._getItemPointerEntries(),this.exited=this._getItemPointerExits(),this._destroyed=new ke,this.entered.subscribe(t=>this.activeElement=t),this.exited.subscribe(()=>{this.previousElement=this.activeElement,this.activeElement=void 0})}destroy(){this._destroyed.next(),this._destroyed.complete()}_getItemPointerEntries(){return Qp(()=>this._items.changes.pipe(Dr(this._items),vn(e=>e.map(t=>eo(t._elementRef.nativeElement,"mouseenter").pipe(Jp(t),kt(this._items.changes)))),Fs()))}_getItemPointerExits(){return Qp(()=>this._items.changes.pipe(Dr(this._items),vn(e=>e.map(t=>eo(t._elementRef.nativeElement,"mouseout").pipe(Jp(t),kt(this._items.changes)))),Fs()))}}let M6=0,qI=(()=>{class n extends em{constructor(){super(...arguments),this.nativeElement=Ee(Xt).nativeElement,this.ngZone=Ee(st),this.menuStack=Ee(xs),this.menuAim=Ee(rm,{optional:!0,self:!0}),this.dir=Ee(Qr,{optional:!0}),this.id="cdk-menu-"+M6++,this.orientation="vertical",this.isInline=!1,this.destroyed=new ke,this._menuStackHasFocus=!1}ngAfterContentInit(){this.isInline||this.menuStack.push(this),this._setKeyManager(),this._subscribeToMenuStackHasFocus(),this._subscribeToMenuOpen(),this._subscribeToMenuStackClosed(),this._setUpPointerTracker()}ngOnDestroy(){this.keyManager?.destroy(),this.destroyed.next(),this.destroyed.complete(),this.pointerTracker?.destroy()}focusFirstItem(t="program"){this.keyManager.setFocusOrigin(t),this.keyManager.setFirstItemActive()}focusLastItem(t="program"){this.keyManager.setFocusOrigin(t),this.keyManager.setLastItemActive()}_getTabIndex(){return this.isInline?this._menuStackHasFocus?-1:0:null}closeOpenMenu(t,i){const{focusParentTrigger:r}={...i},s=this.keyManager,o=this.triggerItem;t===o?.getMenuTrigger()?.getMenu()&&(o?.getMenuTrigger()?.close(),r&&(o?s.setActiveItem(o):s.setFirstItemActive()))}_setKeyManager(){this.keyManager=new XP(this.items).withWrap().withTypeAhead().withHomeAndEnd(),"horizontal"===this.orientation?this.keyManager.withHorizontalOrientation(this.dir?.value||"ltr"):this.keyManager.withVerticalOrientation()}_subscribeToMenuOpen(){const t=Ns(this.items.changes,this.destroyed);this.items.changes.pipe(Dr(this.items),vn(i=>i.filter(r=>r.hasMenu).map(r=>r.getMenuTrigger().opened.pipe(Jp(r),kt(t)))),Fs(),Ir(i=>(this.triggerItem=i,i.getMenuTrigger().closed)),kt(this.destroyed)).subscribe(()=>this.triggerItem=void 0)}_subscribeToMenuStackClosed(){this.menuStack.closed.pipe(kt(this.destroyed)).subscribe(({item:t,focusParentTrigger:i})=>this.closeOpenMenu(t,{focusParentTrigger:i}))}_subscribeToMenuStackHasFocus(){this.isInline&&this.menuStack.hasFocus.pipe(kt(this.destroyed)).subscribe(t=>{this._menuStackHasFocus=t})}_setUpPointerTracker(){this.menuAim&&(this.ngZone.runOutsideAngular(()=>{this.pointerTracker=new w6(this.items)}),this.menuAim.initialize(this,this.pointerTracker))}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Po(n)))(i||n)}}(),n.\u0275dir=Ze({type:n,contentQueries:function(t,i,r){if(1&t&&Fo(r,Pa,5),2&t){let s;Pi(s=Ii())&&(i.items=s)}},hostAttrs:["role","menu"],hostVars:4,hostBindings:function(t,i){1&t&&$e("focus",function(){return i.focusFirstItem()})("focusin",function(){return i.menuStack.setHasFocus(!0)})("focusout",function(){return i.menuStack.setHasFocus(!1)}),2&t&&(Zf("tabindex",i._getTabIndex())("id",i.id),Ti("aria-orientation",i.orientation)("data-cdk-menu-stack-id",i.menuStack.id))},inputs:{id:"id"},features:[pn]}),n})(),kd=(()=>{class n extends qI{constructor(){super(),this._parentTrigger=Ee(im,{optional:!0}),this.closed=new Mt,this.orientation="vertical",this.isInline=!this._parentTrigger,this.destroyed.subscribe(this.closed),this._parentTrigger?.registerChildMenu(this)}ngAfterContentInit(){super.ngAfterContentInit(),this._subscribeToMenuStackEmptied()}ngOnDestroy(){super.ngOnDestroy(),this.closed.complete()}_handleKeyEvent(t){const i=this.keyManager;switch(t.keyCode){case 37:case 39:_i(t)||(t.preventDefault(),i.setFocusOrigin("keyboard"),i.onKeydown(t));break;case 27:_i(t)||(t.preventDefault(),this.menuStack.close(this,{focusNextOnEmpty:2,focusParentTrigger:!0}));break;case 9:_i(t,"altKey","metaKey","ctrlKey")||this.menuStack.closeAll({focusParentTrigger:!0});break;default:i.onKeydown(t)}}_toggleMenuFocus(t){const i=this.keyManager;switch(t){case 0:i.setFocusOrigin("keyboard"),i.setNextItemActive();break;case 1:i.setFocusOrigin("keyboard"),i.setPreviousItemActive();break;case 2:i.activeItem&&(i.setFocusOrigin("keyboard"),i.setActiveItem(i.activeItem))}}_subscribeToMenuStackEmptied(){this.menuStack.emptied.pipe(kt(this.destroyed)).subscribe(t=>this._toggleMenuFocus(t))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ze({type:n,selectors:[["","cdkMenu",""]],hostAttrs:["role","menu",1,"cdk-menu"],hostVars:2,hostBindings:function(t,i){1&t&&$e("keydown",function(s){return i._handleKeyEvent(s)}),2&t&&ai("cdk-menu-inline",i.isInline)},outputs:{closed:"closed"},exportAs:["cdkMenu"],standalone:!0,features:[Bn([{provide:em,useExisting:n},{provide:tm,useExisting:n},f6("vertical")]),pn]}),n})(),bc=(()=>{class n extends Pa{constructor(){super(...arguments),this._checked=!1,this.closeOnSpacebarTrigger=!1}get checked(){return this._checked}set checked(t){this._checked=xn(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Po(n)))(i||n)}}(),n.\u0275dir=Ze({type:n,hostVars:2,hostBindings:function(t,i){2&t&&Ti("aria-checked",!!i.checked)("aria-disabled",i.disabled||null)},inputs:{checked:["cdkMenuItemChecked","checked"]},features:[pn]}),n})(),YI=(()=>{class n extends bc{trigger(t){super.trigger(t),this.disabled||(this.checked=!this.checked)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Po(n)))(i||n)}}(),n.\u0275dir=Ze({type:n,selectors:[["","cdkMenuItemCheckbox",""]],hostAttrs:["role","menuitemcheckbox"],hostVars:2,hostBindings:function(t,i){2&t&&ai("cdk-menu-item-checkbox",!0)},exportAs:["cdkMenuItemCheckbox"],standalone:!0,features:[Bn([{provide:bc,useExisting:n},{provide:Pa,useExisting:bc}]),pn]}),n})();const T6=AI.map(n=>{const e="start"===n.overlayX?2:-2,t="top"===n.overlayY?2:-2;return{...n,offsetX:e,offsetY:t}});let A6=(()=>{class n{update(t){n._openContextMenuTrigger!==t&&(n._openContextMenuTrigger?.close(),n._openContextMenuTrigger=t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),h0=(()=>{class n extends jI{get disabled(){return this._disabled}set disabled(t){this._disabled=xn(t)}constructor(){super(),this._overlay=Ee(no),this._directionality=Ee(Qr,{optional:!0}),this._contextMenuTracker=Ee(A6),this._disabled=!1,this._setMenuStackCloseListener()}open(t){this._open(t,!1)}close(){this.menuStack.closeAll()}_openOnContextMenu(t){this.disabled||(t.preventDefault(),t.stopPropagation(),this._contextMenuTracker.update(this),this._open({x:t.clientX,y:t.clientY},!0),this.childMenu?.focusFirstItem(2===t.button?"mouse":0===t.button?"keyboard":"program"))}_getOverlayConfig(t){return new Yp({positionStrategy:this._getOverlayPositionStrategy(t),scrollStrategy:this._overlay.scrollStrategies.reposition(),direction:this._directionality||void 0})}_getOverlayPositionStrategy(t){return this._overlay.position().flexibleConnectedTo(t).withLockedPosition().withGrowAfterOpen().withPositions(this.menuPosition??T6)}_setMenuStackCloseListener(){this.menuStack.closed.pipe(kt(this.destroyed)).subscribe(({item:t})=>{t===this.childMenu&&this.isOpen()&&(this.closed.next(),this.overlayRef.detach())})}_subscribeToOutsideClicks(t){if(this.overlayRef){let i=this.overlayRef.outsidePointerEvents();if(t){const[r,s]=function d6(n,e,t){return[hn(e,t)(ri(n)),hn(u6(e,t))(ri(n))]}(i,({type:o})=>"auxclick"===o);i=Ns(s,r.pipe(Bb(1)))}i.pipe(kt(this.stopOutsideClicksListener)).subscribe(r=>{this.isElementInsideMenuStack(ji(r))||this.menuStack.closeAll()})}}_open(t,i){this.disabled||(this.isOpen()?(this.menuStack.closeSubMenuOf(this.childMenu),this.overlayRef.getConfig().positionStrategy.setOrigin(t),this.overlayRef.updatePosition()):(this.opened.next(),this.overlayRef?(this.overlayRef.getConfig().positionStrategy.setOrigin(t),this.overlayRef.updatePosition()):this.overlayRef=this._overlay.create(this._getOverlayConfig(t)),this.overlayRef.attach(this.getMenuContentPortal()),this._subscribeToOutsideClicks(i)))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ze({type:n,selectors:[["","cdkContextMenuTriggerFor",""]],hostVars:1,hostBindings:function(t,i){1&t&&$e("contextmenu",function(s){return i._openOnContextMenu(s)}),2&t&&Ti("data-cdk-menu-stack-id",null)},inputs:{menuTemplateRef:["cdkContextMenuTriggerFor","menuTemplateRef"],menuPosition:["cdkContextMenuPosition","menuPosition"],menuData:["cdkContextMenuTriggerData","menuData"],disabled:["cdkContextMenuDisabled","disabled"]},outputs:{opened:"cdkContextMenuOpened",closed:"cdkContextMenuClosed"},exportAs:["cdkContextMenuTriggerFor"],standalone:!0,features:[Bn([{provide:im,useExisting:n},{provide:xs,useClass:nm}]),pn]}),n})(),D6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({imports:[Kp]}),n})();class P6{constructor(e,t){this._document=t;const i=this._textarea=this._document.createElement("textarea"),r=i.style;r.position="fixed",r.top=r.opacity="0",r.left="-999em",i.setAttribute("aria-hidden","true"),i.value=e,i.readOnly=!0,this._document.body.appendChild(i)}copy(){const e=this._textarea;let t=!1;try{if(e){const i=this._document.activeElement;e.select(),e.setSelectionRange(0,e.value.length),t=this._document.execCommand("copy"),i&&i.focus()}}catch{}return t}destroy(){const e=this._textarea;e&&(e.remove(),this._textarea=void 0)}}let I6=(()=>{class n{constructor(t){this._document=t}copy(t){const i=this.beginCopy(t),r=i.copy();return i.destroy(),r}beginCopy(t){return new P6(t,this._document)}}return n.\u0275fac=function(t){return new(t||n)($(nt))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const R6=new pe("CDK_COPY_TO_CLIPBOARD_CONFIG");let O6=(()=>{class n{constructor(t,i,r){this._clipboard=t,this._ngZone=i,this.text="",this.attempts=1,this.copied=new Mt,this._pending=new Set,r&&null!=r.attempts&&(this.attempts=r.attempts)}copy(t=this.attempts){if(t>1){let i=t;const r=this._clipboard.beginCopy(this.text);this._pending.add(r);const s=()=>{const o=r.copy();o||!--i||this._destroyed?(this._currentTimeout=null,this._pending.delete(r),r.destroy(),this.copied.emit(o)):this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(s,1))};s()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(t=>t.destroy()),this._pending.clear(),this._destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(H(I6),H(st),H(R6,8))},n.\u0275dir=Ze({type:n,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(t,i){1&t&&$e("click",function(){return i.copy()})},inputs:{text:["cdkCopyToClipboard","text"],attempts:["cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}}),n})(),k6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({}),n})();const L6=["mat-button",""],F6=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],N6=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],B6=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],U6=FI(zj(Hj(class{constructor(n){this._elementRef=n}})));let z6=(()=>{class n extends U6{constructor(t,i,r,s){super(t),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=Ee(Xb),this._isFab=!1;const o=t.nativeElement.classList;for(const a of B6)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(l=>{o.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){Lf()},n.\u0275dir=Ze({type:n,viewQuery:function(t,i){if(1&t&&Lo(Zp,5),2&t){let r;Pi(r=Ii())&&(i.ripple=r.first)}},features:[pn]}),n})(),V6=(()=>{class n extends z6{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(H(Xt),H(Oi),H(st),H(Ks,8))},n.\u0275cmp=Yt({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(Ti("disabled",i.disabled||null),ai("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[pn],attrs:L6,ngContentSelectors:N6,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(Ys(F6),Re(0,"span",0),Ai(1),O(2,"span",1),Ai(3,1),z(),Ai(4,2),Re(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(ai("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),Me(6),we("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Zp],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),W6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({imports:[qi,d0,qi]}),n})();function $6(n,e){if(1&n){const t=Sr();O(0,"div",2)(1,"button",3),$e("click",function(){return Hi(t),Vi(sn().action())}),X(2),z()()}if(2&n){const t=sn();Me(2),Oo(" ",t.data.action," ")}}const j6=["label"];function X6(n,e){}const q6=Math.pow(2,31)-1;class f0{constructor(e,t){this._overlayRef=t,this._afterDismissed=new ke,this._afterOpened=new ke,this._onAction=new ke,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,q6))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const KI=new pe("MatSnackBarData");class om{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let Y6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ze({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),n})(),K6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ze({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),n})(),Z6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ze({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),n})(),J6=(()=>{class n{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(H(f0),H(KI))},n.\u0275cmp=Yt({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(t,i){1&t&&(O(0,"div",0),X(1),z(),Nn(2,$6,3,1,"div",1)),2&t&&(Me(1),Oo(" ",i.data.message,"\n"),Me(1),we("ngIf",i.hasAction))},dependencies:[uc,V6,Y6,K6,Z6],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),n})();const Q6={snackBarState:yc("state",[bs("void, hidden",vi({transform:"scale(0.8)",opacity:0})),bs("visible",vi({transform:"scale(1)",opacity:1})),so("* => visible",ro("150ms cubic-bezier(0, 0, 0.2, 1)")),so("* => void, * => hidden",ro("75ms cubic-bezier(0.4, 0.0, 1, 1)",vi({opacity:0})))])};let eX=0,tX=(()=>{class n extends o0{constructor(t,i,r,s,o){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=o,this._document=Ee(nt),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new ke,this._onExit=new ke,this._onEnter=new ke,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+eX++,this.attachDomPortal=a=>{this._assertNotAttached();const l=this._portalOutlet.attachDomPortal(a);return this._afterPortalAttached(),l},this._live="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}onAnimationEnd(t){const{fromState:i,toState:r}=t;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Xi(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>t.classList.add(r)):t.classList.add(i)),this._exposeToModals()}_exposeToModals(){const t=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],o=s.getAttribute("aria-owns");this._trackedModals.add(s),o?-1===o.indexOf(t)&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{const i=t.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?t.setAttribute("aria-owns",r):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(H(st),H(Xt),H(lr),H(Oi),H(om))},n.\u0275dir=Ze({type:n,viewQuery:function(t,i){if(1&t&&Lo(a0,7),2&t){let r;Pi(r=Ii())&&(i._portalOutlet=r.first)}},features:[pn]}),n})(),nX=(()=>{class n extends tX{_afterPortalAttached(){super._afterPortalAttached();const t=this._label.nativeElement,i="mdc-snackbar__label";t.classList.toggle(i,!t.querySelector(`.${i}`))}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Po(n)))(i||n)}}(),n.\u0275cmp=Yt({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(t,i){if(1&t&&Lo(j6,7),2&t){let r;Pi(r=Ii())&&(i._label=r.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(t,i){1&t&&ay("@state.done",function(s){return i.onAnimationEnd(s)}),2&t&&fy("@state",i._animationState)},features:[pn],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(O(0,"div",0)(1,"div",1,2)(3,"div",3),Nn(4,X6,0,0,"ng-template",4),z(),Re(5,"div"),z()()),2&t&&(Me(5),Ti("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[a0],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss svg,.mat-mdc-snack-bar-container .mdc-snackbar__dismiss img{width:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px));height:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size, inherit);font-family:var(--mdc-snackbar-supporting-text-font, inherit);font-weight:var(--mdc-snackbar-supporting-text-weight, inherit);line-height:var(--mdc-snackbar-supporting-text-line-height, inherit)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-mdc-snack-bar-button-color, transparent);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Q6.snackBarState]}}),n})(),ZI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({imports:[Kp,l0,dc,W6,qi,qi]}),n})();const JI=new pe("mat-snack-bar-default-options",{providedIn:"root",factory:function iX(){return new om}});let rX=(()=>{class n{get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,i,r,s,o,a){this._overlay=t,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=o,this._defaultConfig=a,this._snackBarRefAtThisLevel=null}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){const s={...this._defaultConfig,...r};return s.data={message:t,action:i},s.announcementMessage===t&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){const s=Qn.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:om,useValue:i}]}),o=new Xp(this.snackBarContainerComponent,i.viewContainerRef,s),a=t.attach(o);return a.instance.snackBarConfig=i,a.instance}_attach(t,i){const r={...new om,...this._defaultConfig,...i},s=this._createOverlay(r),o=this._attachSnackBarContainer(s,r),a=new f0(o,s);if(t instanceof ar){const l=new qp(t,null,{$implicit:r.data,snackBarRef:a});a.instance=o.attachTemplatePortal(l)}else{const l=this._createInjector(r,a),c=new Xp(t,void 0,l),u=o.attachComponentPortal(c);a.instance=u.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(kt(s.detachments())).subscribe(l=>{s.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){const i=new Yp;i.direction=t.direction;let r=this._overlay.position().global();const s="rtl"===t.direction,o="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!s||"end"===t.horizontalPosition&&s,a=!o&&"center"!==t.horizontalPosition;return o?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(t,i){return Qn.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:f0,useValue:i},{provide:KI,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)($(no),$(KP),$(Qn),$(Hb),$(n,12),$(JI))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})(),sX=(()=>{class n extends rX{constructor(t,i,r,s,o,a){super(t,i,r,s,o,a),this.simpleSnackBarComponent=J6,this.snackBarContainerComponent=nX,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)($(no),$(KP),$(Qn),$(Hb),$(n,12),$(JI))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:ZI}),n})(),aX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({imports:[qi]}),n})(),lX=0;const p0=new pe("CdkAccordion");let cX=(()=>{class n{constructor(){this._stateChanges=new ke,this._openCloseAllActions=new ke,this.id="cdk-accordion-"+lX++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=xn(t)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ze({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[Bn([{provide:p0,useExisting:n}]),us]}),n})(),uX=0,dX=(()=>{class n{get expanded(){return this._expanded}set expanded(t){t=xn(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=xn(t)}constructor(t,i,r){this.accordion=t,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=nn.EMPTY,this.closed=new Mt,this.opened=new Mt,this.destroyed=new Mt,this.expandedChange=new Mt,this.id="cdk-accordion-child-"+uX++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((s,o)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===o&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return n.\u0275fac=function(t){return new(t||n)(H(p0,12),H(lr),H(Od))},n.\u0275dir=Ze({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Bn([{provide:p0,useValue:void 0}])]}),n})(),hX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({}),n})();const fX=["body"];function pX(n,e){}const mX=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],gX=["mat-expansion-panel-header","*","mat-action-row"];function _X(n,e){1&n&&Re(0,"span",2),2&n&&we("@indicatorRotate",sn()._getExpandedState())}const vX=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],yX=["mat-panel-title","mat-panel-description","*"],m0=new pe("MAT_ACCORDION"),QI="225ms cubic-bezier(0.4,0.0,0.2,1)",eR={indicatorRotate:yc("indicatorRotate",[bs("collapsed, void",vi({transform:"rotate(0deg)"})),bs("expanded",vi({transform:"rotate(180deg)"})),so("expanded <=> collapsed, void => collapsed",ro(QI))]),bodyExpansion:yc("bodyExpansion",[bs("collapsed, void",vi({height:"0px",visibility:"hidden"})),bs("expanded",vi({height:"*",visibility:"visible"})),so("expanded <=> collapsed, void => collapsed",ro(QI))])},tR=new pe("MAT_EXPANSION_PANEL");let bX=(()=>{class n{constructor(t,i){this._template=t,this._expansionPanel=i}}return n.\u0275fac=function(t){return new(t||n)(H(ar),H(tR,8))},n.\u0275dir=Ze({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),xX=0;const nR=new pe("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let iR=(()=>{class n extends dX{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=xn(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,i,r,s,o,a,l){super(t,i,r),this._viewContainerRef=s,this._animationMode=a,this._hideToggle=!1,this.afterExpand=new Mt,this.afterCollapse=new Mt,this._inputChanges=new ke,this._headerId="mat-expansion-panel-header-"+xX++,this._bodyAnimationDone=new ke,this.accordion=t,this._document=o,this._bodyAnimationDone.pipe(Ub((c,u)=>c.fromState===u.fromState&&c.toState===u.toState)).subscribe(c=>{"void"!==c.fromState&&("expanded"===c.toState?this.afterExpand.emit():"collapsed"===c.toState&&this.afterCollapse.emit())}),l&&(this.hideToggle=l.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Dr(null),hn(()=>this.expanded&&!this._portal),Xi(1)).subscribe(()=>{this._portal=new qp(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,i=this._body.nativeElement;return t===i||i.contains(t)}return!1}}return n.\u0275fac=function(t){return new(t||n)(H(m0,12),H(lr),H(Od),H(gi),H(nt),H(Ks,8),H(nR,8))},n.\u0275cmp=Yt({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(t,i,r){if(1&t&&Fo(r,bX,5),2&t){let s;Pi(s=Ii())&&(i._lazyContent=s.first)}},viewQuery:function(t,i){if(1&t&&Lo(fX,5),2&t){let r;Pi(r=Ii())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,i){2&t&&ai("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Bn([{provide:m0,useValue:void 0},{provide:tR,useExisting:n}]),pn,us],ngContentSelectors:gX,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,i){1&t&&(Ys(mX),Ai(0),O(1,"div",0,1),$e("@bodyExpansion.done",function(s){return i._bodyAnimationDone.next(s)}),O(3,"div",2),Ai(4,1),Nn(5,pX,0,0,"ng-template",3),z(),Ai(6,2),z()),2&t&&(Me(1),we("@bodyExpansion",i._getExpandedState())("id",i.id),Ti("aria-labelledby",i._headerId),Me(4),we("cdkPortalOutlet",i._portal))},dependencies:[a0],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[eR.bodyExpansion]},changeDetection:0}),n})();class wX{}const MX=Vj(wX);let rR=(()=>{class n extends MX{constructor(t,i,r,s,o,a,l){super(),this.panel=t,this._element=i,this._focusMonitor=r,this._changeDetectorRef=s,this._animationMode=a,this._parentChangeSubscription=nn.EMPTY;const c=t.accordion?t.accordion._stateChanges.pipe(hn(u=>!(!u.hideToggle&&!u.togglePosition))):Hr;this.tabIndex=parseInt(l||"")||0,this._parentChangeSubscription=Ns(t.opened,t.closed,c,t._inputChanges.pipe(hn(u=>!!(u.hideToggle||u.disabled||u.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(hn(()=>t._containsFocus())).subscribe(()=>r.focusVia(i,"program")),o&&(this.expandedHeight=o.expandedHeight,this.collapsedHeight=o.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:_i(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,i){t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(t){return new(t||n)(H(iR,1),H(Xt),H(Xb),H(lr),H(nR,8),H(Ks,8),Tl("tabindex"))},n.\u0275cmp=Yt({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,i){1&t&&$e("click",function(){return i._toggle()})("keydown",function(s){return i._keydown(s)}),2&t&&(Ti("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),id("height",i._getHeaderHeight()),ai("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[pn],ngContentSelectors:yX,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,i){1&t&&(Ys(vX),O(0,"span",0),Ai(1),Ai(2,1),Ai(3,2),z(),Nn(4,_X,1,1,"span",1)),2&t&&(ai("mat-content-hide-toggle",!i._showToggle()),Me(4),we("ngIf",i._showToggle()))},dependencies:[uc],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[eR.indicatorRotate]},changeDetection:0}),n})(),EX=(()=>{class n extends cX{constructor(){super(...arguments),this._ownHeaders=new sc,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=xn(t)}ngAfterContentInit(){this._headers.changes.pipe(Dr(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new XP(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Po(n)))(i||n)}}(),n.\u0275dir=Ze({type:n,selectors:[["mat-accordion"]],contentQueries:function(t,i,r){if(1&t&&Fo(r,rR,5),2&t){let s;Pi(s=Ii())&&(i._headers=s)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,i){2&t&&ai("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[Bn([{provide:m0,useExisting:n}]),pn]}),n})(),SX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({imports:[dc,qi,hX,l0]}),n})();function xc(n,e){const t=Nt(n)?n:()=>n,i=r=>r.error(t());return new qt(e?r=>e.schedule(i,0,r):i)}function oo(n){return _n((e,t)=>{let s,i=null,r=!1;i=e.subscribe(dn(t,void 0,void 0,o=>{s=ri(n(o,oo(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function am(n){return _n((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ho(n,e){return Nt(e)?vn(n,e,1):vn(n,1)}class lm{}class g0{}class ao{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ao?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ao;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ao?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class TX{encodeKey(e){return sR(e)}encodeValue(e){return sR(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const DX=/%(\d[a-f0-9])/gi,PX={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function sR(n){return encodeURIComponent(n).replace(DX,(e,t)=>PX[t]??e)}function cm(n){return`${n}`}class Vo{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new TX,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function AX(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(cm):[cm(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Vo({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(cm(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(cm(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class IX{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function oR(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function aR(n){return typeof Blob<"u"&&n instanceof Blob}function lR(n){return typeof FormData<"u"&&n instanceof FormData}class Ld{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function RX(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ao),this.context||(this.context=new IX),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Vo,this.urlWithParams=t}serializeBody(){return null===this.body?null:oR(this.body)||aR(this.body)||lR(this.body)||function OX(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Vo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||lR(this.body)?null:aR(this.body)?this.body.type||null:oR(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Vo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new Ld(t,i,s,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:o})}}var Vn=(()=>((Vn=Vn||{})[Vn.Sent=0]="Sent",Vn[Vn.UploadProgress=1]="UploadProgress",Vn[Vn.ResponseHeader=2]="ResponseHeader",Vn[Vn.DownloadProgress=3]="DownloadProgress",Vn[Vn.Response=4]="Response",Vn[Vn.User=5]="User",Vn))();class _0{constructor(e,t=200,i="OK"){this.headers=e.headers||new ao,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class v0 extends _0{constructor(e={}){super(e),this.type=Vn.ResponseHeader}clone(e={}){return new v0({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class um extends _0{constructor(e={}){super(e),this.type=Vn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new um({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class cR extends _0{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function y0(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let b0=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof Ld)s=t;else{let l,c;l=r.headers instanceof ao?r.headers:new ao(r.headers),r.params&&(c=r.params instanceof Vo?r.params:new Vo({fromObject:r.params})),s=new Ld(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=Ve(s).pipe(Ho(l=>this.handler.handle(l)));if(t instanceof Ld||"events"===r.observe)return o;const a=o.pipe(hn(l=>l instanceof um));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Qe(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Qe(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Qe(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Qe(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Vo).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,y0(r,i))}post(t,i,r={}){return this.request("POST",t,y0(r,i))}put(t,i,r={}){return this.request("PUT",t,y0(r,i))}}return n.\u0275fac=function(t){return new(t||n)($(lm))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();function uR(n,e){return e(n)}function kX(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const FX=new pe("HTTP_INTERCEPTORS"),Fd=new pe("HTTP_INTERCEPTOR_FNS");function NX(){let n=null;return(e,t)=>(null===n&&(n=(Ee(FX,{optional:!0})??[]).reduceRight(kX,uR)),n(e,t))}let dR=(()=>{class n extends lm{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=Array.from(new Set(this.injector.get(Fd)));this.chain=i.reduceRight((r,s)=>function LX(n,e,t){return(i,r)=>t.runInContext(()=>e(i,s=>n(s,r)))}(r,s,this.injector),uR)}return this.chain(t,i=>this.backend.handle(i))}}return n.\u0275fac=function(t){return new(t||n)($(g0),$(ps))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();const HX=/^\)\]\}',?\n/;let fR=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new qt(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((f,p)=>r.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&r.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();r.responseType="json"!==f?f:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=r.statusText||"OK",p=new ao(r.getAllResponseHeaders()),g=function VX(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return o=new v0({headers:p,status:r.status,statusText:f,url:g}),o},l=()=>{let{headers:f,status:p,statusText:g,url:_}=a(),m=null;204!==p&&(m=typeof r.response>"u"?r.responseText:r.response),0===p&&(p=m?200:0);let y=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof m){const v=m;m=m.replace(HX,"");try{m=""!==m?JSON.parse(m):null}catch(b){m=v,y&&(y=!1,m={error:b,text:m})}}y?(i.next(new um({body:m,headers:f,status:p,statusText:g,url:_||void 0})),i.complete()):i.error(new cR({error:m,headers:f,status:p,statusText:g,url:_||void 0}))},c=f=>{const{url:p}=a(),g=new cR({error:f,status:r.status||0,statusText:r.statusText||"Unknown Error",url:p||void 0});i.error(g)};let u=!1;const d=f=>{u||(i.next(a()),u=!0);let p={type:Vn.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&r.responseText&&(p.partialText=r.responseText),i.next(p)},h=f=>{let p={type:Vn.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),i.next(p)};return r.addEventListener("load",l),r.addEventListener("error",c),r.addEventListener("timeout",c),r.addEventListener("abort",c),t.reportProgress&&(r.addEventListener("progress",d),null!==s&&r.upload&&r.upload.addEventListener("progress",h)),r.send(s),i.next({type:Vn.Sent}),()=>{r.removeEventListener("error",c),r.removeEventListener("abort",c),r.removeEventListener("load",l),r.removeEventListener("timeout",c),t.reportProgress&&(r.removeEventListener("progress",d),null!==s&&r.upload&&r.upload.removeEventListener("progress",h)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)($(nP))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();const x0=new pe("XSRF_ENABLED"),pR=new pe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),mR=new pe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class gR{}let $X=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=jD(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)($(nt),$(lp),$(pR))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();function jX(n,e){const t=n.url.toLowerCase();if(!Ee(x0)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=Ee(gR).getToken(),r=Ee(mR);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var Rn=(()=>((Rn=Rn||{})[Rn.Interceptors=0]="Interceptors",Rn[Rn.LegacyInterceptors=1]="LegacyInterceptors",Rn[Rn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Rn[Rn.NoXsrfProtection=3]="NoXsrfProtection",Rn[Rn.JsonpSupport=4]="JsonpSupport",Rn[Rn.RequestsMadeViaParent=5]="RequestsMadeViaParent",Rn))();function wc(n,e){return{\u0275kind:n,\u0275providers:e}}function XX(...n){const e=[b0,fR,dR,{provide:lm,useExisting:dR},{provide:g0,useExisting:fR},{provide:Fd,useValue:jX,multi:!0},{provide:x0,useValue:!0},{provide:gR,useClass:$X}];for(const t of n)e.push(...t.\u0275providers);return function C3(n){return{\u0275providers:n}}(e)}const _R=new pe("LEGACY_INTERCEPTOR_FN");let YX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({providers:[XX(wc(Rn.LegacyInterceptors,[{provide:_R,useFactory:NX},{provide:Fd,useExisting:_R,multi:!0}]))]}),n})();const KX=["*"];let dm;function Nd(n){return function ZX(){if(void 0===dm&&(dm=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(dm=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return dm}()?.createHTML(n)||n}function vR(n){return Error(`Unable to find icon with the name "${n}"`)}function yR(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function bR(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Ia{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let hm=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new Ia(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const o=this._sanitizer.sanitize(Ht.HTML,r);if(!o)throw bR(r);const a=Nd(o);return this._addSvgIconConfig(t,i,new Ia("",a,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Ia(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(Ht.HTML,i);if(!s)throw bR(i);const o=Nd(s);return this._addSvgIconSetConfig(t,new Ia("",o,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(Ht.RESOURCE_URL,t);if(!i)throw yR(t);const r=this._cachedIconsByUrl.get(i);return r?Ve(fm(r)):this._loadSvgIconFromConfig(new Ia(t,null)).pipe(In(s=>this._cachedIconsByUrl.set(i,s)),Qe(s=>fm(s)))}getNamedSvgIcon(t,i=""){const r=xR(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(i);return o?this._getSvgFromIconSetConfigs(t,o):xc(vR(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Ve(fm(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Qe(i=>fm(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?Ve(r):function CX(...n){const e=KE(n),{args:t,keys:i}=UP(n),r=new qt(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;ri(t[u]).subscribe(dn(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?zP(i,a):a),s.complete())}))}});return e?r.pipe(Eb(e)):r}(i.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(oo(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Ht.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),Ve(null)})))).pipe(Qe(()=>{const o=this._extractIconWithNameFromAnySet(t,i);if(!o)throw vR(t);return o}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,t,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(In(i=>t.svgText=i),Qe(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Ve(null):this._fetchIcon(t).pipe(In(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const a=this._svgElementFromString(Nd("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(Nd("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:o,value:a}=r[s];"id"!==o&&i.setAttribute(o,a)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function JX(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const o=this._sanitizer.sanitize(Ht.RESOURCE_URL,i);if(!o)throw yR(i);const a=this._inProgressUrlFetches.get(o);if(a)return a;const l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(Qe(c=>Nd(c)),am(()=>this._inProgressUrlFetches.delete(o)),eS());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(xR(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return e9(s)?new Ia(s.url,null,s.options):new Ia(s,null)}}}return n.\u0275fac=function(t){return new(t||n)($(b0,8),$(Mb),$(nt,8),$($s))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fm(n){return n.cloneNode(!0)}function xR(n,e){return n+":"+e}function e9(n){return!(!n.url||!n.options)}const t9=FI(class{constructor(n){this._elementRef=n}}),n9=new pe("MAT_ICON_DEFAULT_OPTIONS"),i9=new pe("mat-icon-location",{providedIn:"root",factory:function r9(){const n=Ee(nt),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),wR=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],s9=wR.map(n=>`[${n}]`).join(", "),o9=/^url\(['"]?#(.*?)['"]?\)$/;let a9=(()=>{class n extends t9{get inline(){return this._inline}set inline(t){this._inline=xn(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,s,o,a){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=o,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=nn.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(s9),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)wR.forEach(o=>{const a=i[s],l=a.getAttribute(o),c=l?l.match(o9):null;if(c){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:o,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Xi(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(H(Xt),H(hm),Tl("aria-hidden"),H(i9),H($s),H(n9,8))},n.\u0275cmp=Yt({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(Ti("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),ai("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[pn],ngContentSelectors:KX,decls:1,vars:0,template:function(t,i){1&t&&(Ys(),Ai(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),l9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({imports:[qi,qi]}),n})();const h9={provide:new pe("mat-menu-scroll-strategy"),deps:[no],useFactory:function d9(n){return()=>n.scrollStrategies.reposition()}};let f9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({providers:[h9],imports:[dc,d0,qi,Kp,Cd,qi]}),n})();function ER(n){return new ce(3e3,!1)}function q9(){return typeof window<"u"&&typeof window.document<"u"}function w0(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Go(n){switch(n.length){case 0:return new Pd;case 1:return n[0];default:return new OI(n)}}function SR(n,e,t,i,r=new Map,s=new Map){const o=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const d=u.get("offset"),h=d==l,f=h&&c||new Map;u.forEach((p,g)=>{let _=g,m=p;if("offset"!==g)switch(_=e.normalizePropertyName(_,o),m){case u0:m=r.get(g);break;case io:m=s.get(g);break;default:m=e.normalizeStyleValue(g,_,m,o)}f.set(_,m)}),h||a.push(f),c=f,l=d}),o.length)throw function F9(n){return new ce(3502,!1)}();return a}function M0(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&E0(t,"start",n)));break;case"done":n.onDone(()=>i(t&&E0(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&E0(t,"destroy",n)))}}function E0(n,e,t){const s=S0(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function S0(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function cr(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function CR(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let C0=(n,e)=>!1,TR=(n,e,t)=>[],AR=null;function T0(n){const e=n.parentNode||n.host;return e===AR?null:e}(w0()||typeof Element<"u")&&(q9()?(AR=(()=>document.documentElement)(),C0=(n,e)=>{for(;e;){if(e===n)return!0;e=T0(e)}return!1}):C0=(n,e)=>n.contains(e),TR=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Ra=null,DR=!1;const PR=C0,IR=TR;let RR=(()=>{class n{validateStyleProperty(t){return function K9(n){Ra||(Ra=function Z9(){return typeof document<"u"?document.body:null}()||{},DR=!!Ra.style&&"WebkitAppearance"in Ra.style);let e=!0;return Ra.style&&!function Y9(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ra.style,!e&&DR&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ra.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return PR(t,i)}getParentElement(t){return T0(t)}query(t,i,r){return IR(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,o,a=[],l){return new Pd(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})(),A0=(()=>{class n{}return n.NOOP=new RR,n})();const J9=1e3,D0="ng-enter",pm="ng-leave",mm="ng-trigger",gm=".ng-trigger",kR="ng-animating",P0=".ng-animating";function lo(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:I0(parseFloat(e[1]),e[2])}function I0(n,e){return"s"===e?n*J9:n}function _m(n,e,t){return n.hasOwnProperty("duration")?n:function eq(n,e,t){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(ER()),{duration:0,delay:0,easing:""};r=I0(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=I0(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(function p9(){return new ce(3100,!1)}()),a=!0),s<0&&(e.push(function m9(){return new ce(3101,!1)}()),a=!0),a&&e.splice(l,0,ER())}return{duration:r,delay:s,easing:o}}(n,e,t)}function Bd(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function LR(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Wo(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function NR(n,e,t){return t?e+":"+t+";":""}function BR(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=NR(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=NR(0,rq(t),n.style[t]));n.setAttribute("style",e)}function ws(n,e,t){n.style&&(e.forEach((i,r)=>{const s=O0(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),w0()&&BR(n))}function Oa(n,e){n.style&&(e.forEach((t,i)=>{const r=O0(i);n.style[r]=""}),w0()&&BR(n))}function Ud(n){return Array.isArray(n)?1==n.length?n[0]:II(n):n}const R0=new RegExp("{{\\s*(.+?)\\s*}}","g");function UR(n){let e=[];if("string"==typeof n){let t;for(;t=R0.exec(n);)e.push(t[1]);R0.lastIndex=0}return e}function zd(n,e,t){const i=n.toString(),r=i.replace(R0,(s,o)=>{let a=e[o];return null==a&&(t.push(function _9(n){return new ce(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function vm(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const iq=/-+([a-z0-9])/g;function O0(n){return n.replace(iq,(...e)=>e[1].toUpperCase())}function rq(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ur(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function v9(n){return new ce(3004,!1)}()}}function zR(n,e){return window.getComputedStyle(n)[e]}const xm="*";function uq(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function dq(n,e,t){if(":"==n[0]){const l=function hq(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function R9(n){return new ce(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function I9(n){return new ce(3015,!1)}()),e;const r=i[1],s=i[2],o=i[3];e.push(HR(r,o));"<"==s[0]&&!(r==xm&&o==xm)&&e.push(HR(o,r))}(i,t,e)):t.push(n),t}const wm=new Set(["true","1"]),Mm=new Set(["false","0"]);function HR(n,e){const t=wm.has(n)||Mm.has(n),i=wm.has(e)||Mm.has(e);return(r,s)=>{let o=n==xm||n==r,a=e==xm||e==s;return!o&&t&&"boolean"==typeof r&&(o=r?wm.has(n):Mm.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?wm.has(e):Mm.has(e)),o&&a}}const fq=new RegExp("s*:selfs*,?","g");function k0(n,e,t,i){return new pq(n).build(e,t,i)}class pq{constructor(e){this._driver=e}build(e,t,i){const r=new _q(t);return this._resetContextStyleTimingState(r),ur(this,Ud(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function b9(){return new ce(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push(function x9(){return new ce(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{UR(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(vm(s.values()),t.errors.push(function w9(n,e){return new ce(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=ur(this,Ud(e.animation),t);return{type:1,matchers:uq(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:ka(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>ur(this,i,t)),options:ka(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(o=>{t.currentTime=i;const a=ur(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:s,options:ka(e.options)}}visitAnimate(e,t){const i=function yq(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return L0(_m(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=L0(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=_m(t,e);return L0(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:vi({});if(5==s.type)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=vi(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===io?i.push(a):t.errors.push(new ce(3002,!1)):i.push(LR(a));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(t.errors.push(function E9(n,e,t,i,r){return new ce(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),t.options&&function nq(n,e,t){const i=e.params||{},r=UR(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function g9(n){return new ce(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function S9(){return new ce(3011,!1)}()),i;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(m=>{const y=this._makeStyleAst(m,t);let v=null!=y.offset?y.offset:function vq(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(y.styles),b=0;return null!=v&&(s++,b=y.offset=v),l=l||b<0||b>1,a=a||b<c,c=b,o.push(b),y});l&&t.errors.push(function C9(){return new ce(3012,!1)}()),a&&t.errors.push(function T9(){return new ce(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function A9(){return new ce(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,_=g.duration;return u.forEach((m,y)=>{const v=h>0?y==f?1:h*y:o[y],b=v*_;t.currentTime=p+g.delay+b,g.duration=b,this._validateStyleAst(m,t),m.offset=v,i.styles.push(m)}),i}visitReference(e,t){return{type:8,animation:ur(this,Ud(e.animation),t),options:ka(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ka(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ka(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function mq(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(fq,"")),n=n.replace(/@\*/g,gm).replace(/@\w+/g,t=>gm+"-"+t.slice(1)).replace(/:animating/g,P0),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,cr(t.collectedStyles,t.currentQuerySelector,new Map);const a=ur(this,Ud(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:ka(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function D9(){return new ce(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:_m(e.timings,t.errors,!0);return{type:12,animation:ur(this,Ud(e.animation),t),timings:i,options:null}}}class _q{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ka(n){return n?(n=Bd(n)).params&&(n.params=function gq(n){return n?Bd(n):null}(n.params)):n={},n}function L0(n,e,t){return{duration:n,delay:e,easing:t}}function F0(n,e,t,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class Em{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const wq=new RegExp(":enter","g"),Eq=new RegExp(":leave","g");function N0(n,e,t,i,r,s=new Map,o=new Map,a,l,c=[]){return(new Sq).buildKeyframes(n,e,t,i,r,s,o,a,l,c)}class Sq{buildKeyframes(e,t,i,r,s,o,a,l,c,u=[]){c=c||new Em;const d=new B0(e,t,c,r,s,u,[]);d.options=l;const h=l.delay?lo(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),ur(this,i,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const _=f[g];if(_.element===t){p=_;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[F0(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const o="number"==typeof s?s:lo(zd(s,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const o=null!=i.duration?lo(i.duration):null,a=null!=i.delay?lo(i.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),ur(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Sm);const o=lo(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>ur(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?lo(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),ur(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return _m(t.params?zd(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?lo(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Sm);let o=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),ur(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;ur(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const Sm={};class B0{constructor(e,t,i,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Sm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Cm(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=lo(i.duration)),null!=i.delay&&(r.delay=lo(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=zd(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new B0(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Sm,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new Cq(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(wq,"."+this._enterClassName)).replace(Eq,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(function P9(n){return new ce(3014,!1)}()),a}}class Cm{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Cm(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||io),this._currentKeyframe.set(t,io);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},o=function Tq(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,io)}else Wo(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=zd(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??io),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Wo(a,new Map,this._backFill);c.forEach((u,d)=>{u===u0?e.add(d):u===io&&t.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const s=e.size?vm(e.values()):[],o=t.size?vm(t.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return F0(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class Cq extends Cm{constructor(e,t,i,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=i+t,a=t/o,l=Wo(e[0]);l.set("offset",0),s.push(l);const c=Wo(e[0]);c.set("offset",WR(a)),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=Wo(e[d]);const f=h.get("offset");h.set("offset",WR((t+f*i)/o)),s.push(h)}i=o,t=0,r="",e=s}return F0(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function WR(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class U0{}const Aq=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Dq extends U0{normalizePropertyName(e,t){return O0(e)}normalizeStyleValue(e,t,i,r){let s="";const o=i.toString().trim();if(Aq.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function y9(n,e){return new ce(3005,!1)}())}return o+s}}function $R(n,e,t,i,r,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const z0={};class jR{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function Pq(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||z0,p=this.buildStyles(i,a&&a.params||z0,d),g=l&&l.params||z0,_=this.buildStyles(r,g,d),m=new Set,y=new Map,v=new Map,b="void"===r,x={params:Iq(g,h),delay:this.ast.options?.delay},M=u?[]:N0(e,t,this.ast.animation,s,o,p,_,x,c,d);let S=0;if(M.forEach(w=>{S=Math.max(w.duration+w.delay,S)}),d.length)return $R(t,this._triggerName,i,r,b,p,_,[],[],y,v,S,d);M.forEach(w=>{const E=w.element,L=cr(y,E,new Set);w.preStyleProps.forEach(I=>L.add(I));const V=cr(v,E,new Set);w.postStyleProps.forEach(I=>V.add(I)),E!==t&&m.add(E)});const C=vm(m.values());return $R(t,this._triggerName,i,r,b,p,_,M,C,y,v,S)}}function Iq(n,e){const t=Bd(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class Rq{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Bd(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=zd(o,r,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),i.set(a,o)})}),i}}class kq{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Rq(r.style,r.options&&r.options.params||{},i))}),XR(this.states,"true","1"),XR(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new jR(e,r,this.states))}),this.fallbackTransition=function Lq(n,e,t){return new jR(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function XR(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Fq=new Em;class Nq{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=[],s=k0(this._driver,t,i,r);if(i.length)throw function N9(n){return new ce(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=SR(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=N0(this._driver,t,s,D0,pm,new Map,new Map,i,Fq,r),o.forEach(u=>{const d=cr(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function B9(){return new ce(3300,!1)}()),o=[]),r.length)throw function U9(n){return new ce(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,io))})});const c=Go(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function z9(n){return new ce(3301,!1)}();return t}listen(e,t,i,r){const s=S0(t,"","","");return M0(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const qR="ng-animate-queued",H0="ng-animate-disabled",Vq=[],YR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Gq={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Rr="__ng_removed";class V0{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Xq(n){return n??null}(i?e.value:e),i){const s=Bd(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Hd="void",G0=new V0(Hd);class Wq{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Or(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function H9(n,e){return new ce(3302,!1)}();if(null==i||0==i.length)throw function V9(n){return new ce(3303,!1)}();if(!function qq(n){return"start"==n||"done"==n}(i))throw function G9(n,e){return new ce(3400,!1)}();const s=cr(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);const a=cr(this._engine.statesByElement,e,new Map);return a.has(t)||(Or(e,mm),Or(e,mm+"-"+t),a.set(t,G0)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function W9(n){return new ce(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),o=new W0(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Or(e,mm),Or(e,mm+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new V0(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=G0),c.value!==Hd&&l.value===c.value){if(!function Zq(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const g=[],_=s.matchStyles(l.value,l.params,g),m=s.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Oa(e,_),ws(e,m)})}return}const h=cr(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!r)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Or(e,qR),o.onStart(()=>{Mc(e,qR)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const _=this._engine.playersByElement.get(e);if(_){let m=_.indexOf(o);m>=0&&_.splice(m,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,gm,!0);i.forEach(r=>{if(r[Rr])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,Hd,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&Go(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,c=i.get(o)||G0,u=new V0(Hd),d=new W0(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Rr];(!s||s===YR)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Or(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=S0(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,M0(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class $q{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Wq(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(Tm(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Tm(t))return;const s=t[Rr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Or(e,H0)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Mc(e,H0))}removeNode(e,t,i,r){if(Tm(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[Rr]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return Tm(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,gm,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,P0,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Go(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Rr];if(t&&t.setForRemoval){if(e[Rr]=YR,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(H0)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Or(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Go(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function $9(n){return new ce(3402,!1)}()}_flushAnimations(e,t){const i=new Em,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(F=>{u.add(F);const G=this.driver.query(F,".ng-animate-queued",!0);for(let W=0;W<G.length;W++)u.add(G[W])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=JR(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((F,G)=>{const W=D0+g++;p.set(G,W),F.forEach(q=>Or(q,W))});const _=[],m=new Set,y=new Set;for(let F=0;F<this.collectedLeaveElements.length;F++){const G=this.collectedLeaveElements[F],W=G[Rr];W&&W.setForRemoval&&(_.push(G),m.add(G),W.hasAnimation?this.driver.query(G,".ng-star-inserted",!0).forEach(q=>m.add(q)):y.add(G))}const v=new Map,b=JR(h,Array.from(m));b.forEach((F,G)=>{const W=pm+g++;v.set(G,W),F.forEach(q=>Or(q,W))}),e.push(()=>{f.forEach((F,G)=>{const W=p.get(G);F.forEach(q=>Mc(q,W))}),b.forEach((F,G)=>{const W=v.get(G);F.forEach(q=>Mc(q,W))}),_.forEach(F=>{this.processLeaveNode(F)})});const x=[],M=[];for(let F=this._namespaceList.length-1;F>=0;F--)this._namespaceList[F].drainQueuedTransitions(t).forEach(W=>{const q=W.player,ee=W.element;if(x.push(q),this.collectedEnterElements.length){const R=ee[Rr];if(R&&R.setForMove){if(R.previousTriggersValues&&R.previousTriggersValues.has(W.triggerName)){const Ue=R.previousTriggersValues.get(W.triggerName),Oe=this.statesByElement.get(W.element);if(Oe&&Oe.has(W.triggerName)){const he=Oe.get(W.triggerName);he.value=Ue,Oe.set(W.triggerName,he)}}return void q.destroy()}}const be=!d||!this.driver.containsElement(d,ee),ge=v.get(ee),K=p.get(ee),J=this._buildInstruction(W,i,K,ge,be);if(J.errors&&J.errors.length)return void M.push(J);if(be)return q.onStart(()=>Oa(ee,J.fromStyles)),q.onDestroy(()=>ws(ee,J.toStyles)),void r.push(q);if(W.isFallbackTransition)return q.onStart(()=>Oa(ee,J.fromStyles)),q.onDestroy(()=>ws(ee,J.toStyles)),void r.push(q);const _e=[];J.timelines.forEach(R=>{R.stretchStartingKeyframe=!0,this.disabledNodes.has(R.element)||_e.push(R)}),J.timelines=_e,i.append(ee,J.timelines),o.push({instruction:J,player:q,element:ee}),J.queriedElements.forEach(R=>cr(a,R,[]).push(q)),J.preStyleProps.forEach((R,Ue)=>{if(R.size){let Oe=l.get(Ue);Oe||l.set(Ue,Oe=new Set),R.forEach((he,Ie)=>Oe.add(Ie))}}),J.postStyleProps.forEach((R,Ue)=>{let Oe=c.get(Ue);Oe||c.set(Ue,Oe=new Set),R.forEach((he,Ie)=>Oe.add(Ie))})});if(M.length){const F=[];M.forEach(G=>{F.push(function j9(n,e){return new ce(3505,!1)}())}),x.forEach(G=>G.destroy()),this.reportError(F)}const S=new Map,C=new Map;o.forEach(F=>{const G=F.element;i.has(G)&&(C.set(G,G),this._beforeAnimationBuild(F.player.namespaceId,F.instruction,S))}),r.forEach(F=>{const G=F.element;this._getPreviousPlayers(G,!1,F.namespaceId,F.triggerName,null).forEach(q=>{cr(S,G,[]).push(q),q.destroy()})});const w=_.filter(F=>eO(F,l,c)),E=new Map;ZR(E,this.driver,y,c,io).forEach(F=>{eO(F,l,c)&&w.push(F)});const V=new Map;f.forEach((F,G)=>{ZR(V,this.driver,new Set(F),l,u0)}),w.forEach(F=>{const G=E.get(F),W=V.get(F);E.set(F,new Map([...Array.from(G?.entries()??[]),...Array.from(W?.entries()??[])]))});const I=[],N=[],U={};o.forEach(F=>{const{element:G,player:W,instruction:q}=F;if(i.has(G)){if(u.has(G))return W.onDestroy(()=>ws(G,q.toStyles)),W.disabled=!0,W.overrideTotalTime(q.totalTime),void r.push(W);let ee=U;if(C.size>1){let ge=G;const K=[];for(;ge=ge.parentNode;){const J=C.get(ge);if(J){ee=J;break}K.push(ge)}K.forEach(J=>C.set(J,ee))}const be=this._buildAnimation(W.namespaceId,q,S,s,V,E);if(W.setRealPlayer(be),ee===U)I.push(W);else{const ge=this.playersByElement.get(ee);ge&&ge.length&&(W.parentPlayer=Go(ge)),r.push(W)}}else Oa(G,q.fromStyles),W.onDestroy(()=>ws(G,q.toStyles)),N.push(W),u.has(G)&&r.push(W)}),N.forEach(F=>{const G=s.get(F.element);if(G&&G.length){const W=Go(G);F.setRealPlayer(W)}}),r.forEach(F=>{F.parentPlayer?F.syncPlayerEvents(F.parentPlayer):F.destroy()});for(let F=0;F<_.length;F++){const G=_[F],W=G[Rr];if(Mc(G,pm),W&&W.hasAnimation)continue;let q=[];if(a.size){let be=a.get(G);be&&be.length&&q.push(...be);let ge=this.driver.query(G,P0,!0);for(let K=0;K<ge.length;K++){let J=a.get(ge[K]);J&&J.length&&q.push(...J)}}const ee=q.filter(be=>!be.destroyed);ee.length?Yq(this,G,ee):this.processLeaveNode(G)}return _.length=0,I.forEach(F=>{this.players.push(F),F.onDone(()=>{F.destroy();const G=this.players.indexOf(F);this.players.splice(G,1)}),F.play()}),I}elementContainsData(e,t){let i=!1;const r=t[Rr];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==Hd;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=cr(i,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Oa(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;u.add(g);const _=g[Rr];if(_&&_.removedBeforeQueried)return new Pd(p.duration,p.delay);const m=g!==l,y=function Kq(n){const e=[];return QR(n,e),e}((i.get(g)||Vq).map(S=>S.getRealPlayer())).filter(S=>!!S.element&&S.element===g),v=s.get(g),b=o.get(g),x=SR(0,this._normalizer,0,p.keyframes,v,b),M=this._buildPlayer(p,x,y);if(p.subTimeline&&r&&d.add(g),m){const S=new W0(e,a,g);S.setRealPlayer(M),c.push(S)}return M});c.forEach(p=>{cr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function jq(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Or(p,kR));const f=Go(h);return f.onDestroy(()=>{u.forEach(p=>Mc(p,kR)),ws(l,t.toStyles)}),d.forEach(p=>{cr(r,p,[]).push(f)}),f}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Pd(e.duration,e.delay)}}class W0{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Pd,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>M0(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){cr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Tm(n){return n&&1===n.nodeType}function KR(n,e){const t=n.style.display;return n.style.display=e??"none",t}function ZR(n,e,t,i,r){const s=[];t.forEach(l=>s.push(KR(l)));const o=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,r);u.set(d,h),(!h||0==h.length)&&(c[Rr]=Gq,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>KR(l,s[a++])),o}function JR(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=1,r=new Set(e),s=new Map;function o(a){if(!a)return i;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?i:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);l!==i&&t.get(l).push(a)}),t}function Or(n,e){n.classList?.add(e)}function Mc(n,e){n.classList?.remove(e)}function Yq(n,e,t){Go(t).onDone(()=>n.processLeaveNode(e))}function QR(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof OI?QR(i.players,e):e.push(i)}}function eO(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class Am{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new $q(e,t,i),this._timelineEngine=new Nq(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const o=e+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],c=[],u=k0(this._driver,s,l,c);if(l.length)throw function L9(n,e){return new ce(3404,!1)}();a=function Oq(n,e,t){return new kq(n,e,t)}(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,o]=CR(i);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[o,a]=CR(i);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Qq=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ws(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ws(this._element,this._initialStyles),this._endStyles&&(ws(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Oa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Oa(this._element,this._endStyles),this._endStyles=null),ws(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function $0(n){let e=null;return n.forEach((t,i)=>{(function e7(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class tO{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:zR(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class t7{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return PR(e,t)}getParentElement(e){return T0(e)}query(e,t,i){return IR(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof tO);(function sq(n,e){return 0===n||0===e})(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((p,g)=>c.set(g,p))});let d=function tq(n){return n.length?n[0]instanceof Map?n:n.map(e=>LR(e)):[]}(t).map(f=>Wo(f));d=function oq(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,zR(n,a)))}}return e}(e,d,c);const h=function Jq(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=$0(e[0]),e.length>1&&(i=$0(e[e.length-1]))):e instanceof Map&&(t=$0(e)),t||i?new Qq(n,t,i):null}(e,d);return new tO(e,d,l,h)}}let n7=(()=>{class n extends PI{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:Vr.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?II(t):t;return nO(this._renderer,null,i,"register",[r]),new i7(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)($(Ju),$(nt))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();class i7 extends Nj{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new r7(this._id,e,t||{},this._renderer)}}class r7{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return nO(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function nO(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const iO="@.disabled";let s7=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(s);return u||(u=new rO("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return i.data.animation.forEach(l),new o7(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)($(Ju),$(Am),$(st))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();class rO{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==iO?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class o7 extends rO{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==iO?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function a7(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function l7(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}const sO=[{provide:PI,useClass:n7},{provide:U0,useFactory:function u7(){return new Dq}},{provide:Am,useClass:(()=>{class n extends Am{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)($(nt),$(A0),$(U0),$(cc))},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})()},{provide:Ju,useFactory:function d7(n,e,t){return new s7(n,e,t)},deps:[Pp,Am,st]}],j0=[{provide:A0,useFactory:()=>new t7},{provide:Ks,useValue:"BrowserAnimations"},...sO],oO=[{provide:A0,useClass:RR},{provide:Ks,useValue:"NoopAnimations"},...sO];let h7=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?oO:j0}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({providers:j0,imports:[EP]}),n})();const Pm=Au(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function X0(){return _n((n,e)=>{let t=null;n._refCount++;const i=dn(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class aO extends qt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,FE(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new nn;const t=this.getSubject();e.add(this.source.subscribe(dn(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=nn.EMPTY)}return e}refCount(){return X0()(this)}}function Im(n){return _n((e,t)=>{let i=!1;e.subscribe(dn(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function lO(n=f7){return _n((e,t)=>{let i=!1;e.subscribe(dn(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function f7(){return new Pm}function $o(n,e){const t=arguments.length>=2;return i=>i.pipe(n?hn((r,s)=>n(r,s,i)):To,Xi(1),t?Im(e):lO(()=>new Pm))}function cO(n,e){return _n(function p7(n,e,t,i,r){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(dn(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}function q0(n){return n<=0?()=>Hr:_n((e,t)=>{let i=[];e.subscribe(dn(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function uO(n,e){const t=arguments.length>=2;return i=>i.pipe(n?hn((r,s)=>n(r,s,i)):To,q0(1),t?Im(e):lO(()=>new Pm))}const mt="primary",Vd=Symbol("RouteTitle");class g7{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ec(n){return new g7(n)}function _7(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ms(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!dO(n[r],e[r]))return!1;return!0}function dO(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function hO(n){return Array.prototype.concat.apply([],n)}function fO(n){return n.length>0?n[n.length-1]:null}function li(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function jo(n){return JT(n)?n:Xf(n)?jn(Promise.resolve(n)):Ve(n)}const Rm=!1,y7={exact:function gO(n,e,t){if(!La(n.segments,e.segments)||!Om(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!gO(n.children[i],e.children[i],t))return!1;return!0},subset:_O},pO={exact:function b7(n,e){return Ms(n,e)},subset:function x7(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>dO(n[t],e[t]))},ignored:()=>!0};function mO(n,e,t){return y7[t.paths](n.root,e.root,t.matrixParams)&&pO[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function _O(n,e,t){return vO(n,e,e.segments,t)}function vO(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!La(r,t)||e.hasChildren()||!Om(r,t,i))}if(n.segments.length===t.length){if(!La(n.segments,t)||!Om(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!_O(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(La(n.segments,r)&&Om(n.segments,r,i)&&n.children[mt])&&vO(n.children[mt],e,s,i)}}function Om(n,e,t){return e.every((i,r)=>pO[t](n[r].parameters,i.parameters))}class Xo{constructor(e=new bt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ec(this.queryParams)),this._queryParamMap}toString(){return E7.serialize(this)}}class bt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,li(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return km(this)}}class Gd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ec(this.parameters)),this._parameterMap}toString(){return xO(this)}}function La(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Wd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:function(){return new Y0},providedIn:"root"}),n})();class Y0{parse(e){const t=new O7(e);return new Xo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${$d(e.root,!0)}`,i=function T7(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Lm(t)}=${Lm(r)}`).join("&"):`${Lm(t)}=${Lm(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function S7(n){return encodeURI(n)}(e.fragment)}`:""}`}}const E7=new Y0;function km(n){return n.segments.map(e=>xO(e)).join("/")}function $d(n,e){if(!n.hasChildren())return km(n);if(e){const t=n.children[mt]?$d(n.children[mt],!1):"",i=[];return li(n.children,(r,s)=>{s!==mt&&i.push(`${s}:${$d(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function M7(n,e){let t=[];return li(n.children,(i,r)=>{r===mt&&(t=t.concat(e(i,r)))}),li(n.children,(i,r)=>{r!==mt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===mt?[$d(n.children[mt],!1)]:[`${r}:${$d(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[mt]?`${km(n)}/${t[0]}`:`${km(n)}/(${t.join("//")})`}}function yO(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lm(n){return yO(n).replace(/%3B/gi,";")}function K0(n){return yO(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fm(n){return decodeURIComponent(n)}function bO(n){return Fm(n.replace(/\+/g,"%20"))}function xO(n){return`${K0(n.path)}${function C7(n){return Object.keys(n).map(e=>`;${K0(e)}=${K0(n[e])}`).join("")}(n.parameters)}`}const A7=/^[^\/()?;=#]+/;function Nm(n){const e=n.match(A7);return e?e[0]:""}const D7=/^[^=?&#]+/,I7=/^[^&#]+/;class O7{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bt([],{}):new bt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[mt]=new bt(e,t)),i}parseSegment(){const e=Nm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new ce(4009,Rm);return this.capture(e),new Gd(Fm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Nm(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Nm(this.remaining);r&&(i=r,this.capture(i))}e[Fm(t)]=Fm(i)}parseQueryParam(e){const t=function P7(n){const e=n.match(D7);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function R7(n){const e=n.match(I7);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=bO(t),s=bO(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Nm(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new ce(4010,Rm);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=mt);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[mt]:new bt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new ce(4011,Rm)}}function Z0(n){return n.segments.length>0?new bt([],{[mt]:n}):n}function Bm(n){const e={};for(const i of Object.keys(n.children)){const s=Bm(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function k7(n){if(1===n.numberOfChildren&&n.children[mt]){const e=n.children[mt];return new bt(n.segments.concat(e.segments),e.children)}return n}(new bt(n.segments,e))}function Fa(n){return n instanceof Xo}const J0=!1;function L7(n,e,t,i,r){if(0===t.length)return Sc(e.root,e.root,e.root,i,r);const s=function CO(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new SO(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return li(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new SO(t,e,i)}(t);return s.toRoot()?Sc(e.root,e.root,new bt([],{}),i,r):function o(l){const c=function N7(n,e,t,i){if(n.isAbsolute)return new Cc(e.root,!0,0);if(-1===i)return new Cc(t,t===e.root,0);return function TO(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new ce(4005,J0&&"Invalid number of '../'");r=i.segments.length}return new Cc(i,!1,r-s)}(t,i+(jd(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,l),u=c.processChildren?Tc(c.segmentGroup,c.index,s.commands):Q0(c.segmentGroup,c.index,s.commands);return Sc(e.root,c.segmentGroup,u,i,r)}(n.snapshot?._lastPathIndex)}function jd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Xd(n){return"object"==typeof n&&null!=n&&n.outlets}function Sc(n,e,t,i,r){let o,s={};i&&li(i,(l,c)=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=n===e?t:EO(n,e,t);const a=Z0(Bm(o));return new Xo(a,s,r)}function EO(n,e,t){const i={};return li(n.children,(r,s)=>{i[s]=r===e?t:EO(r,e,t)}),new bt(n.segments,i)}class SO{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&jd(i[0]))throw new ce(4003,J0&&"Root segment cannot have matrix parameters");const r=i.find(Xd);if(r&&r!==fO(i))throw new ce(4004,J0&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Cc{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Q0(n,e,t){if(n||(n=new bt([],{})),0===n.segments.length&&n.hasChildren())return Tc(n,e,t);const i=function U7(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const o=n.segments[r],a=t[i];if(Xd(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!DO(l,c,o))return s;i+=2}else{if(!DO(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new bt(n.segments.slice(0,i.pathIndex),{});return s.children[mt]=new bt(n.segments.slice(i.pathIndex),n.children),Tc(s,0,r)}return i.match&&0===r.length?new bt(n.segments,{}):i.match&&!n.hasChildren()?ex(n,e,t):i.match?Tc(n,0,r):ex(n,e,t)}function Tc(n,e,t){if(0===t.length)return new bt(n.segments,{});{const i=function B7(n){return Xd(n[0])?n[0].outlets:{[mt]:n}}(t),r={};if(!i[mt]&&n.children[mt]&&1===n.numberOfChildren&&0===n.children[mt].segments.length){const s=Tc(n.children[mt],e,t);return new bt(n.segments,s.children)}return li(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=Q0(n.children[o],e,s))}),li(n.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new bt(n.segments,r)}}function ex(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Xd(s)){const l=z7(s.outlets);return new bt(i,l)}if(0===r&&jd(t[0])){i.push(new Gd(n.segments[e].path,AO(t[0]))),r++;continue}const o=Xd(s)?s.outlets[mt]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&jd(a)?(i.push(new Gd(o,AO(a))),r+=2):(i.push(new Gd(o,{})),r++)}return new bt(i,{})}function z7(n){const e={};return li(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=ex(new bt([],{}),0,t))}),e}function AO(n){const e={};return li(n,(t,i)=>e[i]=`${t}`),e}function DO(n,e,t){return n==t.path&&Ms(e,t.parameters)}const qd="imperative";class Es{constructor(e,t){this.id=e,this.url=t}}class Um extends Es{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class co extends Es{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zm extends Es{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hm extends Es{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class tx extends Es{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class H7 extends Es{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class V7 extends Es{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class G7 extends Es{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class W7 extends Es{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $7 extends Es{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class j7{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class X7{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class q7{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Y7{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class K7{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Z7{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PO{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let eY=(()=>{class n{createUrlTree(t,i,r,s,o,a){return L7(t||i.root,r,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})(),nY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:function(e){return eY.\u0275fac(e)},providedIn:"root"}),n})();class IO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=nx(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=nx(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ix(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return ix(e,this._root).map(t=>t.value)}}function nx(n,e){if(n===e.value)return e;for(const t of e.children){const i=nx(n,t);if(i)return i}return null}function ix(n,e){if(n===e.value)return[e];for(const t of e.children){const i=ix(n,t);if(i.length)return i.unshift(e),i}return[]}class uo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ac(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class RO extends IO{constructor(e,t){super(e),this.snapshot=t,rx(this,e)}toString(){return this.snapshot.toString()}}function OO(n,e){const t=function iY(n,e){const o=new Vm([],{},{},"",{},mt,e,null,n.root,-1,{});return new LO("",new uo(o,[]))}(n,e),i=new Pr([new Gd("",{})]),r=new Pr({}),s=new Pr({}),o=new Pr({}),a=new Pr(""),l=new qo(i,r,o,a,s,mt,e,t.root);return l.snapshot=t.root,new RO(new uo(l,[]),t)}class qo{constructor(e,t,i,r,s,o,a,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(Qe(c=>c[Vd]))??Ve(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Qe(e=>Ec(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Qe(e=>Ec(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kO(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function rY(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Vm{get title(){return this.data?.[Vd]}constructor(e,t,i,r,s,o,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ec(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ec(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class LO extends IO{constructor(e,t){super(t),this.url=e,rx(this,t)}toString(){return FO(this._root)}}function rx(n,e){e.value._routerState=n,e.children.forEach(t=>rx(n,t))}function FO(n){const e=n.children.length>0?` { ${n.children.map(FO).join(", ")} } `:"";return`${n.value}${e}`}function sx(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ms(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ms(e.params,t.params)||n.params.next(t.params),function v7(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ms(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ms(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ox(n,e){const t=Ms(n.params,e.params)&&function w7(n,e){return La(n,e)&&n.every((t,i)=>Ms(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ox(n.parent,e.parent))}function Yd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function oY(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Yd(n,i,r);return Yd(n,i)})}(n,e,t);return new uo(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Yd(n,a)),o}}const i=function aY(n){return new qo(new Pr(n.url),new Pr(n.params),new Pr(n.queryParams),new Pr(n.fragment),new Pr(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>Yd(n,s));return new uo(i,r)}}const ax="ngNavigationCancelingError";function NO(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Fa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=BO(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function BO(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[ax]=!0,i.cancellationCode=e,t&&(i.url=t),i}function UO(n){return zO(n)&&Fa(n.url)}function zO(n){return n&&n[ax]}class lY{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Kd,this.attachRef=null}}let Kd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new lY,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Gm=!1;let lx=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=mt,this.activateEvents=new Mt,this.deactivateEvents=new Mt,this.attachEvents=new Mt,this.detachEvents=new Mt,this.parentContexts=Ee(Kd),this.location=Ee(gi),this.changeDetector=Ee(lr),this.environmentInjector=Ee(ps)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ce(4012,Gm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ce(4012,Gm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ce(4012,Gm);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new ce(4013,Gm);this._activatedRoute=t;const r=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new cY(t,a,r.injector);if(i&&function uY(n){return!!n.resolveComponentFactory}(i)){const c=i.resolveComponentFactory(o);this.activated=r.createComponent(c,r.length,l)}else this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ze({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[us]}),n})();class cY{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===qo?this.route:e===Kd?this.childContexts:this.parent.get(e,t)}}let cx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Yt({type:n,selectors:[["ng-component"]],standalone:!0,features:[xy],decls:1,vars:0,template:function(t,i){1&t&&Re(0,"router-outlet")},dependencies:[lx],encapsulation:2}),n})();function HO(n,e){return n.providers&&!n._injector&&(n._injector=np(n.providers,e,`Route: ${n.path}`)),n._injector??e}function dx(n){const e=n.children&&n.children.map(dx),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==mt&&(t.component=cx),t}function kr(n){return n.outlet||mt}function VO(n,e){const t=n.filter(i=>kr(i)===e);return t.push(...n.filter(i=>kr(i)!==e)),t}function Zd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class mY{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),sx(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Ac(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),li(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Ac(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Ac(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Ac(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Z7(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Y7(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(sx(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),sx(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Zd(r.snapshot),l=a?.get(wa)??null;o.attachRef=null,o.route=r,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}class GO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Wm{constructor(e,t){this.component=e,this.route=t}}function gY(n,e,t){const i=n._root;return Jd(i,e?e._root:null,t,[i.value])}function Dc(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function $2(n){return null!==Kh(n)}(n)?e.get(n):n:i}function Jd(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ac(e);return n.children.forEach(o=>{(function vY(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function yY(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!La(n.url,e.url);case"pathParamsOrQueryParamsChange":return!La(n.url,e.url)||!Ms(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ox(n,e)||!Ms(n.queryParams,e.queryParams);default:return!ox(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new GO(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Jd(n,e,s.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Wm(a.outlet.component,o))}else o&&Qd(e,a,r),r.canActivateChecks.push(new GO(i)),Jd(n,null,s.component?a?a.children:null:t,i,r)})(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),li(s,(o,a)=>Qd(o,t.getContext(a),r)),r}function Qd(n,e,t){const i=Ac(n),r=n.value;li(i,(s,o)=>{Qd(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Wm(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function eh(n){return"function"==typeof n}function hx(n){return n instanceof Pm||"EmptyError"===n?.name}const $m=Symbol("INITIAL_VALUE");function Pc(){return Ir(n=>zb(n.map(e=>e.pipe(Xi(1),Dr($m)))).pipe(Qe(e=>{for(const t of e)if(!0!==t){if(t===$m)return $m;if(!1===t||t instanceof Xo)return t}return!0}),hn(e=>e!==$m),Xi(1)))}function WO(n){return function f2(...n){return OE(n)}(In(e=>{if(Fa(e))throw NO(0,e)}),Qe(e=>!0===e))}const fx={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $O(n,e,t,i,r){const s=px(n,e,t);return s.matched?function FY(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?Ve(r.map(o=>{const a=Dc(o,n);return jo(function SY(n){return n&&eh(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Pc(),WO()):Ve(!0)}(i=HO(e,i),e,t).pipe(Qe(o=>!0===o?s:{...fx})):Ve(s)}function px(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...fx}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||_7)(t,n,e);if(!r)return{...fx};const s={};li(r.posParams,(a,l)=>{s[l]=a.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function jm(n,e,t,i){if(t.length>0&&function UY(n,e,t){return t.some(i=>Xm(n,e,i)&&kr(i)!==mt)}(n,t,i)){const s=new bt(e,function BY(n,e,t,i){const r={};r[mt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&kr(s)!==mt){const o=new bt([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,r[kr(s)]=o}return r}(n,e,i,new bt(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function zY(n,e,t){return t.some(i=>Xm(n,e,i))}(n,t,i)){const s=new bt(n.segments,function NY(n,e,t,i,r){const s={};for(const o of i)if(Xm(n,t,o)&&!r[kr(o)]){const a=new bt([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[kr(o)]=a}return{...r,...s}}(n,e,t,i,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const r=new bt(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function Xm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function jO(n,e,t,i){return!!(kr(n)===i||i!==mt&&Xm(e,t,n))&&("**"===n.path||px(e,n,t).matched)}function XO(n,e,t){return 0===e.length&&!n.children[t]}const qm=!1;class Ym{constructor(e){this.segmentGroup=e||null}}class qO{constructor(e){this.urlTree=e}}function th(n){return xc(new Ym(n))}function YO(n){return xc(new qO(n))}class WY{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=jm(this.urlTree.root,[],[],this.config).segmentGroup,t=new bt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,mt).pipe(Qe(s=>this.createUrlTree(Bm(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(oo(s=>{if(s instanceof qO)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Ym?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,mt).pipe(Qe(r=>this.createUrlTree(Bm(r),e.queryParams,e.fragment))).pipe(oo(r=>{throw r instanceof Ym?this.noMatchError(r):r}))}noMatchError(e){return new ce(4002,qm)}createUrlTree(e,t,i){const r=Z0(e);return new Xo(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(Qe(s=>new bt([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return jn(r).pipe(Ho(s=>{const o=i.children[s],a=VO(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(Qe(l=>({segment:l,outlet:s})))}),cO((s,o)=>(s[o.outlet]=o.segment,s),{}),uO())}expandSegment(e,t,i,r,s,o){return jn(i).pipe(Ho(a=>this.expandSegmentAgainstRoute(e,t,i,a,r,s,o).pipe(oo(c=>{if(c instanceof Ym)return Ve(null);throw c}))),$o(a=>!!a),oo((a,l)=>{if(hx(a))return XO(t,r,s)?Ve(new bt([],{})):th(t);throw a}))}expandSegmentAgainstRoute(e,t,i,r,s,o,a){return jO(r,t,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o):th(t):th(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?YO(s):this.lineralizeSegments(i,s).pipe(vn(o=>{const a=new bt(o,{});return this.expandSegment(e,a,t,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=px(t,r,s);if(!a)return th(t);const d=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?YO(d):this.lineralizeSegments(r,d).pipe(vn(h=>this.expandSegment(e,t,i,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=HO(i,e),i.loadChildren?(i._loadedRoutes?Ve({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe(Qe(a=>(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,new bt(r,{})))):Ve(new bt(r,{}))):$O(t,i,r,e).pipe(Ir(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(e=i._injector??e,i,r).pipe(vn(u=>{const d=u.injector??e,h=u.routes,{segmentGroup:f,slicedSegments:p}=jm(t,a,l,h),g=new bt(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(Qe(v=>new bt(a,v)));if(0===h.length&&0===p.length)return Ve(new bt(a,{}));const _=kr(i)===s;return this.expandSegment(d,g,h,p,_?mt:s,!0).pipe(Qe(y=>new bt(a.concat(y.segments),y.children)))})):th(t)))}getChildConfig(e,t,i){return t.children?Ve({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ve({routes:t._loadedRoutes,injector:t._loadedInjector}):function LY(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?Ve(!0):Ve(r.map(o=>{const a=Dc(o,n);return jo(function xY(n){return n&&eh(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Pc(),WO())}(e,t,i).pipe(vn(r=>r?this.configLoader.loadChildren(e,t).pipe(In(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function VY(n){return xc(BO(qm,3))}())):Ve({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ve(i);if(r.numberOfChildren>1||!r.children[mt])return e.redirectTo,xc(new ce(4e3,qm));r=r.children[mt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Xo(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return li(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[s]=t[a]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let o={};return li(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,i,r)}),new bt(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new ce(4001,qm);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class jY{}class YY{constructor(e,t,i,r,s,o,a){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=jm(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,mt).pipe(Qe(t=>{if(null===t)return null;const i=new Vm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},mt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new uo(i,t),s=new LO(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=kO(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return jn(Object.keys(i.children)).pipe(Ho(r=>{const s=i.children[r],o=VO(t,r);return this.processSegmentGroup(e,o,s,r)}),cO((r,s)=>r&&s?(r.push(...s),r):null),function m7(n,e=!1){return _n((t,i)=>{let r=0;t.subscribe(dn(i,s=>{const o=n(s,r++);(o||e)&&i.next(s),!o&&i.complete()}))})}(r=>null!==r),Im(null),uO(),Qe(r=>{if(null===r)return null;const s=ZO(r);return function KY(n){n.sort((e,t)=>e.value.outlet===mt?-1:t.value.outlet===mt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return jn(t).pipe(Ho(o=>this.processSegmentAgainstRoute(o._injector??e,o,i,r,s)),$o(o=>!!o),oo(o=>{if(hx(o))return XO(i,r,s)?Ve([]):Ve(null);throw o}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!jO(t,i,r,s))return Ve(null);let o;if("**"===t.path){const a=r.length>0?fO(r).parameters:{},l=QO(i)+r.length;o=Ve({snapshot:new Vm(r,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ek(t),kr(t),t.component??t._loadedComponent??null,t,JO(i),l,tk(t)),consumedSegments:[],remainingSegments:[]})}else o=$O(i,t,r,e).pipe(Qe(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=QO(i)+l.length;return{snapshot:new Vm(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ek(t),kr(t),t.component??t._loadedComponent??null,t,JO(i),d,tk(t)),consumedSegments:l,remainingSegments:c}}));return o.pipe(Ir(a=>{if(null===a)return Ve(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function ZY(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=jm(i,c,u,h.filter(_=>void 0===_.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(Qe(_=>null===_?null:[new uo(l,_)]));if(0===h.length&&0===p.length)return Ve([new uo(l,[])]);const g=kr(t)===s;return this.processSegment(d,h,f,p,g?mt:s).pipe(Qe(_=>null===_?null:[new uo(l,_)]))}))}}function JY(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ZO(n){const e=[],t=new Set;for(const i of n){if(!JY(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=ZO(i.children);e.push(new uo(i.value,r))}return e.filter(i=>!t.has(i))}function JO(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function QO(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function ek(n){return n.data||{}}function tk(n){return n.resolve||{}}function nk(n){return"string"==typeof n.title||null===n.title}function mx(n){return Ir(e=>{const t=n(e);return t?jn(t).pipe(Qe(()=>e)):Ve(e)})}const Ic=new pe("ROUTES");let gx=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ee(sD)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ve(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=jo(t.loadComponent()).pipe(Qe(rk),In(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),am(()=>{this.componentLoaders.delete(t)})),r=new aO(i,()=>new ke).pipe(X0());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ve({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(Qe(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(t).injector,c=hO(l.get(Ic,[],tt.Self|tt.Optional)));return{routes:c.map(dx),injector:l}}),am(()=>{this.childrenLoaders.delete(i)})),o=new aO(s,()=>new ke).pipe(X0());return this.childrenLoaders.set(i,o),o}loadModuleFactoryOrRoutes(t){return jo(t()).pipe(Qe(rk),vn(i=>i instanceof _1||Array.isArray(i)?Ve(i):jn(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rk(n){return function oK(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Zm=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ke,this.configLoader=Ee(gx),this.environmentInjector=Ee(ps),this.urlSerializer=Ee(Wd),this.rootContexts=Ee(Kd),this.navigationId=0,this.afterPreactivation=()=>Ve(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new X7(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new j7(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new Pr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:qd,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(hn(i=>0!==i.id),Qe(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),Ir(i=>{let r=!1,s=!1;return Ve(i).pipe(In(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ir(o=>{const a=t.browserUrlTree.toString(),l=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new Hm(o.id,t.serializeUrl(i.rawUrl),u,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),Hr}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return sk(o.source)&&(t.browserUrlTree=o.extractedUrl),Ve(o).pipe(Ir(u=>{const d=this.transitions?.getValue();return this.events.next(new Um(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),d!==this.transitions?.getValue()?Hr:Promise.resolve(u)}),function $Y(n,e,t,i){return Ir(r=>function GY(n,e,t,i,r){return new WY(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe(Qe(s=>({...r,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),In(u=>{this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},i.urlAfterRedirects=u.urlAfterRedirects}),function eK(n,e,t,i,r){return vn(s=>function qY(n,e,t,i,r,s,o="emptyOnly"){return new YY(n,e,t,i,r,o,s).recognize().pipe(Ir(a=>null===a?function XY(n){return new qt(e=>e.error(n))}(new jY):Ve(a)))}(n,e,t,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe(Qe(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),In(u=>{if(i.targetSnapshot=u.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(h,u)}t.browserUrlTree=u.urlAfterRedirects}const d=new H7(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:u,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new Um(u,this.urlSerializer.serialize(d),h,f);this.events.next(g);const _=OO(d,this.rootComponentType).snapshot;return Ve(i={...o,targetSnapshot:_,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new Hm(o.id,t.serializeUrl(i.extractedUrl),u,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),Hr}}),In(o=>{const a=new V7(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Qe(o=>i={...o,guards:gY(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function TY(n,e){return vn(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Ve({...t,guardsResult:!0}):function AY(n,e,t,i){return jn(n).pipe(vn(r=>function kY(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Ve(s.map(a=>{const l=Zd(e)??r,c=Dc(a,l);return jo(function EY(n){return n&&eh(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,i):l.runInContext(()=>c(n,e,t,i))).pipe($o())})).pipe(Pc()):Ve(!0)}(r.component,r.route,t,e,i)),$o(r=>!0!==r,!0))}(o,i,r,n).pipe(vn(a=>a&&function bY(n){return"boolean"==typeof n}(a)?function DY(n,e,t,i){return jn(e).pipe(Ho(r=>Lp(function IY(n,e){return null!==n&&e&&e(new q7(n)),Ve(!0)}(r.route.parent,i),function PY(n,e){return null!==n&&e&&e(new K7(n)),Ve(!0)}(r.route,i),function OY(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function _Y(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Qp(()=>Ve(o.guards.map(l=>{const c=Zd(o.node)??t,u=Dc(l,c);return jo(function MY(n){return n&&eh(n.canActivateChild)}(u)?u.canActivateChild(i,n):c.runInContext(()=>u(i,n))).pipe($o())})).pipe(Pc())));return Ve(s).pipe(Pc())}(n,r.path,t),function RY(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Ve(!0);const r=i.map(s=>Qp(()=>{const o=Zd(e)??t,a=Dc(s,o);return jo(function wY(n){return n&&eh(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe($o())}));return Ve(r).pipe(Pc())}(n,r.route,t))),$o(r=>!0!==r,!0))}(i,s,n,e):Ve(a)),Qe(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),In(o=>{if(i.guardsResult=o.guardsResult,Fa(o.guardsResult))throw NO(0,o.guardsResult);const a=new G7(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),hn(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),mx(o=>{if(o.guards.canActivateChecks.length)return Ve(o).pipe(In(a=>{const l=new W7(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Ir(a=>{let l=!1;return Ve(a).pipe(function tK(n,e){return vn(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Ve(t);let s=0;return jn(r).pipe(Ho(o=>function nK(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!nk(r)&&(s[Vd]=r.title),function iK(n,e,t,i){const r=function rK(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Ve({});const s={};return jn(r).pipe(vn(o=>function sK(n,e,t,i){const r=Zd(e)??i,s=Dc(n,r);return jo(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[o],e,t,i).pipe($o(),In(a=>{s[o]=a}))),q0(1),Jp(s),oo(o=>hx(o)?Hr:xc(o)))}(s,n,e,i).pipe(Qe(o=>(n._resolvedData=o,n.data=kO(n,t).resolve,r&&nk(r)&&(n.data[Vd]=r.title),null)))}(o.route,i,n,e)),In(()=>s++),q0(1),vn(o=>s===r.length?Ve(t):Hr))})}(t.paramsInheritanceStrategy,this.environmentInjector),In({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),In(a=>{const l=new $7(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),mx(o=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(In(u=>{l.component=u}),Qe(()=>{})));for(const u of l.children)c.push(...a(u));return c};return zb(a(o.targetSnapshot.root)).pipe(Im(),Xi(1))}),mx(()=>this.afterPreactivation()),Qe(o=>{const a=function sY(n,e,t){const i=Yd(n,e._root,t?t._root:void 0);return new RO(i,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return i={...o,targetRouterState:a}}),In(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>Qe(i=>(new mY(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),Xi(1),In({next:o=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new co(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),am(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),oo(o=>{if(s=!0,zO(o)){UO(o)||(t.navigated=!0,t.restoreHistory(i,!0));const a=new zm(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),UO(o)){const l=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||sk(i.source)};t.scheduleNavigation(l,qd,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const a=new tx(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);this.events.next(a);try{i.resolve(t.errorHandler(o))}catch(l){i.reject(l)}}return Hr}))}))}cancelNavigationTransition(t,i,r){const s=new zm(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sk(n){return n!==qd}let ok=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===mt);return i}getResolvedTitleForRoute(t){return t.data[Vd]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:function(){return Ee(aK)},providedIn:"root"}),n})(),aK=(()=>{class n extends ok{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)($(xb))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:function(){return Ee(uK)},providedIn:"root"}),n})();class cK{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let uK=(()=>{class n extends cK{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Po(n)))(i||n)}}(),n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jm=new pe("",{providedIn:"root",factory:()=>({})});let hK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:function(){return Ee(fK)},providedIn:"root"}),n})(),fK=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pK(n){throw n}function mK(n,e,t){return e.parse("/")}const gK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_K={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Ee(fG),this.isNgZoneEnabled=!1,this.options=Ee(Jm,{optional:!0})||{},this.errorHandler=this.options.errorHandler||pK,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||mK,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Ee(hK),this.routeReuseStrategy=Ee(lK),this.urlCreationStrategy=Ee(nY),this.titleStrategy=Ee(ok),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=hO(Ee(Ic,{optional:!0})??[]),this.navigationTransitions=Ee(Zm),this.urlSerializer=Ee(Wd),this.location=Ee(pp),this.isNgZoneEnabled=Ee(st)instanceof st&&st.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Xo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=OO(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),qd,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(dx),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o;let u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,u,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Fa(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,qd,null,i)}navigate(t,i={skipLocationChange:!1}){return function vK(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new ce(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...gK}:!1===i?{..._K}:i,Fa(t))return mO(this.currentUrlTree,t,r);const s=this.parseUrl(t);return mO(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c,u;return o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h}),u="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ak{}let xK=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(hn(t=>t instanceof co),Ho(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=np(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return jn(r).pipe(Fs())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Ve(null);const s=r.pipe(vn(o=>null===o?Ve(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return i.loadComponent&&!i._loadedComponent?jn([s,this.loader.loadComponent(i)]).pipe(Fs()):s})}}return n.\u0275fac=function(t){return new(t||n)($(wn),$(sD),$(ps),$(ak),$(gx))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yx=new pe("");let lk=(()=>{class n{constructor(t,i,r,s,o={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Um?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof co&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof PO&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new PO(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){Lf()},n.\u0275prov=ve({token:n,factory:n.\u0275fac}),n})();var dr=(()=>((dr=dr||{})[dr.COMPLETE=0]="COMPLETE",dr[dr.FAILED=1]="FAILED",dr[dr.REDIRECTING=2]="REDIRECTING",dr))();const Rc=!1;function Yo(n,e){return{\u0275kind:n,\u0275providers:e}}const bx=new pe("",{providedIn:"root",factory:()=>!1});function uk(){const n=Ee(Qn);return e=>{const t=n.get(cc);if(e!==t.components[0])return;const i=n.get(wn),r=n.get(dk);1===n.get(xx)&&i.initialNavigation(),n.get(hk,null,tt.Optional)?.setUpPreloading(),n.get(yx,null,tt.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const dk=new pe(Rc?"bootstrap done indicator":"",{factory:()=>new ke}),xx=new pe(Rc?"initial navigation":"",{providedIn:"root",factory:()=>1});function CK(){let n=[];return n=Rc?[{provide:Pf,multi:!0,useFactory:()=>{const e=Ee(wn);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function J7(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Yo(1,n)}const hk=new pe(Rc?"router preloader":"");function TK(n){return Yo(0,[{provide:hk,useExisting:xK},{provide:ak,useExisting:n}])}const nh=!1,fk=new pe(nh?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),AK=[pp,{provide:Wd,useClass:Y0},wn,Kd,{provide:qo,useFactory:function ck(n){return n.routerState.root},deps:[wn]},gx,nh?{provide:bx,useValue:!0}:[]];function DK(){return new fD("Router",wn)}let pk=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[AK,nh&&i?.enableTracing?CK().\u0275providers:[],{provide:Ic,multi:!0,useValue:t},{provide:fk,useFactory:OK,deps:[[wn,new jr,new Io]]},{provide:Jm,useValue:i||{}},i?.useHash?{provide:Ta,useClass:e5}:{provide:Ta,useClass:FD},{provide:yx,useFactory:()=>{const n=Ee(yW),e=Ee(st),t=Ee(Jm),i=Ee(Zm),r=Ee(Wd);return t.scrollOffset&&n.setOffset(t.scrollOffset),new lk(r,i,n,e,t)}},i?.preloadingStrategy?TK(i.preloadingStrategy).\u0275providers:[],{provide:fD,multi:!0,useFactory:DK},i?.initialNavigation?kK(i):[],[{provide:mk,useFactory:uk},{provide:hD,multi:!0,useExisting:mk}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Ic,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)($(fk,8))},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({imports:[cx]}),n})();function OK(n){if(nh&&n)throw new ce(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function kK(n){return["disabled"===n.initialNavigation?Yo(3,[{provide:op,multi:!0,useFactory:()=>{const e=Ee(wn);return()=>{e.setUpLocationChangeListener()}}},{provide:xx,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Yo(2,[{provide:xx,useValue:0},{provide:op,multi:!0,deps:[Qn],useFactory:e=>{const t=e.get(JG,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(wn),s=e.get(dk);(function wK(n,e){n.events.pipe(hn(t=>t instanceof co||t instanceof zm||t instanceof tx||t instanceof Hm),Qe(t=>t instanceof co||t instanceof Hm?dr.COMPLETE:t instanceof zm&&(0===t.code||1===t.code)?dr.REDIRECTING:dr.FAILED),hn(t=>t!==dr.REDIRECTING),Xi(1)).subscribe(()=>{e()})})(r,()=>{i(!0)}),e.get(Zm).afterPreactivation=()=>(i(!0),s.closed?Ve(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const mk=new pe(nh?"Router Initializer":""),gk="dark_theme";let hr=(()=>{class n{constructor(){this._dark="true"===localStorage.getItem(gk)}get is_portrait(){return window.innerHeight>window.innerWidth}get is_landscape(){return!this.is_portrait}get is_dark(){return this._dark}set is_dark(t){this._dark=t,localStorage.setItem(gk,String(t))}get background_color(){return this._dark?"#17181e":"#E0E0E0"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _k(n,e,t,i,r,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(i,r)}function Bt(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function o(l){_k(s,i,r,o,a,"next",l)}function a(l){_k(s,i,r,o,a,"throw",l)}o(void 0)})}}let Na=(()=>{class n{constructor(t,i,r,s){this.title=t,this.meta=i,this.router=r,this.activatedRoute=s}get isMobile(){return[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(i=>navigator.userAgent.match(i))}get shouldMobile(){return window.innerWidth<=600}get isHardwareAccelerationEnabled(){const t=document.createElement("div");return t.style.transform="translate3d(0, 0, 0)",window.getComputedStyle(t).getPropertyValue("transform"),!0}updateMetaInfo(t,i,r){this.meta.updateTag({name:"description",content:t}),this.meta.updateTag({name:"author",content:i}),this.meta.updateTag({name:"keywords",content:r})}updateMeta(){this.router.events.pipe(hn(t=>t instanceof co),Qe(()=>this.activatedRoute),Qe(t=>{for(;t.firstChild;)t=t.firstChild;return t}),hn(t=>"primary"===t.outlet),vn(t=>t.data)).subscribe(t=>{this.title.setTitle(void 0===t.title?"Peeradon":t.title+" \u2219 Peeradon"),this.meta.updateTag({name:"description",content:t.description})})}isFileExist(t){var i=new XMLHttpRequest;return i.open("HEAD",t,!1),i.send(),404!=i.status}Download(t,i){let r=document.createElement("a");r.setAttribute("type","hidden"),r.href=t,r.download=i,document.body.appendChild(r),r.click(),r.remove()}DownloadResume(){this.Download("assets/files/resume.pdf","Peeradon's resume")}DownloadTranscriptTh(){this.Download("assets/files/transcript-thai.pdf","Peeradon's transcript-th")}DownloadTranscriptEn(){this.Download("assets/files/transcript-english.pdf","Peeradon's transcript-en")}}return n.\u0275fac=function(t){return new(t||n)($(xb),$(SP),$(wn),$(qo))},n.\u0275prov=ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BK=(()=>{class n{constructor(t){this.theme=t}}return n.\u0275fac=function(t){return new(t||n)(H(hr))},n.\u0275cmp=Yt({type:n,selectors:[["app-footer"]],decls:10,vars:0,consts:[["id","footer"],["id","icon-btn","href","https://www.facebook.com/thestampr","target","_blank",1,"icon-small","fa","fa-facebook"],[1,"no-border"],["id","icon-btn","href","https://www.instagram.com/__stampr/","target","_blank",1,"icon-small","fa","fa-instagram"],["id","icon-btn","href","https://www.linkedin.com/in/stampr/","target","_blank",1,"icon-small","fa","fa-linkedin"],["id","icon-btn","href","https://github.com/thestampr","target","_blank",1,"icon-small","fa","fa-github"]],template:function(t,i){1&t&&(O(0,"footer",0)(1,"ul")(2,"li"),Re(3,"a",1),z(),O(4,"li",2),Re(5,"a",3),z(),O(6,"li",2),Re(7,"a",4),z(),O(8,"li",2),Re(9,"a",5),z()()())},styles:['*[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.fa[_ngcontent-%COMP%]{padding-top:13px}  app-footer{display:flex;align-items:flex-end}footer[_ngcontent-%COMP%]{width:100vw;height:200px;color:var(--white5);background-color:var(--dark2);display:flex;align-items:center;justify-content:center;padding:20px 100px;transition:width 0s}footer[_ngcontent-%COMP%]:not(a){font-size:15px}footer[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:var(--white5)}ul[_ngcontent-%COMP%]{padding:0}li[_ngcontent-%COMP%]{height:40px;display:inline-block;align-items:center}li[_ngcontent-%COMP%]:not(:nth-child(1)):not(.no-border){border-left:1px solid var(--alpha-white)}li[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child:not(a){margin-right:20px}li[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{vertical-align:middle}li[_ngcontent-%COMP%]::marker{content:""}p[_ngcontent-%COMP%]{display:inline-block;font-size:16px;margin:0 0 5px}a[_ngcontent-%COMP%]{text-decoration:none}a[_ngcontent-%COMP%]:hover{color:var(--white1);cursor:pointer}@media only screen and (max-width: 900px){footer[_ngcontent-%COMP%]{padding-left:70px;padding-right:70px;justify-content:center;flex-direction:column-reverse}footer[_ngcontent-%COMP%]:not(a){font-size:12px}}@media only screen and (max-width: 600px){footer[_ngcontent-%COMP%]{padding-left:40px;padding-right:40px}footer[_ngcontent-%COMP%]:not(a){font-size:10px}}']}),n})();const vk=function(n,e){return{"dark-theme":n,"white-theme":e}};function UK(n,e){if(1&n&&Re(0,"div",5),2&n){const t=sn();we("ngClass",mi(1,vk,t.theme.is_dark,!t.theme.is_dark))}}const zK=function(n,e){return{"dark-btn":n,"white-btn":e}},HK=["*"];let Oc=(()=>{class n{constructor(t,i,r){this.theme=t,this.router=i,this.backend=r,this.fadeButtom=!1,this.lastScrollTop=0,i.events.subscribe(s=>{})}ngAfterViewInit(){setTimeout(()=>{this.backend.updateMeta();const t=document.getElementsByClassName("scroll-reveal"),i=document.getElementById("scroll-page"),r=document.getElementById("fake-scroll-track"),o=(document.getElementById("topbar"),document.getElementById("footer"));for(let a=0;a<t.length;a++){const l=window.innerHeight;t[a].getBoundingClientRect().top<l/1.6&&t[a].classList.add("revealed")}i.offsetHeight>=o.getBoundingClientRect().bottom?r.classList.add("long"):r.classList.remove("long"),i&&i.addEventListener("scroll",this.OnScroll)},100)}OnScroll(){var t=this;return Bt(function*(){const i=document.getElementById("topbar"),r=document.getElementById("footer"),s=document.getElementById("bottom-shadow"),o=document.getElementsByClassName("scroll-reveal"),a=document.getElementById("scroll-page"),l=document.getElementById("to-top"),c=window.innerHeight;var u=a.scrollTop;i.classList.contains("sliver")&&(u>t.lastScrollTop?i.classList.add("pin"):u<t.lastScrollTop&&i.classList.remove("pin")),t.lastScrollTop=u<=0?0:u;for(let d=0;d<o.length;d++){const h=o[d].getBoundingClientRect().top;if(o[d].classList.contains("scroll-hide")){const f=o[d].getBoundingClientRect().bottom;h<c/1.2&&f>c-c/1.2?o[d].classList.add("revealed"):o[d].classList.remove("revealed")}else h<c/1.2&&o[d].classList.add("revealed")}s&&(r.getBoundingClientRect().top<c+c/3?s.classList.add("hide"):s.classList.remove("hide")),a.scrollTop>300?l.classList.add("visible"):l.classList.remove("visible"),a.scrollTop>20?i.classList.add("floating"):i.classList.remove("floating")})()}ToTop(){document.getElementById("scroll-page").scrollTo({top:0,behavior:"smooth"})}}return n.\u0275fac=function(t){return new(t||n)(H(hr),H(wn),H(Na))},n.\u0275cmp=Yt({type:n,selectors:[["app-page"]],inputs:{fadeButtom:"fadeButtom"},ngContentSelectors:HK,decls:7,vars:9,consts:[["id","container",3,"ngClass","contextmenu"],["id","scroll-page"],["id","content-wrapper",1,"fadein"],["id","bottom-shadow","class","fadein",3,"ngClass",4,"ngIf"],["id","to-top",1,"animated-btn","fa","fa-arrow-up","sticky","bottom",3,"ngClass","click"],["id","bottom-shadow",1,"fadein",3,"ngClass"]],template:function(t,i){1&t&&(Ys(),O(0,"div",0),$e("contextmenu",function(){return!1}),O(1,"div",1)(2,"div",2),Ai(3),z(),Nn(4,UK,1,4,"div",3),O(5,"a",4),$e("click",function(){return i.ToTop()}),z(),Re(6,"app-footer"),z()()),2&t&&(we("ngClass",mi(3,vk,i.theme.is_dark,!i.theme.is_dark)),Me(4),we("ngIf",i.fadeButtom&&i.theme.is_portrait),Me(1),we("ngClass",mi(6,zK,i.theme.is_dark,!i.theme.is_dark)))},dependencies:[Ar,uc,BK],styles:["*[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.fa[_ngcontent-%COMP%]{width:50px;height:50px;font-size:30px;text-align:center;text-decoration:none;border-radius:50%;padding:10px}#container[_ngcontent-%COMP%]{width:100%;height:100dvh;margin:0;display:flex;position:relative;transition:height 0s!important}#scroll-page[_ngcontent-%COMP%]{width:100%;height:100dvh;padding:60px 0 0;display:flex;justify-content:center;position:relative;overflow:auto;overflow-x:hidden!important;scrollbar-gutter:stable both-edges;transition:height 0s!important}div[_ngcontent-%COMP%]{margin:0;display:flex;flex-wrap:wrap;inset:0}#content-wrapper[_ngcontent-%COMP%]{width:100dvw;height:-moz-fit-content;height:fit-content;position:relative;display:flex;justify-content:center;padding-bottom:4dvh;transition:height 0s!important}#to-top[_ngcontent-%COMP%]{margin-left:auto;cursor:pointer;opacity:0;visibility:hidden;z-index:500;transition:margin-right 0s,background-color .2s ease-in-out,opacity .2s ease-in-out,visibility .2s ease-in-out}#to-top.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible}#to-top.hide[_ngcontent-%COMP%]{opacity:0!important;visibility:hidden!important}#bottom-shadow[_ngcontent-%COMP%]{width:100dvw;height:16dvh;position:sticky;bottom:0;left:0;right:0;margin-bottom:0;z-index:100;transition:height .2s ease,background-color .2s ease-in-out,opacity .2s ease-in-out}#bottom-shadow.hide[_ngcontent-%COMP%]{height:0;opacity:0}#bottom-shadow.dark-theme[_ngcontent-%COMP%]{background:linear-gradient(0deg,#21232f 25%,rgba(255,255,255,0) 100%)}#bottom-shadow.white-theme[_ngcontent-%COMP%]{background:linear-gradient(0deg,#c3c5d9 25%,rgba(255,255,255,0) 100%)}@media only screen and (max-width: 600px){#to-top[_ngcontent-%COMP%]{scale:.9}}"]}),n})();function GK(n,e){if(1&n){const t=Sr();O(0,"button",11),$e("click",function(){Hi(t);const r=sn().$implicit;return Vi(sn().router.navigateByUrl(r.url))}),X(1,"learn more"),z()}}function WK(n,e){if(1&n&&(O(0,"p"),X(1),Re(2,"br"),z()),2&n){const t=e.$implicit;Me(1),Oo(" ",t," ")}}function $K(n,e){if(1&n){const t=Sr();O(0,"button",12),$e("click",function(){Hi(t);const r=sn().$implicit;return Vi(sn().router.navigateByUrl(r.url))}),X(1,"learn more"),z()}}const yk=function(n){return{fullsize:n}};function jK(n,e){if(1&n&&(O(0,"div",3)(1,"div",4),Re(2,"i"),z(),O(3,"div",5)(4,"span",6)(5,"h3"),X(6),z(),Nn(7,GK,2,0,"button",7),z(),O(8,"div",8),Nn(9,WK,3,1,"p",9),z()(),Nn(10,$K,2,0,"button",10),z()),2&n){const t=e.$implicit,i=sn();we("ngClass",Qt(8,yk,i.one_col)),Me(2),hy("fa ",t.icon," icon-large"),Me(4),Oo(" ",t.title," "),Me(1),we("ngIf",t.url),Me(2),we("ngForOf",t.descriptions),Me(1),we("ngIf",t.url)}}const XK=function(n,e){return{"dark-theme":n,"white-theme":e}};let bk=(()=>{class n{constructor(t,i){this.router=t,this.theme=i,this.name="",this.one_col=!1,this.items=[]}}return n.\u0275fac=function(t){return new(t||n)(H(wn),H(hr))},n.\u0275cmp=Yt({type:n,selectors:[["app-flex-card-box"]],inputs:{name:"name",one_col:"one_col",items:"items"},decls:5,vars:9,consts:[[1,"flexable",3,"ngClass"],["id","flex-container",3,"ngClass"],["class","flexable-item glass",3,"ngClass",4,"ngFor","ngForOf"],[1,"flexable-item","glass",3,"ngClass"],[1,"item-icon"],[1,"item-details"],[1,"item-header-wrapper"],["class","desktop item-ab-btn animated-btn glass",3,"click",4,"ngIf"],[1,"item-description"],[4,"ngFor","ngForOf"],["class","mobile item-ab-btn animated-btn glass",3,"click",4,"ngIf"],[1,"desktop","item-ab-btn","animated-btn","glass",3,"click"],[1,"mobile","item-ab-btn","animated-btn","glass",3,"click"]],template:function(t,i){1&t&&(O(0,"div",0)(1,"h2"),X(2),z(),O(3,"div",1),Nn(4,jK,11,10,"div",2),z()()),2&t&&(we("ngClass",Qt(4,yk,i.one_col)),Me(2),tc(i.name),Me(1),we("ngClass",mi(6,XK,i.theme.is_dark,!i.theme.is_dark)),Me(1),we("ngForOf",i.items))},dependencies:[Ar,Ep,uc],styles:["*[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.fa[_ngcontent-%COMP%]{width:80px;height:80px;min-width:unset;min-height:unset;font-size:46px;text-align:center;text-decoration:none;padding-top:15px;border:none;background-color:unset;box-shadow:none;margin-bottom:5px;border-radius:50%}#flex-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;border-radius:var(--rounded);overflow:hidden;gap:12px}.flexable[_ngcontent-%COMP%]{width:1000px}.flexable-item[_ngcontent-%COMP%]{width:calc(50% - 6px);height:200px;padding:8px 8px 8px 0;display:flex;justify-items:start;flex-direction:row;border-radius:inherit;position:relative}.item-icon[_ngcontent-%COMP%]{width:25%;text-align:center;scale:.9}.item-details[_ngcontent-%COMP%]{width:75%;height:100%;display:flex;flex-direction:column}.item-description[_ngcontent-%COMP%]{font-size:15px;opacity:.75;padding-top:10px;position:relative;display:flex;flex-direction:column;flex:1;gap:5px}.item-description[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0}.item-header-wrapper[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content;display:flex;flex-direction:row;align-items:center;gap:8px}.item-ab-btn[_ngcontent-%COMP%]{height:32px;min-height:unset;font-size:12px;margin-top:8px;box-shadow:none}.mobile.item-ab-btn[_ngcontent-%COMP%]{position:absolute;bottom:8px;left:8px;right:8px}.white-theme[_ngcontent-%COMP%]   .item-ab-btn[_ngcontent-%COMP%]{background-color:var(--alpha-white);border:1px solid var(--alpha-dark)}.dark-theme[_ngcontent-%COMP%]   .item-ab-btn[_ngcontent-%COMP%]{background-color:var(--alpha-dark);border:1px solid var(--alpha-white)}.item-header-wrapper[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{flex:1}h2[_ngcontent-%COMP%]{font-size:25px;font-weight:300;margin-top:0}h3[_ngcontent-%COMP%]{font-size:40px;font-weight:500;margin-top:10px;margin-bottom:0;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;-webkit-mask-image:linear-gradient(to left,transparent,#000 50px,#000);mask-image:linear-gradient(to left,transparent,#000 50px,#000)}.fullsize[_ngcontent-%COMP%]{width:100%}.flexable.fullsize[_ngcontent-%COMP%]{width:800px}#flex-container.white-theme[_ngcontent-%COMP%] > .flexable-item[_ngcontent-%COMP%]{border:1px solid var(--alpha-dark)}#flex-container.dark-theme[_ngcontent-%COMP%] > .flexable-item[_ngcontent-%COMP%]{border:1px solid var(--alpha-white)}.white-theme[_ngcontent-%COMP%]   .clickable-all[_ngcontent-%COMP%]:hover{background-color:var(--little-dark)}.dark-theme[_ngcontent-%COMP%]   .clickable-all[_ngcontent-%COMP%]:hover{background-color:var(--little-white)}.mobile[_ngcontent-%COMP%]{display:none}@media only screen and (max-width: 1200px){.flexable[_ngcontent-%COMP%], .flexable.fullsize[_ngcontent-%COMP%]{width:800px}}@media only screen and (max-width: 900px){.flexable[_ngcontent-%COMP%], .flexable.fullsize[_ngcontent-%COMP%]{width:500px}.flexable-item[_ngcontent-%COMP%]{width:100%;height:150px}h2[_ngcontent-%COMP%]{font-size:20px}h3[_ngcontent-%COMP%]{font-size:28px;margin-top:14px}.item-description[_ngcontent-%COMP%]{font-size:12px}}@media only screen and (max-width: 600px){.flexable[_ngcontent-%COMP%], .flexable.fullsize[_ngcontent-%COMP%]{width:300px}.desktop[_ngcontent-%COMP%]{display:none}.mobile[_ngcontent-%COMP%]{display:block}}"]}),n})();function xk(n){return null!==n&&"object"==typeof n&&"constructor"in n&&n.constructor===Object}function Mx(n,e){void 0===n&&(n={}),void 0===e&&(e={}),Object.keys(e).forEach(function(t){typeof n[t]>"u"?n[t]=e[t]:xk(e[t])&&xk(n[t])&&Object.keys(e[t]).length>0&&Mx(n[t],e[t])})}var wk={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function an(){var n=typeof document<"u"?document:{};return Mx(n,wk),n}var qK={document:wk,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame:function(n){typeof setTimeout>"u"||clearTimeout(n)}};function Vt(){var n=typeof window<"u"?window:{};return Mx(n,qK),n}function Ex(n){return(Ex=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function Qm(n,e){return(Qm=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(n,e)}function eg(n,e,t){return(eg=function KK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(r,s,o){var a=[null];a.push.apply(a,s);var c=new(Function.bind.apply(r,a));return o&&Qm(c,o.prototype),c}).apply(null,arguments)}function Sx(n){var e="function"==typeof Map?new Map:void 0;return Sx=function(i){if(null===i||!function ZK(n){return-1!==Function.toString.call(n).indexOf("[native code]")}(i))return i;if("function"!=typeof i)throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(i))return e.get(i);e.set(i,r)}function r(){return eg(i,arguments,Ex(this).constructor)}return r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Qm(r,i)},Sx(n)}var Ko=function(n){function e(t){var i;return function QK(n){var e=n.__proto__;Object.defineProperty(n,"__proto__",{get:function(){return e},set:function(i){e.__proto__=i}})}(function JK(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(i=n.call.apply(n,[this].concat(t))||this)),i}return function YK(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}(e,n),e}(Sx(Array));function ih(n){void 0===n&&(n=[]);var e=[];return n.forEach(function(t){Array.isArray(t)?e.push.apply(e,ih(t)):e.push(t)}),e}function Mk(n,e){return Array.prototype.filter.call(n,e)}function dt(n,e){var t=Vt(),i=an(),r=[];if(!e&&n instanceof Ko)return n;if(!n)return new Ko(r);if("string"==typeof n){var s=n.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){var o="div";0===s.indexOf("<li")&&(o="ul"),0===s.indexOf("<tr")&&(o="tbody"),(0===s.indexOf("<td")||0===s.indexOf("<th"))&&(o="tr"),0===s.indexOf("<tbody")&&(o="table"),0===s.indexOf("<option")&&(o="select");var a=i.createElement(o);a.innerHTML=s;for(var l=0;l<a.childNodes.length;l+=1)r.push(a.childNodes[l])}else r=function nZ(n,e){if("string"!=typeof n)return[n];for(var t=[],i=e.querySelectorAll(n),r=0;r<i.length;r+=1)t.push(i[r]);return t}(n.trim(),e||i)}else if(n.nodeType||n===t||n===i)r.push(n);else if(Array.isArray(n)){if(n instanceof Ko)return n;r=n}return new Ko(function eZ(n){for(var e=[],t=0;t<n.length;t+=1)-1===e.indexOf(n[t])&&e.push(n[t]);return e}(r))}dt.fn=Ko.prototype;var UZ="resize scroll".split(" ");function Mn(n){return function e(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];if(typeof i[0]>"u"){for(var s=0;s<this.length;s+=1)UZ.indexOf(n)<0&&(n in this[s]?this[s][n]():dt(this[s]).trigger(n));return this}return this.on.apply(this,[n].concat(i))}}Mn("click"),Mn("blur"),Mn("focus"),Mn("focusin"),Mn("focusout"),Mn("keyup"),Mn("keydown"),Mn("keypress"),Mn("submit"),Mn("change"),Mn("mousedown"),Mn("mousemove"),Mn("mouseup"),Mn("mouseenter"),Mn("mouseleave"),Mn("mouseout"),Mn("mouseover"),Mn("touchstart"),Mn("touchend"),Mn("touchmove"),Mn("resize"),Mn("scroll");var Ek={addClass:function iZ(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var i=ih(e.map(function(r){return r.split(" ")}));return this.forEach(function(r){var s;(s=r.classList).add.apply(s,i)}),this},removeClass:function rZ(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var i=ih(e.map(function(r){return r.split(" ")}));return this.forEach(function(r){var s;(s=r.classList).remove.apply(s,i)}),this},hasClass:function oZ(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var i=ih(e.map(function(r){return r.split(" ")}));return Mk(this,function(r){return i.filter(function(s){return r.classList.contains(s)}).length>0}).length>0},toggleClass:function sZ(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var i=ih(e.map(function(r){return r.split(" ")}));this.forEach(function(r){i.forEach(function(s){r.classList.toggle(s)})})},attr:function aZ(n,e){if(1===arguments.length&&"string"==typeof n)return this[0]?this[0].getAttribute(n):void 0;for(var t=0;t<this.length;t+=1)if(2===arguments.length)this[t].setAttribute(n,e);else for(var i in n)this[t][i]=n[i],this[t].setAttribute(i,n[i]);return this},removeAttr:function lZ(n){for(var e=0;e<this.length;e+=1)this[e].removeAttribute(n);return this},transform:function cZ(n){for(var e=0;e<this.length;e+=1)this[e].style.transform=n;return this},transition:function uZ(n){for(var e=0;e<this.length;e+=1)this[e].style.transitionDuration="string"!=typeof n?n+"ms":n;return this},on:function dZ(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var i=e[0],r=e[1],s=e[2],o=e[3];function a(g){var _=g.target;if(_){var m=g.target.dom7EventData||[];if(m.indexOf(g)<0&&m.unshift(g),dt(_).is(r))s.apply(_,m);else for(var y=dt(_).parents(),v=0;v<y.length;v+=1)dt(y[v]).is(r)&&s.apply(y[v],m)}}function l(g){var _=g&&g.target&&g.target.dom7EventData||[];_.indexOf(g)<0&&_.unshift(g),s.apply(this,_)}"function"==typeof e[1]&&(i=e[0],s=e[1],o=e[2],r=void 0),o||(o=!1);for(var u,c=i.split(" "),d=0;d<this.length;d+=1){var h=this[d];if(r)for(u=0;u<c.length;u+=1){var p=c[u];h.dom7LiveListeners||(h.dom7LiveListeners={}),h.dom7LiveListeners[p]||(h.dom7LiveListeners[p]=[]),h.dom7LiveListeners[p].push({listener:s,proxyListener:a}),h.addEventListener(p,a,o)}else for(u=0;u<c.length;u+=1){var f=c[u];h.dom7Listeners||(h.dom7Listeners={}),h.dom7Listeners[f]||(h.dom7Listeners[f]=[]),h.dom7Listeners[f].push({listener:s,proxyListener:l}),h.addEventListener(f,l,o)}}return this},off:function hZ(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var i=e[0],r=e[1],s=e[2],o=e[3];"function"==typeof e[1]&&(i=e[0],s=e[1],o=e[2],r=void 0),o||(o=!1);for(var a=i.split(" "),l=0;l<a.length;l+=1)for(var c=a[l],u=0;u<this.length;u+=1){var d=this[u],h=void 0;if(!r&&d.dom7Listeners?h=d.dom7Listeners[c]:r&&d.dom7LiveListeners&&(h=d.dom7LiveListeners[c]),h&&h.length)for(var f=h.length-1;f>=0;f-=1){var p=h[f];s&&p.listener===s||s&&p.listener&&p.listener.dom7proxy&&p.listener.dom7proxy===s?(d.removeEventListener(c,p.proxyListener,o),h.splice(f,1)):s||(d.removeEventListener(c,p.proxyListener,o),h.splice(f,1))}}return this},trigger:function fZ(){for(var n=Vt(),e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(var r=t[0].split(" "),s=t[1],o=0;o<r.length;o+=1)for(var a=r[o],l=0;l<this.length;l+=1){var c=this[l];if(n.CustomEvent){var u=new n.CustomEvent(a,{detail:s,bubbles:!0,cancelable:!0});c.dom7EventData=t.filter(function(d,h){return h>0}),c.dispatchEvent(u),c.dom7EventData=[],delete c.dom7EventData}}return this},transitionEnd:function pZ(n){var e=this;return n&&e.on("transitionend",function t(i){i.target===this&&(n.call(this,i),e.off("transitionend",t))}),this},outerWidth:function mZ(n){if(this.length>0){if(n){var e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function gZ(n){if(this.length>0){if(n){var e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function vZ(){var n=Vt();return this[0]?n.getComputedStyle(this[0],null):{}},offset:function _Z(){if(this.length>0){var n=Vt(),e=an(),t=this[0],i=t.getBoundingClientRect(),r=e.body;return{top:i.top+(t===n?n.scrollY:t.scrollTop)-(t.clientTop||r.clientTop||0),left:i.left+(t===n?n.scrollX:t.scrollLeft)-(t.clientLeft||r.clientLeft||0)}}return null},css:function yZ(n,e){var i,t=Vt();if(1===arguments.length){if("string"!=typeof n){for(i=0;i<this.length;i+=1)for(var r in n)this[i].style[r]=n[r];return this}if(this[0])return t.getComputedStyle(this[0],null).getPropertyValue(n)}if(2===arguments.length&&"string"==typeof n){for(i=0;i<this.length;i+=1)this[i].style[n]=e;return this}return this},each:function bZ(n){return n?(this.forEach(function(e,t){n.apply(e,[e,t])}),this):this},html:function wZ(n){if(typeof n>"u")return this[0]?this[0].innerHTML:null;for(var e=0;e<this.length;e+=1)this[e].innerHTML=n;return this},text:function MZ(n){if(typeof n>"u")return this[0]?this[0].textContent.trim():null;for(var e=0;e<this.length;e+=1)this[e].textContent=n;return this},is:function EZ(n){var r,s,e=Vt(),t=an(),i=this[0];if(!i||typeof n>"u")return!1;if("string"==typeof n){if(i.matches)return i.matches(n);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(n);if(i.msMatchesSelector)return i.msMatchesSelector(n);for(r=dt(n),s=0;s<r.length;s+=1)if(r[s]===i)return!0;return!1}if(n===t)return i===t;if(n===e)return i===e;if(n.nodeType||n instanceof Ko){for(r=n.nodeType?[n]:n,s=0;s<r.length;s+=1)if(r[s]===i)return!0;return!1}return!1},index:function SZ(){var e,n=this[0];if(n){for(e=0;null!==(n=n.previousSibling);)1===n.nodeType&&(e+=1);return e}},eq:function CZ(n){if(typeof n>"u")return this;var e=this.length;if(n>e-1)return dt([]);if(n<0){var t=e+n;return dt(t<0?[]:[this[t]])}return dt([this[n]])},append:function TZ(){for(var n,e=an(),t=0;t<arguments.length;t+=1){n=t<0||arguments.length<=t?void 0:arguments[t];for(var i=0;i<this.length;i+=1)if("string"==typeof n){var r=e.createElement("div");for(r.innerHTML=n;r.firstChild;)this[i].appendChild(r.firstChild)}else if(n instanceof Ko)for(var s=0;s<n.length;s+=1)this[i].appendChild(n[s]);else this[i].appendChild(n)}return this},prepend:function AZ(n){var t,i,e=an();for(t=0;t<this.length;t+=1)if("string"==typeof n){var r=e.createElement("div");for(r.innerHTML=n,i=r.childNodes.length-1;i>=0;i-=1)this[t].insertBefore(r.childNodes[i],this[t].childNodes[0])}else if(n instanceof Ko)for(i=0;i<n.length;i+=1)this[t].insertBefore(n[i],this[t].childNodes[0]);else this[t].insertBefore(n,this[t].childNodes[0]);return this},next:function DZ(n){return this.length>0?n?this[0].nextElementSibling&&dt(this[0].nextElementSibling).is(n)?dt([this[0].nextElementSibling]):dt([]):dt(this[0].nextElementSibling?[this[0].nextElementSibling]:[]):dt([])},nextAll:function PZ(n){var e=[],t=this[0];if(!t)return dt([]);for(;t.nextElementSibling;){var i=t.nextElementSibling;n?dt(i).is(n)&&e.push(i):e.push(i),t=i}return dt(e)},prev:function IZ(n){if(this.length>0){var e=this[0];return n?e.previousElementSibling&&dt(e.previousElementSibling).is(n)?dt([e.previousElementSibling]):dt([]):dt(e.previousElementSibling?[e.previousElementSibling]:[])}return dt([])},prevAll:function RZ(n){var e=[],t=this[0];if(!t)return dt([]);for(;t.previousElementSibling;){var i=t.previousElementSibling;n?dt(i).is(n)&&e.push(i):e.push(i),t=i}return dt(e)},parent:function OZ(n){for(var e=[],t=0;t<this.length;t+=1)null!==this[t].parentNode&&(n?dt(this[t].parentNode).is(n)&&e.push(this[t].parentNode):e.push(this[t].parentNode));return dt(e)},parents:function kZ(n){for(var e=[],t=0;t<this.length;t+=1)for(var i=this[t].parentNode;i;)n?dt(i).is(n)&&e.push(i):e.push(i),i=i.parentNode;return dt(e)},closest:function LZ(n){var e=this;return typeof n>"u"?dt([]):(e.is(n)||(e=e.parents(n).eq(0)),e)},find:function FZ(n){for(var e=[],t=0;t<this.length;t+=1)for(var i=this[t].querySelectorAll(n),r=0;r<i.length;r+=1)e.push(i[r]);return dt(e)},children:function NZ(n){for(var e=[],t=0;t<this.length;t+=1)for(var i=this[t].children,r=0;r<i.length;r+=1)(!n||dt(i[r]).is(n))&&e.push(i[r]);return dt(e)},filter:function xZ(n){return dt(Mk(this,n))},remove:function BZ(){for(var n=0;n<this.length;n+=1)this[n].parentNode&&this[n].parentNode.removeChild(this[n]);return this}};Object.keys(Ek).forEach(function(n){Object.defineProperty(dt.fn,n,{value:Ek[n],writable:!0})});const Fe=dt;function Zo(n,e){return void 0===e&&(e=0),setTimeout(n,e)}function Yi(){return Date.now()}function Cx(n,e){void 0===e&&(e="x");var i,r,s,t=Vt(),o=function HZ(n){var t,e=Vt();return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}(n);return t.WebKitCSSMatrix?((r=o.transform||o.webkitTransform).split(",").length>6&&(r=r.split(", ").map(function(a){return a.replace(",",".")}).join(", ")),s=new t.WebKitCSSMatrix("none"===r?"":r)):i=(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===e&&(r=t.WebKitCSSMatrix?s.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===e&&(r=t.WebKitCSSMatrix?s.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),r||0}function kc(n){return"object"==typeof n&&null!==n&&n.constructor&&"Object"===Object.prototype.toString.call(n).slice(8,-1)}function VZ(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(1===n.nodeType||11===n.nodeType)}function At(){for(var n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"],t=1;t<arguments.length;t+=1){var i=t<0||arguments.length<=t?void 0:arguments[t];if(null!=i&&!VZ(i))for(var r=Object.keys(Object(i)).filter(function(c){return e.indexOf(c)<0}),s=0,o=r.length;s<o;s+=1){var a=r[s],l=Object.getOwnPropertyDescriptor(i,a);void 0!==l&&l.enumerable&&(kc(n[a])&&kc(i[a])?i[a].__swiper__?n[a]=i[a]:At(n[a],i[a]):!kc(n[a])&&kc(i[a])?(n[a]={},i[a].__swiper__?n[a]=i[a]:At(n[a],i[a])):n[a]=i[a])}}return n}function Gn(n,e){Object.keys(e).forEach(function(t){kc(e[t])&&Object.keys(e[t]).forEach(function(i){"function"==typeof e[t][i]&&(e[t][i]=e[t][i].bind(n))}),n[t]=e[t]})}function ho(n){return void 0===n&&(n=""),"."+n.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}function Tx(n,e,t,i){var r=an();return t&&Object.keys(i).forEach(function(s){if(!e[s]&&!0===e.auto){var o=r.createElement("div");o.className=i[s],n.append(o),e[s]=o}}),e}var Ax,Dx,Px;function Sk(){return Ax||(Ax=function GZ(){var n=Vt(),e=an();return{touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch),pointerEvents:!!n.PointerEvent&&"maxTouchPoints"in n.navigator&&n.navigator.maxTouchPoints>=0,observer:"MutationObserver"in n||"WebkitMutationObserver"in n,passiveListener:function(){var i=!1;try{var r=Object.defineProperty({},"passive",{get:function(){i=!0}});n.addEventListener("testPassiveListener",null,r)}catch{}return i}(),gestures:"ongesturestart"in n}}()),Ax}const YZ={name:"resize",create:function(){var e=this;At(e,{resize:{observer:null,createObserver:function(){!e||e.destroyed||!e.initialized||(e.resize.observer=new ResizeObserver(function(i){var r=e.width,s=e.height,o=r,a=s;i.forEach(function(l){var c=l.contentBoxSize,u=l.contentRect,d=l.target;d&&d!==e.el||(o=u?u.width:(c[0]||c).inlineSize,a=u?u.height:(c[0]||c).blockSize)}),(o!==r||a!==s)&&e.resize.resizeHandler()}),e.resize.observer.observe(e.el))},removeObserver:function(){e.resize.observer&&e.resize.observer.unobserve&&e.el&&(e.resize.observer.unobserve(e.el),e.resize.observer=null)},resizeHandler:function(){!e||e.destroyed||!e.initialized||(e.emit("beforeResize"),e.emit("resize"))},orientationChangeHandler:function(){!e||e.destroyed||!e.initialized||e.emit("orientationchange")}}})},on:{init:function(e){var t=Vt();e.params.resizeObserver&&typeof Vt().ResizeObserver<"u"?e.resize.createObserver():(t.addEventListener("resize",e.resize.resizeHandler),t.addEventListener("orientationchange",e.resize.orientationChangeHandler))},destroy:function(e){var t=Vt();e.resize.removeObserver(),t.removeEventListener("resize",e.resize.resizeHandler),t.removeEventListener("orientationchange",e.resize.orientationChangeHandler)}}};function Ix(){return Ix=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ix.apply(this,arguments)}var KZ={attach:function(e,t){void 0===t&&(t={});var i=Vt(),r=this,o=new(i.MutationObserver||i.WebkitMutationObserver)(function(a){if(1!==a.length){var l=function(){r.emit("observerUpdate",a[0])};i.requestAnimationFrame?i.requestAnimationFrame(l):i.setTimeout(l,0)}else r.emit("observerUpdate",a[0])});o.observe(e,{attributes:typeof t.attributes>"u"||t.attributes,childList:typeof t.childList>"u"||t.childList,characterData:typeof t.characterData>"u"||t.characterData}),r.observer.observers.push(o)},init:function(){var e=this;if(e.support.observer&&e.params.observer){if(e.params.observeParents)for(var t=e.$el.parents(),i=0;i<t.length;i+=1)e.observer.attach(t[i]);e.observer.attach(e.$el[0],{childList:e.params.observeSlideChildren}),e.observer.attach(e.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach(function(t){t.disconnect()}),this.observer.observers=[]}};const ZZ={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){Gn(this,{observer:Ix({},KZ,{observers:[]})})},on:{init:function(e){e.observer.init()},destroy:function(e){e.observer.destroy()}}};function VJ(n){var e=this,t=an(),i=Vt(),r=e.touchEventsData,s=e.params,o=e.touches;if(e.enabled&&(!e.animating||!s.preventInteractionOnTransition)){var l=n;l.originalEvent&&(l=l.originalEvent);var c=Fe(l.target);if(("wrapper"!==s.touchEventsTarget||c.closest(e.wrapperEl).length)&&(r.isTouchEvent="touchstart"===l.type,(r.isTouchEvent||!("which"in l)||3!==l.which)&&!(!r.isTouchEvent&&"button"in l&&l.button>0)&&(!r.isTouched||!r.isMoved))){s.noSwipingClass&&""!==s.noSwipingClass&&l.target&&l.target.shadowRoot&&n.path&&n.path[0]&&(c=Fe(n.path[0]));var d=s.noSwipingSelector?s.noSwipingSelector:"."+s.noSwipingClass;if(s.noSwiping&&(l.target&&l.target.shadowRoot?function HJ(n,e){return void 0===e&&(e=this),function t(i){return i&&i!==an()&&i!==Vt()?(i.assignedSlot&&(i=i.assignedSlot),i.closest(n)||t(i.getRootNode().host)):null}(e)}(d,l.target):c.closest(d)[0]))return void(e.allowClick=!0);if(!s.swipeHandler||c.closest(s.swipeHandler)[0]){o.currentX="touchstart"===l.type?l.targetTouches[0].pageX:l.pageX,o.currentY="touchstart"===l.type?l.targetTouches[0].pageY:l.pageY;var f=o.currentX,p=o.currentY,g=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,_=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(g&&(f<=_||f>=i.innerWidth-_)){if("prevent"!==g)return;n.preventDefault()}if(At(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=f,o.startY=p,r.touchStartTime=Yi(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1),"touchstart"!==l.type){var m=!0;c.is(r.focusableElements)&&(m=!1),t.activeElement&&Fe(t.activeElement).is(r.focusableElements)&&t.activeElement!==c[0]&&t.activeElement.blur(),(s.touchStartForcePreventDefault||m&&e.allowTouchMove&&s.touchStartPreventDefault)&&!c[0].isContentEditable&&l.preventDefault()}e.emit("touchStart",l)}}}}function GJ(n){var e=an(),t=this,i=t.touchEventsData,r=t.params,s=t.touches,o=t.rtlTranslate;if(t.enabled){var l=n;if(l.originalEvent&&(l=l.originalEvent),!i.isTouched)return void(i.startMoving&&i.isScrolling&&t.emit("touchMoveOpposite",l));if(!i.isTouchEvent||"touchmove"===l.type){var c="touchmove"===l.type&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),u="touchmove"===l.type?c.pageX:l.pageX,d="touchmove"===l.type?c.pageY:l.pageY;if(l.preventedByNestedSwiper)return s.startX=u,void(s.startY=d);if(!t.allowTouchMove)return t.allowClick=!1,void(i.isTouched&&(At(s,{startX:u,startY:d,currentX:u,currentY:d}),i.touchStartTime=Yi()));if(i.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop)if(t.isVertical()){if(d<s.startY&&t.translate<=t.maxTranslate()||d>s.startY&&t.translate>=t.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(u<s.startX&&t.translate<=t.maxTranslate()||u>s.startX&&t.translate>=t.minTranslate())return;if(i.isTouchEvent&&e.activeElement&&l.target===e.activeElement&&Fe(l.target).is(i.focusableElements))return i.isMoved=!0,void(t.allowClick=!1);if(i.allowTouchCallbacks&&t.emit("touchMove",l),!(l.targetTouches&&l.targetTouches.length>1)){s.currentX=u,s.currentY=d;var h=s.currentX-s.startX,f=s.currentY-s.startY;if(!(t.params.threshold&&Math.sqrt(Math.pow(h,2)+Math.pow(f,2))<t.params.threshold)){var p;if(typeof i.isScrolling>"u"&&(t.isHorizontal()&&s.currentY===s.startY||t.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:h*h+f*f>=25&&(p=180*Math.atan2(Math.abs(f),Math.abs(h))/Math.PI,i.isScrolling=t.isHorizontal()?p>r.touchAngle:90-p>r.touchAngle)),i.isScrolling&&t.emit("touchMoveOpposite",l),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling)return void(i.isTouched=!1);if(i.startMoving){t.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation(),i.isMoved||(r.loop&&t.loopFix(),i.startTranslate=t.getTranslate(),t.setTransition(0),t.animating&&t.$wrapperEl.trigger("webkitTransitionEnd transitionend"),i.allowMomentumBounce=!1,r.grabCursor&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",l)),t.emit("sliderMove",l),i.isMoved=!0;var g=t.isHorizontal()?h:f;s.diff=g,g*=r.touchRatio,o&&(g=-g),t.swipeDirection=g>0?"prev":"next",i.currentTranslate=g+i.startTranslate;var _=!0,m=r.resistanceRatio;if(r.touchReleaseOnEdges&&(m=0),g>0&&i.currentTranslate>t.minTranslate()?(_=!1,r.resistance&&(i.currentTranslate=t.minTranslate()-1+Math.pow(-t.minTranslate()+i.startTranslate+g,m))):g<0&&i.currentTranslate<t.maxTranslate()&&(_=!1,r.resistance&&(i.currentTranslate=t.maxTranslate()+1-Math.pow(t.maxTranslate()-i.startTranslate-g,m))),_&&(l.preventedByNestedSwiper=!0),!t.allowSlideNext&&"next"===t.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&"prev"===t.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0){if(!(Math.abs(g)>r.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,void(s.diff=t.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY)}!r.followFinger||r.cssMode||((r.freeMode||r.watchSlidesProgress||r.watchSlidesVisibility)&&(t.updateActiveIndex(),t.updateSlidesClasses()),r.freeMode&&(0===i.velocities.length&&i.velocities.push({position:s[t.isHorizontal()?"startX":"startY"],time:i.touchStartTime}),i.velocities.push({position:s[t.isHorizontal()?"currentX":"currentY"],time:Yi()})),t.updateProgress(i.currentTranslate),t.setTranslate(i.currentTranslate))}}}}}}function WJ(n){var e=this,t=e.touchEventsData,i=e.params,r=e.touches,s=e.rtlTranslate,o=e.$wrapperEl,a=e.slidesGrid,l=e.snapGrid;if(e.enabled){var u=n;if(u.originalEvent&&(u=u.originalEvent),t.allowTouchCallbacks&&e.emit("touchEnd",u),t.allowTouchCallbacks=!1,!t.isTouched)return t.isMoved&&i.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,void(t.startMoving=!1);i.grabCursor&&t.isMoved&&t.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);var f,d=Yi(),h=d-t.touchStartTime;if(e.allowClick&&(e.updateClickedSlide(u),e.emit("tap click",u),h<300&&d-t.lastClickTime<300&&e.emit("doubleTap doubleClick",u)),t.lastClickTime=Yi(),Zo(function(){e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||0===r.diff||t.currentTranslate===t.startTranslate)return t.isTouched=!1,t.isMoved=!1,void(t.startMoving=!1);if(t.isTouched=!1,t.isMoved=!1,t.startMoving=!1,f=i.followFinger?s?e.translate:-e.translate:-t.currentTranslate,!i.cssMode){if(i.freeMode){if(f<-e.minTranslate())return void e.slideTo(e.activeIndex);if(f>-e.maxTranslate())return void e.slideTo(e.slides.length<l.length?l.length-1:e.slides.length-1);if(i.freeModeMomentum){if(t.velocities.length>1){var p=t.velocities.pop(),g=t.velocities.pop(),m=p.time-g.time;e.velocity=(p.position-g.position)/m,e.velocity/=2,Math.abs(e.velocity)<i.freeModeMinimumVelocity&&(e.velocity=0),(m>150||Yi()-p.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=i.freeModeMomentumVelocityRatio,t.velocities.length=0;var y=1e3*i.freeModeMomentumRatio,b=e.translate+e.velocity*y;s&&(b=-b);var M,C,x=!1,S=20*Math.abs(e.velocity)*i.freeModeMomentumBounceRatio;if(b<e.maxTranslate())i.freeModeMomentumBounce?(b+e.maxTranslate()<-S&&(b=e.maxTranslate()-S),M=e.maxTranslate(),x=!0,t.allowMomentumBounce=!0):b=e.maxTranslate(),i.loop&&i.centeredSlides&&(C=!0);else if(b>e.minTranslate())i.freeModeMomentumBounce?(b-e.minTranslate()>S&&(b=e.minTranslate()+S),M=e.minTranslate(),x=!0,t.allowMomentumBounce=!0):b=e.minTranslate(),i.loop&&i.centeredSlides&&(C=!0);else if(i.freeModeSticky){for(var w,E=0;E<l.length;E+=1)if(l[E]>-b){w=E;break}b=-(b=Math.abs(l[w]-b)<Math.abs(l[w-1]-b)||"next"===e.swipeDirection?l[w]:l[w-1])}if(C&&e.once("transitionEnd",function(){e.loopFix()}),0!==e.velocity){if(y=s?Math.abs((-b-e.translate)/e.velocity):Math.abs((b-e.translate)/e.velocity),i.freeModeSticky){var L=Math.abs((s?-b:b)-e.translate),V=e.slidesSizesGrid[e.activeIndex];y=L<V?i.speed:L<2*V?1.5*i.speed:2.5*i.speed}}else if(i.freeModeSticky)return void e.slideToClosest();i.freeModeMomentumBounce&&x?(e.updateProgress(M),e.setTransition(y),e.setTranslate(b),e.transitionStart(!0,e.swipeDirection),e.animating=!0,o.transitionEnd(function(){!e||e.destroyed||!t.allowMomentumBounce||(e.emit("momentumBounce"),e.setTransition(i.speed),setTimeout(function(){e.setTranslate(M),o.transitionEnd(function(){!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(e.updateProgress(b),e.setTransition(y),e.setTranslate(b),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,o.transitionEnd(function(){!e||e.destroyed||e.transitionEnd()}))):(e.emit("_freeModeNoMomentumRelease"),e.updateProgress(b)),e.updateActiveIndex(),e.updateSlidesClasses()}else{if(i.freeModeSticky)return void e.slideToClosest();i.freeMode&&e.emit("_freeModeNoMomentumRelease")}return void((!i.freeModeMomentum||h>=i.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses()))}for(var I=0,N=e.slidesSizesGrid[0],U=0;U<a.length;U+=U<i.slidesPerGroupSkip?1:i.slidesPerGroup){var F=U<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;typeof a[U+F]<"u"?f>=a[U]&&f<a[U+F]&&(I=U,N=a[U+F]-a[U]):f>=a[U]&&(I=U,N=a[a.length-1]-a[a.length-2])}var G=(f-a[I])/N,W=I<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(h>i.longSwipesMs){if(!i.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&e.slideTo(G>=i.longSwipesRatio?I+W:I),"prev"===e.swipeDirection&&e.slideTo(G>1-i.longSwipesRatio?I+W:I)}else{if(!i.shortSwipes)return void e.slideTo(e.activeIndex);!e.navigation||u.target!==e.navigation.nextEl&&u.target!==e.navigation.prevEl?("next"===e.swipeDirection&&e.slideTo(I+W),"prev"===e.swipeDirection&&e.slideTo(I)):e.slideTo(u.target===e.navigation.nextEl?I+W:I)}}}}function Rx(){var n=this,e=n.params,t=n.el;if(!t||0!==t.offsetWidth){e.breakpoints&&n.setBreakpoint();var i=n.allowSlideNext,r=n.allowSlidePrev,s=n.snapGrid;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses(),n.slideTo(("auto"===e.slidesPerView||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides?n.slides.length-1:n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.run(),n.allowSlidePrev=r,n.allowSlideNext=i,n.params.watchOverflow&&s!==n.snapGrid&&n.checkOverflow()}}function $J(n){var e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function jJ(){var n=this,e=n.wrapperEl,t=n.rtlTranslate;if(n.enabled){n.previousTranslate=n.translate,n.translate=n.isHorizontal()?t?e.scrollWidth-e.offsetWidth-e.scrollLeft:-e.scrollLeft:-e.scrollTop,-0===n.translate&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();var s=n.maxTranslate()-n.minTranslate();(0===s?0:(n.translate-n.minTranslate())/s)!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}}var Ck=!1;function XJ(){}const Tk={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!1,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,slidesPerGroupSkip:0,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function Ak(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}var Ox={modular:{useParams:function(e){var t=this;t.modules&&Object.keys(t.modules).forEach(function(i){var r=t.modules[i];r.params&&At(e,r.params)})},useModules:function(e){void 0===e&&(e={});var t=this;t.modules&&Object.keys(t.modules).forEach(function(i){var r=t.modules[i],s=e[i]||{};r.on&&t.on&&Object.keys(r.on).forEach(function(o){t.on(o,r.on[o])}),r.create&&r.create.bind(t)(s)})}},eventsEmitter:{on:function(e,t,i){var r=this;if("function"!=typeof t)return r;var s=i?"unshift":"push";return e.split(" ").forEach(function(o){r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][s](t)}),r},once:function(e,t,i){var r=this;if("function"!=typeof t)return r;function s(){r.off(e,s),s.__emitterProxy&&delete s.__emitterProxy;for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];t.apply(r,a)}return s.__emitterProxy=t,r.on(e,s,i)},onAny:function(e,t){var i=this;if("function"!=typeof e)return i;var r=t?"unshift":"push";return i.eventsAnyListeners.indexOf(e)<0&&i.eventsAnyListeners[r](e),i},offAny:function(e){var t=this;if(!t.eventsAnyListeners)return t;var i=t.eventsAnyListeners.indexOf(e);return i>=0&&t.eventsAnyListeners.splice(i,1),t},off:function(e,t){var i=this;return i.eventsListeners&&e.split(" ").forEach(function(r){typeof t>"u"?i.eventsListeners[r]=[]:i.eventsListeners[r]&&i.eventsListeners[r].forEach(function(s,o){(s===t||s.__emitterProxy&&s.__emitterProxy===t)&&i.eventsListeners[r].splice(o,1)})}),i},emit:function(){var e=this;if(!e.eventsListeners)return e;for(var t,i,r,s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return"string"==typeof o[0]||Array.isArray(o[0])?(t=o[0],i=o.slice(1,o.length),r=e):(t=o[0].events,i=o[0].data,r=o[0].context||e),i.unshift(r),(Array.isArray(t)?t:t.split(" ")).forEach(function(c){e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(function(u){u.apply(r,[c].concat(i))}),e.eventsListeners&&e.eventsListeners[c]&&e.eventsListeners[c].forEach(function(u){u.apply(r,i)})}),e}},update:{updateSize:function eJ(){var e,t,n=this,i=n.$el;t=typeof n.params.height<"u"&&null!==n.params.height?n.params.height:i[0].clientHeight,!(0===(e=typeof n.params.width<"u"&&null!==n.params.width?n.params.width:i[0].clientWidth)&&n.isHorizontal()||0===t&&n.isVertical())&&(e=e-parseInt(i.css("padding-left")||0,10)-parseInt(i.css("padding-right")||0,10),t=t-parseInt(i.css("padding-top")||0,10)-parseInt(i.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),At(n,{width:e,height:t,size:n.isHorizontal()?e:t}))},updateSlides:function tJ(){var n=this;function e(oe){return n.isHorizontal()?oe:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[oe]}function t(oe,fe){return parseFloat(oe.getPropertyValue(e(fe))||0)}var i=n.params,r=n.$wrapperEl,s=n.size,o=n.rtlTranslate,a=n.wrongRTL,l=n.virtual&&i.virtual.enabled,c=l?n.virtual.slides.length:n.slides.length,u=r.children("."+n.params.slideClass),d=l?n.virtual.slides.length:u.length,h=[],f=[],p=[],g=i.slidesOffsetBefore;"function"==typeof g&&(g=i.slidesOffsetBefore.call(n));var _=i.slidesOffsetAfter;"function"==typeof _&&(_=i.slidesOffsetAfter.call(n));var m=n.snapGrid.length,y=n.slidesGrid.length,v=i.spaceBetween,b=-g,x=0,M=0;if(!(typeof s>"u")){var S,le,te,de;"string"==typeof v&&v.indexOf("%")>=0&&(v=parseFloat(v.replace("%",""))/100*s),n.virtualSize=-v,u.css(o?{marginLeft:"",marginBottom:"",marginTop:""}:{marginRight:"",marginBottom:"",marginTop:""}),i.slidesPerColumn>1&&(S=Math.floor(d/i.slidesPerColumn)===d/n.params.slidesPerColumn?d:Math.ceil(d/i.slidesPerColumn)*i.slidesPerColumn,"auto"!==i.slidesPerView&&"row"===i.slidesPerColumnFill&&(S=Math.max(S,i.slidesPerView*i.slidesPerColumn)));for(var C,w=i.slidesPerColumn,E=S/w,L=Math.floor(d/i.slidesPerColumn),V=0;V<d;V+=1){C=0;var I=u.eq(V);if(i.slidesPerColumn>1){var N=void 0,U=void 0,F=void 0;if("row"===i.slidesPerColumnFill&&i.slidesPerGroup>1){var G=Math.floor(V/(i.slidesPerGroup*i.slidesPerColumn)),W=V-i.slidesPerColumn*i.slidesPerGroup*G,q=0===G?i.slidesPerGroup:Math.min(Math.ceil((d-G*w*i.slidesPerGroup)/w),i.slidesPerGroup);F=Math.floor(W/q),I.css({"-webkit-box-ordinal-group":N=(U=W-F*q+G*i.slidesPerGroup)+F*S/w,"-moz-box-ordinal-group":N,"-ms-flex-order":N,"-webkit-order":N,order:N})}else"column"===i.slidesPerColumnFill?(F=V-(U=Math.floor(V/w))*w,(U>L||U===L&&F===w-1)&&(F+=1)>=w&&(F=0,U+=1)):U=V-(F=Math.floor(V/E))*E;I.css(e("margin-top"),0!==F?i.spaceBetween&&i.spaceBetween+"px":"")}if("none"!==I.css("display")){if("auto"===i.slidesPerView){var ee=getComputedStyle(I[0]),be=I[0].style.transform,ge=I[0].style.webkitTransform;if(be&&(I[0].style.transform="none"),ge&&(I[0].style.webkitTransform="none"),i.roundLengths)C=n.isHorizontal()?I.outerWidth(!0):I.outerHeight(!0);else{var K=t(ee,"width"),J=t(ee,"padding-left"),_e=t(ee,"padding-right"),ye=t(ee,"margin-left"),R=t(ee,"margin-right"),Ue=ee.getPropertyValue("box-sizing");if(Ue&&"border-box"===Ue)C=K+ye+R;else{var Oe=I[0];C=K+J+_e+ye+R+(Oe.offsetWidth-Oe.clientWidth)}}be&&(I[0].style.transform=be),ge&&(I[0].style.webkitTransform=ge),i.roundLengths&&(C=Math.floor(C))}else C=(s-(i.slidesPerView-1)*v)/i.slidesPerView,i.roundLengths&&(C=Math.floor(C)),u[V]&&(u[V].style[e("width")]=C+"px");u[V]&&(u[V].swiperSlideSize=C),p.push(C),i.centeredSlides?(b=b+C/2+x/2+v,0===x&&0!==V&&(b=b-s/2-v),0===V&&(b=b-s/2-v),Math.abs(b)<.001&&(b=0),i.roundLengths&&(b=Math.floor(b)),M%i.slidesPerGroup==0&&h.push(b),f.push(b)):(i.roundLengths&&(b=Math.floor(b)),(M-Math.min(n.params.slidesPerGroupSkip,M))%n.params.slidesPerGroup==0&&h.push(b),f.push(b),b=b+C+v),n.virtualSize+=C+v,x=C,M+=1}}if(n.virtualSize=Math.max(n.virtualSize,s)+_,o&&a&&("slide"===i.effect||"coverflow"===i.effect)&&r.css({width:n.virtualSize+i.spaceBetween+"px"}),i.setWrapperSize&&r.css(((te={})[e("width")]=n.virtualSize+i.spaceBetween+"px",te)),i.slidesPerColumn>1&&(n.virtualSize=(C+i.spaceBetween)*S,n.virtualSize=Math.ceil(n.virtualSize/i.slidesPerColumn)-i.spaceBetween,r.css(((de={})[e("width")]=n.virtualSize+i.spaceBetween+"px",de)),i.centeredSlides)){le=[];for(var Pe=0;Pe<h.length;Pe+=1){var xe=h[Pe];i.roundLengths&&(xe=Math.floor(xe)),h[Pe]<n.virtualSize+h[0]&&le.push(xe)}h=le}if(!i.centeredSlides){le=[];for(var je=0;je<h.length;je+=1){var Ye=h[je];i.roundLengths&&(Ye=Math.floor(Ye)),h[je]<=n.virtualSize-s&&le.push(Ye)}h=le,Math.floor(n.virtualSize-s)-Math.floor(h[h.length-1])>1&&h.push(n.virtualSize-s)}if(0===h.length&&(h=[0]),0!==i.spaceBetween){var Ge,ht=n.isHorizontal()&&o?"marginLeft":e("marginRight");u.filter(function(oe,fe){return!i.cssMode||fe!==u.length-1}).css(((Ge={})[ht]=v+"px",Ge))}if(i.centeredSlides&&i.centeredSlidesBounds){var St=0;p.forEach(function(oe){St+=oe+(i.spaceBetween?i.spaceBetween:0)});var P=(St-=i.spaceBetween)-s;h=h.map(function(oe){return oe<0?-g:oe>P?P+_:oe})}if(i.centerInsufficientSlides){var T=0;if(p.forEach(function(oe){T+=oe+(i.spaceBetween?i.spaceBetween:0)}),(T-=i.spaceBetween)<s){var Z=(s-T)/2;h.forEach(function(oe,fe){h[fe]=oe-Z}),f.forEach(function(oe,fe){f[fe]=oe+Z})}}At(n,{slides:u,snapGrid:h,slidesGrid:f,slidesSizesGrid:p}),d!==c&&n.emit("slidesLengthChange"),h.length!==m&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),f.length!==y&&n.emit("slidesGridLengthChange"),(i.watchSlidesProgress||i.watchSlidesVisibility)&&n.updateSlidesOffset()}},updateAutoHeight:function nJ(n){var s,e=this,t=[],i=e.virtual&&e.params.virtual.enabled,r=0;"number"==typeof n?e.setTransition(n):!0===n&&e.setTransition(e.params.speed);var o=function(u){return i?e.slides.filter(function(d){return parseInt(d.getAttribute("data-swiper-slide-index"),10)===u})[0]:e.slides.eq(u)[0]};if("auto"!==e.params.slidesPerView&&e.params.slidesPerView>1)if(e.params.centeredSlides)e.visibleSlides.each(function(c){t.push(c)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){var a=e.activeIndex+s;if(a>e.slides.length&&!i)break;t.push(o(a))}else t.push(o(e.activeIndex));for(s=0;s<t.length;s+=1)if(typeof t[s]<"u"){var l=t[s].offsetHeight;r=l>r?l:r}r&&e.$wrapperEl.css("height",r+"px")},updateSlidesOffset:function iJ(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function rJ(n){void 0===n&&(n=this&&this.translate||0);var e=this,t=e.params,i=e.slides,r=e.rtlTranslate;if(0!==i.length){typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();var s=-n;r&&(s=n),i.removeClass(t.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(var o=0;o<i.length;o+=1){var a=i[o],l=(s+(t.centeredSlides?e.minTranslate():0)-a.swiperSlideOffset)/(a.swiperSlideSize+t.spaceBetween);if(t.watchSlidesVisibility||t.centeredSlides&&t.autoHeight){var c=-(s-a.swiperSlideOffset),u=c+e.slidesSizesGrid[o];(c>=0&&c<e.size-1||u>1&&u<=e.size||c<=0&&u>=e.size)&&(e.visibleSlides.push(a),e.visibleSlidesIndexes.push(o),i.eq(o).addClass(t.slideVisibleClass))}a.progress=r?-l:l}e.visibleSlides=Fe(e.visibleSlides)}},updateProgress:function sJ(n){var e=this;typeof n>"u"&&(n=e&&e.translate&&e.translate*(e.rtlTranslate?-1:1)||0);var i=e.params,r=e.maxTranslate()-e.minTranslate(),s=e.progress,o=e.isBeginning,a=e.isEnd,l=o,c=a;0===r?(s=0,o=!0,a=!0):(o=(s=(n-e.minTranslate())/r)<=0,a=s>=1),At(e,{progress:s,isBeginning:o,isEnd:a}),(i.watchSlidesProgress||i.watchSlidesVisibility||i.centeredSlides&&i.autoHeight)&&e.updateSlidesProgress(n),o&&!l&&e.emit("reachBeginning toEdge"),a&&!c&&e.emit("reachEnd toEdge"),(l&&!o||c&&!a)&&e.emit("fromEdge"),e.emit("progress",s)},updateSlidesClasses:function oJ(){var a,n=this,e=n.slides,t=n.params,i=n.$wrapperEl,r=n.activeIndex,s=n.realIndex,o=n.virtual&&t.virtual.enabled;e.removeClass(t.slideActiveClass+" "+t.slideNextClass+" "+t.slidePrevClass+" "+t.slideDuplicateActiveClass+" "+t.slideDuplicateNextClass+" "+t.slideDuplicatePrevClass),(a=o?n.$wrapperEl.find("."+t.slideClass+'[data-swiper-slide-index="'+r+'"]'):e.eq(r)).addClass(t.slideActiveClass),t.loop&&(a.hasClass(t.slideDuplicateClass)?i.children("."+t.slideClass+":not(."+t.slideDuplicateClass+')[data-swiper-slide-index="'+s+'"]').addClass(t.slideDuplicateActiveClass):i.children("."+t.slideClass+"."+t.slideDuplicateClass+'[data-swiper-slide-index="'+s+'"]').addClass(t.slideDuplicateActiveClass));var l=a.nextAll("."+t.slideClass).eq(0).addClass(t.slideNextClass);t.loop&&0===l.length&&(l=e.eq(0)).addClass(t.slideNextClass);var c=a.prevAll("."+t.slideClass).eq(0).addClass(t.slidePrevClass);t.loop&&0===c.length&&(c=e.eq(-1)).addClass(t.slidePrevClass),t.loop&&(l.hasClass(t.slideDuplicateClass)?i.children("."+t.slideClass+":not(."+t.slideDuplicateClass+')[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(t.slideDuplicateNextClass):i.children("."+t.slideClass+"."+t.slideDuplicateClass+'[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(t.slideDuplicateNextClass),c.hasClass(t.slideDuplicateClass)?i.children("."+t.slideClass+":not(."+t.slideDuplicateClass+')[data-swiper-slide-index="'+c.attr("data-swiper-slide-index")+'"]').addClass(t.slideDuplicatePrevClass):i.children("."+t.slideClass+"."+t.slideDuplicateClass+'[data-swiper-slide-index="'+c.attr("data-swiper-slide-index")+'"]').addClass(t.slideDuplicatePrevClass)),n.emitSlidesClasses()},updateActiveIndex:function aJ(n){var u,e=this,t=e.rtlTranslate?e.translate:-e.translate,i=e.slidesGrid,r=e.snapGrid,s=e.params,o=e.activeIndex,a=e.realIndex,l=e.snapIndex,c=n;if(typeof c>"u"){for(var d=0;d<i.length;d+=1)typeof i[d+1]<"u"?t>=i[d]&&t<i[d+1]-(i[d+1]-i[d])/2?c=d:t>=i[d]&&t<i[d+1]&&(c=d+1):t>=i[d]&&(c=d);s.normalizeSlideIndex&&(c<0||typeof c>"u")&&(c=0)}if(r.indexOf(t)>=0)u=r.indexOf(t);else{var h=Math.min(s.slidesPerGroupSkip,c);u=h+Math.floor((c-h)/s.slidesPerGroup)}if(u>=r.length&&(u=r.length-1),c!==o){var f=parseInt(e.slides.eq(c).attr("data-swiper-slide-index")||c,10);At(e,{snapIndex:u,realIndex:f,previousIndex:o,activeIndex:c}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),a!==f&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}else u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"))},updateClickedSlide:function lJ(n){var s,e=this,t=e.params,i=Fe(n.target).closest("."+t.slideClass)[0],r=!1;if(i)for(var o=0;o<e.slides.length;o+=1)if(e.slides[o]===i){r=!0,s=o;break}if(!i||!r)return e.clickedSlide=void 0,void(e.clickedIndex=void 0);e.clickedSlide=i,e.clickedIndex=e.virtual&&e.params.virtual.enabled?parseInt(Fe(i).attr("data-swiper-slide-index"),10):s,t.slideToClickedSlide&&void 0!==e.clickedIndex&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}},translate:{getTranslate:function uJ(n){void 0===n&&(n=this.isHorizontal()?"x":"y");var e=this,t=e.params,i=e.rtlTranslate,r=e.translate;if(t.virtualTranslate)return i?-r:r;if(t.cssMode)return r;var o=Cx(e.$wrapperEl[0],n);return i&&(o=-o),o||0},setTranslate:function dJ(n,e){var t=this,i=t.rtlTranslate,r=t.params,s=t.$wrapperEl,o=t.wrapperEl,a=t.progress,l=0,c=0;t.isHorizontal()?l=i?-n:n:c=n,r.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),r.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-l:-c:r.virtualTranslate||s.transform("translate3d("+l+"px, "+c+"px, 0px)"),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?l:c;var h=t.maxTranslate()-t.minTranslate();(0===h?0:(n-t.minTranslate())/h)!==a&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)},minTranslate:function hJ(){return-this.snapGrid[0]},maxTranslate:function fJ(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function pJ(n,e,t,i,r){void 0===n&&(n=0),void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===i&&(i=!0);var s=this,o=s.params,a=s.wrapperEl;if(s.animating&&o.preventInteractionOnTransition)return!1;var u,l=s.minTranslate(),c=s.maxTranslate();if(s.updateProgress(u=i&&n>l?l:i&&n<c?c:n),o.cssMode){var d=s.isHorizontal();if(0===e)a[d?"scrollLeft":"scrollTop"]=-u;else if(a.scrollTo){var h;a.scrollTo(((h={})[d?"left":"top"]=-u,h.behavior="smooth",h))}else a[d?"scrollLeft":"scrollTop"]=-u;return!0}return 0===e?(s.setTransition(0),s.setTranslate(u),t&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(u),t&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(p){!s||s.destroyed||p.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,t&&s.emit("transitionEnd"))}),s.$wrapperEl[0].addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function gJ(n,e){var t=this;t.params.cssMode||t.$wrapperEl.transition(n),t.emit("setTransition",n,e)},transitionStart:function _J(n,e){void 0===n&&(n=!0);var t=this,i=t.activeIndex,r=t.params,s=t.previousIndex;if(!r.cssMode){r.autoHeight&&t.updateAutoHeight();var o=e;if(o||(o=i>s?"next":i<s?"prev":"reset"),t.emit("transitionStart"),n&&i!==s){if("reset"===o)return void t.emit("slideResetTransitionStart");t.emit("slideChangeTransitionStart"),t.emit("next"===o?"slideNextTransitionStart":"slidePrevTransitionStart")}}},transitionEnd:function vJ(n,e){void 0===n&&(n=!0);var t=this,i=t.activeIndex,r=t.previousIndex,s=t.params;if(t.animating=!1,!s.cssMode){t.setTransition(0);var o=e;if(o||(o=i>r?"next":i<r?"prev":"reset"),t.emit("transitionEnd"),n&&i!==r){if("reset"===o)return void t.emit("slideResetTransitionEnd");t.emit("slideChangeTransitionEnd"),t.emit("next"===o?"slideNextTransitionEnd":"slidePrevTransitionEnd")}}}},slide:{slideTo:function bJ(n,e,t,i,r){if(void 0===n&&(n=0),void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),"number"!=typeof n&&"string"!=typeof n)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. ["+typeof n+"] given.");if("string"==typeof n){var s=parseInt(n,10);if(!isFinite(s))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. ["+n+"] given.");n=s}var a=this,l=n;l<0&&(l=0);var c=a.params,u=a.snapGrid,d=a.slidesGrid,h=a.previousIndex,f=a.activeIndex,p=a.rtlTranslate,g=a.wrapperEl;if(a.animating&&c.preventInteractionOnTransition||!a.enabled&&!i&&!r)return!1;var m=Math.min(a.params.slidesPerGroupSkip,l),y=m+Math.floor((l-m)/a.params.slidesPerGroup);y>=u.length&&(y=u.length-1),(f||c.initialSlide||0)===(h||0)&&t&&a.emit("beforeSlideChangeStart");var C,v=-u[y];if(a.updateProgress(v),c.normalizeSlideIndex)for(var b=0;b<d.length;b+=1){var x=-Math.floor(100*v),M=Math.floor(100*d[b]),S=Math.floor(100*d[b+1]);typeof d[b+1]<"u"?x>=M&&x<S-(S-M)/2?l=b:x>=M&&x<S&&(l=b+1):x>=M&&(l=b)}if(a.initialized&&l!==f&&(!a.allowSlideNext&&v<a.translate&&v<a.minTranslate()||!a.allowSlidePrev&&v>a.translate&&v>a.maxTranslate()&&(f||0)!==l))return!1;if(C=l>f?"next":l<f?"prev":"reset",p&&-v===a.translate||!p&&v===a.translate)return a.updateActiveIndex(l),c.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),"slide"!==c.effect&&a.setTranslate(v),"reset"!==C&&(a.transitionStart(t,C),a.transitionEnd(t,C)),!1;if(c.cssMode){var w=a.isHorizontal(),E=-v;if(p&&(E=g.scrollWidth-g.offsetWidth-E),0===e)g[w?"scrollLeft":"scrollTop"]=E;else if(g.scrollTo){var L;g.scrollTo(((L={})[w?"left":"top"]=E,L.behavior="smooth",L))}else g[w?"scrollLeft":"scrollTop"]=E;return!0}return 0===e?(a.setTransition(0),a.setTranslate(v),a.updateActiveIndex(l),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,i),a.transitionStart(t,C),a.transitionEnd(t,C)):(a.setTransition(e),a.setTranslate(v),a.updateActiveIndex(l),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,i),a.transitionStart(t,C),a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(I){!a||a.destroyed||I.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(t,C))}),a.$wrapperEl[0].addEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd))),!0},slideToLoop:function xJ(n,e,t,i){void 0===n&&(n=0),void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var r=this,s=n;return r.params.loop&&(s+=r.loopedSlides),r.slideTo(s,e,t,i)},slideNext:function wJ(n,e,t){void 0===n&&(n=this.params.speed),void 0===e&&(e=!0);var i=this,r=i.params;if(!i.enabled)return i;var a=i.activeIndex<r.slidesPerGroupSkip?1:r.slidesPerGroup;if(r.loop){if(i.animating&&r.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}return i.slideTo(i.activeIndex+a,n,e,t)},slidePrev:function MJ(n,e,t){void 0===n&&(n=this.params.speed),void 0===e&&(e=!0);var i=this,r=i.params,o=i.snapGrid,a=i.slidesGrid,l=i.rtlTranslate;if(!i.enabled)return i;if(r.loop){if(i.animating&&r.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}function d(_){return _<0?-Math.floor(Math.abs(_)):Math.floor(_)}var g,h=d(l?i.translate:-i.translate),f=o.map(function(_){return d(_)}),p=o[f.indexOf(h)-1];return typeof p>"u"&&r.cssMode&&o.forEach(function(_){!p&&h>=_&&(p=_)}),typeof p<"u"&&(g=a.indexOf(p))<0&&(g=i.activeIndex-1),i.slideTo(g,n,e,t)},slideReset:function EJ(n,e,t){return void 0===n&&(n=this.params.speed),void 0===e&&(e=!0),this.slideTo(this.activeIndex,n,e,t)},slideToClosest:function SJ(n,e,t,i){void 0===n&&(n=this.params.speed),void 0===e&&(e=!0),void 0===i&&(i=.5);var r=this,s=r.activeIndex,o=Math.min(r.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[a]){var c=r.snapGrid[a];l-c>(r.snapGrid[a+1]-c)*i&&(s+=r.params.slidesPerGroup)}else{var d=r.snapGrid[a-1];l-d<=(r.snapGrid[a]-d)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,n,e,t)},slideToClickedSlide:function CJ(){var s,n=this,e=n.params,t=n.$wrapperEl,i="auto"===e.slidesPerView?n.slidesPerViewDynamic():e.slidesPerView,r=n.clickedIndex;if(e.loop){if(n.animating)return;s=parseInt(Fe(n.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?r<n.loopedSlides-i/2||r>n.slides.length-n.loopedSlides+i/2?(n.loopFix(),r=t.children("."+e.slideClass+'[data-swiper-slide-index="'+s+'"]:not(.'+e.slideDuplicateClass+")").eq(0).index(),Zo(function(){n.slideTo(r)})):n.slideTo(r):r>n.slides.length-i?(n.loopFix(),r=t.children("."+e.slideClass+'[data-swiper-slide-index="'+s+'"]:not(.'+e.slideDuplicateClass+")").eq(0).index(),Zo(function(){n.slideTo(r)})):n.slideTo(r)}else n.slideTo(r)}},loop:{loopCreate:function AJ(){var n=this,e=an(),t=n.params,i=n.$wrapperEl;i.children("."+t.slideClass+"."+t.slideDuplicateClass).remove();var r=i.children("."+t.slideClass);if(t.loopFillGroupWithBlank){var s=t.slidesPerGroup-r.length%t.slidesPerGroup;if(s!==t.slidesPerGroup){for(var o=0;o<s;o+=1){var a=Fe(e.createElement("div")).addClass(t.slideClass+" "+t.slideBlankClass);i.append(a)}r=i.children("."+t.slideClass)}}"auto"===t.slidesPerView&&!t.loopedSlides&&(t.loopedSlides=r.length),n.loopedSlides=Math.ceil(parseFloat(t.loopedSlides||t.slidesPerView,10)),n.loopedSlides+=t.loopAdditionalSlides,n.loopedSlides>r.length&&(n.loopedSlides=r.length);var l=[],c=[];r.each(function(h,f){var p=Fe(h);f<n.loopedSlides&&c.push(h),f<r.length&&f>=r.length-n.loopedSlides&&l.push(h),p.attr("data-swiper-slide-index",f)});for(var u=0;u<c.length;u+=1)i.append(Fe(c[u].cloneNode(!0)).addClass(t.slideDuplicateClass));for(var d=l.length-1;d>=0;d-=1)i.prepend(Fe(l[d].cloneNode(!0)).addClass(t.slideDuplicateClass))},loopFix:function DJ(){var n=this;n.emit("beforeLoopFix");var l,e=n.activeIndex,t=n.slides,i=n.loopedSlides,r=n.allowSlidePrev,s=n.allowSlideNext,o=n.snapGrid,a=n.rtlTranslate;n.allowSlidePrev=!0,n.allowSlideNext=!0;var u=-o[e]-n.getTranslate();e<i?(l=t.length-3*i+e,n.slideTo(l+=i,0,!1,!0)&&0!==u&&n.setTranslate((a?-n.translate:n.translate)-u)):e>=t.length-i&&(l=-t.length+e+i,n.slideTo(l+=i,0,!1,!0)&&0!==u&&n.setTranslate((a?-n.translate:n.translate)-u)),n.allowSlidePrev=r,n.allowSlideNext=s,n.emit("loopFix")},loopDestroy:function PJ(){var n=this,t=n.params,i=n.slides;n.$wrapperEl.children("."+t.slideClass+"."+t.slideDuplicateClass+",."+t.slideClass+"."+t.slideBlankClass).remove(),i.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function RJ(n){var e=this;if(!(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)){var t=e.el;t.style.cursor="move",t.style.cursor=n?"-webkit-grabbing":"-webkit-grab",t.style.cursor=n?"-moz-grabbin":"-moz-grab",t.style.cursor=n?"grabbing":"grab"}},unsetGrabCursor:function OJ(){var n=this;n.support.touch||n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.el.style.cursor="")}},manipulation:{appendSlide:function LJ(n){var e=this,t=e.$wrapperEl,i=e.params;if(i.loop&&e.loopDestroy(),"object"==typeof n&&"length"in n)for(var r=0;r<n.length;r+=1)n[r]&&t.append(n[r]);else t.append(n);i.loop&&e.loopCreate(),i.observer&&e.support.observer||e.update()},prependSlide:function FJ(n){var e=this,t=e.params,i=e.$wrapperEl,r=e.activeIndex;t.loop&&e.loopDestroy();var s=r+1;if("object"==typeof n&&"length"in n){for(var o=0;o<n.length;o+=1)n[o]&&i.prepend(n[o]);s=r+n.length}else i.prepend(n);t.loop&&e.loopCreate(),t.observer&&e.support.observer||e.update(),e.slideTo(s,0,!1)},addSlide:function NJ(n,e){var t=this,i=t.$wrapperEl,r=t.params,o=t.activeIndex;r.loop&&(o-=t.loopedSlides,t.loopDestroy(),t.slides=i.children("."+r.slideClass));var a=t.slides.length;if(n<=0)t.prependSlide(e);else if(n>=a)t.appendSlide(e);else{for(var l=o>n?o+1:o,c=[],u=a-1;u>=n;u-=1){var d=t.slides.eq(u);d.remove(),c.unshift(d)}if("object"==typeof e&&"length"in e){for(var h=0;h<e.length;h+=1)e[h]&&i.append(e[h]);l=o>n?o+e.length:o}else i.append(e);for(var f=0;f<c.length;f+=1)i.append(c[f]);r.loop&&t.loopCreate(),r.observer&&t.support.observer||t.update(),t.slideTo(r.loop?l+t.loopedSlides:l,0,!1)}},removeSlide:function BJ(n){var e=this,t=e.params,i=e.$wrapperEl,s=e.activeIndex;t.loop&&(s-=e.loopedSlides,e.loopDestroy(),e.slides=i.children("."+t.slideClass));var a,o=s;if("object"==typeof n&&"length"in n){for(var l=0;l<n.length;l+=1)e.slides[a=n[l]]&&e.slides.eq(a).remove(),a<o&&(o-=1);o=Math.max(o,0)}else e.slides[a=n]&&e.slides.eq(a).remove(),a<o&&(o-=1),o=Math.max(o,0);t.loop&&e.loopCreate(),t.observer&&e.support.observer||e.update(),e.slideTo(t.loop?o+e.loopedSlides:o,0,!1)},removeAllSlides:function UJ(){for(var e=[],t=0;t<this.slides.length;t+=1)e.push(t);this.removeSlide(e)}},events:{attachEvents:function qJ(){var n=this,e=an(),t=n.params,i=n.touchEvents,r=n.el,s=n.wrapperEl,o=n.device,a=n.support;n.onTouchStart=VJ.bind(n),n.onTouchMove=GJ.bind(n),n.onTouchEnd=WJ.bind(n),t.cssMode&&(n.onScroll=jJ.bind(n)),n.onClick=$J.bind(n);var l=!!t.nested;if(!a.touch&&a.pointerEvents)r.addEventListener(i.start,n.onTouchStart,!1),e.addEventListener(i.move,n.onTouchMove,l),e.addEventListener(i.end,n.onTouchEnd,!1);else{if(a.touch){var c=!("touchstart"!==i.start||!a.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1};r.addEventListener(i.start,n.onTouchStart,c),r.addEventListener(i.move,n.onTouchMove,a.passiveListener?{passive:!1,capture:l}:l),r.addEventListener(i.end,n.onTouchEnd,c),i.cancel&&r.addEventListener(i.cancel,n.onTouchEnd,c),Ck||(e.addEventListener("touchstart",XJ),Ck=!0)}(t.simulateTouch&&!o.ios&&!o.android||t.simulateTouch&&!a.touch&&o.ios)&&(r.addEventListener("mousedown",n.onTouchStart,!1),e.addEventListener("mousemove",n.onTouchMove,l),e.addEventListener("mouseup",n.onTouchEnd,!1))}(t.preventClicks||t.preventClicksPropagation)&&r.addEventListener("click",n.onClick,!0),t.cssMode&&s.addEventListener("scroll",n.onScroll),n.on(t.updateOnWindowResize?o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",Rx,!0)},detachEvents:function YJ(){var n=this,e=an(),t=n.params,i=n.touchEvents,r=n.el,s=n.wrapperEl,o=n.device,a=n.support,l=!!t.nested;if(!a.touch&&a.pointerEvents)r.removeEventListener(i.start,n.onTouchStart,!1),e.removeEventListener(i.move,n.onTouchMove,l),e.removeEventListener(i.end,n.onTouchEnd,!1);else{if(a.touch){var c=!("onTouchStart"!==i.start||!a.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1};r.removeEventListener(i.start,n.onTouchStart,c),r.removeEventListener(i.move,n.onTouchMove,l),r.removeEventListener(i.end,n.onTouchEnd,c),i.cancel&&r.removeEventListener(i.cancel,n.onTouchEnd,c)}(t.simulateTouch&&!o.ios&&!o.android||t.simulateTouch&&!a.touch&&o.ios)&&(r.removeEventListener("mousedown",n.onTouchStart,!1),e.removeEventListener("mousemove",n.onTouchMove,l),e.removeEventListener("mouseup",n.onTouchEnd,!1))}(t.preventClicks||t.preventClicksPropagation)&&r.removeEventListener("click",n.onClick,!0),t.cssMode&&s.removeEventListener("scroll",n.onScroll),n.off(o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",Rx)}},breakpoints:{setBreakpoint:function ZJ(){var n=this,e=n.activeIndex,t=n.initialized,i=n.loopedSlides,r=void 0===i?0:i,s=n.params,o=n.$el,a=s.breakpoints;if(a&&(!a||0!==Object.keys(a).length)){var l=n.getBreakpoint(a,n.params.breakpointsBase,n.el);if(l&&n.currentBreakpoint!==l){var c=l in a?a[l]:void 0;c&&["slidesPerView","spaceBetween","slidesPerGroup","slidesPerGroupSkip","slidesPerColumn"].forEach(function(m){var y=c[m];typeof y>"u"||(c[m]="slidesPerView"!==m||"AUTO"!==y&&"auto"!==y?"slidesPerView"===m?parseFloat(y):parseInt(y,10):"auto")});var u=c||n.originalParams,d=s.slidesPerColumn>1,h=u.slidesPerColumn>1,f=s.enabled;d&&!h?(o.removeClass(s.containerModifierClass+"multirow "+s.containerModifierClass+"multirow-column"),n.emitContainerClasses()):!d&&h&&(o.addClass(s.containerModifierClass+"multirow"),(u.slidesPerColumnFill&&"column"===u.slidesPerColumnFill||!u.slidesPerColumnFill&&"column"===s.slidesPerColumnFill)&&o.addClass(s.containerModifierClass+"multirow-column"),n.emitContainerClasses());var p=u.direction&&u.direction!==s.direction,g=s.loop&&(u.slidesPerView!==s.slidesPerView||p);p&&t&&n.changeDirection(),At(n.params,u);var _=n.params.enabled;At(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),f&&!_?n.disable():!f&&_&&n.enable(),n.currentBreakpoint=l,n.emit("_beforeBreakpoint",u),g&&t&&(n.loopDestroy(),n.loopCreate(),n.updateSlides(),n.slideTo(e-r+n.loopedSlides,0,!1)),n.emit("breakpoint",u)}}},getBreakpoint:function JJ(n,e,t){if(void 0===e&&(e="window"),n&&("container"!==e||t)){var i=!1,r=Vt(),s="window"===e?r.innerHeight:t.clientHeight,o=Object.keys(n).map(function(d){if("string"==typeof d&&0===d.indexOf("@")){var h=parseFloat(d.substr(1));return{value:s*h,point:d}}return{value:d,point:d}});o.sort(function(d,h){return parseInt(d.value,10)-parseInt(h.value,10)});for(var a=0;a<o.length;a+=1){var l=o[a],c=l.point,u=l.value;"window"===e?r.matchMedia("(min-width: "+u+"px)").matches&&(i=c):u<=t.clientWidth&&(i=c)}return i||"max"}}},checkOverflow:{checkOverflow:function aQ(){var n=this,e=n.params,t=n.isLocked,i=n.slides.length>0&&e.slidesOffsetBefore+e.spaceBetween*(n.slides.length-1)+n.slides[0].offsetWidth*n.slides.length;n.isLocked=e.slidesOffsetBefore&&e.slidesOffsetAfter&&i?i<=n.size:1===n.snapGrid.length,n.allowSlideNext=!n.isLocked,n.allowSlidePrev=!n.isLocked,t!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock"),t&&t!==n.isLocked&&(n.isEnd=!1,n.navigation&&n.navigation.update())}},classes:{addClasses:function tQ(){var n=this,e=n.classNames,t=n.params,r=n.$el,s=n.device,o=n.support,a=function eQ(n,e){var t=[];return n.forEach(function(i){"object"==typeof i?Object.keys(i).forEach(function(r){i[r]&&t.push(e+r)}):"string"==typeof i&&t.push(e+i)}),t}(["initialized",t.direction,{"pointer-events":o.pointerEvents&&!o.touch},{"free-mode":t.freeMode},{autoheight:t.autoHeight},{rtl:n.rtl},{multirow:t.slidesPerColumn>1},{"multirow-column":t.slidesPerColumn>1&&"column"===t.slidesPerColumnFill},{android:s.android},{ios:s.ios},{"css-mode":t.cssMode}],t.containerModifierClass);e.push.apply(e,a),r.addClass([].concat(e).join(" ")),n.emitContainerClasses()},removeClasses:function nQ(){var n=this;n.$el.removeClass(n.classNames.join(" ")),n.emitContainerClasses()}},images:{loadImage:function rQ(n,e,t,i,r,s){var a,o=Vt();function l(){s&&s()}Fe(n).parent("picture")[0]||n.complete&&r||!e?l():((a=new o.Image).onload=l,a.onerror=l,i&&(a.sizes=i),t&&(a.srcset=t),e&&(a.src=e))},preloadImages:function sQ(){var n=this;function e(){typeof n>"u"||null===n||!n||n.destroyed||(void 0!==n.imagesLoaded&&(n.imagesLoaded+=1),n.imagesLoaded===n.imagesToLoad.length&&(n.params.updateOnImagesReady&&n.update(),n.emit("imagesReady")))}n.imagesToLoad=n.$el.find("img");for(var t=0;t<n.imagesToLoad.length;t+=1){var i=n.imagesToLoad[t];n.loadImage(i,i.currentSrc||i.getAttribute("src"),i.srcset||i.getAttribute("srcset"),i.sizes||i.getAttribute("sizes"),!0,e)}}}},kx={},Lx=function(){function n(){for(var t,i,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];if(1===s.length&&s[0].constructor&&"Object"===Object.prototype.toString.call(s[0]).slice(8,-1)?i=s[0]:(t=s[0],i=s[1]),i||(i={}),i=At({},i),t&&!i.el&&(i.el=t),i.el&&Fe(i.el).length>1){var a=[];return Fe(i.el).each(function(u){var d=At({},i,{el:u});a.push(new n(d))}),a}var l=this;l.__swiper__=!0,l.support=Sk(),l.device=function $Z(n){return void 0===n&&(n={}),Dx||(Dx=function WZ(n){var t=(void 0===n?{}:n).userAgent,i=Sk(),r=Vt(),s=r.navigator.platform,o=t||r.navigator.userAgent,a={ios:!1,android:!1},l=r.screen.width,c=r.screen.height,u=o.match(/(Android);?[\s\/]+([\d.]+)?/),d=o.match(/(iPad).*OS\s([\d_]+)/),h=o.match(/(iPod)(.*OS\s([\d_]+))?/),f=!d&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p="Win32"===s,g="MacIntel"===s;return!d&&g&&i.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(l+"x"+c)>=0&&((d=o.match(/(Version)\/([\d.]+)/))||(d=[0,1,"13_0_0"]),g=!1),u&&!p&&(a.os="android",a.android=!0),(d||f||h)&&(a.os="ios",a.ios=!0),a}(n)),Dx}({userAgent:i.userAgent}),l.browser=function XZ(){return Px||(Px=function jZ(){var n=Vt();return{isEdge:!!n.navigator.userAgent.match(/Edge/g),isSafari:function e(){var t=n.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent)}}()),Px}(),l.eventsListeners={},l.eventsAnyListeners=[],typeof l.modules>"u"&&(l.modules={}),Object.keys(l.modules).forEach(function(u){var d=l.modules[u];if(d.params){var h=Object.keys(d.params)[0],f=d.params[h];if("object"!=typeof f||null===f||(["navigation","pagination","scrollbar"].indexOf(h)>=0&&!0===i[h]&&(i[h]={auto:!0}),!(h in i)||!("enabled"in f)))return;!0===i[h]&&(i[h]={enabled:!0}),"object"==typeof i[h]&&!("enabled"in i[h])&&(i[h].enabled=!0),i[h]||(i[h]={enabled:!1})}});var d,h,c=At({},Tk);return l.useParams(c),l.params=At({},c,kx,i),l.originalParams=At({},l.params),l.passedParams=At({},i),l.params&&l.params.on&&Object.keys(l.params.on).forEach(function(u){l.on(u,l.params.on[u])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),l.$=Fe,At(l,{enabled:l.params.enabled,el:t,classNames:[],slides:Fe(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===l.params.direction},isVertical:function(){return"vertical"===l.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEvents:(d=["touchstart","touchmove","touchend","touchcancel"],h=["mousedown","mousemove","mouseup"],l.support.pointerEvents&&(h=["pointerdown","pointermove","pointerup"]),l.touchEventsTouch={start:d[0],move:d[1],end:d[2],cancel:d[3]},l.touchEventsDesktop={start:h[0],move:h[1],end:h[2]},l.support.touch||!l.params.simulateTouch?l.touchEventsTouch:l.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:Yi(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.useModules(),l.emit("_swiper"),l.params.init&&l.init(),l}var e=n.prototype;return e.enable=function(){var i=this;i.enabled||(i.enabled=!0,i.params.grabCursor&&i.setGrabCursor(),i.emit("enable"))},e.disable=function(){var i=this;i.enabled&&(i.enabled=!1,i.params.grabCursor&&i.unsetGrabCursor(),i.emit("disable"))},e.setProgress=function(i,r){var s=this;i=Math.min(Math.max(i,0),1);var o=s.minTranslate(),a=s.maxTranslate();s.translateTo((a-o)*i+o,typeof r>"u"?0:r),s.updateActiveIndex(),s.updateSlidesClasses()},e.emitContainerClasses=function(){var i=this;if(i.params._emitClasses&&i.el){var r=i.el.className.split(" ").filter(function(s){return 0===s.indexOf("swiper-container")||0===s.indexOf(i.params.containerModifierClass)});i.emit("_containerClasses",r.join(" "))}},e.getSlideClasses=function(i){var r=this;return i.className.split(" ").filter(function(s){return 0===s.indexOf("swiper-slide")||0===s.indexOf(r.params.slideClass)}).join(" ")},e.emitSlidesClasses=function(){var i=this;if(i.params._emitClasses&&i.el){var r=[];i.slides.each(function(s){var o=i.getSlideClasses(s);r.push({slideEl:s,classNames:o}),i.emit("_slideClass",s,o)}),i.emit("_slideClasses",r)}},e.slidesPerViewDynamic=function(){var i=this,s=i.slides,o=i.slidesGrid,a=i.size,l=i.activeIndex,c=1;if(i.params.centeredSlides){for(var d,u=s[l].swiperSlideSize,h=l+1;h<s.length;h+=1)s[h]&&!d&&(c+=1,(u+=s[h].swiperSlideSize)>a&&(d=!0));for(var f=l-1;f>=0;f-=1)s[f]&&!d&&(c+=1,(u+=s[f].swiperSlideSize)>a&&(d=!0))}else for(var p=l+1;p<s.length;p+=1)o[p]-o[l]<a&&(c+=1);return c},e.update=function(){var i=this;if(i&&!i.destroyed){var r=i.snapGrid,s=i.params;s.breakpoints&&i.setBreakpoint(),i.updateSize(),i.updateSlides(),i.updateProgress(),i.updateSlidesClasses(),i.params.freeMode?(o(),i.params.autoHeight&&i.updateAutoHeight()):i.slideTo(("auto"===i.params.slidesPerView||i.params.slidesPerView>1)&&i.isEnd&&!i.params.centeredSlides?i.slides.length-1:i.activeIndex,0,!1,!0)||o(),s.watchOverflow&&r!==i.snapGrid&&i.checkOverflow(),i.emit("update")}function o(){var c=Math.min(Math.max(i.rtlTranslate?-1*i.translate:i.translate,i.maxTranslate()),i.minTranslate());i.setTranslate(c),i.updateActiveIndex(),i.updateSlidesClasses()}},e.changeDirection=function(i,r){void 0===r&&(r=!0);var s=this,o=s.params.direction;return i||(i="horizontal"===o?"vertical":"horizontal"),i===o||"horizontal"!==i&&"vertical"!==i||(s.$el.removeClass(""+s.params.containerModifierClass+o).addClass(""+s.params.containerModifierClass+i),s.emitContainerClasses(),s.params.direction=i,s.slides.each(function(a){"vertical"===i?a.style.width="":a.style.height=""}),s.emit("changeDirection"),r&&s.update()),s},e.mount=function(i){var r=this;if(r.mounted)return!0;var s=Fe(i||r.params.el);if(!(i=s[0]))return!1;i.swiper=r;var o=function(){return"."+(r.params.wrapperClass||"").trim().split(" ").join(".")},l=function(){if(i&&i.shadowRoot&&i.shadowRoot.querySelector){var h=Fe(i.shadowRoot.querySelector(o()));return h.children=function(f){return s.children(f)},h}return s.children(o())}();if(0===l.length&&r.params.createElements){var u=an().createElement("div");l=Fe(u),u.className=r.params.wrapperClass,s.append(u),s.children("."+r.params.slideClass).each(function(d){l.append(d)})}return At(r,{$el:s,el:i,$wrapperEl:l,wrapperEl:l[0],mounted:!0,rtl:"rtl"===i.dir.toLowerCase()||"rtl"===s.css("direction"),rtlTranslate:"horizontal"===r.params.direction&&("rtl"===i.dir.toLowerCase()||"rtl"===s.css("direction")),wrongRTL:"-webkit-box"===l.css("display")}),!0},e.init=function(i){var r=this;return r.initialized||!1===r.mount(i)||(r.emit("beforeInit"),r.params.breakpoints&&r.setBreakpoint(),r.addClasses(),r.params.loop&&r.loopCreate(),r.updateSize(),r.updateSlides(),r.params.watchOverflow&&r.checkOverflow(),r.params.grabCursor&&r.enabled&&r.setGrabCursor(),r.params.preloadImages&&r.preloadImages(),r.slideTo(r.params.loop?r.params.initialSlide+r.loopedSlides:r.params.initialSlide,0,r.params.runCallbacksOnInit,!1,!0),r.attachEvents(),r.initialized=!0,r.emit("init"),r.emit("afterInit")),r},e.destroy=function(i,r){void 0===i&&(i=!0),void 0===r&&(r=!0);var s=this,o=s.params,a=s.$el,l=s.$wrapperEl,c=s.slides;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),o.loop&&s.loopDestroy(),r&&(s.removeClasses(),a.removeAttr("style"),l.removeAttr("style"),c&&c.length&&c.removeClass([o.slideVisibleClass,o.slideActiveClass,o.slideNextClass,o.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(function(u){s.off(u)}),!1!==i&&(s.$el[0].swiper=null,function zZ(n){var e=n;Object.keys(e).forEach(function(t){try{e[t]=null}catch{}try{delete e[t]}catch{}})}(s)),s.destroyed=!0),null},n.extendDefaults=function(i){At(kx,i)},n.installModule=function(i){n.prototype.modules||(n.prototype.modules={});var r=i.name||Object.keys(n.prototype.modules).length+"_"+Yi();n.prototype.modules[r]=i},n.use=function(i){return Array.isArray(i)?(i.forEach(function(r){return n.installModule(r)}),n):(n.installModule(i),n)},function cQ(n,e,t){e&&Ak(n.prototype,e),t&&Ak(n,t)}(n,null,[{key:"extendedDefaults",get:function(){return kx}},{key:"defaults",get:function(){return Tk}}]),n}();Object.keys(Ox).forEach(function(n){Object.keys(Ox[n]).forEach(function(e){Lx.prototype[e]=Ox[n][e]})}),Lx.use([YZ,ZZ]);const Dk=Lx;function Fx(){return Fx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Fx.apply(this,arguments)}var uQ={update:function(e){var t=this,i=t.params,r=i.slidesPerView,s=i.slidesPerGroup,o=i.centeredSlides,a=t.params.virtual,l=a.addSlidesBefore,c=a.addSlidesAfter,u=t.virtual,d=u.from,h=u.to,f=u.slides,p=u.slidesGrid,g=u.renderSlide,_=u.offset;t.updateActiveIndex();var y,v,b,m=t.activeIndex||0;y=t.rtlTranslate?"right":t.isHorizontal()?"left":"top",o?(v=Math.floor(r/2)+s+c,b=Math.floor(r/2)+s+l):(v=r+(s-1)+c,b=s+l);var x=Math.max((m||0)-b,0),M=Math.min((m||0)+v,f.length-1),S=(t.slidesGrid[x]||0)-(t.slidesGrid[0]||0);function C(){t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load()}if(At(t.virtual,{from:x,to:M,offset:S,slidesGrid:t.slidesGrid}),d===x&&h===M&&!e)return t.slidesGrid!==p&&S!==_&&t.slides.css(y,S+"px"),void t.updateProgress();if(t.params.virtual.renderExternal)return t.params.virtual.renderExternal.call(t,{offset:S,from:x,to:M,slides:function(){for(var N=[],U=x;U<=M;U+=1)N.push(f[U]);return N}()}),void(t.params.virtual.renderExternalUpdate&&C());var w=[],E=[];if(e)t.$wrapperEl.find("."+t.params.slideClass).remove();else for(var L=d;L<=h;L+=1)(L<x||L>M)&&t.$wrapperEl.find("."+t.params.slideClass+'[data-swiper-slide-index="'+L+'"]').remove();for(var V=0;V<f.length;V+=1)V>=x&&V<=M&&(typeof h>"u"||e?E.push(V):(V>h&&E.push(V),V<d&&w.push(V)));E.forEach(function(I){t.$wrapperEl.append(g(f[I],I))}),w.sort(function(I,N){return N-I}).forEach(function(I){t.$wrapperEl.prepend(g(f[I],I))}),t.$wrapperEl.children(".swiper-slide").css(y,S+"px"),C()},renderSlide:function(e,t){var i=this,r=i.params.virtual;if(r.cache&&i.virtual.cache[t])return i.virtual.cache[t];var s=Fe(r.renderSlide?r.renderSlide.call(i,e,t):'<div class="'+i.params.slideClass+'" data-swiper-slide-index="'+t+'">'+e+"</div>");return s.attr("data-swiper-slide-index")||s.attr("data-swiper-slide-index",t),r.cache&&(i.virtual.cache[t]=s),s},appendSlide:function(e){var t=this;if("object"==typeof e&&"length"in e)for(var i=0;i<e.length;i+=1)e[i]&&t.virtual.slides.push(e[i]);else t.virtual.slides.push(e);t.virtual.update(!0)},prependSlide:function(e){var t=this,i=t.activeIndex,r=i+1,s=1;if(Array.isArray(e)){for(var o=0;o<e.length;o+=1)e[o]&&t.virtual.slides.unshift(e[o]);r=i+e.length,s=e.length}else t.virtual.slides.unshift(e);if(t.params.virtual.cache){var a=t.virtual.cache,l={};Object.keys(a).forEach(function(c){var u=a[c],d=u.attr("data-swiper-slide-index");d&&u.attr("data-swiper-slide-index",parseInt(d,10)+1),l[parseInt(c,10)+s]=u}),t.virtual.cache=l}t.virtual.update(!0),t.slideTo(r,0)},removeSlide:function(e){var t=this;if(!(typeof e>"u"||null===e)){var i=t.activeIndex;if(Array.isArray(e))for(var r=e.length-1;r>=0;r-=1)t.virtual.slides.splice(e[r],1),t.params.virtual.cache&&delete t.virtual.cache[e[r]],e[r]<i&&(i-=1),i=Math.max(i,0);else t.virtual.slides.splice(e,1),t.params.virtual.cache&&delete t.virtual.cache[e],e<i&&(i-=1),i=Math.max(i,0);t.virtual.update(!0),t.slideTo(i,0)}},removeAllSlides:function(){var e=this;e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),e.virtual.update(!0),e.slideTo(0,0)}};const dQ={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}},create:function(){Gn(this,{virtual:Fx({},uQ,{slides:this.params.virtual.slides,cache:{}})})},on:{beforeInit:function(e){if(e.params.virtual.enabled){e.classNames.push(e.params.containerModifierClass+"virtual");var t={watchSlidesProgress:!0};At(e.params,t),At(e.originalParams,t),e.params.initialSlide||e.virtual.update()}},setTranslate:function(e){e.params.virtual.enabled&&e.virtual.update()}}};function Nx(){return Nx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Nx.apply(this,arguments)}var hQ={handle:function(e){var t=this;if(t.enabled){var i=Vt(),r=an(),s=t.rtlTranslate,o=e;o.originalEvent&&(o=o.originalEvent);var a=o.keyCode||o.charCode,l=t.params.keyboard.pageUpDown,c=l&&33===a,u=l&&34===a,d=37===a,h=39===a,f=38===a,p=40===a;if(!t.allowSlideNext&&(t.isHorizontal()&&h||t.isVertical()&&p||u)||!t.allowSlidePrev&&(t.isHorizontal()&&d||t.isVertical()&&f||c))return!1;if(!(o.shiftKey||o.altKey||o.ctrlKey||o.metaKey||r.activeElement&&r.activeElement.nodeName&&("input"===r.activeElement.nodeName.toLowerCase()||"textarea"===r.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(c||u||d||h||f||p)){var g=!1;if(t.$el.parents("."+t.params.slideClass).length>0&&0===t.$el.parents("."+t.params.slideActiveClass).length)return;var _=t.$el,m=_[0].clientWidth,y=_[0].clientHeight,v=i.innerWidth,b=i.innerHeight,x=t.$el.offset();s&&(x.left-=t.$el[0].scrollLeft);for(var M=[[x.left,x.top],[x.left+m,x.top],[x.left,x.top+y],[x.left+m,x.top+y]],S=0;S<M.length;S+=1){var C=M[S];if(C[0]>=0&&C[0]<=v&&C[1]>=0&&C[1]<=b){if(0===C[0]&&0===C[1])continue;g=!0}}if(!g)return}t.isHorizontal()?((c||u||d||h)&&(o.preventDefault?o.preventDefault():o.returnValue=!1),((u||h)&&!s||(c||d)&&s)&&t.slideNext(),((c||d)&&!s||(u||h)&&s)&&t.slidePrev()):((c||u||f||p)&&(o.preventDefault?o.preventDefault():o.returnValue=!1),(u||p)&&t.slideNext(),(c||f)&&t.slidePrev()),t.emit("keyPress",a)}}},enable:function(){var e=this,t=an();e.keyboard.enabled||(Fe(t).on("keydown",e.keyboard.handle),e.keyboard.enabled=!0)},disable:function(){var e=this,t=an();e.keyboard.enabled&&(Fe(t).off("keydown",e.keyboard.handle),e.keyboard.enabled=!1)}};const fQ={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}},create:function(){Gn(this,{keyboard:Nx({enabled:!1},hQ)})},on:{init:function(e){e.params.keyboard.enabled&&e.keyboard.enable()},destroy:function(e){e.keyboard.enabled&&e.keyboard.disable()}}};var Ss={lastScrollTime:Yi(),lastEventBeforeSnap:void 0,recentWheelEvents:[],event:function(){return Vt().navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":function pQ(){var n=an(),e="onwheel",t=e in n;if(!t){var i=n.createElement("div");i.setAttribute(e,"return;"),t="function"==typeof i[e]}return!t&&n.implementation&&n.implementation.hasFeature&&!0!==n.implementation.hasFeature("","")&&(t=n.implementation.hasFeature("Events.wheel","3.0")),t}()?"wheel":"mousewheel"},normalize:function(e){var s=0,o=0,a=0,l=0;return"detail"in e&&(o=e.detail),"wheelDelta"in e&&(o=-e.wheelDelta/120),"wheelDeltaY"in e&&(o=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(s=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(s=o,o=0),a=10*s,l=10*o,"deltaY"in e&&(l=e.deltaY),"deltaX"in e&&(a=e.deltaX),e.shiftKey&&!a&&(a=l,l=0),(a||l)&&e.deltaMode&&(1===e.deltaMode?(a*=40,l*=40):(a*=800,l*=800)),a&&!s&&(s=a<1?-1:1),l&&!o&&(o=l<1?-1:1),{spinX:s,spinY:o,pixelX:a,pixelY:l}},handleMouseEnter:function(){this.enabled&&(this.mouseEntered=!0)},handleMouseLeave:function(){this.enabled&&(this.mouseEntered=!1)},handle:function(e){var t=e,r=this;if(r.enabled){var s=r.params.mousewheel;r.params.cssMode&&t.preventDefault();var o=r.$el;if("container"!==r.params.mousewheel.eventsTarget&&(o=Fe(r.params.mousewheel.eventsTarget)),!r.mouseEntered&&!o[0].contains(t.target)&&!s.releaseOnEdges)return!0;t.originalEvent&&(t=t.originalEvent);var a=0,l=r.rtlTranslate?-1:1,c=Ss.normalize(t);if(s.forceToAxis)if(r.isHorizontal()){if(!(Math.abs(c.pixelX)>Math.abs(c.pixelY)))return!0;a=-c.pixelX*l}else{if(!(Math.abs(c.pixelY)>Math.abs(c.pixelX)))return!0;a=-c.pixelY}else a=Math.abs(c.pixelX)>Math.abs(c.pixelY)?-c.pixelX*l:-c.pixelY;if(0===a)return!0;s.invert&&(a=-a);var u=r.getTranslate()+a*s.sensitivity;if(u>=r.minTranslate()&&(u=r.minTranslate()),u<=r.maxTranslate()&&(u=r.maxTranslate()),(!!r.params.loop||!(u===r.minTranslate()||u===r.maxTranslate()))&&r.params.nested&&t.stopPropagation(),r.params.freeMode){var p={time:Yi(),delta:Math.abs(a),direction:Math.sign(a)},g=r.mousewheel.lastEventBeforeSnap,_=g&&p.time<g.time+500&&p.delta<=g.delta&&p.direction===g.direction;if(!_){r.mousewheel.lastEventBeforeSnap=void 0,r.params.loop&&r.loopFix();var m=r.getTranslate()+a*s.sensitivity,y=r.isBeginning,v=r.isEnd;if(m>=r.minTranslate()&&(m=r.minTranslate()),m<=r.maxTranslate()&&(m=r.maxTranslate()),r.setTransition(0),r.setTranslate(m),r.updateProgress(),r.updateActiveIndex(),r.updateSlidesClasses(),(!y&&r.isBeginning||!v&&r.isEnd)&&r.updateSlidesClasses(),r.params.freeModeSticky){clearTimeout(r.mousewheel.timeout),r.mousewheel.timeout=void 0;var b=r.mousewheel.recentWheelEvents;b.length>=15&&b.shift();var x=b.length?b[b.length-1]:void 0,M=b[0];if(b.push(p),x&&(p.delta>x.delta||p.direction!==x.direction))b.splice(0);else if(b.length>=15&&p.time-M.time<500&&M.delta-p.delta>=1&&p.delta<=6){var S=a>0?.8:.2;r.mousewheel.lastEventBeforeSnap=p,b.splice(0),r.mousewheel.timeout=Zo(function(){r.slideToClosest(r.params.speed,!0,void 0,S)},0)}r.mousewheel.timeout||(r.mousewheel.timeout=Zo(function(){r.mousewheel.lastEventBeforeSnap=p,b.splice(0),r.slideToClosest(r.params.speed,!0,void 0,.5)},500))}if(_||r.emit("scroll",t),r.params.autoplay&&r.params.autoplayDisableOnInteraction&&r.autoplay.stop(),m===r.minTranslate()||m===r.maxTranslate())return!0}}else{var d={time:Yi(),delta:Math.abs(a),direction:Math.sign(a),raw:e},h=r.mousewheel.recentWheelEvents;h.length>=2&&h.shift();var f=h.length?h[h.length-1]:void 0;if(h.push(d),f?(d.direction!==f.direction||d.delta>f.delta||d.time>f.time+150)&&r.mousewheel.animateSlider(d):r.mousewheel.animateSlider(d),r.mousewheel.releaseScroll(d))return!0}return t.preventDefault?t.preventDefault():t.returnValue=!1,!1}},animateSlider:function(e){var t=this,i=Vt();return!(this.params.mousewheel.thresholdDelta&&e.delta<this.params.mousewheel.thresholdDelta||this.params.mousewheel.thresholdTime&&Yi()-t.mousewheel.lastScrollTime<this.params.mousewheel.thresholdTime)&&(e.delta>=6&&Yi()-t.mousewheel.lastScrollTime<60||(e.direction<0?(!t.isEnd||t.params.loop)&&!t.animating&&(t.slideNext(),t.emit("scroll",e.raw)):(!t.isBeginning||t.params.loop)&&!t.animating&&(t.slidePrev(),t.emit("scroll",e.raw)),t.mousewheel.lastScrollTime=(new i.Date).getTime(),!1))},releaseScroll:function(e){var t=this,i=t.params.mousewheel;if(e.direction<0){if(t.isEnd&&!t.params.loop&&i.releaseOnEdges)return!0}else if(t.isBeginning&&!t.params.loop&&i.releaseOnEdges)return!0;return!1},enable:function(){var e=this,t=Ss.event();if(e.params.cssMode)return e.wrapperEl.removeEventListener(t,e.mousewheel.handle),!0;if(!t||e.mousewheel.enabled)return!1;var i=e.$el;return"container"!==e.params.mousewheel.eventsTarget&&(i=Fe(e.params.mousewheel.eventsTarget)),i.on("mouseenter",e.mousewheel.handleMouseEnter),i.on("mouseleave",e.mousewheel.handleMouseLeave),i.on(t,e.mousewheel.handle),e.mousewheel.enabled=!0,!0},disable:function(){var e=this,t=Ss.event();if(e.params.cssMode)return e.wrapperEl.addEventListener(t,e.mousewheel.handle),!0;if(!t||!e.mousewheel.enabled)return!1;var i=e.$el;return"container"!==e.params.mousewheel.eventsTarget&&(i=Fe(e.params.mousewheel.eventsTarget)),i.off(t,e.mousewheel.handle),e.mousewheel.enabled=!1,!0}};function Bx(){return Bx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Bx.apply(this,arguments)}var gQ={toggleEl:function(e,t){e[t?"addClass":"removeClass"](this.params.navigation.disabledClass),e[0]&&"BUTTON"===e[0].tagName&&(e[0].disabled=t)},update:function(){var e=this,t=e.params.navigation,i=e.navigation.toggleEl;if(!e.params.loop){var r=e.navigation,s=r.$nextEl,o=r.$prevEl;o&&o.length>0&&(i(o,!!e.isBeginning),e.params.watchOverflow&&e.enabled&&o[e.isLocked?"addClass":"removeClass"](t.lockClass)),s&&s.length>0&&(i(s,!!e.isEnd),e.params.watchOverflow&&e.enabled&&s[e.isLocked?"addClass":"removeClass"](t.lockClass))}},onPrevClick:function(e){var t=this;e.preventDefault(),(!t.isBeginning||t.params.loop)&&t.slidePrev()},onNextClick:function(e){var t=this;e.preventDefault(),(!t.isEnd||t.params.loop)&&t.slideNext()},init:function(){var i,r,e=this,t=e.params.navigation;e.params.navigation=Tx(e.$el,e.params.navigation,e.params.createElements,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),(t.nextEl||t.prevEl)&&(t.nextEl&&(i=Fe(t.nextEl),e.params.uniqueNavElements&&"string"==typeof t.nextEl&&i.length>1&&1===e.$el.find(t.nextEl).length&&(i=e.$el.find(t.nextEl))),t.prevEl&&(r=Fe(t.prevEl),e.params.uniqueNavElements&&"string"==typeof t.prevEl&&r.length>1&&1===e.$el.find(t.prevEl).length&&(r=e.$el.find(t.prevEl))),i&&i.length>0&&i.on("click",e.navigation.onNextClick),r&&r.length>0&&r.on("click",e.navigation.onPrevClick),At(e.navigation,{$nextEl:i,nextEl:i&&i[0],$prevEl:r,prevEl:r&&r[0]}),e.enabled||(i&&i.addClass(t.lockClass),r&&r.addClass(t.lockClass)))},destroy:function(){var e=this,t=e.navigation,i=t.$nextEl,r=t.$prevEl;i&&i.length&&(i.off("click",e.navigation.onNextClick),i.removeClass(e.params.navigation.disabledClass)),r&&r.length&&(r.off("click",e.navigation.onPrevClick),r.removeClass(e.params.navigation.disabledClass))}};function Ux(){return Ux=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ux.apply(this,arguments)}var vQ={update:function(){var e=this,t=e.rtl,i=e.params.pagination;if(i.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var o,r=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,s=e.pagination.$el,a=e.params.loop?Math.ceil((r-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?((o=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup))>r-1-2*e.loopedSlides&&(o-=r-2*e.loopedSlides),o>a-1&&(o-=a),o<0&&"bullets"!==e.params.paginationType&&(o=a+o)):o=typeof e.snapIndex<"u"?e.snapIndex:e.activeIndex||0,"bullets"===i.type&&e.pagination.bullets&&e.pagination.bullets.length>0){var c,u,d,l=e.pagination.bullets;if(i.dynamicBullets&&(e.pagination.bulletSize=l.eq(0)[e.isHorizontal()?"outerWidth":"outerHeight"](!0),s.css(e.isHorizontal()?"width":"height",e.pagination.bulletSize*(i.dynamicMainBullets+4)+"px"),i.dynamicMainBullets>1&&void 0!==e.previousIndex&&(e.pagination.dynamicBulletIndex+=o-e.previousIndex,e.pagination.dynamicBulletIndex>i.dynamicMainBullets-1?e.pagination.dynamicBulletIndex=i.dynamicMainBullets-1:e.pagination.dynamicBulletIndex<0&&(e.pagination.dynamicBulletIndex=0)),d=((u=(c=o-e.pagination.dynamicBulletIndex)+(Math.min(l.length,i.dynamicMainBullets)-1))+c)/2),l.removeClass(i.bulletActiveClass+" "+i.bulletActiveClass+"-next "+i.bulletActiveClass+"-next-next "+i.bulletActiveClass+"-prev "+i.bulletActiveClass+"-prev-prev "+i.bulletActiveClass+"-main"),s.length>1)l.each(function(w){var E=Fe(w),L=E.index();L===o&&E.addClass(i.bulletActiveClass),i.dynamicBullets&&(L>=c&&L<=u&&E.addClass(i.bulletActiveClass+"-main"),L===c&&E.prev().addClass(i.bulletActiveClass+"-prev").prev().addClass(i.bulletActiveClass+"-prev-prev"),L===u&&E.next().addClass(i.bulletActiveClass+"-next").next().addClass(i.bulletActiveClass+"-next-next"))});else{var h=l.eq(o),f=h.index();if(h.addClass(i.bulletActiveClass),i.dynamicBullets){for(var p=l.eq(c),g=l.eq(u),_=c;_<=u;_+=1)l.eq(_).addClass(i.bulletActiveClass+"-main");if(e.params.loop)if(f>=l.length-i.dynamicMainBullets){for(var m=i.dynamicMainBullets;m>=0;m-=1)l.eq(l.length-m).addClass(i.bulletActiveClass+"-main");l.eq(l.length-i.dynamicMainBullets-1).addClass(i.bulletActiveClass+"-prev")}else p.prev().addClass(i.bulletActiveClass+"-prev").prev().addClass(i.bulletActiveClass+"-prev-prev"),g.next().addClass(i.bulletActiveClass+"-next").next().addClass(i.bulletActiveClass+"-next-next");else p.prev().addClass(i.bulletActiveClass+"-prev").prev().addClass(i.bulletActiveClass+"-prev-prev"),g.next().addClass(i.bulletActiveClass+"-next").next().addClass(i.bulletActiveClass+"-next-next")}}if(i.dynamicBullets){var y=Math.min(l.length,i.dynamicMainBullets+4),v=(e.pagination.bulletSize*y-e.pagination.bulletSize)/2-d*e.pagination.bulletSize,b=t?"right":"left";l.css(e.isHorizontal()?b:"top",v+"px")}}if("fraction"===i.type&&(s.find(ho(i.currentClass)).text(i.formatFractionCurrent(o+1)),s.find(ho(i.totalClass)).text(i.formatFractionTotal(a))),"progressbar"===i.type){var x;x=i.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";var M=(o+1)/a,S=1,C=1;"horizontal"===x?S=M:C=M,s.find(ho(i.progressbarFillClass)).transform("translate3d(0,0,0) scaleX("+S+") scaleY("+C+")").transition(e.params.speed)}"custom"===i.type&&i.renderCustom?(s.html(i.renderCustom(e,o+1,a)),e.emit("paginationRender",s[0])):e.emit("paginationUpdate",s[0]),e.params.watchOverflow&&e.enabled&&s[e.isLocked?"addClass":"removeClass"](i.lockClass)}},render:function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var i=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,r=e.pagination.$el,s="";if("bullets"===t.type){var o=e.params.loop?Math.ceil((i-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&!e.params.loop&&o>i&&(o=i);for(var a=0;a<o;a+=1)s+=t.renderBullet?t.renderBullet.call(e,a,t.bulletClass):"<"+t.bulletElement+' class="'+t.bulletClass+'"></'+t.bulletElement+">";r.html(s),e.pagination.bullets=r.find(ho(t.bulletClass))}"fraction"===t.type&&(s=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):'<span class="'+t.currentClass+'"></span> / <span class="'+t.totalClass+'"></span>',r.html(s)),"progressbar"===t.type&&(s=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):'<span class="'+t.progressbarFillClass+'"></span>',r.html(s)),"custom"!==t.type&&e.emit("paginationRender",e.pagination.$el[0])}},init:function(){var e=this;e.params.pagination=Tx(e.$el,e.params.pagination,e.params.createElements,{el:"swiper-pagination"});var t=e.params.pagination;if(t.el){var i=Fe(t.el);0!==i.length&&(e.params.uniqueNavElements&&"string"==typeof t.el&&i.length>1&&(i=e.$el.find(t.el)),"bullets"===t.type&&t.clickable&&i.addClass(t.clickableClass),i.addClass(t.modifierClass+t.type),"bullets"===t.type&&t.dynamicBullets&&(i.addClass(""+t.modifierClass+t.type+"-dynamic"),e.pagination.dynamicBulletIndex=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&i.addClass(t.progressbarOppositeClass),t.clickable&&i.on("click",ho(t.bulletClass),function(s){s.preventDefault();var o=Fe(this).index()*e.params.slidesPerGroup;e.params.loop&&(o+=e.loopedSlides),e.slideTo(o)}),At(e.pagination,{$el:i,el:i[0]}),e.enabled||i.addClass(t.lockClass))}},destroy:function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var i=e.pagination.$el;i.removeClass(t.hiddenClass),i.removeClass(t.modifierClass+t.type),e.pagination.bullets&&e.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&i.off("click",ho(t.bulletClass))}}};function zx(){return zx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},zx.apply(this,arguments)}var bQ={setTranslate:function(){var e=this;if(e.params.scrollbar.el&&e.scrollbar.el){var t=e.scrollbar,s=t.dragSize,o=t.trackSize,a=t.$dragEl,l=t.$el,c=e.params.scrollbar,u=s,d=(o-s)*e.progress;e.rtlTranslate?(d=-d)>0?(u=s-d,d=0):-d+s>o&&(u=o+d):d<0?(u=s+d,d=0):d+s>o&&(u=o-d),e.isHorizontal()?(a.transform("translate3d("+d+"px, 0, 0)"),a[0].style.width=u+"px"):(a.transform("translate3d(0px, "+d+"px, 0)"),a[0].style.height=u+"px"),c.hide&&(clearTimeout(e.scrollbar.timeout),l[0].style.opacity=1,e.scrollbar.timeout=setTimeout(function(){l[0].style.opacity=0,l.transition(400)},1e3))}},setTransition:function(e){var t=this;!t.params.scrollbar.el||!t.scrollbar.el||t.scrollbar.$dragEl.transition(e)},updateSize:function(){var e=this;if(e.params.scrollbar.el&&e.scrollbar.el){var t=e.scrollbar,i=t.$dragEl,r=t.$el;i[0].style.width="",i[0].style.height="";var l,s=e.isHorizontal()?r[0].offsetWidth:r[0].offsetHeight,o=e.size/e.virtualSize,a=o*(s/e.size);l="auto"===e.params.scrollbar.dragSize?s*o:parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?i[0].style.width=l+"px":i[0].style.height=l+"px",r[0].style.display=o>=1?"none":"",e.params.scrollbar.hide&&(r[0].style.opacity=0),At(t,{trackSize:s,divider:o,moveDivider:a,dragSize:l}),e.params.watchOverflow&&e.enabled&&t.$el[e.isLocked?"addClass":"removeClass"](e.params.scrollbar.lockClass)}},getPointerPosition:function(e){return this.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientX:e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientY:e.clientY},setDragPosition:function(e){var c,t=this,i=t.scrollbar,r=t.rtlTranslate,s=i.$el,o=i.dragSize,a=i.trackSize,l=i.dragStartPos;c=(i.getPointerPosition(e)-s.offset()[t.isHorizontal()?"left":"top"]-(null!==l?l:o/2))/(a-o),c=Math.max(Math.min(c,1),0),r&&(c=1-c);var u=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*c;t.updateProgress(u),t.setTranslate(u),t.updateActiveIndex(),t.updateSlidesClasses()},onDragStart:function(e){var t=this,i=t.params.scrollbar,r=t.scrollbar,s=t.$wrapperEl,o=r.$el,a=r.$dragEl;t.scrollbar.isTouched=!0,t.scrollbar.dragStartPos=e.target===a[0]||e.target===a?r.getPointerPosition(e)-e.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),s.transition(100),a.transition(100),r.setDragPosition(e),clearTimeout(t.scrollbar.dragTimeout),o.transition(0),i.hide&&o.css("opacity",1),t.params.cssMode&&t.$wrapperEl.css("scroll-snap-type","none"),t.emit("scrollbarDragStart",e)},onDragMove:function(e){var t=this,i=t.scrollbar,r=t.$wrapperEl,s=i.$el,o=i.$dragEl;t.scrollbar.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,i.setDragPosition(e),r.transition(0),s.transition(0),o.transition(0),t.emit("scrollbarDragMove",e))},onDragEnd:function(e){var t=this,i=t.params.scrollbar,s=t.$wrapperEl,o=t.scrollbar.$el;t.scrollbar.isTouched&&(t.scrollbar.isTouched=!1,t.params.cssMode&&(t.$wrapperEl.css("scroll-snap-type",""),s.transition("")),i.hide&&(clearTimeout(t.scrollbar.dragTimeout),t.scrollbar.dragTimeout=Zo(function(){o.css("opacity",0),o.transition(400)},1e3)),t.emit("scrollbarDragEnd",e),i.snapOnRelease&&t.slideToClosest())},enableDraggable:function(){var e=this;if(e.params.scrollbar.el){var t=an(),r=e.touchEventsTouch,s=e.touchEventsDesktop,o=e.params,a=e.support,c=e.scrollbar.$el[0],u=!(!a.passiveListener||!o.passiveListeners)&&{passive:!1,capture:!1},d=!(!a.passiveListener||!o.passiveListeners)&&{passive:!0,capture:!1};c&&(a.touch?(c.addEventListener(r.start,e.scrollbar.onDragStart,u),c.addEventListener(r.move,e.scrollbar.onDragMove,u),c.addEventListener(r.end,e.scrollbar.onDragEnd,d)):(c.addEventListener(s.start,e.scrollbar.onDragStart,u),t.addEventListener(s.move,e.scrollbar.onDragMove,u),t.addEventListener(s.end,e.scrollbar.onDragEnd,d)))}},disableDraggable:function(){var e=this;if(e.params.scrollbar.el){var t=an(),r=e.touchEventsTouch,s=e.touchEventsDesktop,o=e.params,a=e.support,c=e.scrollbar.$el[0],u=!(!a.passiveListener||!o.passiveListeners)&&{passive:!1,capture:!1},d=!(!a.passiveListener||!o.passiveListeners)&&{passive:!0,capture:!1};c&&(a.touch?(c.removeEventListener(r.start,e.scrollbar.onDragStart,u),c.removeEventListener(r.move,e.scrollbar.onDragMove,u),c.removeEventListener(r.end,e.scrollbar.onDragEnd,d)):(c.removeEventListener(s.start,e.scrollbar.onDragStart,u),t.removeEventListener(s.move,e.scrollbar.onDragMove,u),t.removeEventListener(s.end,e.scrollbar.onDragEnd,d)))}},init:function(){var e=this,t=e.scrollbar,i=e.$el;e.params.scrollbar=Tx(i,e.params.scrollbar,e.params.createElements,{el:"swiper-scrollbar"});var r=e.params.scrollbar;if(r.el){var s=Fe(r.el);e.params.uniqueNavElements&&"string"==typeof r.el&&s.length>1&&1===i.find(r.el).length&&(s=i.find(r.el));var o=s.find("."+e.params.scrollbar.dragClass);0===o.length&&(o=Fe('<div class="'+e.params.scrollbar.dragClass+'"></div>'),s.append(o)),At(t,{$el:s,el:s[0],$dragEl:o,dragEl:o[0]}),r.draggable&&t.enableDraggable(),s&&s[e.enabled?"removeClass":"addClass"](e.params.scrollbar.lockClass)}},destroy:function(){this.scrollbar.disableDraggable()}};function Hx(){return Hx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Hx.apply(this,arguments)}var wQ={setTransform:function(e,t){var r=this.rtl,s=Fe(e),o=r?-1:1,a=s.attr("data-swiper-parallax")||"0",l=s.attr("data-swiper-parallax-x"),c=s.attr("data-swiper-parallax-y"),u=s.attr("data-swiper-parallax-scale"),d=s.attr("data-swiper-parallax-opacity");if(l||c?(l=l||"0",c=c||"0"):this.isHorizontal()?(l=a,c="0"):(c=a,l="0"),l=l.indexOf("%")>=0?parseInt(l,10)*t*o+"%":l*t*o+"px",c=c.indexOf("%")>=0?parseInt(c,10)*t+"%":c*t+"px",typeof d<"u"&&null!==d){var h=d-(d-1)*(1-Math.abs(t));s[0].style.opacity=h}if(typeof u>"u"||null===u)s.transform("translate3d("+l+", "+c+", 0px)");else{var f=u-(u-1)*(1-Math.abs(t));s.transform("translate3d("+l+", "+c+", 0px) scale("+f+")")}},setTranslate:function(){var e=this,i=e.slides,r=e.progress,s=e.snapGrid;e.$el.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(o){e.parallax.setTransform(o,r)}),i.each(function(o,a){var l=o.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(l+=Math.ceil(a/2)-r*(s.length-1)),l=Math.min(Math.max(l,-1),1),Fe(o).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(c){e.parallax.setTransform(c,l)})})},setTransition:function(e){void 0===e&&(e=this.params.speed),this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(r){var s=Fe(r),o=parseInt(s.attr("data-swiper-parallax-duration"),10)||e;0===e&&(o=0),s.transition(o)})}};function Vx(){return Vx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Vx.apply(this,arguments)}var Gx={getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var i=e.targetTouches[0].pageY,s=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(e.targetTouches[1].pageX-e.targetTouches[0].pageX,2)+Math.pow(s-i,2))},onGestureStart:function(e){var t=this,i=t.support,r=t.params.zoom,s=t.zoom,o=s.gesture;if(s.fakeGestureTouched=!1,s.fakeGestureMoved=!1,!i.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;s.fakeGestureTouched=!0,o.scaleStart=Gx.getDistanceBetweenTouches(e)}o.$slideEl&&o.$slideEl.length||(o.$slideEl=Fe(e.target).closest("."+t.params.slideClass),0===o.$slideEl.length&&(o.$slideEl=t.slides.eq(t.activeIndex)),o.$imageEl=o.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),o.$imageWrapEl=o.$imageEl.parent("."+r.containerClass),o.maxRatio=o.$imageWrapEl.attr("data-swiper-zoom")||r.maxRatio,0!==o.$imageWrapEl.length)?(o.$imageEl&&o.$imageEl.transition(0),t.zoom.isScaling=!0):o.$imageEl=void 0},onGestureChange:function(e){var t=this,i=t.support,r=t.params.zoom,s=t.zoom,o=s.gesture;if(!i.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;s.fakeGestureMoved=!0,o.scaleMove=Gx.getDistanceBetweenTouches(e)}o.$imageEl&&0!==o.$imageEl.length?(s.scale=i.gestures?e.scale*s.currentScale:o.scaleMove/o.scaleStart*s.currentScale,s.scale>o.maxRatio&&(s.scale=o.maxRatio-1+Math.pow(s.scale-o.maxRatio+1,.5)),s.scale<r.minRatio&&(s.scale=r.minRatio+1-Math.pow(r.minRatio-s.scale+1,.5)),o.$imageEl.transform("translate3d(0,0,0) scale("+s.scale+")")):"gesturechange"===e.type&&s.onGestureStart(e)},onGestureEnd:function(e){var t=this,s=t.params.zoom,o=t.zoom,a=o.gesture;if(!t.support.gestures){if(!o.fakeGestureTouched||!o.fakeGestureMoved||"touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2&&!t.device.android)return;o.fakeGestureTouched=!1,o.fakeGestureMoved=!1}!a.$imageEl||0===a.$imageEl.length||(o.scale=Math.max(Math.min(o.scale,a.maxRatio),s.minRatio),a.$imageEl.transition(t.params.speed).transform("translate3d(0,0,0) scale("+o.scale+")"),o.currentScale=o.scale,o.isScaling=!1,1===o.scale&&(a.$slideEl=void 0))},onTouchStart:function(e){var r=this.zoom,s=r.gesture,o=r.image;!s.$imageEl||0===s.$imageEl.length||o.isTouched||(this.device.android&&e.cancelable&&e.preventDefault(),o.isTouched=!0,o.touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,o.touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY)},onTouchMove:function(e){var t=this,i=t.zoom,r=i.gesture,s=i.image,o=i.velocity;if(r.$imageEl&&0!==r.$imageEl.length&&(t.allowClick=!1,s.isTouched&&r.$slideEl)){s.isMoved||(s.width=r.$imageEl[0].offsetWidth,s.height=r.$imageEl[0].offsetHeight,s.startX=Cx(r.$imageWrapEl[0],"x")||0,s.startY=Cx(r.$imageWrapEl[0],"y")||0,r.slideWidth=r.$slideEl[0].offsetWidth,r.slideHeight=r.$slideEl[0].offsetHeight,r.$imageWrapEl.transition(0));var a=s.width*i.scale,l=s.height*i.scale;if(!(a<r.slideWidth&&l<r.slideHeight)){if(s.minX=Math.min(r.slideWidth/2-a/2,0),s.maxX=-s.minX,s.minY=Math.min(r.slideHeight/2-l/2,0),s.maxY=-s.minY,s.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,s.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!s.isMoved&&!i.isScaling){if(t.isHorizontal()&&(Math.floor(s.minX)===Math.floor(s.startX)&&s.touchesCurrent.x<s.touchesStart.x||Math.floor(s.maxX)===Math.floor(s.startX)&&s.touchesCurrent.x>s.touchesStart.x))return void(s.isTouched=!1);if(!t.isHorizontal()&&(Math.floor(s.minY)===Math.floor(s.startY)&&s.touchesCurrent.y<s.touchesStart.y||Math.floor(s.maxY)===Math.floor(s.startY)&&s.touchesCurrent.y>s.touchesStart.y))return void(s.isTouched=!1)}e.cancelable&&e.preventDefault(),e.stopPropagation(),s.isMoved=!0,s.currentX=s.touchesCurrent.x-s.touchesStart.x+s.startX,s.currentY=s.touchesCurrent.y-s.touchesStart.y+s.startY,s.currentX<s.minX&&(s.currentX=s.minX+1-Math.pow(s.minX-s.currentX+1,.8)),s.currentX>s.maxX&&(s.currentX=s.maxX-1+Math.pow(s.currentX-s.maxX+1,.8)),s.currentY<s.minY&&(s.currentY=s.minY+1-Math.pow(s.minY-s.currentY+1,.8)),s.currentY>s.maxY&&(s.currentY=s.maxY-1+Math.pow(s.currentY-s.maxY+1,.8)),o.prevPositionX||(o.prevPositionX=s.touchesCurrent.x),o.prevPositionY||(o.prevPositionY=s.touchesCurrent.y),o.prevTime||(o.prevTime=Date.now()),o.x=(s.touchesCurrent.x-o.prevPositionX)/(Date.now()-o.prevTime)/2,o.y=(s.touchesCurrent.y-o.prevPositionY)/(Date.now()-o.prevTime)/2,Math.abs(s.touchesCurrent.x-o.prevPositionX)<2&&(o.x=0),Math.abs(s.touchesCurrent.y-o.prevPositionY)<2&&(o.y=0),o.prevPositionX=s.touchesCurrent.x,o.prevPositionY=s.touchesCurrent.y,o.prevTime=Date.now(),r.$imageWrapEl.transform("translate3d("+s.currentX+"px, "+s.currentY+"px,0)")}}},onTouchEnd:function(){var t=this.zoom,i=t.gesture,r=t.image,s=t.velocity;if(i.$imageEl&&0!==i.$imageEl.length){if(!r.isTouched||!r.isMoved)return r.isTouched=!1,void(r.isMoved=!1);r.isTouched=!1,r.isMoved=!1;var o=300,a=300,c=r.currentX+s.x*o,d=r.currentY+s.y*a;0!==s.x&&(o=Math.abs((c-r.currentX)/s.x)),0!==s.y&&(a=Math.abs((d-r.currentY)/s.y));var h=Math.max(o,a);r.currentX=c,r.currentY=d;var p=r.height*t.scale;r.minX=Math.min(i.slideWidth/2-r.width*t.scale/2,0),r.maxX=-r.minX,r.minY=Math.min(i.slideHeight/2-p/2,0),r.maxY=-r.minY,r.currentX=Math.max(Math.min(r.currentX,r.maxX),r.minX),r.currentY=Math.max(Math.min(r.currentY,r.maxY),r.minY),i.$imageWrapEl.transition(h).transform("translate3d("+r.currentX+"px, "+r.currentY+"px,0)")}},onTransitionEnd:function(){var e=this,t=e.zoom,i=t.gesture;i.$slideEl&&e.previousIndex!==e.activeIndex&&(i.$imageEl&&i.$imageEl.transform("translate3d(0,0,0) scale(1)"),i.$imageWrapEl&&i.$imageWrapEl.transform("translate3d(0,0,0)"),t.scale=1,t.currentScale=1,i.$slideEl=void 0,i.$imageEl=void 0,i.$imageWrapEl=void 0)},toggle:function(e){var i=this.zoom;i.scale&&1!==i.scale?i.out():i.in(e)},in:function(e){var l,c,h,f,p,g,v,b,x,M,S,C,w,t=this,i=Vt(),r=t.zoom,s=t.params.zoom,o=r.gesture,a=r.image;o.$slideEl||(e&&e.target&&(o.$slideEl=Fe(e.target).closest("."+t.params.slideClass)),o.$slideEl||(o.$slideEl=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.$wrapperEl.children("."+t.params.slideActiveClass):t.slides.eq(t.activeIndex)),o.$imageEl=o.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),o.$imageWrapEl=o.$imageEl.parent("."+s.containerClass)),o.$imageEl&&0!==o.$imageEl.length&&o.$imageWrapEl&&0!==o.$imageWrapEl.length&&(o.$slideEl.addClass(""+s.zoomedSlideClass),typeof a.touchesStart.x>"u"&&e?(l="touchend"===e.type?e.changedTouches[0].pageX:e.pageX,c="touchend"===e.type?e.changedTouches[0].pageY:e.pageY):(l=a.touchesStart.x,c=a.touchesStart.y),r.scale=o.$imageWrapEl.attr("data-swiper-zoom")||s.maxRatio,r.currentScale=o.$imageWrapEl.attr("data-swiper-zoom")||s.maxRatio,e?(C=o.$slideEl[0].offsetWidth,w=o.$slideEl[0].offsetHeight,h=o.$slideEl.offset().left+i.scrollX+C/2-l,f=o.$slideEl.offset().top+i.scrollY+w/2-c,v=o.$imageEl[0].offsetHeight*r.scale,b=Math.min(C/2-o.$imageEl[0].offsetWidth*r.scale/2,0),x=Math.min(w/2-v/2,0),(p=h*r.scale)<b&&(p=b),p>(M=-b)&&(p=M),(g=f*r.scale)<x&&(g=x),g>(S=-x)&&(g=S)):(p=0,g=0),o.$imageWrapEl.transition(300).transform("translate3d("+p+"px, "+g+"px,0)"),o.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+r.scale+")"))},out:function(){var e=this,t=e.zoom,i=e.params.zoom,r=t.gesture;r.$slideEl||(r.$slideEl=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.$wrapperEl.children("."+e.params.slideActiveClass):e.slides.eq(e.activeIndex),r.$imageEl=r.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),r.$imageWrapEl=r.$imageEl.parent("."+i.containerClass)),r.$imageEl&&0!==r.$imageEl.length&&r.$imageWrapEl&&0!==r.$imageWrapEl.length&&(t.scale=1,t.currentScale=1,r.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),r.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),r.$slideEl.removeClass(""+i.zoomedSlideClass),r.$slideEl=void 0)},toggleGestures:function(e){var t=this,i=t.zoom,r=i.slideSelector,s=i.passiveListener;t.$wrapperEl[e]("gesturestart",r,i.onGestureStart,s),t.$wrapperEl[e]("gesturechange",r,i.onGestureChange,s),t.$wrapperEl[e]("gestureend",r,i.onGestureEnd,s)},enableGestures:function(){this.zoom.gesturesEnabled||(this.zoom.gesturesEnabled=!0,this.zoom.toggleGestures("on"))},disableGestures:function(){this.zoom.gesturesEnabled&&(this.zoom.gesturesEnabled=!1,this.zoom.toggleGestures("off"))},enable:function(){var e=this,t=e.support,i=e.zoom;if(!i.enabled){i.enabled=!0;var r=!("touchstart"!==e.touchEvents.start||!t.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1},s=!t.passiveListener||{passive:!1,capture:!0},o="."+e.params.slideClass;e.zoom.passiveListener=r,e.zoom.slideSelector=o,t.gestures?(e.$wrapperEl.on(e.touchEvents.start,e.zoom.enableGestures,r),e.$wrapperEl.on(e.touchEvents.end,e.zoom.disableGestures,r)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.on(e.touchEvents.start,o,i.onGestureStart,r),e.$wrapperEl.on(e.touchEvents.move,o,i.onGestureChange,s),e.$wrapperEl.on(e.touchEvents.end,o,i.onGestureEnd,r),e.touchEvents.cancel&&e.$wrapperEl.on(e.touchEvents.cancel,o,i.onGestureEnd,r)),e.$wrapperEl.on(e.touchEvents.move,"."+e.params.zoom.containerClass,i.onTouchMove,s)}},disable:function(){var e=this,t=e.zoom;if(t.enabled){var i=e.support;e.zoom.enabled=!1;var r=!("touchstart"!==e.touchEvents.start||!i.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1},s=!i.passiveListener||{passive:!1,capture:!0},o="."+e.params.slideClass;i.gestures?(e.$wrapperEl.off(e.touchEvents.start,e.zoom.enableGestures,r),e.$wrapperEl.off(e.touchEvents.end,e.zoom.disableGestures,r)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.off(e.touchEvents.start,o,t.onGestureStart,r),e.$wrapperEl.off(e.touchEvents.move,o,t.onGestureChange,s),e.$wrapperEl.off(e.touchEvents.end,o,t.onGestureEnd,r),e.touchEvents.cancel&&e.$wrapperEl.off(e.touchEvents.cancel,o,t.onGestureEnd,r)),e.$wrapperEl.off(e.touchEvents.move,"."+e.params.zoom.containerClass,t.onTouchMove,s)}}};function Wx(){return Wx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Wx.apply(this,arguments)}var SQ={loadInSlide:function(e,t){void 0===t&&(t=!0);var i=this,r=i.params.lazy;if(!(typeof e>"u")&&0!==i.slides.length){var o=i.virtual&&i.params.virtual.enabled?i.$wrapperEl.children("."+i.params.slideClass+'[data-swiper-slide-index="'+e+'"]'):i.slides.eq(e),a=o.find("."+r.elementClass+":not(."+r.loadedClass+"):not(."+r.loadingClass+")");o.hasClass(r.elementClass)&&!o.hasClass(r.loadedClass)&&!o.hasClass(r.loadingClass)&&a.push(o[0]),0!==a.length&&a.each(function(l){var c=Fe(l);c.addClass(r.loadingClass);var u=c.attr("data-background"),d=c.attr("data-src"),h=c.attr("data-srcset"),f=c.attr("data-sizes"),p=c.parent("picture");i.loadImage(c[0],d||u,h,f,!1,function(){if(!(typeof i>"u"||null===i||!i||i&&!i.params||i.destroyed)){if(u?(c.css("background-image",'url("'+u+'")'),c.removeAttr("data-background")):(h&&(c.attr("srcset",h),c.removeAttr("data-srcset")),f&&(c.attr("sizes",f),c.removeAttr("data-sizes")),p.length&&p.children("source").each(function(y){var v=Fe(y);v.attr("data-srcset")&&(v.attr("srcset",v.attr("data-srcset")),v.removeAttr("data-srcset"))}),d&&(c.attr("src",d),c.removeAttr("data-src"))),c.addClass(r.loadedClass).removeClass(r.loadingClass),o.find("."+r.preloaderClass).remove(),i.params.loop&&t){var g=o.attr("data-swiper-slide-index");if(o.hasClass(i.params.slideDuplicateClass)){var _=i.$wrapperEl.children('[data-swiper-slide-index="'+g+'"]:not(.'+i.params.slideDuplicateClass+")");i.lazy.loadInSlide(_.index(),!1)}else{var m=i.$wrapperEl.children("."+i.params.slideDuplicateClass+'[data-swiper-slide-index="'+g+'"]');i.lazy.loadInSlide(m.index(),!1)}}i.emit("lazyImageReady",o[0],c[0]),i.params.autoHeight&&i.updateAutoHeight()}}),i.emit("lazyImageLoad",o[0],c[0])})}},load:function(){var e=this,t=e.$wrapperEl,i=e.params,r=e.slides,s=e.activeIndex,o=e.virtual&&i.virtual.enabled,a=i.lazy,l=i.slidesPerView;function c(b){if(o){if(t.children("."+i.slideClass+'[data-swiper-slide-index="'+b+'"]').length)return!0}else if(r[b])return!0;return!1}function u(b){return o?Fe(b).attr("data-swiper-slide-index"):Fe(b).index()}if("auto"===l&&(l=0),e.lazy.initialImageLoaded||(e.lazy.initialImageLoaded=!0),e.params.watchSlidesVisibility)t.children("."+i.slideVisibleClass).each(function(b){var x=o?Fe(b).attr("data-swiper-slide-index"):Fe(b).index();e.lazy.loadInSlide(x)});else if(l>1)for(var d=s;d<s+l;d+=1)c(d)&&e.lazy.loadInSlide(d);else e.lazy.loadInSlide(s);if(a.loadPrevNext)if(l>1||a.loadPrevNextAmount&&a.loadPrevNextAmount>1){for(var h=a.loadPrevNextAmount,f=l,p=Math.min(s+f+Math.max(h,f),r.length),g=Math.max(s-Math.max(f,h),0),_=s+l;_<p;_+=1)c(_)&&e.lazy.loadInSlide(_);for(var m=g;m<s;m+=1)c(m)&&e.lazy.loadInSlide(m)}else{var y=t.children("."+i.slideNextClass);y.length>0&&e.lazy.loadInSlide(u(y));var v=t.children("."+i.slidePrevClass);v.length>0&&e.lazy.loadInSlide(u(v))}},checkInViewOnLoad:function(){var e=Vt(),t=this;if(t&&!t.destroyed){var i=Fe(t.params.lazy.scrollingElement?t.params.lazy.scrollingElement:e),r=i[0]===e,s=r?e.innerWidth:i[0].offsetWidth,o=r?e.innerHeight:i[0].offsetHeight,a=t.$el.offset(),c=!1;t.rtlTranslate&&(a.left-=t.$el[0].scrollLeft);for(var u=[[a.left,a.top],[a.left+t.width,a.top],[a.left,a.top+t.height],[a.left+t.width,a.top+t.height]],d=0;d<u.length;d+=1){var h=u[d];if(h[0]>=0&&h[0]<=s&&h[1]>=0&&h[1]<=o){if(0===h[0]&&0===h[1])continue;c=!0}}var f=!("touchstart"!==t.touchEvents.start||!t.support.passiveListener||!t.params.passiveListeners)&&{passive:!0,capture:!1};c?(t.lazy.load(),i.off("scroll",t.lazy.checkInViewOnLoad,f)):t.lazy.scrollHandlerAttached||(t.lazy.scrollHandlerAttached=!0,i.on("scroll",t.lazy.checkInViewOnLoad,f))}}};function $x(){return $x=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},$x.apply(this,arguments)}var jx={LinearSpline:function(e,t){var a,l,c,r,s,i=function(u,d){for(l=-1,a=u.length;a-l>1;)u[c=a+l>>1]<=d?l=c:a=c;return a};return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(a){return a?(s=i(this.x,a),(a-this.x[r=s-1])*(this.y[s]-this.y[r])/(this.x[s]-this.x[r])+this.y[r]):0},this},getInterpolateFunction:function(e){var t=this;t.controller.spline||(t.controller.spline=t.params.loop?new jx.LinearSpline(t.slidesGrid,e.slidesGrid):new jx.LinearSpline(t.snapGrid,e.snapGrid))},setTranslate:function(e,t){var s,o,i=this,r=i.controller.control,a=i.constructor;function l(u){var d=i.rtlTranslate?-i.translate:i.translate;"slide"===i.params.controller.by&&(i.controller.getInterpolateFunction(u),o=-i.controller.spline.interpolate(-d)),(!o||"container"===i.params.controller.by)&&(s=(u.maxTranslate()-u.minTranslate())/(i.maxTranslate()-i.minTranslate()),o=(d-i.minTranslate())*s+u.minTranslate()),i.params.controller.inverse&&(o=u.maxTranslate()-o),u.updateProgress(o),u.setTranslate(o,i),u.updateActiveIndex(),u.updateSlidesClasses()}if(Array.isArray(r))for(var c=0;c<r.length;c+=1)r[c]!==t&&r[c]instanceof a&&l(r[c]);else r instanceof a&&t!==r&&l(r)},setTransition:function(e,t){var o,i=this,r=i.constructor,s=i.controller.control;function a(l){l.setTransition(e,i),0!==e&&(l.transitionStart(),l.params.autoHeight&&Zo(function(){l.updateAutoHeight()}),l.$wrapperEl.transitionEnd(function(){s&&(l.params.loop&&"slide"===i.params.controller.by&&l.loopFix(),l.transitionEnd())}))}if(Array.isArray(s))for(o=0;o<s.length;o+=1)s[o]!==t&&s[o]instanceof r&&a(s[o]);else s instanceof r&&t!==s&&a(s)}};function Xx(){return Xx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Xx.apply(this,arguments)}var AQ={getRandomNumber:function(e){return void 0===e&&(e=16),"x".repeat(e).replace(/x/g,function(){return Math.round(16*Math.random()).toString(16)})},makeElFocusable:function(e){return e.attr("tabIndex","0"),e},makeElNotFocusable:function(e){return e.attr("tabIndex","-1"),e},addElRole:function(e,t){return e.attr("role",t),e},addElRoleDescription:function(e,t){return e.attr("aria-roledescription",t),e},addElControls:function(e,t){return e.attr("aria-controls",t),e},addElLabel:function(e,t){return e.attr("aria-label",t),e},addElId:function(e,t){return e.attr("id",t),e},addElLive:function(e,t){return e.attr("aria-live",t),e},disableEl:function(e){return e.attr("aria-disabled",!0),e},enableEl:function(e){return e.attr("aria-disabled",!1),e},onEnterOrSpaceKey:function(e){if(13===e.keyCode||32===e.keyCode){var t=this,i=t.params.a11y,r=Fe(e.target);t.navigation&&t.navigation.$nextEl&&r.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.a11y.notify(t.isEnd?i.lastSlideMessage:i.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&r.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.a11y.notify(t.isBeginning?i.firstSlideMessage:i.prevSlideMessage)),t.pagination&&r.is(ho(t.params.pagination.bulletClass))&&r[0].click()}},notify:function(e){var i=this.a11y.liveRegion;0!==i.length&&(i.html(""),i.html(e))},updateNavigation:function(){var e=this;if(!e.params.loop&&e.navigation){var t=e.navigation,i=t.$nextEl,r=t.$prevEl;r&&r.length>0&&(e.isBeginning?(e.a11y.disableEl(r),e.a11y.makeElNotFocusable(r)):(e.a11y.enableEl(r),e.a11y.makeElFocusable(r))),i&&i.length>0&&(e.isEnd?(e.a11y.disableEl(i),e.a11y.makeElNotFocusable(i)):(e.a11y.enableEl(i),e.a11y.makeElFocusable(i)))}},updatePagination:function(){var e=this,t=e.params.a11y;e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.bullets.each(function(i){var r=Fe(i);e.a11y.makeElFocusable(r),e.params.pagination.renderBullet||(e.a11y.addElRole(r,"button"),e.a11y.addElLabel(r,t.paginationBulletMessage.replace(/\{\{index\}\}/,r.index()+1)))})},init:function(){var e=this,t=e.params.a11y;e.$el.append(e.a11y.liveRegion);var i=e.$el;t.containerRoleDescriptionMessage&&e.a11y.addElRoleDescription(i,t.containerRoleDescriptionMessage),t.containerMessage&&e.a11y.addElLabel(i,t.containerMessage);var r=e.$wrapperEl,s=r.attr("id")||"swiper-wrapper-"+e.a11y.getRandomNumber(16),o=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";e.a11y.addElId(r,s),e.a11y.addElLive(r,o),t.itemRoleDescriptionMessage&&e.a11y.addElRoleDescription(Fe(e.slides),t.itemRoleDescriptionMessage),e.a11y.addElRole(Fe(e.slides),t.slideRole);var l,c,a=e.params.loop?e.slides.filter(function(u){return!u.classList.contains(e.params.slideDuplicateClass)}).length:e.slides.length;e.slides.each(function(u,d){var h=Fe(u),f=e.params.loop?parseInt(h.attr("data-swiper-slide-index"),10):d,p=t.slideLabelMessage.replace(/\{\{index\}\}/,f+1).replace(/\{\{slidesLength\}\}/,a);e.a11y.addElLabel(h,p)}),e.navigation&&e.navigation.$nextEl&&(l=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(c=e.navigation.$prevEl),l&&l.length&&(e.a11y.makeElFocusable(l),"BUTTON"!==l[0].tagName&&(e.a11y.addElRole(l,"button"),l.on("keydown",e.a11y.onEnterOrSpaceKey)),e.a11y.addElLabel(l,t.nextSlideMessage),e.a11y.addElControls(l,s)),c&&c.length&&(e.a11y.makeElFocusable(c),"BUTTON"!==c[0].tagName&&(e.a11y.addElRole(c,"button"),c.on("keydown",e.a11y.onEnterOrSpaceKey)),e.a11y.addElLabel(c,t.prevSlideMessage),e.a11y.addElControls(c,s)),e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.$el.on("keydown",ho(e.params.pagination.bulletClass),e.a11y.onEnterOrSpaceKey)},destroy:function(){var t,i,e=this;e.a11y.liveRegion&&e.a11y.liveRegion.length>0&&e.a11y.liveRegion.remove(),e.navigation&&e.navigation.$nextEl&&(t=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(i=e.navigation.$prevEl),t&&t.off("keydown",e.a11y.onEnterOrSpaceKey),i&&i.off("keydown",e.a11y.onEnterOrSpaceKey),e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.$el.off("keydown",ho(e.params.pagination.bulletClass),e.a11y.onEnterOrSpaceKey)}};function qx(){return qx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},qx.apply(this,arguments)}var rh={init:function(){var e=this,t=Vt();if(e.params.history){if(!t.history||!t.history.pushState)return e.params.history.enabled=!1,void(e.params.hashNavigation.enabled=!0);var i=e.history;i.initialized=!0,i.paths=rh.getPathValues(e.params.url),(i.paths.key||i.paths.value)&&(i.scrollToSlide(0,i.paths.value,e.params.runCallbacksOnInit),e.params.history.replaceState||t.addEventListener("popstate",e.history.setHistoryPopState))}},destroy:function(){var t=Vt();this.params.history.replaceState||t.removeEventListener("popstate",this.history.setHistoryPopState)},setHistoryPopState:function(){var e=this;e.history.paths=rh.getPathValues(e.params.url),e.history.scrollToSlide(e.params.speed,e.history.paths.value,!1)},getPathValues:function(e){var t=Vt(),r=(e?new URL(e):t.location).pathname.slice(1).split("/").filter(function(l){return""!==l}),s=r.length;return{key:r[s-2],value:r[s-1]}},setHistory:function(e,t){var i=this,r=Vt();if(i.history.initialized&&i.params.history.enabled){var s;s=i.params.url?new URL(i.params.url):r.location;var o=i.slides.eq(t),a=rh.slugify(o.attr("data-history"));if(i.params.history.root.length>0){var l=i.params.history.root;"/"===l[l.length-1]&&(l=l.slice(0,l.length-1)),a=l+"/"+e+"/"+a}else s.pathname.includes(e)||(a=e+"/"+a);var c=r.history.state;c&&c.value===a||(i.params.history.replaceState?r.history.replaceState({value:a},null,a):r.history.pushState({value:a},null,a))}},slugify:function(e){return e.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,t,i){var r=this;if(t)for(var s=0,o=r.slides.length;s<o;s+=1){var a=r.slides.eq(s);if(rh.slugify(a.attr("data-history"))===t&&!a.hasClass(r.params.slideDuplicateClass)){var c=a.index();r.slideTo(c,e,i)}}else r.slideTo(0,e,i)}};function Yx(){return Yx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Yx.apply(this,arguments)}var IQ={onHashChange:function(){var e=this,t=an();e.emit("hashChange");var i=t.location.hash.replace("#","");if(i!==e.slides.eq(e.activeIndex).attr("data-hash")){var s=e.$wrapperEl.children("."+e.params.slideClass+'[data-hash="'+i+'"]').index();if(typeof s>"u")return;e.slideTo(s)}},setHash:function(){var e=this,t=Vt(),i=an();if(e.hashNavigation.initialized&&e.params.hashNavigation.enabled)if(e.params.hashNavigation.replaceState&&t.history&&t.history.replaceState)t.history.replaceState(null,null,"#"+e.slides.eq(e.activeIndex).attr("data-hash")||0),e.emit("hashSet");else{var r=e.slides.eq(e.activeIndex),s=r.attr("data-hash")||r.attr("data-history");i.location.hash=s||"",e.emit("hashSet")}},init:function(){var e=this,t=an(),i=Vt();if(!(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)){e.hashNavigation.initialized=!0;var r=t.location.hash.replace("#","");if(r)for(var o=0,a=e.slides.length;o<a;o+=1){var l=e.slides.eq(o);if((l.attr("data-hash")||l.attr("data-history"))===r&&!l.hasClass(e.params.slideDuplicateClass)){var u=l.index();e.slideTo(u,0,e.params.runCallbacksOnInit,!0)}}e.params.hashNavigation.watchState&&Fe(i).on("hashchange",e.hashNavigation.onHashChange)}},destroy:function(){var t=Vt();this.params.hashNavigation.watchState&&Fe(t).off("hashchange",this.hashNavigation.onHashChange)}};function Kx(){return Kx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Kx.apply(this,arguments)}var OQ={run:function(){var e=this,t=e.slides.eq(e.activeIndex),i=e.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(i=t.attr("data-swiper-autoplay")||e.params.autoplay.delay),clearTimeout(e.autoplay.timeout),e.autoplay.timeout=Zo(function(){var r;e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),r=e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(r=e.slideTo(e.slides.length-1,e.params.speed,!0,!0),e.emit("autoplay")):(r=e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.params.loop?(e.loopFix(),r=e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(r=e.slideTo(0,e.params.speed,!0,!0),e.emit("autoplay")):(r=e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")),(e.params.cssMode&&e.autoplay.running||!1===r)&&e.autoplay.run()},i)},start:function(){var e=this;return!(typeof e.autoplay.timeout<"u"||e.autoplay.running||(e.autoplay.running=!0,e.emit("autoplayStart"),e.autoplay.run(),0))},stop:function(){var e=this;return!(!e.autoplay.running||typeof e.autoplay.timeout>"u"||(e.autoplay.timeout&&(clearTimeout(e.autoplay.timeout),e.autoplay.timeout=void 0),e.autoplay.running=!1,e.emit("autoplayStop"),0))},pause:function(e){var t=this;t.autoplay.running&&(t.autoplay.paused||(t.autoplay.timeout&&clearTimeout(t.autoplay.timeout),t.autoplay.paused=!0,0!==e&&t.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach(function(i){t.$wrapperEl[0].addEventListener(i,t.autoplay.onTransitionEnd)}):(t.autoplay.paused=!1,t.autoplay.run())))},onVisibilityChange:function(){var e=this,t=an();"hidden"===t.visibilityState&&e.autoplay.running&&e.autoplay.pause(),"visible"===t.visibilityState&&e.autoplay.paused&&(e.autoplay.run(),e.autoplay.paused=!1)},onTransitionEnd:function(e){var t=this;!t||t.destroyed||!t.$wrapperEl||e.target===t.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(function(i){t.$wrapperEl[0].removeEventListener(i,t.autoplay.onTransitionEnd)}),t.autoplay.paused=!1,t.autoplay.running?t.autoplay.run():t.autoplay.stop())},onMouseEnter:function(){var e=this;e.params.autoplay.disableOnInteraction?e.autoplay.stop():e.autoplay.pause(),["transitionend","webkitTransitionEnd"].forEach(function(t){e.$wrapperEl[0].removeEventListener(t,e.autoplay.onTransitionEnd)})},onMouseLeave:function(){var e=this;e.params.autoplay.disableOnInteraction||(e.autoplay.paused=!1,e.autoplay.run())},attachMouseEvents:function(){var e=this;e.params.autoplay.pauseOnMouseEnter&&(e.$el.on("mouseenter",e.autoplay.onMouseEnter),e.$el.on("mouseleave",e.autoplay.onMouseLeave))},detachMouseEvents:function(){var e=this;e.$el.off("mouseenter",e.autoplay.onMouseEnter),e.$el.off("mouseleave",e.autoplay.onMouseLeave)}};function Zx(){return Zx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Zx.apply(this,arguments)}var LQ={setTranslate:function(){for(var e=this,t=e.slides,i=0;i<t.length;i+=1){var r=e.slides.eq(i),o=-r[0].swiperSlideOffset;e.params.virtualTranslate||(o-=e.translate);var a=0;e.isHorizontal()||(a=o,o=0);var l=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(r[0].progress),0):1+Math.min(Math.max(r[0].progress,-1),0);r.css({opacity:l}).transform("translate3d("+o+"px, "+a+"px, 0px)")}},setTransition:function(e){var t=this,i=t.slides,r=t.$wrapperEl;if(i.transition(e),t.params.virtualTranslate&&0!==e){var s=!1;i.transitionEnd(function(){if(!s&&t&&!t.destroyed){s=!0,t.animating=!1;for(var o=["webkitTransitionEnd","transitionend"],a=0;a<o.length;a+=1)r.trigger(o[a])}})}}};function Jx(){return Jx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Jx.apply(this,arguments)}var NQ={setTranslate:function(){var p,e=this,t=e.$el,i=e.$wrapperEl,r=e.slides,s=e.width,o=e.height,a=e.rtlTranslate,l=e.size,c=e.browser,u=e.params.cubeEffect,d=e.isHorizontal(),h=e.virtual&&e.params.virtual.enabled,f=0;u.shadow&&(d?(0===(p=i.find(".swiper-cube-shadow")).length&&(p=Fe('<div class="swiper-cube-shadow"></div>'),i.append(p)),p.css({height:s+"px"})):0===(p=t.find(".swiper-cube-shadow")).length&&(p=Fe('<div class="swiper-cube-shadow"></div>'),t.append(p)));for(var g=0;g<r.length;g+=1){var _=r.eq(g),m=g;h&&(m=parseInt(_.attr("data-swiper-slide-index"),10));var y=90*m,v=Math.floor(y/360);a&&(y=-y,v=Math.floor(-y/360));var b=Math.max(Math.min(_[0].progress,1),-1),x=0,M=0,S=0;if(m%4==0?(x=4*-v*l,S=0):(m-1)%4==0?(x=0,S=4*-v*l):(m-2)%4==0?(x=l+4*v*l,S=l):(m-3)%4==0&&(x=-l,S=3*l+4*l*v),a&&(x=-x),d||(M=x,x=0),b<=1&&b>-1&&(f=90*m+90*b,a&&(f=90*-m-90*b)),_.transform("rotateX("+(d?0:-y)+"deg) rotateY("+(d?y:0)+"deg) translate3d("+x+"px, "+M+"px, "+S+"px)"),u.slideShadows){var w=_.find(d?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),E=_.find(d?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===w.length&&(w=Fe('<div class="swiper-slide-shadow-'+(d?"left":"top")+'"></div>'),_.append(w)),0===E.length&&(E=Fe('<div class="swiper-slide-shadow-'+(d?"right":"bottom")+'"></div>'),_.append(E)),w.length&&(w[0].style.opacity=Math.max(-b,0)),E.length&&(E[0].style.opacity=Math.max(b,0))}}if(i.css({"-webkit-transform-origin":"50% 50% -"+l/2+"px","-moz-transform-origin":"50% 50% -"+l/2+"px","-ms-transform-origin":"50% 50% -"+l/2+"px","transform-origin":"50% 50% -"+l/2+"px"}),u.shadow)if(d)p.transform("translate3d(0px, "+(s/2+u.shadowOffset)+"px, "+-s/2+"px) rotateX(90deg) rotateZ(0deg) scale("+u.shadowScale+")");else{var L=Math.abs(f)-90*Math.floor(Math.abs(f)/90),V=1.5-(Math.sin(2*L*Math.PI/360)/2+Math.cos(2*L*Math.PI/360)/2),N=u.shadowScale/V;p.transform("scale3d("+u.shadowScale+", 1, "+N+") translate3d(0px, "+(o/2+u.shadowOffset)+"px, "+-o/2/N+"px) rotateX(-90deg)")}i.transform("translate3d(0px,0,"+(c.isSafari||c.isWebView?-l/2:0)+"px) rotateX("+(e.isHorizontal()?0:f)+"deg) rotateY("+(e.isHorizontal()?-f:0)+"deg)")},setTransition:function(e){var t=this,i=t.$el;t.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.cubeEffect.shadow&&!t.isHorizontal()&&i.find(".swiper-cube-shadow").transition(e)}};function Qx(){return Qx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Qx.apply(this,arguments)}var UQ={setTranslate:function(){for(var e=this,t=e.slides,i=e.rtlTranslate,r=0;r<t.length;r+=1){var s=t.eq(r),o=s[0].progress;e.params.flipEffect.limitRotation&&(o=Math.max(Math.min(s[0].progress,1),-1));var c=-180*o,u=0,d=-s[0].swiperSlideOffset,h=0;if(e.isHorizontal()?i&&(c=-c):(h=d,d=0,u=-c,c=0),s[0].style.zIndex=-Math.abs(Math.round(o))+t.length,e.params.flipEffect.slideShadows){var f=e.isHorizontal()?s.find(".swiper-slide-shadow-left"):s.find(".swiper-slide-shadow-top"),p=e.isHorizontal()?s.find(".swiper-slide-shadow-right"):s.find(".swiper-slide-shadow-bottom");0===f.length&&(f=Fe('<div class="swiper-slide-shadow-'+(e.isHorizontal()?"left":"top")+'"></div>'),s.append(f)),0===p.length&&(p=Fe('<div class="swiper-slide-shadow-'+(e.isHorizontal()?"right":"bottom")+'"></div>'),s.append(p)),f.length&&(f[0].style.opacity=Math.max(-o,0)),p.length&&(p[0].style.opacity=Math.max(o,0))}s.transform("translate3d("+d+"px, "+h+"px, 0px) rotateX("+u+"deg) rotateY("+c+"deg)")}},setTransition:function(e){var t=this,i=t.slides,r=t.activeIndex,s=t.$wrapperEl;if(i.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.virtualTranslate&&0!==e){var o=!1;i.eq(r).transitionEnd(function(){if(!o&&t&&!t.destroyed){o=!0,t.animating=!1;for(var l=["webkitTransitionEnd","transitionend"],c=0;c<l.length;c+=1)s.trigger(l[c])}})}}};function ew(){return ew=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ew.apply(this,arguments)}var HQ={setTranslate:function(){for(var e=this,t=e.width,i=e.height,r=e.slides,s=e.slidesSizesGrid,o=e.params.coverflowEffect,a=e.isHorizontal(),l=e.translate,c=a?t/2-l:i/2-l,u=a?o.rotate:-o.rotate,d=o.depth,h=0,f=r.length;h<f;h+=1){var p=r.eq(h),g=s[h],m=(c-p[0].swiperSlideOffset-g/2)/g*o.modifier,y=a?u*m:0,v=a?0:u*m,b=-d*Math.abs(m),x=o.stretch;"string"==typeof x&&-1!==x.indexOf("%")&&(x=parseFloat(o.stretch)/100*g);var M=a?0:x*m,S=a?x*m:0,C=1-(1-o.scale)*Math.abs(m);if(Math.abs(S)<.001&&(S=0),Math.abs(M)<.001&&(M=0),Math.abs(b)<.001&&(b=0),Math.abs(y)<.001&&(y=0),Math.abs(v)<.001&&(v=0),Math.abs(C)<.001&&(C=0),p.transform("translate3d("+S+"px,"+M+"px,"+b+"px)  rotateX("+v+"deg) rotateY("+y+"deg) scale("+C+")"),p[0].style.zIndex=1-Math.abs(Math.round(m)),o.slideShadows){var E=p.find(a?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),L=p.find(a?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===E.length&&(E=Fe('<div class="swiper-slide-shadow-'+(a?"left":"top")+'"></div>'),p.append(E)),0===L.length&&(L=Fe('<div class="swiper-slide-shadow-'+(a?"right":"bottom")+'"></div>'),p.append(L)),E.length&&(E[0].style.opacity=m>0?m:0),L.length&&(L[0].style.opacity=-m>0?-m:0)}}},setTransition:function(e){this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}};function tw(){return tw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},tw.apply(this,arguments)}var GQ={init:function(){var e=this,t=e.params.thumbs;if(e.thumbs.initialized)return!1;e.thumbs.initialized=!0;var i=e.constructor;return t.swiper instanceof i?(e.thumbs.swiper=t.swiper,At(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),At(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):kc(t.swiper)&&(e.thumbs.swiper=new i(At({},t.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),e.thumbs.swiperCreated=!0),e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",e.thumbs.onThumbClick),!0},onThumbClick:function(){var e=this,t=e.thumbs.swiper;if(t){var i=t.clickedIndex,r=t.clickedSlide;if(!(r&&Fe(r).hasClass(e.params.thumbs.slideThumbActiveClass)||typeof i>"u"||null===i)){var s;if(s=t.params.loop?parseInt(Fe(t.clickedSlide).attr("data-swiper-slide-index"),10):i,e.params.loop){var o=e.activeIndex;e.slides.eq(o).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,o=e.activeIndex);var a=e.slides.eq(o).prevAll('[data-swiper-slide-index="'+s+'"]').eq(0).index(),l=e.slides.eq(o).nextAll('[data-swiper-slide-index="'+s+'"]').eq(0).index();s=typeof a>"u"?l:typeof l>"u"?a:l-o<o-a?l:a}e.slideTo(s)}}},update:function(e){var t=this,i=t.thumbs.swiper;if(i){var r="auto"===i.params.slidesPerView?i.slidesPerViewDynamic():i.params.slidesPerView,s=t.params.thumbs.autoScrollOffset,o=s&&!i.params.loop;if(t.realIndex!==i.realIndex||o){var l,c,a=i.activeIndex;if(i.params.loop){i.slides.eq(a).hasClass(i.params.slideDuplicateClass)&&(i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft,a=i.activeIndex);var u=i.slides.eq(a).prevAll('[data-swiper-slide-index="'+t.realIndex+'"]').eq(0).index(),d=i.slides.eq(a).nextAll('[data-swiper-slide-index="'+t.realIndex+'"]').eq(0).index();l=typeof u>"u"?d:typeof d>"u"?u:d-a==a-u?i.params.slidesPerGroup>1?d:a:d-a<a-u?d:u,c=t.activeIndex>t.previousIndex?"next":"prev"}else c=(l=t.realIndex)>t.previousIndex?"next":"prev";o&&(l+="next"===c?s:-1*s),i.visibleSlidesIndexes&&i.visibleSlidesIndexes.indexOf(l)<0&&(i.params.centeredSlides&&(l=l>a?l-Math.floor(r/2)+1:l+Math.floor(r/2)-1),i.slideTo(l,e?0:void 0))}var h=1,f=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(h=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(h=1),h=Math.floor(h),i.slides.removeClass(f),i.params.loop||i.params.virtual&&i.params.virtual.enabled)for(var p=0;p<h;p+=1)i.$wrapperEl.children('[data-swiper-slide-index="'+(t.realIndex+p)+'"]').addClass(f);else for(var g=0;g<h;g+=1)i.slides.eq(t.realIndex+g).addClass(f)}}};Dk.use([dQ,fQ,{name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}},create:function(){Gn(this,{mousewheel:{enabled:!1,lastScrollTime:Yi(),lastEventBeforeSnap:void 0,recentWheelEvents:[],enable:Ss.enable,disable:Ss.disable,handle:Ss.handle,handleMouseEnter:Ss.handleMouseEnter,handleMouseLeave:Ss.handleMouseLeave,animateSlider:Ss.animateSlider,releaseScroll:Ss.releaseScroll}})},on:{init:function(e){!e.params.mousewheel.enabled&&e.params.cssMode&&e.mousewheel.disable(),e.params.mousewheel.enabled&&e.mousewheel.enable()},destroy:function(e){e.params.cssMode&&e.mousewheel.enable(),e.mousewheel.enabled&&e.mousewheel.disable()}}},{name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){Gn(this,{navigation:Bx({},gQ)})},on:{init:function(e){e.navigation.init(),e.navigation.update()},toEdge:function(e){e.navigation.update()},fromEdge:function(e){e.navigation.update()},destroy:function(e){e.navigation.destroy()},"enable disable":function(e){var t=e.navigation,i=t.$nextEl,r=t.$prevEl;i&&i[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass),r&&r[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass)},click:function(e,t){var i=e.navigation,r=i.$nextEl,s=i.$prevEl,o=t.target;if(e.params.navigation.hideOnClick&&!Fe(o).is(s)&&!Fe(o).is(r)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===o||e.pagination.el.contains(o)))return;var a;r?a=r.hasClass(e.params.navigation.hiddenClass):s&&(a=s.hasClass(e.params.navigation.hiddenClass)),e.emit(!0===a?"navigationShow":"navigationHide"),r&&r.toggleClass(e.params.navigation.hiddenClass),s&&s.toggleClass(e.params.navigation.hiddenClass)}}}},{name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(e){return e},formatFractionTotal:function(e){return e},bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){Gn(this,{pagination:Ux({dynamicBulletIndex:0},vQ)})},on:{init:function(e){e.pagination.init(),e.pagination.render(),e.pagination.update()},activeIndexChange:function(e){(e.params.loop||typeof e.snapIndex>"u")&&e.pagination.update()},snapIndexChange:function(e){e.params.loop||e.pagination.update()},slidesLengthChange:function(e){e.params.loop&&(e.pagination.render(),e.pagination.update())},snapGridLengthChange:function(e){e.params.loop||(e.pagination.render(),e.pagination.update())},destroy:function(e){e.pagination.destroy()},"enable disable":function(e){var t=e.pagination.$el;t&&t[e.enabled?"removeClass":"addClass"](e.params.pagination.lockClass)},click:function(e,t){var i=t.target;if(e.params.pagination.el&&e.params.pagination.hideOnClick&&e.pagination.$el.length>0&&!Fe(i).hasClass(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&i===e.navigation.nextEl||e.navigation.prevEl&&i===e.navigation.prevEl))return;var r=e.pagination.$el.hasClass(e.params.pagination.hiddenClass);e.emit(!0===r?"paginationShow":"paginationHide"),e.pagination.$el.toggleClass(e.params.pagination.hiddenClass)}}}},{name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){Gn(this,{scrollbar:zx({isTouched:!1,timeout:null,dragTimeout:null},bQ)})},on:{init:function(e){e.scrollbar.init(),e.scrollbar.updateSize(),e.scrollbar.setTranslate()},update:function(e){e.scrollbar.updateSize()},resize:function(e){e.scrollbar.updateSize()},observerUpdate:function(e){e.scrollbar.updateSize()},setTranslate:function(e){e.scrollbar.setTranslate()},setTransition:function(e,t){e.scrollbar.setTransition(t)},"enable disable":function(e){var t=e.scrollbar.$el;t&&t[e.enabled?"removeClass":"addClass"](e.params.scrollbar.lockClass)},destroy:function(e){e.scrollbar.destroy()}}},{name:"parallax",params:{parallax:{enabled:!1}},create:function(){Gn(this,{parallax:Hx({},wQ)})},on:{beforeInit:function(e){e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},init:function(e){e.params.parallax.enabled&&e.parallax.setTranslate()},setTranslate:function(e){e.params.parallax.enabled&&e.parallax.setTranslate()},setTransition:function(e,t){e.params.parallax.enabled&&e.parallax.setTransition(t)}}},{name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var e=this;Gn(e,{zoom:Vx({enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}},Gx)});var t=1;Object.defineProperty(e.zoom,"scale",{get:function(){return t},set:function(r){t!==r&&e.emit("zoomChange",r,e.zoom.gesture.$imageEl?e.zoom.gesture.$imageEl[0]:void 0,e.zoom.gesture.$slideEl?e.zoom.gesture.$slideEl[0]:void 0),t=r}})},on:{init:function(e){e.params.zoom.enabled&&e.zoom.enable()},destroy:function(e){e.zoom.disable()},touchStart:function(e,t){e.zoom.enabled&&e.zoom.onTouchStart(t)},touchEnd:function(e,t){e.zoom.enabled&&e.zoom.onTouchEnd(t)},doubleTap:function(e,t){!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&e.zoom.toggle(t)},transitionEnd:function(e){e.zoom.enabled&&e.params.zoom.enabled&&e.zoom.onTransitionEnd()},slideChange:function(e){e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&e.zoom.onTransitionEnd()}}},{name:"lazy",params:{lazy:{checkInView:!1,enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,scrollingElement:"",elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){Gn(this,{lazy:Wx({initialImageLoaded:!1},SQ)})},on:{beforeInit:function(e){e.params.lazy.enabled&&e.params.preloadImages&&(e.params.preloadImages=!1)},init:function(e){e.params.lazy.enabled&&!e.params.loop&&0===e.params.initialSlide&&(e.params.lazy.checkInView?e.lazy.checkInViewOnLoad():e.lazy.load())},scroll:function(e){e.params.freeMode&&!e.params.freeModeSticky&&e.lazy.load()},"scrollbarDragMove resize _freeModeNoMomentumRelease":function(e){e.params.lazy.enabled&&e.lazy.load()},transitionStart:function(e){e.params.lazy.enabled&&(e.params.lazy.loadOnTransitionStart||!e.params.lazy.loadOnTransitionStart&&!e.lazy.initialImageLoaded)&&e.lazy.load()},transitionEnd:function(e){e.params.lazy.enabled&&!e.params.lazy.loadOnTransitionStart&&e.lazy.load()},slideChange:function(e){var t=e.params;t.lazy.enabled&&(t.cssMode||(t.watchSlidesVisibility||t.watchSlidesProgress)&&(t.touchReleaseOnEdges||0===t.resistanceRatio))&&e.lazy.load()}}},{name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){Gn(this,{controller:$x({control:this.params.controller.control},jx)})},on:{update:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},resize:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},observerUpdate:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},setTranslate:function(e,t,i){e.controller.control&&e.controller.setTranslate(t,i)},setTransition:function(e,t,i){e.controller.control&&e.controller.setTransition(t,i)}}},{name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group"}},create:function(){Gn(this,{a11y:Xx({},AQ,{liveRegion:Fe('<span class="'+this.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>')})})},on:{afterInit:function(e){e.params.a11y.enabled&&(e.a11y.init(),e.a11y.updateNavigation())},toEdge:function(e){e.params.a11y.enabled&&e.a11y.updateNavigation()},fromEdge:function(e){e.params.a11y.enabled&&e.a11y.updateNavigation()},paginationUpdate:function(e){e.params.a11y.enabled&&e.a11y.updatePagination()},destroy:function(e){e.params.a11y.enabled&&e.a11y.destroy()}}},{name:"history",params:{history:{enabled:!1,root:"",replaceState:!1,key:"slides"}},create:function(){Gn(this,{history:qx({},rh)})},on:{init:function(e){e.params.history.enabled&&e.history.init()},destroy:function(e){e.params.history.enabled&&e.history.destroy()},"transitionEnd _freeModeNoMomentumRelease":function(e){e.history.initialized&&e.history.setHistory(e.params.history.key,e.activeIndex)},slideChange:function(e){e.history.initialized&&e.params.cssMode&&e.history.setHistory(e.params.history.key,e.activeIndex)}}},{name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){Gn(this,{hashNavigation:Yx({initialized:!1},IQ)})},on:{init:function(e){e.params.hashNavigation.enabled&&e.hashNavigation.init()},destroy:function(e){e.params.hashNavigation.enabled&&e.hashNavigation.destroy()},"transitionEnd _freeModeNoMomentumRelease":function(e){e.hashNavigation.initialized&&e.hashNavigation.setHash()},slideChange:function(e){e.hashNavigation.initialized&&e.params.cssMode&&e.hashNavigation.setHash()}}},{name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}},create:function(){Gn(this,{autoplay:Kx({},OQ,{running:!1,paused:!1})})},on:{init:function(e){e.params.autoplay.enabled&&(e.autoplay.start(),an().addEventListener("visibilitychange",e.autoplay.onVisibilityChange),e.autoplay.attachMouseEvents())},beforeTransitionStart:function(e,t,i){e.autoplay.running&&(i||!e.params.autoplay.disableOnInteraction?e.autoplay.pause(t):e.autoplay.stop())},sliderFirstMove:function(e){e.autoplay.running&&(e.params.autoplay.disableOnInteraction?e.autoplay.stop():e.autoplay.pause())},touchEnd:function(e){e.params.cssMode&&e.autoplay.paused&&!e.params.autoplay.disableOnInteraction&&e.autoplay.run()},destroy:function(e){e.autoplay.detachMouseEvents(),e.autoplay.running&&e.autoplay.stop(),an().removeEventListener("visibilitychange",e.autoplay.onVisibilityChange)}}},{name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){Gn(this,{fadeEffect:Zx({},LQ)})},on:{beforeInit:function(e){if("fade"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"fade");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};At(e.params,t),At(e.originalParams,t)}},setTranslate:function(e){"fade"===e.params.effect&&e.fadeEffect.setTranslate()},setTransition:function(e,t){"fade"===e.params.effect&&e.fadeEffect.setTransition(t)}}},{name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){Gn(this,{cubeEffect:Jx({},NQ)})},on:{beforeInit:function(e){if("cube"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"cube"),e.classNames.push(e.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};At(e.params,t),At(e.originalParams,t)}},setTranslate:function(e){"cube"===e.params.effect&&e.cubeEffect.setTranslate()},setTransition:function(e,t){"cube"===e.params.effect&&e.cubeEffect.setTransition(t)}}},{name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){Gn(this,{flipEffect:Qx({},UQ)})},on:{beforeInit:function(e){if("flip"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"flip"),e.classNames.push(e.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};At(e.params,t),At(e.originalParams,t)}},setTranslate:function(e){"flip"===e.params.effect&&e.flipEffect.setTranslate()},setTransition:function(e,t){"flip"===e.params.effect&&e.flipEffect.setTransition(t)}}},{name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}},create:function(){Gn(this,{coverflowEffect:ew({},HQ)})},on:{beforeInit:function(e){"coverflow"===e.params.effect&&(e.classNames.push(e.params.containerModifierClass+"coverflow"),e.classNames.push(e.params.containerModifierClass+"3d"),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},setTranslate:function(e){"coverflow"===e.params.effect&&e.coverflowEffect.setTranslate()},setTransition:function(e,t){"coverflow"===e.params.effect&&e.coverflowEffect.setTransition(t)}}},{name:"thumbs",params:{thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){Gn(this,{thumbs:tw({swiper:null,initialized:!1},GQ)})},on:{beforeInit:function(e){var t=e.params.thumbs;!t||!t.swiper||(e.thumbs.init(),e.thumbs.update(!0))},slideChange:function(e){e.thumbs.swiper&&e.thumbs.update()},update:function(e){e.thumbs.swiper&&e.thumbs.update()},resize:function(e){e.thumbs.swiper&&e.thumbs.update()},observerUpdate:function(e){e.thumbs.swiper&&e.thumbs.update()},setTransition:function(e,t){var i=e.thumbs.swiper;i&&i.setTransition(t)},beforeDestroy:function(e){var t=e.thumbs.swiper;t&&e.thumbs.swiperCreated&&t&&t.destroy()}}}]);const $Q=function(n){return{"swiper-container":n}},jQ=["*"];let XQ=(()=>{class n{constructor(t,i){this.elementRef=t,this.changeDetectorRef=i,this.slideCount=0,this.initialized=!1,this.shouldInitialize=!0}set initialize(t){this.shouldInitialize=!this.initialized&&t}ngAfterViewInit(){this.shouldInitialize&&this.setup()}setup(){this.swiper||(this.elementRef.nativeElement.querySelector&&(this.swiperWrapper=this.elementRef.nativeElement.querySelector(".swiper-wrapper"),this.slideCount=this.swiperWrapper.childElementCount,this.swiper=new Dk(this.elementRef.nativeElement.querySelector("swiper > div"),this.config),this.changeDetectorRef.detectChanges()),this.shouldInitialize=!1)}ngAfterViewChecked(){this.shouldInitialize&&this.setup(),this.swiperWrapper&&this.slideCount!==this.swiperWrapper.childElementCount&&(this.slideCount=this.swiperWrapper.childElementCount,this.swiper.update())}ngOnDestroy(){this.swiper.destroy(!0,!0)}}return n.\u0275fac=function(t){return new(t||n)(H(Xt),H(lr))},n.\u0275cmp=Yt({type:n,selectors:[["swiper"]],inputs:{initialize:"initialize",config:"config"},ngContentSelectors:jQ,decls:2,vars:3,consts:[[3,"ngClass"]],template:function(t,i){1&t&&(Ys(),O(0,"div",0),Ai(1),z()),2&t&&we("ngClass",Qt(1,$Q,void 0===(null==i.config?null:i.config.containerModifierClass)))},dependencies:[Ar],styles:["[_nghost-%COMP%]{display:block}.swiper-container[_ngcontent-%COMP%]{height:100%;width:100%}"],changeDetection:0}),n})(),qQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({imports:[dc]}),n})();function YQ(n,e){if(1&n&&Re(0,"img",7),2&n){const i=e.index;we("src",e.$implicit,Iv)("alt",i)}}const KQ=function(n,e,t){return{fullscreen:n,portrait:e,landscape:t}};let ZQ=(()=>{class n{constructor(){this.config={pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},spaceBetween:20,autoplay:{disableOnInteraction:!1},effect:"slide",loop:!1,observer:!0,observeParents:!0}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Yt({type:n,selectors:[["app-swiper"]],inputs:{name:"name",images:"images",portrait:"portrait",fullscreen:"fullscreen"},decls:9,vars:8,consts:[[1,"container"],[1,"swiper",3,"config","ngClass"],[1,"swiper-wrapper"],["class","swiper-slide",3,"src","alt",4,"ngFor","ngForOf"],[1,"swiper-button-prev"],[1,"swiper-button-next"],[1,"swiper-pagination"],[1,"swiper-slide",3,"src","alt"]],template:function(t,i){1&t&&(O(0,"div",0)(1,"h2"),X(2),z(),O(3,"swiper",1)(4,"div",2),Nn(5,YQ,1,2,"img",3),z(),Re(6,"button",4)(7,"button",5)(8,"div",6),z()()),2&t&&(Me(2),tc(i.name),Me(1),we("config",i.config)("ngClass",S1(4,KQ,i.fullscreen,i.portrait&&!i.fullscreen,!i.portrait&&!i.fullscreen)),Me(2),we("ngForOf",i.images))},dependencies:[Ar,Ep,XQ],styles:["*[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.container[_ngcontent-%COMP%]{width:1000px;height:auto;margin-bottom:50px}.swiper[_ngcontent-%COMP%]{overflow:hidden;position:relative;display:flex;margin-left:auto;margin-right:auto;border-radius:var(--rounded)}.swiper[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:not(.swiper-wrapper, .swiper-slide)[_ngcontent-%COMP%]{opacity:0;visibility:hidden;transition:opacity .2s ease-in-out,visibility .2s ease-in-out}.swiper[_ngcontent-%COMP%]:hover   *[_ngcontent-%COMP%]:not(.swiper-wrapper, .swiper-slide)[_ngcontent-%COMP%], .swiper[_ngcontent-%COMP%]:active   *[_ngcontent-%COMP%]:not(.swiper-wrapper, .swiper-slide)[_ngcontent-%COMP%]{opacity:1;visibility:visible}.landscape[_ngcontent-%COMP%]{width:1000px;aspect-ratio:3/2}.portrait[_ngcontent-%COMP%]{width:500px;aspect-ratio:4/5}.fullscreen[_ngcontent-%COMP%]{width:100%;height:100%}.swiper-wrapper[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:row}.swiper-slide[_ngcontent-%COMP%]{width:1000px;height:auto;position:relative;background-color:#000}.swiper-slide[_ngcontent-%COMP%]{display:block;width:100%;height:100%;object-fit:cover}img[_ngcontent-%COMP%]{width:100%;border-radius:var(--rounded)}button[_ngcontent-%COMP%]{width:5%;height:100%;top:0;margin:0;position:absolute;opacity:1;color:#fff;background:none;border:none;outline:none;padding-left:unset;padding-right:unset;padding:unset;min-width:unset;box-shadow:unset;border-radius:unset;transition:opacity .2s ease-in-out}button[_ngcontent-%COMP%]:hover{opacity:.8}button[_ngcontent-%COMP%]:before, button[_ngcontent-%COMP%]:after{font-size:24px}.swiper-button-prev[_ngcontent-%COMP%], .swiper-button-next[_ngcontent-%COMP%]{width:8%;position:absolute}.swiper-button-prev[_ngcontent-%COMP%]:not(.swiper-button-disabled):after, .swiper-button-next[_ngcontent-%COMP%]:not(.swiper-button-disabled):after{opacity:.7;transition:opacity .2s ease-in-out}.swiper-button-prev[_ngcontent-%COMP%]:hover:after, .swiper-button-next[_ngcontent-%COMP%]:hover:after{opacity:1}.swiper-button-prev[_ngcontent-%COMP%]:active:after, .swiper-button-next[_ngcontent-%COMP%]:active:after{opacity:.5}.swiper-button-prev[_ngcontent-%COMP%]{left:0}.swiper-button-next[_ngcontent-%COMP%]{right:0}  .swiper-pagination-bullet{background-color:var(--alpha-white2)}  .swiper-pagination-bullet-active{background-color:var(--scheme-color)}  .swiper-button-disabled:after{opacity:0!important;transition:opacity .2s ease-in-out}h2[_ngcontent-%COMP%]{font-size:25px;font-weight:300;margin-top:0}@media only screen and (max-width: 1200px){.container[_ngcontent-%COMP%], .landscape[_ngcontent-%COMP%]{width:800px}.portrait[_ngcontent-%COMP%]{width:400px}}@media only screen and (max-width: 900px){.container[_ngcontent-%COMP%], .landscape[_ngcontent-%COMP%]{width:500px}.portrait[_ngcontent-%COMP%]{width:300px}h2[_ngcontent-%COMP%]{font-size:20px}}@media only screen and (max-width: 600px){.container[_ngcontent-%COMP%], .landscape[_ngcontent-%COMP%], .portrait[_ngcontent-%COMP%]{width:300px}}"]}),n})(),Pk=(()=>{class n{constructor(t,i){this.elementRef=t,this.backend=i,this.src="",this.sensitive=.01}get element(){return this.elementRef.nativeElement}ngOnInit(){this._source=this.element.src||this.src,this._createElement()}ngOnDestroy(){this._destroyElement()}openMoal(){this.modal_bg.classList.add("open")}onEscape(t){"Escape"===t.key&&this.modal_bg?.classList.contains("open")&&this.modal_bg.classList.remove("open")}_contextmenu(){return!1}_createElement(){function t(o){const a=(50-o.clientX-window.innerWidth/2)*s.sensitive,l=(50-o.clientY-window.innerHeight/2)*s.sensitive;s.modal_image.style.transform=`translateX(${a}px) translateY(${l}px)`}function i(o){s.modal_image.style.transform=`translateX(${(50-o.beta)*s.sensitive}px) translateY(${(50-o.gamma)*s.sensitive}px)`}this.modal_bg=document.createElement("div"),this.modal_bg.classList.add("modal-bg"),this.modal_image=document.createElement("img"),this.modal_image.id="modal-image",this.modal_image.src=this._source,this.modal_bg.oncontextmenu=this._contextmenu,this.modal_image.oncontextmenu=this._contextmenu,this.modal_bg.appendChild(this.modal_image),document.body.appendChild(this.modal_bg),this.modal_bg.addEventListener("click",()=>{this.modal_bg.classList.remove("open")}),this.modal_image.addEventListener("click",o=>{o.stopPropagation?o.stopPropagation():o.cancelBubble=!0});let s=this;this.parallax&&function r(){s.backend.isMobile&&window.DeviceOrientationEvent?window.addEventListener("deviceorientation",i):document.addEventListener("mousemove",t)}()}_destroyElement(){document.body.removeChild(this.modal_bg)}}return n.\u0275fac=function(t){return new(t||n)(H(Xt),H(Na))},n.\u0275dir=Ze({type:n,selectors:[["","ModalView",""]],hostBindings:function(t,i){1&t&&$e("click",function(){return i.openMoal()})("keydown",function(s){return i.onEscape(s)},!1,Hl)},inputs:{src:"src",parallax:"parallax",sensitive:"sensitive"}}),n})();function JQ(n,e){if(1&n){const t=Sr();O(0,"div",12)(1,"button",13),$e("click",function(){return Hi(t),sn(),Vi(qs(5).click())}),X(2,"View image"),z()()}}const QQ=function(){return["C, C++, Python, JavaScript, TypeScript"]},eee=function(n){return{icon:"fa-code",title:"Backend",descriptions:n}},tee=function(){return["Angular, Vue"]},nee=function(n){return{icon:"fa-sticky-note-o ",title:"Frontend",descriptions:n}},iee=function(){return["Modeling, Lighting, Rendering","Blender"]},ree=function(n){return{icon:"fa-cube",title:"3D Art",descriptions:n,url:"3d"}},see=function(){return["Traveling, Gaming"]},oee=function(n){return{icon:"fa-ellipsis-h",title:"and more",descriptions:n}},aee=function(n,e,t,i){return[n,e,t,i]},lee=function(){return["assets/images/lifestyle/0.jpg","assets/images/lifestyle/1.jpg","assets/images/lifestyle/2.jpg","assets/images/lifestyle/3.jpg","assets/images/lifestyle/4.jpg","assets/images/lifestyle/5.jpg"]};let cee=(()=>{class n{constructor(t,i){this.theme=t,this.router=i}}return n.\u0275fac=function(t){return new(t||n)(H(hr),H(wn))},n.\u0275cmp=Yt({type:n,selectors:[["app-about-me"]],decls:28,vars:22,consts:[["id","content"],[1,"scroll-reveal"],["id","about"],["id","me","src","assets/images/profile-5.jpg","ModalView","",3,"cdkContextMenuTriggerFor"],["me",""],["id","greeting"],["id","buttons"],[1,"animated-btn","primary",3,"click"],[1,"animated-btn",3,"click"],["name","What I do",3,"items"],["name","Lifestyle picture",3,"portrait","images"],["Image",""],["cdkMenu","",1,"ContextMenu"],["cdkMenuItem","",1,"ContextMenu-Item",3,"click"]],template:function(t,i){if(1&t&&(O(0,"app-page")(1,"div",0)(2,"section",1)(3,"div",2),Re(4,"img",3,4),O(6,"span",5)(7,"h1"),X(8," Peeradon Rungkanawut "),O(9,"span"),X(10,"Fullstack Developer"),z()(),O(11,"p"),X(12," I have passion in programming and primarily use Python as my main programming language. Currently, I'm also studying Angular for web development. "),Re(13,"br")(14,"br"),X(15," I enjoy learning different things to meet my developmental goals. "),Re(16,"br"),z(),O(17,"div",6)(18,"button",7),$e("click",function(){return i.router.navigateByUrl("resume")}),X(19,"View resume"),z(),O(20,"button",8),$e("click",function(){return i.router.navigateByUrl("contact")}),X(21,"Contact me"),z()()()()(),O(22,"section",1),Re(23,"app-flex-card-box",9),z(),O(24,"section",1),Re(25,"app-swiper",10),z()()(),Nn(26,JQ,3,0,"ng-template",null,11,No)),2&t){const r=qs(27);Me(4),we("cdkContextMenuTriggerFor",r),Me(19),we("items",My(16,aee,Qt(5,eee,ko(4,QQ)),Qt(8,nee,ko(7,tee)),Qt(11,ree,ko(10,iee)),Qt(14,oee,ko(13,see)))),Me(2),we("portrait",!0)("images",ko(21,lee))}},dependencies:[kd,Pa,h0,Oc,bk,ZQ,Pk],styles:["*[_ngcontent-%COMP%]{transition:all .2s ease-in-out}#me[_ngcontent-%COMP%]{width:250px;height:250px;clip-path:circle(50% at 50% 50%);margin:50px;object-fit:cover}.aura[_ngcontent-%COMP%]{filter:drop-shadow(0 0 10px var(--alpha-scheme-color))}.hidden-modal[_ngcontent-%COMP%]{animation:fadeOut ease .2s}.hidden-img[_ngcontent-%COMP%]{animation:fadeOut-popup ease .2s}#content[_ngcontent-%COMP%]{margin-top:100px;margin-bottom:150px;display:flex;flex-direction:column;align-items:center;gap:175px}#about[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:50px}#greeting[_ngcontent-%COMP%]{max-width:520px}#greeting[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:left;margin-top:0;margin-bottom:25px;display:flex;gap:5px;flex-direction:row;position:relative}#greeting[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-weight:200;font-size:18px;position:absolute;right:0;bottom:0;opacity:.5}#buttons[_ngcontent-%COMP%]{display:flex;margin-top:30px;gap:10px}@media only screen and (max-width: 1200px){#me[_ngcontent-%COMP%]{width:200px;height:200px}#greeting[_ngcontent-%COMP%]{max-width:410px;font-size:80%;line-height:140%}#greeting[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:16px;bottom:-2px}}@media only screen and (max-width: 900px){#about[_ngcontent-%COMP%]{flex-direction:column}#greeting[_ngcontent-%COMP%]{max-width:500px;font-size:80%}#greeting[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;flex-direction:column}#greeting[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{position:unset;font-size:14px}#buttons[_ngcontent-%COMP%]{justify-content:center}}@media only screen and (max-width: 600px){#me[_ngcontent-%COMP%]{width:150px;height:150px;margin:25px}#greeting[_ngcontent-%COMP%]{width:300px;margin-top:30px;font-size:60%}p[_ngcontent-%COMP%]{padding-left:10px}}"]}),n})(),uee=(()=>{class n{constructor(t){this.router=t}ngOnInit(){this.router.navigateByUrl("aboutme")}}return n.\u0275fac=function(t){return new(t||n)(H(wn))},n.\u0275cmp=Yt({type:n,selectors:[["app-landing"]],decls:0,vars:0,template:function(t,i){}}),n})();const hee=function(n,e,t,i,r,s){return{darkcard:n,whitecard:e,fullwidth:t,fullheight:i,justborder:r,glass:s}},fee=["*"];let Ik=(()=>{class n{constructor(t){this.theme=t,this.transparent=!0}}return n.\u0275fac=function(t){return new(t||n)(H(hr))},n.\u0275cmp=Yt({type:n,selectors:[["app-card"]],inputs:{fullWidth:"fullWidth",fullHeight:"fullHeight",justBorder:"justBorder",transparent:"transparent"},ngContentSelectors:fee,decls:2,vars:8,consts:[["id","card",3,"ngClass"]],template:function(t,i){1&t&&(Ys(),O(0,"div",0),Ai(1),z()),2&t&&we("ngClass",function C1(n,e,t,i,r,s,o,a,l){const c=Si()+n,u=ue(),d=Er(u,c,t,i,r,s);return Ma(u,c+4,o,a)||d?gs(u,c+6,l?e.call(l,t,i,r,s,o,a):e(t,i,r,s,o,a)):nd(u,c+6)}(1,hee,i.theme.is_dark,!i.theme.is_dark,i.fullWidth,i.fullHeight,i.justBorder,i.transparent))},dependencies:[Ar],styles:["*[_ngcontent-%COMP%]{transition:all .2s ease-in-out}#card[_ngcontent-%COMP%]{min-width:200px;min-height:100px;display:flex;padding:20px;border:none;border-radius:var(--rounded);flex:1 0 200px;align-items:center;transition:scale .3s ease-in-out,box-shadow .3s ease-in-out,background-color .2s ease-in-out;animation:WalkIn ease 1s}.whitecard[_ngcontent-%COMP%]{background-color:var(--alpha-white2);color:var(--dark3);box-shadow:0 4px 10px #00000026}.darkcard[_ngcontent-%COMP%]{background-color:var(--alpha-dark2);color:var(--white3);box-shadow:0 5px 10px #00000059}.whitecard[_ngcontent-%COMP%]:not(.glass){background-color:var(--white2);color:var(--dark3);box-shadow:0 4px 10px #00000026}.darkcard[_ngcontent-%COMP%]:not(.glass){background-color:var(--dark2);color:var(--white3);box-shadow:0 5px 10px #00000059}#card.fullwidth[_ngcontent-%COMP%]{width:100%}#card.fullheight[_ngcontent-%COMP%]{height:100%;align-items:flex-start;flex-direction:column}#card.justborder[_ngcontent-%COMP%]{background-color:transparent!important;box-shadow:none!important;backdrop-filter:unset!important;-webkit-backdrop-filter:unset!important}#card.justborder.whitecard[_ngcontent-%COMP%]{border:1px solid var(--alpha-dark);color:var(--dark3)}#card.justborder.darkcard[_ngcontent-%COMP%]{border:1px solid var(--alpha-white);color:var(--white3)}#card[_ngcontent-%COMP%]     app-flex-card-box .flex-container{border-radius:10px}"]}),n})();const Rk=function(n,e){return{"dark-theme":n,"white-theme":e}};let pee=(()=>{class n{constructor(t,i){this.theme=t,this._snackBar=i}HireMe(){!function dee(n,e,t="animate__"){new Promise((i,r)=>{const s=`${t}${e}`,o=document.querySelector(n);o.classList.add(`${t}animated`,s),o.addEventListener("animationend",function a(l){l.stopPropagation(),o.classList.remove(`${t}animated`,s),i("Animation ended")},{once:!0})})}("#personal_wrapper","pulse")}OnCopy(){this._snackBar.open("Copied!","Done",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom"})}}return n.\u0275fac=function(t){return new(t||n)(H(hr),H(sX))},n.\u0275cmp=Yt({type:n,selectors:[["app-contact"]],decls:29,vars:10,consts:[["id","content"],["id","buttons"],["id","icon-btn","href","https://www.facebook.com/thestampr","target","_blank","matTooltipPosition","above","matTooltip","Facebook",1,"animated-btn","fa","fa-facebook"],["id","icon-btn","href","https://www.instagram.com/__stampr/","target","_blank","matTooltipPosition","above","matTooltip","Instagram",1,"animated-btn","fa","fa-instagram"],["id","icon-btn","href","https://www.linkedin.com/in/stampr/","target","_blank","matTooltipPosition","above","matTooltip","Linkedin",1,"animated-btn","fa","fa-linkedin"],["id","icon-btn","href","https://github.com/thestampr","target","_blank","matTooltipPosition","above","matTooltip","Github",1,"animated-btn","fa","fa-github"],[1,"or"],["id","hire","matTooltipPosition","above","matTooltip","Click to see the magic",1,"animated-btn",3,"click"],["id","personal_wrapper"],["id","personal"],[1,"personal-item",3,"ngClass"],["id","icon",1,"icon-small","fa","fa-envelope"],["matTooltipPosition","above","matTooltip","Copy","matRipple","",1,"clone-btn","fa","fa-clone",3,"cdkCopyToClipboard","click"],["copy_email",""],["id","icon",1,"icon-small","fa","fa-phone"],["matTooltipPosition","above","matTooltip","Not available","matRipple","",1,"clone-btn","fa","fa-clone",3,"matRippleDisabled"],["copy_tel",""]],template:function(t,i){1&t&&(O(0,"app-page")(1,"div",0)(2,"h1"),X(3,"Contact me"),z(),Re(4,"br"),O(5,"div",1),Re(6,"a",2)(7,"a",3)(8,"a",4)(9,"a",5),O(10,"div",6)(11,"span"),X(12," or "),z()(),O(13,"button",7),$e("click",function(){return i.HireMe()}),X(14,"Hire me"),z()(),O(15,"div",8)(16,"app-card")(17,"div",9)(18,"div",10),Re(19,"i",11),X(20," thestampmc@gmail.com "),O(21,"button",12,13),$e("click",function(){return i.OnCopy()}),z()(),Re(23,"br"),O(24,"div",10),Re(25,"i",14),X(26," Not available "),Re(27,"button",15,16),z()()()()()()),2&t&&(Me(18),we("ngClass",mi(4,Rk,i.theme.is_dark,!i.theme.is_dark)),Me(3),we("cdkCopyToClipboard","thestampmc@gmail.com"),Me(3),we("ngClass",mi(7,Rk,i.theme.is_dark,!i.theme.is_dark)),Me(3),we("matRippleDisabled",!0))},dependencies:[Ar,$I,O6,Zp,Oc,Ik],styles:["*[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.fa[_ngcontent-%COMP%]{width:50px;height:50px;font-size:30px;text-align:center;text-decoration:none;border-radius:50%;padding:10px;color:var(--dark3);background-color:var(--white1);box-shadow:0 4px 10px #0000001a}.personal-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;background-color:transparent;width:400px}.personal-item[_ngcontent-%COMP%]:hover   .clone-btn[_ngcontent-%COMP%]{opacity:100%}.personal-item.white-theme[_ngcontent-%COMP%]{color:var(--dark3)}.personal-item.dark-theme[_ngcontent-%COMP%]{color:var(--white3)}.clone-btn[_ngcontent-%COMP%]{width:40px;height:40px;min-width:unset;min-height:unset;line-height:22px;font-size:15px;text-align:center;text-decoration:none;border:none;background-color:unset;box-shadow:none;border-radius:50%;padding:10px;margin-left:auto;transition:opacity .1s;opacity:0%}#content[_ngcontent-%COMP%]{margin-top:100px;margin-bottom:100px;display:flex;flex-direction:column;align-items:center}#content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(h1):not(:last-child){margin-bottom:100px}#buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:12px;gap:14px}#buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}#hire[_ngcontent-%COMP%]{height:50px;min-height:unset;align-self:center;border:none;font-size:15px;border:unset;background-color:var(--white1);color:var(--dark3)}.or[_ngcontent-%COMP%]{opacity:.5;font-size:15px}.dark-theme[_ngcontent-%COMP%]   .clone-btn[_ngcontent-%COMP%]{color:var(--white3)}#icon[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:0;background-color:transparent;box-shadow:none}.dark-theme[_ngcontent-%COMP%]   #icon[_ngcontent-%COMP%]{color:var(--white3)}@media only screen and (max-width: 900px){.fa[_ngcontent-%COMP%]{width:45px;height:45px;font-size:25px}#hire[_ngcontent-%COMP%]{height:45px;align-self:flex-end}#buttons[_ngcontent-%COMP%]{width:100%;justify-content:space-between;padding:8px 0}}@media only screen and (max-width: 600px){#hire[_ngcontent-%COMP%]{height:40px}.personal-item[_ngcontent-%COMP%]{width:300px}.fa[_ngcontent-%COMP%]{width:40px;height:40px;font-size:20px}.or[_ngcontent-%COMP%]{font-size:12px}}"]}),n})(),mee=(()=>{class n{constructor(t,i){this.theme=t,this.router=i}}return n.\u0275fac=function(t){return new(t||n)(H(hr),H(wn))},n.\u0275cmp=Yt({type:n,selectors:[["app-page-not-found"]],decls:13,vars:0,consts:[["id","content"],["id","broken0"],["id","broken4"],["id","back",1,"animated-btn",3,"click"]],template:function(t,i){1&t&&(O(0,"app-page")(1,"div",0)(2,"h1")(3,"span"),X(4,"4"),z(),O(5,"span",1),X(6,"0"),z(),O(7,"span",2),X(8,"4"),z()(),O(9,"p"),X(10,"Uh sorry, this is not the way :("),z(),O(11,"button",3),$e("click",function(){return i.router.navigateByUrl("")}),X(12,"Go back"),z()()())},dependencies:[Oc],styles:["*[_ngcontent-%COMP%]{transition:all .2s ease-in-out}#content[_ngcontent-%COMP%]{height:80vh;display:flex;justify-content:center;align-items:center;flex-direction:column;margin-bottom:100px}h1[_ngcontent-%COMP%]{padding-bottom:0;margin-bottom:100px;font-size:150px;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;position:relative}h1[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;float:left}h1[_ngcontent-%COMP%] > #broken0[_ngcontent-%COMP%]{transform-origin:50% 80%;animation:_ngcontent-%COMP%_broken0 5s forwards ease-in}h1[_ngcontent-%COMP%] > #broken4[_ngcontent-%COMP%]{float:right;transform-origin:58% 78%;animation:_ngcontent-%COMP%_broken4 5s forwards ease-in}p[_ngcontent-%COMP%]{margin-bottom:100px}#back[_ngcontent-%COMP%]{border:unset;background-color:var(--white1);color:var(--dark3)}@keyframes _ngcontent-%COMP%_broken0{0%{transform:rotate(0);-webkit-transform:rotate(0deg)}60%{transform:rotate(0);-webkit-transform:rotate(0deg);transform-origin:50% 80%}to{transform:rotate(-14deg);-webkit-transform:rotate(-14deg);transform-origin:45% 78%}}@keyframes _ngcontent-%COMP%_broken4{0%{transform:rotate(-0deg);-webkit-transform:rotate(-0deg)}40%{transform:rotate(-0deg);-webkit-transform:rotate(-0deg)}60%{transform:rotate(-30deg);-webkit-transform:rotate(-30deg)}to{transform:rotate(-30deg);-webkit-transform:rotate(-30deg)}}"]}),n})();const _ee=(()=>{let n=0;return()=>(n+=1,`u${`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4)}${n}`)})();function fo(n){const e=[];for(let t=0,i=n.length;t<i;t++)e.push(n[t]);return e}function tg(n,e){const i=(n.ownerDocument.defaultView||window).getComputedStyle(n).getPropertyValue(e);return i?parseFloat(i.replace("px","")):0}function Ok(n,e={}){const t=e.width||function vee(n){const e=tg(n,"border-left-width"),t=tg(n,"border-right-width");return n.clientWidth+e+t}(n),i=e.height||function yee(n){const e=tg(n,"border-top-width"),t=tg(n,"border-bottom-width");return n.clientHeight+e+t}(n);return{width:t,height:i}}const fr=16384;function ng(n){return new Promise((e,t)=>{const i=new Image;i.decode=()=>e(i),i.onload=()=>e(i),i.onerror=t,i.crossOrigin="anonymous",i.decoding="async",i.src=n})}function nw(){return(nw=Bt(function*(n){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(n)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)})).apply(this,arguments)}function iw(){return iw=Bt(function*(n,e,t){const i="http://www.w3.org/2000/svg",r=document.createElementNS(i,"svg"),s=document.createElementNS(i,"foreignObject");return r.setAttribute("width",`${e}`),r.setAttribute("height",`${t}`),r.setAttribute("viewBox",`0 0 ${e} ${t}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),r.appendChild(s),s.appendChild(n),function wee(n){return nw.apply(this,arguments)}(r)}),iw.apply(this,arguments)}const Ki=(n,e)=>{if(n instanceof e)return!0;const t=Object.getPrototypeOf(n);return null!==t&&(t.constructor.name===e.name||Ki(t,e))};function kk(n,e,t){const i=window.getComputedStyle(n,t),r=i.getPropertyValue("content");if(""===r||"none"===r)return;const s=_ee();try{e.className=`${e.className} ${s}`}catch{return}const o=document.createElement("style");o.appendChild(function Cee(n,e,t){const i=`.${n}:${e}`,r=t.cssText?function Eee(n){const e=n.getPropertyValue("content");return`${n.cssText} content: '${e.replace(/'|"/g,"")}';`}(t):function See(n){return fo(n).map(e=>`${e}: ${n.getPropertyValue(e)}${n.getPropertyPriority(e)?" !important":""};`).join(" ")}(t);return document.createTextNode(`${i}{${r}}`)}(s,t,i)),e.appendChild(o)}const Lk="application/font-woff",Fk="image/jpeg",Aee={woff:Lk,woff2:Lk,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Fk,jpeg:Fk,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function rw(n){const e=function Dee(n){const e=/\.([^./]*?)$/g.exec(n);return e?e[1]:""}(n).toLowerCase();return Aee[e]||""}function sw(n){return-1!==n.search(/^(data:)/)}function Nk(n,e){return`data:${e};base64,${n}`}function Bk(n,e,t){return ow.apply(this,arguments)}function ow(){return(ow=Bt(function*(n,e,t){const i=yield fetch(n,e);if(404===i.status)throw new Error(`Resource "${i.url}" not found`);const r=yield i.blob();return new Promise((s,o)=>{const a=new FileReader;a.onerror=o,a.onloadend=()=>{try{s(t({res:i,result:a.result}))}catch(l){o(l)}},a.readAsDataURL(r)})})).apply(this,arguments)}const aw={};function lw(n,e,t){return cw.apply(this,arguments)}function cw(){return(cw=Bt(function*(n,e,t){const i=function Iee(n,e,t){let i=n.replace(/\?.*/,"");return t&&(i=n),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),e?`[${e}]${i}`:i}(n,e,t.includeQueryParams);if(null!=aw[i])return aw[i];let r;t.cacheBust&&(n+=(/\?/.test(n)?"&":"?")+(new Date).getTime());try{const s=yield Bk(n,t.fetchRequestInit,({res:o,result:a})=>(e||(e=o.headers.get("Content-Type")||""),function Pee(n){return n.split(/,/)[1]}(a)));r=Nk(s,e)}catch(s){r=t.imagePlaceholder||"";let o=`Failed to fetch resource: ${n}`;s&&(o="string"==typeof s?s:s.message),o&&console.warn(o)}return aw[i]=r,r})).apply(this,arguments)}function uw(){return(uw=Bt(function*(n){const e=n.toDataURL();return"data:,"===e?n.cloneNode(!1):ng(e)})).apply(this,arguments)}function dw(){return(dw=Bt(function*(n,e){if(n.currentSrc){const s=document.createElement("canvas"),o=s.getContext("2d");return s.width=n.clientWidth,s.height=n.clientHeight,o?.drawImage(n,0,0,s.width,s.height),ng(s.toDataURL())}const t=n.poster,i=rw(t);return ng(yield lw(t,i,e))})).apply(this,arguments)}function hw(){return(hw=Bt(function*(n){var e;try{if(null!==(e=n?.contentDocument)&&void 0!==e&&e.body)return yield ig(n.contentDocument.body,{},!0)}catch{}return n.cloneNode(!1)})).apply(this,arguments)}function fw(){return fw=Bt(function*(n,e){return Ki(n,HTMLCanvasElement)?function Ree(n){return uw.apply(this,arguments)}(n):Ki(n,HTMLVideoElement)?function Oee(n,e){return dw.apply(this,arguments)}(n,e):Ki(n,HTMLIFrameElement)?function kee(n){return hw.apply(this,arguments)}(n):n.cloneNode(!1)}),fw.apply(this,arguments)}const Fee=n=>null!=n.tagName&&"SLOT"===n.tagName.toUpperCase();function pw(){return(pw=Bt(function*(n,e,t){var i,r;let s=[];return s=Fee(n)&&n.assignedNodes?fo(n.assignedNodes()):Ki(n,HTMLIFrameElement)&&null!==(i=n.contentDocument)&&void 0!==i&&i.body?fo(n.contentDocument.body.childNodes):fo((null!==(r=n.shadowRoot)&&void 0!==r?r:n).childNodes),0===s.length||Ki(n,HTMLVideoElement)||(yield s.reduce((o,a)=>o.then(()=>ig(a,t)).then(l=>{l&&e.appendChild(l)}),Promise.resolve())),e})).apply(this,arguments)}function mw(){return(mw=Bt(function*(n,e){const t=n.querySelectorAll?n.querySelectorAll("use"):[];if(0===t.length)return n;const i={};for(let s=0;s<t.length;s++){const a=t[s].getAttribute("xlink:href");if(a){const l=n.querySelector(a),c=document.querySelector(a);!l&&c&&!i[a]&&(i[a]=yield ig(c,e,!0))}}const r=Object.values(i);if(r.length){const s="http://www.w3.org/1999/xhtml",o=document.createElementNS(s,"svg");o.setAttribute("xmlns",s),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const a=document.createElementNS(s,"defs");o.appendChild(a);for(let l=0;l<r.length;l++)a.appendChild(r[l]);n.appendChild(o)}return n})).apply(this,arguments)}function ig(n,e,t){return gw.apply(this,arguments)}function gw(){return gw=Bt(function*(n,e,t){return t||!e.filter||e.filter(n)?Promise.resolve(n).then(i=>function Lee(n,e){return fw.apply(this,arguments)}(i,e)).then(i=>function Nee(n,e,t){return pw.apply(this,arguments)}(n,i,e)).then(i=>function Hee(n,e){return Ki(e,Element)&&(function Bee(n,e){const t=e.style;if(!t)return;const i=window.getComputedStyle(n);i.cssText?(t.cssText=i.cssText,t.transformOrigin=i.transformOrigin):fo(i).forEach(r=>{let s=i.getPropertyValue(r);"font-size"===r&&s.endsWith("px")&&(s=Math.floor(parseFloat(s.substring(0,s.length-2)))-.1+"px"),Ki(n,HTMLIFrameElement)&&"display"===r&&"inline"===s&&(s="block"),"d"===r&&e.getAttribute("d")&&(s=`path(${e.getAttribute("d")})`),t.setProperty(r,s,i.getPropertyPriority(r))})}(n,e),function Tee(n,e){kk(n,e,":before"),kk(n,e,":after")}(n,e),function Uee(n,e){Ki(n,HTMLTextAreaElement)&&(e.innerHTML=n.value),Ki(n,HTMLInputElement)&&e.setAttribute("value",n.value)}(n,e),function zee(n,e){if(Ki(n,HTMLSelectElement)){const i=Array.from(e.children).find(r=>n.value===r.getAttribute("value"));i&&i.setAttribute("selected","")}}(n,e)),e}(n,i)).then(i=>function Vee(n,e){return mw.apply(this,arguments)}(i,e)):null}),gw.apply(this,arguments)}const Uk=/url\((['"]?)([^'"]+?)\1\)/g,Gee=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Wee=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function _w(){return(_w=Bt(function*(n,e,t,i,r){try{const s=t?function gee(n,e){if(n.match(/^[a-z]+:\/\//i))return n;if(n.match(/^\/\//))return window.location.protocol+n;if(n.match(/^[a-z]+:/i))return n;const t=document.implementation.createHTMLDocument(),i=t.createElement("base"),r=t.createElement("a");return t.head.appendChild(i),t.body.appendChild(r),e&&(i.href=e),r.href=n,r.href}(e,t):e,o=rw(e);let a;return a=r?Nk(yield r(s),o):yield lw(s,o,i),n.replace(function $ee(n){const e=n.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}(e),`$1${a}$3`)}catch{}return n})).apply(this,arguments)}function zk(n){return-1!==n.search(Uk)}function Hk(n,e,t){return vw.apply(this,arguments)}function vw(){return vw=Bt(function*(n,e,t){if(!zk(n))return n;const i=function qee(n,{preferredFontFormat:e}){return e?n.replace(Wee,t=>{for(;;){const[i,,r]=Gee.exec(t)||[];if(!r)return"";if(r===e)return`src: ${i};`}}):n}(n,t);return function jee(n){const e=[];return n.replace(Uk,(t,i,r)=>(e.push(r),t)),e.filter(t=>!sw(t))}(i).reduce((s,o)=>s.then(a=>function Xee(n,e,t,i,r){return _w.apply(this,arguments)}(a,o,e,t)),Promise.resolve(i))}),vw.apply(this,arguments)}function rg(n,e,t){return yw.apply(this,arguments)}function yw(){return(yw=Bt(function*(n,e,t){var i;const r=null===(i=e.style)||void 0===i?void 0:i.getPropertyValue(n);if(r){const s=yield Hk(r,null,t);return e.style.setProperty(n,s,e.style.getPropertyPriority(n)),!0}return!1})).apply(this,arguments)}function bw(){return(bw=Bt(function*(n,e){(yield rg("background",n,e))||(yield rg("background-image",n,e)),(yield rg("mask",n,e))||(yield rg("mask-image",n,e))})).apply(this,arguments)}function xw(){return(xw=Bt(function*(n,e){const t=Ki(n,HTMLImageElement);if((!t||sw(n.src))&&(!Ki(n,SVGImageElement)||sw(n.href.baseVal)))return;const i=t?n.src:n.href.baseVal,r=yield lw(i,rw(i),e);yield new Promise((s,o)=>{n.onload=s,n.onerror=o;const a=n;a.decode&&(a.decode=s),"lazy"===a.loading&&(a.loading="eager"),t?(n.srcset="",n.src=r):n.href.baseVal=r})})).apply(this,arguments)}function ww(){return(ww=Bt(function*(n,e){const i=fo(n.childNodes).map(r=>Vk(r,e));yield Promise.all(i).then(()=>n)})).apply(this,arguments)}function Vk(n,e){return Mw.apply(this,arguments)}function Mw(){return Mw=Bt(function*(n,e){Ki(n,Element)&&(yield function Yee(n,e){return bw.apply(this,arguments)}(n,e),yield function Kee(n,e){return xw.apply(this,arguments)}(n,e),yield function Zee(n,e){return ww.apply(this,arguments)}(n,e))}),Mw.apply(this,arguments)}const Gk={};function Wk(n){return Ew.apply(this,arguments)}function Ew(){return(Ew=Bt(function*(n){let e=Gk[n];return null!=e||(e={url:n,cssText:yield(yield fetch(n)).text()},Gk[n]=e),e})).apply(this,arguments)}function $k(n,e){return Sw.apply(this,arguments)}function Sw(){return Sw=Bt(function*(n,e){let t=n.cssText;const i=/url\(["']?([^"')]+)["']?\)/g,s=(t.match(/url\([^)]+\)/g)||[]).map(function(){var o=Bt(function*(a){let l=a.replace(i,"$1");return l.startsWith("https://")||(l=new URL(l,n.url).href),Bk(l,e.fetchRequestInit,({result:c})=>(t=t.replace(a,`url(${c})`),[a,c]))});return function(a){return o.apply(this,arguments)}}());return Promise.all(s).then(()=>t)}),Sw.apply(this,arguments)}function jk(n){if(null==n)return[];const e=[];let i=n.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=r.exec(i);if(null===l)break;e.push(l[0])}i=i.replace(r,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let l=s.exec(i);if(null===l){if(l=a.exec(i),null===l)break;s.lastIndex=a.lastIndex}else a.lastIndex=s.lastIndex;e.push(l[0])}return e}function Cw(){return(Cw=Bt(function*(n,e){const t=[],i=[];return n.forEach(r=>{if("cssRules"in r)try{fo(r.cssRules||[]).forEach((s,o)=>{if(s.type===CSSRule.IMPORT_RULE){let a=o+1;const c=Wk(s.href).then(u=>$k(u,e)).then(u=>jk(u).forEach(d=>{try{r.insertRule(d,d.startsWith("@import")?a+=1:r.cssRules.length)}catch(h){console.error("Error inserting rule from remote css",{rule:d,error:h})}})).catch(u=>{console.error("Error loading remote css",u.toString())});i.push(c)}})}catch(s){const o=n.find(a=>null==a.href)||document.styleSheets[0];null!=r.href&&i.push(Wk(r.href).then(a=>$k(a,e)).then(a=>jk(a).forEach(l=>{o.insertRule(l,r.cssRules.length)})).catch(a=>{console.error("Error loading remote stylesheet",a)})),console.error("Error inlining remote css file",s)}}),Promise.all(i).then(()=>(n.forEach(r=>{if("cssRules"in r)try{fo(r.cssRules||[]).forEach(s=>{t.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${r.href}`,s)}}),t))})).apply(this,arguments)}function Tw(){return Tw=Bt(function*(n,e){if(null==n.ownerDocument)throw new Error("Provided element is not within a Document");const t=fo(n.ownerDocument.styleSheets),i=yield function Qee(n,e){return Cw.apply(this,arguments)}(t,e);return function ete(n){return n.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>zk(e.style.getPropertyValue("src")))}(i)}),Tw.apply(this,arguments)}function Aw(){return Aw=Bt(function*(n,e){const t=yield function tte(n,e){return Tw.apply(this,arguments)}(n,e);return(yield Promise.all(t.map(r=>Hk(r.cssText,r.parentStyleSheet?r.parentStyleSheet.href:null,e)))).join("\n")}),Aw.apply(this,arguments)}function Dw(){return Dw=Bt(function*(n,e){const t=null!=e.fontEmbedCSS?e.fontEmbedCSS:e.skipFonts?null:yield function nte(n,e){return Aw.apply(this,arguments)}(n,e);if(t){const i=document.createElement("style"),r=document.createTextNode(t);i.appendChild(r),n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i)}}),Dw.apply(this,arguments)}function Pw(){return Pw=Bt(function*(n,e={}){const{width:t,height:i}=Ok(n,e),r=yield ig(n,e,!0);return yield function ite(n,e){return Dw.apply(this,arguments)}(r,e),yield Vk(r,e),function Jee(n,e){const{style:t}=n;e.backgroundColor&&(t.backgroundColor=e.backgroundColor),e.width&&(t.width=`${e.width}px`),e.height&&(t.height=`${e.height}px`);const i=e.style;null!=i&&Object.keys(i).forEach(r=>{t[r]=i[r]})}(r,e),yield function Mee(n,e,t){return iw.apply(this,arguments)}(r,t,i)}),Pw.apply(this,arguments)}function Iw(){return Iw=Bt(function*(n,e={}){const{width:t,height:i}=Ok(n,e),r=yield function rte(n){return Pw.apply(this,arguments)}(n,e),s=yield ng(r),o=document.createElement("canvas"),a=o.getContext("2d"),l=e.pixelRatio||function bee(){let n,e;try{e=process}catch{}const t=e&&e.env?e.env.devicePixelRatio:null;return t&&(n=parseInt(t,10),Number.isNaN(n)&&(n=1)),n||window.devicePixelRatio||1}(),c=e.canvasWidth||t,u=e.canvasHeight||i;return o.width=c*l,o.height=u*l,e.skipAutoScale||function xee(n){(n.width>fr||n.height>fr)&&(n.width>fr&&n.height>fr?n.width>n.height?(n.height*=fr/n.width,n.width=fr):(n.width*=fr/n.height,n.height=fr):n.width>fr?(n.height*=fr/n.width,n.width=fr):(n.width*=fr/n.height,n.height=fr))}(o),o.style.width=`${c}`,o.style.height=`${u}`,e.backgroundColor&&(a.fillStyle=e.backgroundColor,a.fillRect(0,0,o.width,o.height)),a.drawImage(s,0,0,o.width,o.height),o}),Iw.apply(this,arguments)}function Ow(){return(Ow=Bt(function*(n,e={}){return(yield function sg(n){return Iw.apply(this,arguments)}(n,e)).toDataURL()})).apply(this,arguments)}const ote=function(n,e,t,i){return{"white-bg":n,"dark-bg":e,"clickable-all":t,"start-animation":i}};let ate=(()=>{class n{constructor(t){this.theme=t,this.percent=0}}return n.\u0275fac=function(t){return new(t||n)(H(hr))},n.\u0275cmp=Yt({type:n,selectors:[["app-progress-bar"]],inputs:{percent:"percent",clickable:"clickable",startAnimation:"startAnimation"},decls:3,vars:9,consts:[[1,"progress-bg",3,"ngClass"],[1,"progress-buffer"],[1,"progress-bar"]],template:function(t,i){1&t&&(O(0,"div",0)(1,"div",1),Re(2,"div",2),z()()),2&t&&(we("ngClass",My(4,ote,i.theme.is_dark,!i.theme.is_dark,i.clickable,i.startAnimation)),Me(2),RA("width: ",i.percent,"%"))},dependencies:[Ar],styles:["*[_ngcontent-%COMP%]{transition:background-color .2s ease-in-out}.progress-bg[_ngcontent-%COMP%]{width:100%;height:10px;border:0;border-radius:100px}.white-bg[_ngcontent-%COMP%]{background-color:var(--alpha-white)}.dark-bg[_ngcontent-%COMP%]{background-color:var(--alpha-dark)}  .scroll-reveal .progress-buffer, .progress-buffer[_ngcontent-%COMP%]{width:0%;height:100%;transition:width 1s ease-in-out}.start-animation[_ngcontent-%COMP%] > .progress-buffer[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_progressBar 2s ease-in-out;animation-fill-mode:both}  .scroll-reveal.revealed .progress-buffer{animation:_ngcontent-%COMP%_progressBar 2s ease-in-out;animation-fill-mode:both}.progress-bar[_ngcontent-%COMP%]{height:100%;border:0;border-radius:100px;background-color:var(--scheme-color)}@keyframes _ngcontent-%COMP%_progressBar{0%{width:0%}to{width:100%}}"]}),n})();const Nw=function(n,e){return{"dark-theme":n,"white-theme":e}};function lte(n,e){if(1&n){const t=Sr();$f(0),Re(1,"span",48),O(2,"button",49),$e("click",function(){return Hi(t),Vi(sn().OpenModal())}),X(3," Download "),z(),jf()}if(2&n){const t=sn();Me(1),we("ngClass",mi(2,Nw,t.theme.is_dark,!t.theme.is_dark)),Me(1),we("disabled",t.disabled_downloads)}}function cte(n,e){if(1&n){const t=Sr();O(0,"div",50),Re(1,"span",48),O(2,"button",51),$e("click",function(){return Hi(t),Vi(sn().OpenModal())}),X(3," Download "),z()()}if(2&n){const t=sn();Me(1),we("ngClass",mi(2,Nw,t.theme.is_dark,!t.theme.is_dark)),Me(1),we("disabled",t.disabled_downloads)}}function ute(n,e){if(1&n){const t=Sr();O(0,"div",52),$e("contextmenu",function(){return!1}),O(1,"button",53),$e("click",function(){return Hi(t),Vi(sn().OpenModal())}),X(2," Download "),z()()}if(2&n){const t=sn();Me(1),we("disabled",t.disabled_downloads)}}function dte(n,e){if(1&n){const t=Sr();O(0,"div",54)(1,"button",55),$e("click",function(){return Hi(t),Vi(sn().backend.DownloadTranscriptTh())}),X(2,"Thai"),z(),O(3,"button",55),$e("click",function(){return Hi(t),Vi(sn().backend.DownloadTranscriptEn())}),X(4,"English"),z()()}}function hte(n,e){if(1&n){const t=Sr();O(0,"div",54)(1,"button",55),$e("click",function(){return Hi(t),sn(),Vi(qs(8).click())}),X(2,"View image"),z()()}}const Xk=function(n,e){return{"line-white":n,"line-dark":e}},fte=function(n){return{"scroll-reveal no-animation":n}},sh=function(n){return{darktheme:n}};let pte=(()=>{class n{constructor(t,i){this.theme=t,this.backend=i,this.disabled_downloads=!1,this.disabled_transcript=!0}SaveAsPng(){var t=this;return Bt(function*(){const i=document.getElementById("resume-content");i.classList.add("saving");const r=t.backend;yield function ste(n){return Ow.apply(this,arguments)}(i).then(function(){var s=Bt(function*(o){r.Download(o,"Peeradon's resume.png"),i.classList.remove("saving")});return function(o){return s.apply(this,arguments)}}())})()}OpenModal(){const t=document.getElementById("resume-content");t.classList.remove("no-background");const i=document.getElementById("download-modal");i.classList.add("open"),i.addEventListener("click",()=>{i.classList.remove("open"),t.classList.add("no-background")})}}return n.\u0275fac=function(t){return new(t||n)(H(hr),H(Na))},n.\u0275cmp=Yt({type:n,selectors:[["app-resume"]],decls:323,vars:62,consts:[[3,"fadeButtom"],["id","resume-content",1,"no-background",3,"cdkContextMenuTriggerFor","ngClass"],[1,"grid-content"],[1,"side-field","grid-item"],[1,"card",3,"fullHeight"],[1,"personal"],[1,"image"],["src","assets/images/profile-4.jpg","ModalView","",1,"me",3,"cdkContextMenuTriggerFor"],["me",""],[1,"section-linebreak","linebreak",3,"ngClass"],[1,"section-name"],[1,"section-value"],["disabled","",1,"section-value"],[1,"section-extra"],[1,"content-field","grid-item"],[1,"card"],[1,"auto-height"],[1,"card-name"],[1,"section-spacing"],[1,"card",3,"ngClass"],["id","skills",1,"auto-height"],["hideToggle",""],["id","bar","matTooltipPosition","left","matTooltip","Experienced"],[3,"percent","clickable","startAnimation"],["id","bar","matTooltipPosition","left","matTooltip","Expert"],["id","bar","matTooltipPosition","left","matTooltip","Skilfull"],["id","bar","matTooltipPosition","left","matTooltip","Basic"],["id","bar","matTooltipPosition","left","matTooltip","Beginner"],[1,"timeline-item",3,"ngClass"],[1,"timeline-head"],[1,"timeline-dot"],[1,"timeline-line"],[1,"timeline-content"],[4,"ngIf","ngIfElse"],["desktopDownloadBtn",""],["Download",""],["Transcript",""],["Image",""],["id","download-modal",1,"modal-bg"],["id","download-frame","onclick","event.cancelBubble=true;if (event.stopPropagation) event.stopPropagation();",1,"dropshadow"],["id","download-expand-header",3,"click"],[1,"linebreak","no-margin-top","line-dark"],["matRipple","",3,"click"],[1,"fa","fa-file-pdf-o"],[1,"fa","fa-file-image-o"],[1,"linebreak","line-dark"],["matRipple","",3,"disabled","matRippleDisabled","click"],[1,"fa","fa-file-text-o"],[3,"ngClass"],[1,"download-btn","animated-btn","primary","sticky","bottom","center","fadein-2",3,"disabled","click"],["id","content-footer"],[1,"download-btn","animated-btn","primary","fadein-2",3,"disabled","click"],["cdkMenu","",1,"ContextMenu",3,"contextmenu"],["cdkMenuItem","",1,"ContextMenu-Item",3,"disabled","click"],["cdkMenu","",1,"ContextMenu"],["cdkMenuItem","",1,"ContextMenu-Item",3,"click"]],template:function(t,i){if(1&t&&(O(0,"app-page",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"app-card",4)(5,"div",5)(6,"div",6),Re(7,"img",7,8),z(),Re(9,"div",9),O(10,"div",10),X(11,"Name"),z(),O(12,"div",11),X(13," Peeradon Rungkanawut "),z(),O(14,"div",10),X(15,"Email"),z(),O(16,"div",11),X(17," thestampmc@gmail.com "),z(),O(18,"div",10),X(19,"Phone number"),z(),O(20,"div",12),X(21," Not available yet "),z(),Re(22,"div",9),O(23,"div",10),X(24,"Interests"),z(),O(25,"div",11)(26,"ul")(27,"li"),X(28,"Programming"),z(),O(29,"li"),X(30,"Traveling"),z(),O(31,"li"),X(32,"Movies"),z()()(),O(33,"div",10),X(34,"Languages"),z(),O(35,"ul")(36,"li"),X(37," Thai "),O(38,"div",13),X(39," Native "),z()(),O(40,"li"),X(41," English "),O(42,"div",13),X(43," Advance "),z()()(),O(44,"div",10),X(45,"Toeic"),z(),O(46,"div",11),X(47," 520 "),O(48,"div",13),X(49," 7 Apr 2023 "),z()()()()(),O(50,"div",14)(51,"app-card",15)(52,"div",16)(53,"div",17),X(54,"About me"),z(),Re(55,"div",18),O(56,"p"),X(57," Good Python developer with knowledge of OOP, Type-Hint and MongoDB, intermediate for C/C++. "),Re(58,"br"),X(59," Also, I'm interested in the Angular framework for front-end development. I'm happy to code, debug "),Re(60,"br"),X(61," and write some documentation. "),X(62," Ready to learn and grow my skills. "),z()()(),O(63,"app-card",15)(64,"div",16)(65,"div",17),X(66,"Projects"),z(),O(67,"ul")(68,"li")(69,"div",10),X(70,"Graduation project"),z(),O(71,"div",11),X(72," Water pH Conditioner "),z(),O(73,"p"),X(74," A graduation project to control the pH of water by an application that was made out of Blynk and C++ for the software. "),z()(),O(75,"li")(76,"div",10),X(77,"Personal project"),z(),O(78,"div",11),X(79," Discord music bot "),z(),O(80,"p"),X(81," A Discord music application that supports YouTube, Spotify, SoundCloud, Last.fm and mp3 files (or message urls that have any mp3 files attached). "),z()()()()(),O(82,"app-card",19)(83,"div",20)(84,"div",17),X(85," Skills "),O(86,"div",13),X(87,"click for more details"),z()(),Re(88,"div",18),O(89,"mat-accordion")(90,"mat-expansion-panel",21)(91,"mat-expansion-panel-header")(92,"div",11),X(93," C, C++ "),O(94,"div",22),Re(95,"app-progress-bar",23),z()()(),O(96,"ul")(97,"li"),X(98,"Console application"),z(),O(99,"li"),X(100,"Arduino, NodeMcu"),z(),O(101,"li"),X(102,"Microcontroller, iot, Blynk"),z(),O(103,"li"),X(104,"Data types, OOP"),z(),O(105,"li"),X(106,"etc."),z()()(),O(107,"mat-expansion-panel",21)(108,"mat-expansion-panel-header")(109,"div",11),X(110," Python "),O(111,"div",24),Re(112,"app-progress-bar",23),z()()(),O(113,"ul")(114,"li"),X(115,"Console application"),z(),O(116,"li"),X(117,"Annotation, Type-Hint"),z(),O(118,"li"),X(119,"Documentation, Clean code"),z(),O(120,"li"),X(121,"Data types, OOP, Enum, Module"),z(),O(122,"li"),X(123,"flask, requests, websockets, pymongo"),z(),O(124,"li"),X(125,"etc."),z()()(),O(126,"mat-expansion-panel",21)(127,"mat-expansion-panel-header")(128,"div",11),X(129," TypeScript "),O(130,"div",25),Re(131,"app-progress-bar",23),z()()(),O(132,"ul")(133,"li"),X(134,"Type-Hint, Advance how-to"),z(),O(135,"li"),X(136,"Angular things"),z(),O(137,"li"),X(138,"etc."),z()()(),O(139,"mat-expansion-panel",21)(140,"mat-expansion-panel-header")(141,"div",11),X(142," Angular "),O(143,"div",25),Re(144,"app-progress-bar",23),z()()(),O(145,"ul")(146,"li"),X(147,"Html, Css, TypeScript"),z(),O(148,"li"),X(149,"Injection, Service, Interface"),z(),O(150,"li"),X(151,"Component, Cdk, etc."),z(),O(152,"li"),X(153,"Fetch"),z()()(),O(154,"mat-expansion-panel",21)(155,"mat-expansion-panel-header")(156,"div",11),X(157," Sql "),O(158,"div",26),Re(159,"app-progress-bar",23),z()()(),O(160,"ul")(161,"li"),X(162,"Simple query"),z(),O(163,"li"),X(164,"Create, Insert, Update"),z(),O(165,"li"),X(166,"*"),z()()(),O(167,"mat-expansion-panel",21)(168,"mat-expansion-panel-header")(169,"div",11),X(170," Dart "),O(171,"div",26),Re(172,"app-progress-bar",23),z()()(),O(173,"ul")(174,"li"),X(175,"Mobile app"),z(),O(176,"li"),X(177,"Flutter things"),z()()(),O(178,"mat-expansion-panel",21)(179,"mat-expansion-panel-header")(180,"div",11),X(181," Php "),O(182,"div",27),Re(183,"app-progress-bar",23),z()()(),O(184,"ul")(185,"li"),X(186,"Just simple"),z(),O(187,"li"),X(188,'echo "Hello world"'),z()()(),O(189,"mat-expansion-panel",21)(190,"mat-expansion-panel-header")(191,"div",11),X(192," Self learning "),O(193,"div",24),Re(194,"app-progress-bar",23),z()()(),O(195,"ul")(196,"li"),X(197,"Open to learn"),z(),O(198,"li"),X(199,"Basic of how-to"),z(),O(200,"li"),X(201,"Finding keywords"),z(),O(202,"li"),X(203,"Solves any problem"),z()()()()()(),O(204,"app-card",15)(205,"div",16)(206,"div",17),X(207,"Work Experiences"),z(),Re(208,"div",18),O(209,"div",28)(210,"div",29),Re(211,"span",30)(212,"span",31),z(),O(213,"div",32)(214,"div",10),X(215,"2019 - 2020"),z(),O(216,"div",11),X(217," 3D Designer "),O(218,"a",13),X(219,"Freelance"),z()(),O(220,"div",16)(221,"ul")(222,"li"),X(223,"3D modeling in Blender"),z(),O(224,"li"),X(225,"Lighting, rendering and compositing"),z(),O(226,"li"),X(227,"Design advertisment poster"),z()()()()(),O(228,"div",28)(229,"div",29),Re(230,"span",30)(231,"span",31),z(),O(232,"div",32)(233,"div",10),X(234,"Jun - Oct 2022"),z(),O(235,"div",11),X(236," Internship "),O(237,"a",13),X(238,"Real Advance Co., Ltd."),z()(),O(239,"div",16)(240,"ul")(241,"li"),X(242,"C, C++ programmer (main)"),z(),O(243,"li"),X(244,"Reserch & development"),z(),O(245,"li"),X(246,"Photoshop man"),z(),O(247,"li"),X(248,"IT support"),z()()()()(),O(249,"div",28)(250,"div",29),Re(251,"span",30)(252,"span",31),z(),O(253,"div",32)(254,"div",10),X(255,"Jun 2023 - Now"),z(),O(256,"div",11),X(257," Programmer "),O(258,"a",13),X(259,"Takane Electronics Thailand Co., Ltd."),z()(),O(260,"div",16)(261,"ul")(262,"li"),X(263,"Jr. Fullstack Developer"),z(),O(264,"li"),X(265,"Programmer"),z(),O(266,"li"),X(267,"IT"),z()()()()(),O(268,"div",10),X(269,"Present"),z()()(),O(270,"app-card",15)(271,"div",16)(272,"div",17),X(273,"Educations"),z(),Re(274,"div",18),O(275,"div",28)(276,"div",29),Re(277,"span",30)(278,"span",31),z(),O(279,"div",32)(280,"div",10),X(281,"2013 - 2018"),z(),O(282,"div",11),X(283," Prachinratsadornamroong School "),z(),O(284,"div",10),X(285,"High School Certificate"),z()()(),O(286,"div",28)(287,"div",29),Re(288,"span",30)(289,"span",31),z(),O(290,"div",32)(291,"div",10),X(292,"2019 - Apr 2023"),z(),O(293,"div",11),X(294," Rajamangala University of Technology Thanyaburi "),z(),O(295,"div",10),X(296,"Bachelor of Engineering, Electronics"),z()()(),O(297,"div",10),X(298,"Present"),z()()()()()(),Nn(299,lte,4,5,"ng-container",33),Nn(300,cte,4,5,"ng-template",null,34,No),z(),Nn(302,ute,3,1,"ng-template",null,35,No),Nn(304,dte,5,0,"ng-template",null,36,No),Nn(306,hte,3,0,"ng-template",null,37,No),O(308,"div",38)(309,"div",39)(310,"p",40),$e("click",function(){return i.expand_download=!i.expand_download}),X(311," Download "),z(),Re(312,"div",41),O(313,"button",42),$e("click",function(){return i.backend.DownloadResume()}),X(314," Save as PDF "),Re(315,"a",43),z(),O(316,"button",42),$e("click",function(){return i.SaveAsPng()}),X(317," Save as PNG "),Re(318,"a",44),z(),Re(319,"div",45),O(320,"button",46),$e("click",function(){return i.backend.DownloadTranscriptEn()}),X(321," Transcript "),Re(322,"a",47),z()()()),2&t){const r=qs(301),s=qs(303),o=qs(307);we("fadeButtom",i.theme.is_portrait),Me(1),we("cdkContextMenuTriggerFor",s)("ngClass",mi(41,Nw,i.theme.is_dark,!i.theme.is_dark)),Me(3),we("fullHeight",!0),Me(3),we("cdkContextMenuTriggerFor",o),Me(2),we("ngClass",mi(44,Xk,i.theme.is_dark,!i.theme.is_dark)),Me(13),we("ngClass",mi(47,Xk,i.theme.is_dark,!i.theme.is_dark)),Me(60),we("ngClass",Qt(50,fte,i.backend.isMobile)),Me(13),we("percent",72)("clickable",!0)("startAnimation",!i.backend.isMobile),Me(17),we("percent",89)("clickable",!0)("startAnimation",!i.backend.isMobile),Me(19),we("percent",76)("clickable",!0)("startAnimation",!i.backend.isMobile),Me(13),we("percent",69)("clickable",!0)("startAnimation",!i.backend.isMobile),Me(15),we("percent",32)("clickable",!0)("startAnimation",!i.backend.isMobile),Me(13),we("percent",18)("clickable",!0)("startAnimation",!i.backend.isMobile),Me(11),we("percent",10)("clickable",!0)("startAnimation",!i.backend.isMobile),Me(11),we("percent",96)("clickable",!0)("startAnimation",!i.backend.isMobile),Me(15),we("ngClass",Qt(52,sh,i.theme.is_dark)),Me(19),we("ngClass",Qt(54,sh,i.theme.is_dark)),Me(21),we("ngClass",Qt(56,sh,i.theme.is_dark)),Me(26),we("ngClass",Qt(58,sh,i.theme.is_dark)),Me(11),we("ngClass",Qt(60,sh,i.theme.is_dark)),Me(13),we("ngIf",i.theme.is_portrait)("ngIfElse",r),Me(21),we("disabled",i.disabled_transcript)("matRippleDisabled",i.disabled_transcript)}},dependencies:[Ar,uc,$I,kd,Pa,h0,EX,iR,rR,Zp,Oc,Ik,Pk,ate],styles:["*[_ngcontent-%COMP%]{transition:all .2s ease-in-out}p[_ngcontent-%COMP%]{margin-top:0;font-size:16px}.card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;overflow-x:hidden}.image[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin-top:20px;margin-bottom:30px}.me[_ngcontent-%COMP%]{width:150px;height:150px;clip-path:circle(50% at 50% 50%);object-fit:cover}.card-name[_ngcontent-%COMP%]{font-size:12px;position:relative;padding-bottom:2px}.card-name[_ngcontent-%COMP%] > .section-extra[_ngcontent-%COMP%]{top:0;right:0;opacity:.4}  .whitecard .card-name{border-bottom:.6px solid var(--alpha-dark)}  .darkcard .card-name{border-bottom:.6px solid var(--alpha-white)}#resume-content[_ngcontent-%COMP%]{padding:20px;margin-bottom:50px;display:flex;flex-direction:column;align-items:center}.no-background[_ngcontent-%COMP%]{background:none}#content-footer[_ngcontent-%COMP%]{width:100%;height:50px;position:relative;text-align:center;margin:32px}.download-btn[_ngcontent-%COMP%]{width:200px;height:50px;backdrop-filter:blur(7.5px);-webkit-backdrop-filter:blur(7.5px)}.download-btn.sticky[_ngcontent-%COMP%]{z-index:600}.dark-theme[_ngcontent-%COMP%] + .download-btn[_ngcontent-%COMP%]:disabled{color:var(--alpha-white);background-color:var(--alpha-scheme-color)}.white-theme[_ngcontent-%COMP%] + .download-btn[_ngcontent-%COMP%]:disabled{color:var(--alpha-white3);background-color:#a7aad2}#download-frame[_ngcontent-%COMP%]{width:300px;height:auto;background-color:var(--white1);color:var(--dark3);display:flex;flex-direction:column;padding:50px 10px 10px;overflow:hidden;border:none;border-radius:25px;font-weight:500}#download-frame[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{height:40px;min-height:unset;box-shadow:unset;background-color:transparent;color:var(--dark3);border-radius:20px;border:none;display:flex;justify-content:space-between;align-items:center;transition:color 0s,background-color 0s}#download-frame[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:color 0s,background-color 0s}#download-frame[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{background-color:var(--scheme-color);color:var(--white1)}#download-frame[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:var(--white1)}#download-frame[_ngcontent-%COMP%] > #download-expand-header[_ngcontent-%COMP%]{width:100%;height:50px;position:absolute;top:0;left:50%;transform:translate(-50%);color:var(--dark3);padding-top:14px;margin:0;text-align:center;font-size:16px}#download-frame[_ngcontent-%COMP%] > .linebreak[_ngcontent-%COMP%]{width:250px;margin-top:10px;margin-bottom:10px}#download-frame[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:disabled{opacity:.4!important}#download-frame[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark3);cursor:pointer;margin-left:10px}.modal-bg[_ngcontent-%COMP%]:not(.open) > #download-frame[_ngcontent-%COMP%]{scale:75%;opacity:0}.modal-bg.open[_ngcontent-%COMP%] > #download-frame[_ngcontent-%COMP%]{scale:100%;opacity:1}.no-margin-top[_ngcontent-%COMP%]{margin-top:0!important}.animated-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.personal[_ngcontent-%COMP%]{padding-bottom:8px}.grid-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:300px 800px;gap:18px}.section-spacing[_ngcontent-%COMP%]{margin-top:18px}.section-name[_ngcontent-%COMP%]{margin-top:18px;opacity:.4;font-size:12px;display:flex;position:relative;align-items:center}.section-name[_ngcontent-%COMP%] > .section-extra[_ngcontent-%COMP%]{opacity:1}.section-value[_ngcontent-%COMP%]{font-size:18px;display:flex;position:relative;align-items:center}ul[_ngcontent-%COMP%]{margin-top:0;padding-left:20px}li[_ngcontent-%COMP%]{font-size:16px;position:relative}.section-extra[_ngcontent-%COMP%]{font-size:12px;width:100%;opacity:.5;text-align:right;position:absolute;right:0;bottom:1px}.grid-item[_ngcontent-%COMP%]{display:flex;gap:18px;flex-direction:column}.side-field[_ngcontent-%COMP%]{display:unset}.saving[_ngcontent-%COMP%]   .side-field[_ngcontent-%COMP%]     app-card #card{width:100%;height:auto;position:absolute;top:0}.saving[_ngcontent-%COMP%]   .side-field[_ngcontent-%COMP%]{display:flex;position:relative}.side-field[_ngcontent-%COMP%]     app-card #card{width:100%;min-height:88dvh;height:-moz-fit-content;height:fit-content;position:sticky;top:20px;bottom:0;left:0;align-items:start}.auto-height[_ngcontent-%COMP%]{height:auto;padding-bottom:10px}.grid-linebreak[_ngcontent-%COMP%]{display:none}.section-linebreak[_ngcontent-%COMP%]{margin-top:20px}.timeline-item[_ngcontent-%COMP%]{width:100%;height:auto;min-height:120px;float:left;display:flex;flex-direction:row;gap:8px}.timeline-head[_ngcontent-%COMP%]{max-width:-moz-fit-content;max-width:fit-content;height:inherit;display:flex;flex-direction:column}.timeline-dot[_ngcontent-%COMP%]{min-width:18px;min-height:18px;width:18px;height:18px;top:0;left:0;border:4px solid var(--scheme-color);border-radius:50%;margin-top:2px;margin-bottom:2px;display:inline-block;background-color:transparent}.timeline-line[_ngcontent-%COMP%]{width:4px;height:100%;margin-left:7px;margin-right:7px;background-color:var(--scheme-color);border-radius:10px}.timeline-content[_ngcontent-%COMP%]{width:auto;height:auto;display:flex;flex-direction:column;padding-top:2px;border-radius:10px}.timeline-content[_ngcontent-%COMP%] > .section-name[_ngcontent-%COMP%]{margin-top:0;margin-bottom:10px}.timeline-content[_ngcontent-%COMP%] > .auto-height[_ngcontent-%COMP%]{padding-left:5px}#bar[_ngcontent-%COMP%]{height:10px;width:70%;display:inline-block;right:0;margin-left:auto;margin-top:auto;margin-bottom:auto}progress[_ngcontent-%COMP%]{height:10px;width:70%;display:inline-block;right:0;margin-left:auto;margin-top:auto;margin-bottom:auto;border:0;border-radius:100px}progress[_ngcontent-%COMP%]::-webkit-progress-bar{border:0;height:10px;border-radius:100px;-webkit-transition:background-color .2s ease-in-out;transition:background-color .2s ease-in-out}.white-theme[_ngcontent-%COMP%]   progress[_ngcontent-%COMP%]::-webkit-progress-bar{background-color:var(--alpha-dark)}.dark-theme[_ngcontent-%COMP%]   progress[_ngcontent-%COMP%]::-webkit-progress-bar{background-color:var(--alpha-white)}#skills[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{height:40px;padding:0}#skills[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]{background:unset;box-shadow:unset}#skills[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%], .mat-expansion-panel[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:pointer}@media only screen and (max-width: 1200px){.grid-content[_ngcontent-%COMP%]{grid-template-columns:200px 600px}.me[_ngcontent-%COMP%]{width:100px;height:100px}.section-name[_ngcontent-%COMP%], .card-name[_ngcontent-%COMP%]{font-size:12px}.section-name[_ngcontent-%COMP%], .section-linebreak[_ngcontent-%COMP%]{margin-top:15px}.section-value[_ngcontent-%COMP%], .section-extra[_ngcontent-%COMP%]{font-size:12px}ul[_ngcontent-%COMP%]{padding-left:16px}li[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-size:12px}.timeline-dot[_ngcontent-%COMP%]{min-width:14px;min-height:14px;width:14px;height:14px}.timeline-line[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}progress[_ngcontent-%COMP%]{height:8px}}@media only screen and (max-width: 900px){.side-field[_ngcontent-%COMP%]{display:flex;position:relative}.side-field[_ngcontent-%COMP%]     app-card #card{min-height:unset;height:100%}.grid-content[_ngcontent-%COMP%]{display:flex;grid-template-columns:unset;flex-direction:column;justify-content:center}.grid-item[_ngcontent-%COMP%]{width:500px}.me[_ngcontent-%COMP%]{width:120px;height:120px}.section-name[_ngcontent-%COMP%], .card-name[_ngcontent-%COMP%]{font-size:12px}.section-value[_ngcontent-%COMP%]{font-size:16px}.section-extra[_ngcontent-%COMP%]{font-size:12px}.grid-linebreak[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]{padding-left:18px}li[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-size:12px}.timeline-dot[_ngcontent-%COMP%]{min-width:16px;min-height:16px;width:16px;height:16px}.timeline-line[_ngcontent-%COMP%]{margin-left:6px;margin-right:6px}.timeline-content[_ngcontent-%COMP%]{padding-top:3px}#bar[_ngcontent-%COMP%]{width:50%}progress[_ngcontent-%COMP%]{height:10px;width:50%}.side-field[_ngcontent-%COMP%]{position:unset}.side-field[_ngcontent-%COMP%]     app-card #card{width:unset;height:unset;position:unset}}@media only screen and (max-width: 600px){p[_ngcontent-%COMP%]{font-size:12px}.grid-item[_ngcontent-%COMP%]{width:340px}.timeline-content[_ngcontent-%COMP%] > .section-value[_ngcontent-%COMP%]{justify-content:left;flex-direction:column;align-items:start;padding-bottom:10px}.timeline-content[_ngcontent-%COMP%] > .section-value[_ngcontent-%COMP%] > .section-extra[_ngcontent-%COMP%]{position:unset;text-align:left}.section-extra[_ngcontent-%COMP%]{font-size:12px}.saving[_ngcontent-%COMP%]   .side-field[_ngcontent-%COMP%]     app-card #card{width:unset;height:unset;position:unset;top:unset}.saving[_ngcontent-%COMP%]   .side-field[_ngcontent-%COMP%]{display:unset;position:unset}}@keyframes _ngcontent-%COMP%_progressBar{0%{width:0%}to{width:100%}}"]}),n})();const mte=function(){return{icon:"fa-cube",title:"Auture",url:"3d/Auture"}},gte=function(){return{icon:"fa-cube",title:"Scorta",url:"3d/Scorta"}},_te=function(n,e){return[n,e]};let vte=(()=>{class n{constructor(t){this.router=t}}return n.\u0275fac=function(t){return new(t||n)(H(wn))},n.\u0275cmp=Yt({type:n,selectors:[["app-models"]],decls:3,vars:6,consts:[["id","models-container"],["name","3D works",3,"items"]],template:function(t,i){1&t&&(O(0,"app-page")(1,"div",0),Re(2,"app-flex-card-box",1),z()()),2&t&&(Me(2),we("items",mi(3,_te,ko(1,mte),ko(2,gte))))},dependencies:[Oc,bk],styles:["#models-container[_ngcontent-%COMP%]{margin-top:100px}"]}),n})();const Lc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Fc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},yte=0,qk=1,bte=2,Yk=1,xte=2,po=3,mo=0,Zi=1,Cs=2,Jo=0,Nc=1,Kk=2,Zk=3,Jk=4,wte=5,Bc=100,Mte=101,Ete=102,Qk=103,eL=104,Ste=200,Cte=201,Tte=202,Ate=203,tL=204,nL=205,Dte=206,Pte=207,Ite=208,Rte=209,Ote=210,kte=0,Lte=1,Fte=2,Uw=3,Nte=4,Bte=5,Ute=6,zte=7,og=0,Hte=1,Vte=2,go=0,Gte=1,Wte=2,$te=3,jte=4,Xte=5,Ba=301,Ua=302,ag=303,lg=304,oh=306,za=1e3,yi=1001,ah=1002,On=1003,cg=1004,lh=1005,En=1006,Hw=1007,_o=1008,Ha=1009,qte=1010,Yte=1011,iL=1012,Kte=1013,Va=1014,Qo=1015,ch=1016,Zte=1017,Jte=1018,Uc=1020,Qte=1021,Lr=1023,ene=1024,tne=1025,Ga=1026,zc=1027,nne=1028,ine=1029,rne=1030,sne=1031,one=1033,Vw=33776,Gw=33777,Ww=33778,$w=33779,rL=35840,sL=35841,oL=35842,aL=35843,ane=36196,lL=37492,cL=37496,uL=37808,dL=37809,hL=37810,fL=37811,pL=37812,mL=37813,gL=37814,_L=37815,vL=37816,yL=37817,bL=37818,xL=37819,wL=37820,ML=37821,jw=36492,lne=36283,EL=36284,SL=36285,CL=36286,uh=2300,Hc=2301,hne=0,AL=1,Yw=2,Wa=3001,pne=3201,$a=0,mne=1,ja="",ot="srgb",Ts="srgb-linear",PL="display-p3",IL="300 es",Zw=1035;class Xa{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const i=this._listeners;return void 0!==i[e]&&-1!==i[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const r=this._listeners[e];if(void 0!==r){const s=r.indexOf(t);-1!==s&&r.splice(s,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const i=this._listeners[e.type];if(void 0!==i){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const bi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];const qa=Math.PI/180,Wc=180/Math.PI;function pr(){const n=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(bi[255&n]+bi[n>>8&255]+bi[n>>16&255]+bi[n>>24&255]+"-"+bi[255&e]+bi[e>>8&255]+"-"+bi[e>>16&15|64]+bi[e>>24&255]+"-"+bi[63&t|128]+bi[t>>8&255]+"-"+bi[t>>16&255]+bi[t>>24&255]+bi[255&i]+bi[i>>8&255]+bi[i>>16&255]+bi[i>>24&255]).toLowerCase()}function Sn(n,e,t){return Math.max(e,Math.min(t,n))}function Jw(n,e){return(n%e+e)%e}function dh(n,e,t){return(1-t)*n+t*e}function Qw(n){return 0==(n&n-1)&&0!==n}function OL(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function kL(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function mr(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function yt(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(65535*n);case Uint8Array:return Math.round(255*n);case Int16Array:return Math.round(32767*n);case Int8Array:return Math.round(127*n);default:throw new Error("Invalid component type.")}}const Pne_radToDeg=function Ane(n){return n*Wc};class se{constructor(e=0,t=0){se.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Sn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class It{constructor(){It.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],d=i[7],h=i[2],f=i[5],p=i[8],g=r[0],_=r[3],m=r[6],y=r[1],v=r[4],b=r[7],x=r[2],M=r[5],S=r[8];return s[0]=o*g+a*y+l*x,s[3]=o*_+a*v+l*M,s[6]=o*m+a*b+l*S,s[1]=c*g+u*y+d*x,s[4]=c*_+u*v+d*M,s[7]=c*m+u*b+d*S,s[2]=h*g+f*y+p*x,s[5]=h*_+f*v+p*M,s[8]=h*m+f*b+p*S,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,h=a*l-u*s,f=c*s-o*l,p=t*d+i*h+r*f;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const g=1/p;return e[0]=d*g,e[1]=(r*c-u*i)*g,e[2]=(a*i-r*o)*g,e[3]=h*g,e[4]=(u*t-r*l)*g,e[5]=(r*s-a*t)*g,e[6]=f*g,e[7]=(i*l-c*t)*g,e[8]=(o*t-i*s)*g,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(eM.makeScale(e,t)),this}rotate(e){return this.premultiply(eM.makeRotation(-e)),this}translate(e,t){return this.premultiply(eM.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const eM=new It;function LL(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function hh(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const FL={};function fh(n){n in FL||(FL[n]=!0,console.warn(n))}function jc(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function tM(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}const Rne=(new It).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),One=(new It).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),Fne={[Ts]:n=>n,[ot]:n=>n.convertSRGBToLinear(),[PL]:function kne(n){return n.convertSRGBToLinear().applyMatrix3(One)}},Nne={[Ts]:n=>n,[ot]:n=>n.convertLinearToSRGB(),[PL]:function Lne(n){return n.applyMatrix3(Rne).convertLinearToSRGB()}},es={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return Ts},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(!1===this.enabled||e===t||!e||!t)return n;const i=Fne[e],r=Nne[t];if(void 0===i||void 0===r)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let Xc;class NL{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Xc&&(Xc=hh("canvas")),Xc.width=e.width,Xc.height=e.height;const i=Xc.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Xc}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=hh("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=255*jc(s[o]/255);return i.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t[i]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*jc(t[i]/255)):jc(t[i]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class qc{constructor(e=null){this.isSource=!0,this.uuid=pr(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(null!==r){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)s.push(nM(r[o].isDataTexture?r[o].image:r[o]))}else s=nM(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function nM(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?NL.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Bne=0,ts=(()=>{class n extends Xa{constructor(t=n.DEFAULT_IMAGE,i=n.DEFAULT_MAPPING,r=yi,s=yi,o=En,a=_o,l=Lr,c=Ha,u=n.DEFAULT_ANISOTROPY,d=ja){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Bne++}),this.uuid=pr(),this.name="",this.source=new qc(t),this.mipmaps=[],this.mapping=i,this.channel=0,this.wrapS=r,this.wrapT=s,this.magFilter=o,this.minFilter=a,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=c,this.offset=new se(0,0),this.repeat=new se(1,1),this.center=new se(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new It,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"==typeof d?this.colorSpace=d:(fh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=d===Wa?ot:ja),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const i=void 0===t||"string"==typeof t;if(!i&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),i||(t.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case za:t.x=t.x-Math.floor(t.x);break;case yi:t.x=t.x<0?0:1;break;case ah:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case za:t.y=t.y-Math.floor(t.y);break;case yi:t.y=t.y<0?0:1;break;case ah:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return fh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===ot?Wa:3e3}set encoding(t){fh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=t===Wa?ot:ja}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n.DEFAULT_ANISOTROPY=1,n})();class Kt{constructor(e=0,t=0,i=0,r=1){Kt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],u=l[4],d=l[8],h=l[1],f=l[5],p=l[9],g=l[2],_=l[6],m=l[10];if(Math.abs(u-h)<.01&&Math.abs(d-g)<.01&&Math.abs(p-_)<.01){if(Math.abs(u+h)<.1&&Math.abs(d+g)<.1&&Math.abs(p+_)<.1&&Math.abs(c+f+m-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const v=(c+1)/2,b=(f+1)/2,x=(m+1)/2,M=(u+h)/4,S=(d+g)/4,C=(p+_)/4;return v>b&&v>x?v<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(v),r=M/i,s=S/i):b>x?b<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(b),i=M/r,s=C/r):x<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(x),i=S/s,r=C/s),this.set(i,r,s,t),this}let y=Math.sqrt((_-p)*(_-p)+(d-g)*(d-g)+(h-u)*(h-u));return Math.abs(y)<.001&&(y=1),this.x=(_-p)/y,this.y=(d-g)/y,this.z=(h-u)/y,this.w=Math.acos((c+f+m-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ya extends Xa{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Kt(0,0,e,t),this.scissorTest=!1,this.viewport=new Kt(0,0,e,t);const r={width:e,height:t,depth:1};void 0!==i.encoding&&(fh("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===Wa?ot:ja),this.texture=new ts(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.internalFormat=void 0!==i.internalFormat?i.internalFormat:null,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:En,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0!==i.stencilBuffer&&i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null,this.samples=void 0!==i.samples?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new qc(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class iM extends ts{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=On,this.minFilter=On,this.wrapR=yi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class BL extends ts{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=On,this.minFilter=On,this.wrapR=yi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ci{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],d=i[r+3];const h=s[o+0],f=s[o+1],p=s[o+2],g=s[o+3];if(0===a)return e[t+0]=l,e[t+1]=c,e[t+2]=u,void(e[t+3]=d);if(1===a)return e[t+0]=h,e[t+1]=f,e[t+2]=p,void(e[t+3]=g);if(d!==g||l!==h||c!==f||u!==p){let _=1-a;const m=l*h+c*f+u*p+d*g,y=m>=0?1:-1,v=1-m*m;if(v>Number.EPSILON){const x=Math.sqrt(v),M=Math.atan2(x,m*y);_=Math.sin(_*M)/x,a=Math.sin(a*M)/x}const b=a*y;if(l=l*_+h*b,c=c*_+f*b,u=u*_+p*b,d=d*_+g*b,_===1-a){const x=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=x,c*=x,u*=x,d*=x}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],d=s[o],h=s[o+1],f=s[o+2],p=s[o+3];return e[t]=a*p+u*d+l*f-c*h,e[t+1]=l*p+u*h+c*d-a*f,e[t+2]=c*p+u*f+a*h-l*d,e[t+3]=u*p-a*d-l*h-c*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),d=a(s/2),h=l(i/2),f=l(r/2),p=l(s/2);switch(o){case"XYZ":this._x=h*u*d+c*f*p,this._y=c*f*d-h*u*p,this._z=c*u*p+h*f*d,this._w=c*u*d-h*f*p;break;case"YXZ":this._x=h*u*d+c*f*p,this._y=c*f*d-h*u*p,this._z=c*u*p-h*f*d,this._w=c*u*d+h*f*p;break;case"ZXY":this._x=h*u*d-c*f*p,this._y=c*f*d+h*u*p,this._z=c*u*p+h*f*d,this._w=c*u*d-h*f*p;break;case"ZYX":this._x=h*u*d-c*f*p,this._y=c*f*d+h*u*p,this._z=c*u*p-h*f*d,this._w=c*u*d+h*f*p;break;case"YZX":this._x=h*u*d+c*f*p,this._y=c*f*d+h*u*p,this._z=c*u*p-h*f*d,this._w=c*u*d-h*f*p;break;case"XZY":this._x=h*u*d-c*f*p,this._y=c*f*d-h*u*p,this._z=c*u*p+h*f*d,this._w=c*u*d+h*f*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],d=t[10],h=i+a+d;if(h>0){const f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(u-l)*f,this._y=(s-c)*f,this._z=(o-r)*f}else if(i>a&&i>d){const f=2*Math.sqrt(1+i-a-d);this._w=(u-l)/f,this._x=.25*f,this._y=(r+o)/f,this._z=(s+c)/f}else if(a>d){const f=2*Math.sqrt(1+a-i-d);this._w=(s-c)/f,this._x=(r+o)/f,this._y=.25*f,this._z=(l+u)/f}else{const f=2*Math.sqrt(1+d-i-a);this._w=(o-r)/f,this._x=(s+c)/f,this._y=(l+u)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Sn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(0===i)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const f=1-t;return this._w=f*o+t*this._w,this._x=f*i+t*this._x,this._y=f*r+t*this._y,this._z=f*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-t)*u)/c,h=Math.sin(t*u)/c;return this._w=o*d+this._w*h,this._x=i*d+this._x*h,this._y=r*d+this._y*h,this._z=s*d+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class A{constructor(e=0,t=0,i=0){A.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return void 0===i&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(UL.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(UL.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*r-a*i,u=l*i+a*t-s*r,d=l*r+s*i-o*t,h=-s*t-o*i-a*r;return this.x=c*l+h*-s+u*-a-d*-o,this.y=u*l+h*-o+d*-s-c*-a,this.z=d*l+h*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return rM.copy(this).projectOnVector(e),this.sub(rM)}reflect(e){return this.sub(rM.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Sn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const rM=new A,UL=new ci;class ns{constructor(e=new A(1/0,1/0,1/0),t=new A(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(yo.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(yo.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=yo.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),void 0!==e.boundingBox)null===e.boundingBox&&e.computeBoundingBox(),Yc.copy(e.boundingBox),Yc.applyMatrix4(e.matrixWorld),this.union(Yc);else{const r=e.geometry;if(void 0!==r)if(t&&void 0!==r.attributes&&void 0!==r.attributes.position){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)yo.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(yo)}else null===r.boundingBox&&r.computeBoundingBox(),Yc.copy(r.boundingBox),Yc.applyMatrix4(e.matrixWorld),this.union(Yc)}const i=e.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,yo),yo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ph),hg.subVectors(this.max,ph),Kc.subVectors(e.a,ph),Zc.subVectors(e.b,ph),Jc.subVectors(e.c,ph),ea.subVectors(Zc,Kc),ta.subVectors(Jc,Zc),Ka.subVectors(Kc,Jc);let t=[0,-ea.z,ea.y,0,-ta.z,ta.y,0,-Ka.z,Ka.y,ea.z,0,-ea.x,ta.z,0,-ta.x,Ka.z,0,-Ka.x,-ea.y,ea.x,0,-ta.y,ta.x,0,-Ka.y,Ka.x,0];return!(!sM(t,Kc,Zc,Jc,hg)||(t=[1,0,0,0,1,0,0,0,1],!sM(t,Kc,Zc,Jc,hg)))&&(fg.crossVectors(ea,ta),t=[fg.x,fg.y,fg.z],sM(t,Kc,Zc,Jc,hg))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,yo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(yo).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(vo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),vo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),vo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),vo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),vo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),vo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),vo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),vo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(vo)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const vo=[new A,new A,new A,new A,new A,new A,new A,new A],yo=new A,Yc=new ns,Kc=new A,Zc=new A,Jc=new A,ea=new A,ta=new A,Ka=new A,ph=new A,hg=new A,fg=new A,Za=new A;function sM(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){Za.fromArray(n,s);const a=r.x*Math.abs(Za.x)+r.y*Math.abs(Za.y)+r.z*Math.abs(Za.z),l=e.dot(Za),c=t.dot(Za),u=i.dot(Za);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const Une=new ns,mh=new A,oM=new A;class As{constructor(e=new A,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;void 0!==t?i.copy(t):Une.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;mh.subVectors(e,this.center);const t=mh.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=.5*(i-this.radius);this.center.addScaledVector(mh,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(oM.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(mh.copy(e.center).add(oM)),this.expandByPoint(mh.copy(e.center).sub(oM))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const bo=new A,aM=new A,pg=new A,na=new A,lM=new A,mg=new A,cM=new A;class gg{constructor(e=new A,t=new A(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,bo)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=bo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(bo.copy(this.origin).addScaledVector(this.direction,t),bo.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){aM.copy(e).add(t).multiplyScalar(.5),pg.copy(t).sub(e).normalize(),na.copy(this.origin).sub(aM);const s=.5*e.distanceTo(t),o=-this.direction.dot(pg),a=na.dot(this.direction),l=-na.dot(pg),c=na.lengthSq(),u=Math.abs(1-o*o);let d,h,f,p;if(u>0)if(d=o*l-a,h=o*a-l,p=s*u,d>=0)if(h>=-p)if(h<=p){const g=1/u;d*=g,h*=g,f=d*(d+o*h+2*a)+h*(o*d+h+2*l)+c}else h=s,d=Math.max(0,-(o*h+a)),f=-d*d+h*(h+2*l)+c;else h=-s,d=Math.max(0,-(o*h+a)),f=-d*d+h*(h+2*l)+c;else h<=-p?(d=Math.max(0,-(-o*s+a)),h=d>0?-s:Math.min(Math.max(-s,-l),s),f=-d*d+h*(h+2*l)+c):h<=p?(d=0,h=Math.min(Math.max(-s,-l),s),f=h*(h+2*l)+c):(d=Math.max(0,-(o*s+a)),h=d>0?s:Math.min(Math.max(-s,-l),s),f=-d*d+h*(h+2*l)+c);else h=o>0?-s:s,d=Math.max(0,-(o*h+a)),f=-d*d+h*(h+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(aM).addScaledVector(pg,h),f}intersectSphere(e,t){bo.subVectors(e.center,this.origin);const i=bo.dot(this.direction),r=bo.dot(bo)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:this.at(a<0?l:a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return null===i?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,h=this.origin;return c>=0?(i=(e.min.x-h.x)*c,r=(e.max.x-h.x)*c):(i=(e.max.x-h.x)*c,r=(e.min.x-h.x)*c),u>=0?(s=(e.min.y-h.y)*u,o=(e.max.y-h.y)*u):(s=(e.max.y-h.y)*u,o=(e.min.y-h.y)*u),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(e.min.z-h.z)*d,l=(e.max.z-h.z)*d):(a=(e.max.z-h.z)*d,l=(e.min.z-h.z)*d),i>l||a>r)||((a>i||i!=i)&&(i=a),(l<r||r!=r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return null!==this.intersectBox(e,bo)}intersectTriangle(e,t,i,r,s){lM.subVectors(t,e),mg.subVectors(i,e),cM.crossVectors(lM,mg);let a,o=this.direction.dot(cM);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}na.subVectors(this.origin,e);const l=a*this.direction.dot(mg.crossVectors(na,mg));if(l<0)return null;const c=a*this.direction.dot(lM.cross(na));if(c<0||l+c>o)return null;const u=-a*na.dot(cM);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class at{constructor(){at.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,i,r,s,o,a,l,c,u,d,h,f,p,g,_){const m=this.elements;return m[0]=e,m[4]=t,m[8]=i,m[12]=r,m[1]=s,m[5]=o,m[9]=a,m[13]=l,m[2]=c,m[6]=u,m[10]=d,m[14]=h,m[3]=f,m[7]=p,m[11]=g,m[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new at).fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Qc.setFromMatrixColumn(e,0).length(),s=1/Qc.setFromMatrixColumn(e,1).length(),o=1/Qc.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),d=Math.sin(s);if("XYZ"===e.order){const h=o*u,f=o*d,p=a*u,g=a*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=f+p*c,t[5]=h-g*c,t[9]=-a*l,t[2]=g-h*c,t[6]=p+f*c,t[10]=o*l}else if("YXZ"===e.order){const h=l*u,f=l*d,p=c*u,g=c*d;t[0]=h+g*a,t[4]=p*a-f,t[8]=o*c,t[1]=o*d,t[5]=o*u,t[9]=-a,t[2]=f*a-p,t[6]=g+h*a,t[10]=o*l}else if("ZXY"===e.order){const h=l*u,f=l*d,p=c*u,g=c*d;t[0]=h-g*a,t[4]=-o*d,t[8]=p+f*a,t[1]=f+p*a,t[5]=o*u,t[9]=g-h*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if("ZYX"===e.order){const h=o*u,f=o*d,p=a*u,g=a*d;t[0]=l*u,t[4]=p*c-f,t[8]=h*c+g,t[1]=l*d,t[5]=g*c+h,t[9]=f*c-p,t[2]=-c,t[6]=a*l,t[10]=o*l}else if("YZX"===e.order){const h=o*l,f=o*c,p=a*l,g=a*c;t[0]=l*u,t[4]=g-h*d,t[8]=p*d+f,t[1]=d,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=f*d+p,t[10]=h-g*d}else if("XZY"===e.order){const h=o*l,f=o*c,p=a*l,g=a*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=h*d+g,t[5]=o*u,t[9]=f*d-p,t[2]=p*d-f,t[6]=a*u,t[10]=g*d+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(zne,e,Hne)}lookAt(e,t,i){const r=this.elements;return gr.subVectors(e,t),0===gr.lengthSq()&&(gr.z=1),gr.normalize(),ia.crossVectors(i,gr),0===ia.lengthSq()&&(1===Math.abs(i.z)?gr.x+=1e-4:gr.z+=1e-4,gr.normalize(),ia.crossVectors(i,gr)),ia.normalize(),_g.crossVectors(gr,ia),r[0]=ia.x,r[4]=_g.x,r[8]=gr.x,r[1]=ia.y,r[5]=_g.y,r[9]=gr.y,r[2]=ia.z,r[6]=_g.z,r[10]=gr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],d=i[5],h=i[9],f=i[13],p=i[2],g=i[6],_=i[10],m=i[14],y=i[3],v=i[7],b=i[11],x=i[15],M=r[0],S=r[4],C=r[8],w=r[12],E=r[1],L=r[5],V=r[9],I=r[13],N=r[2],U=r[6],F=r[10],G=r[14],W=r[3],q=r[7],ee=r[11],be=r[15];return s[0]=o*M+a*E+l*N+c*W,s[4]=o*S+a*L+l*U+c*q,s[8]=o*C+a*V+l*F+c*ee,s[12]=o*w+a*I+l*G+c*be,s[1]=u*M+d*E+h*N+f*W,s[5]=u*S+d*L+h*U+f*q,s[9]=u*C+d*V+h*F+f*ee,s[13]=u*w+d*I+h*G+f*be,s[2]=p*M+g*E+_*N+m*W,s[6]=p*S+g*L+_*U+m*q,s[10]=p*C+g*V+_*F+m*ee,s[14]=p*w+g*I+_*G+m*be,s[3]=y*M+v*E+b*N+x*W,s[7]=y*S+v*L+b*U+x*q,s[11]=y*C+v*V+b*F+x*ee,s[15]=y*w+v*I+b*G+x*be,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],h=e[10],f=e[14];return e[3]*(+s*l*d-r*c*d-s*a*h+i*c*h+r*a*f-i*l*f)+e[7]*(+t*l*f-t*c*h+s*o*h-r*o*f+r*c*u-s*l*u)+e[11]*(+t*c*d-t*a*f-s*o*d+i*o*f+s*a*u-i*c*u)+e[15]*(-r*a*u-t*l*d+t*a*h+r*o*d-i*o*h+i*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],f=e[11],p=e[12],g=e[13],_=e[14],m=e[15],y=d*_*c-g*h*c+g*l*f-a*_*f-d*l*m+a*h*m,v=p*h*c-u*_*c-p*l*f+o*_*f+u*l*m-o*h*m,b=u*g*c-p*d*c+p*a*f-o*g*f-u*a*m+o*d*m,x=p*d*l-u*g*l-p*a*h+o*g*h+u*a*_-o*d*_,M=t*y+i*v+r*b+s*x;if(0===M)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const S=1/M;return e[0]=y*S,e[1]=(g*h*s-d*_*s-g*r*f+i*_*f+d*r*m-i*h*m)*S,e[2]=(a*_*s-g*l*s+g*r*c-i*_*c-a*r*m+i*l*m)*S,e[3]=(d*l*s-a*h*s-d*r*c+i*h*c+a*r*f-i*l*f)*S,e[4]=v*S,e[5]=(u*_*s-p*h*s+p*r*f-t*_*f-u*r*m+t*h*m)*S,e[6]=(p*l*s-o*_*s-p*r*c+t*_*c+o*r*m-t*l*m)*S,e[7]=(o*h*s-u*l*s+u*r*c-t*h*c-o*r*f+t*l*f)*S,e[8]=b*S,e[9]=(p*d*s-u*g*s-p*i*f+t*g*f+u*i*m-t*d*m)*S,e[10]=(o*g*s-p*a*s+p*i*c-t*g*c-o*i*m+t*a*m)*S,e[11]=(u*a*s-o*d*s-u*i*c+t*d*c+o*i*f-t*a*f)*S,e[12]=x*S,e[13]=(u*g*r-p*d*r+p*i*h-t*g*h-u*i*_+t*d*_)*S,e[14]=(p*a*r-o*g*r-p*i*l+t*g*l+o*i*_-t*a*_)*S,e[15]=(o*d*r-u*a*r+u*i*l-t*d*l-o*i*h+t*a*h)*S,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,d=a+a,h=s*c,f=s*u,p=s*d,g=o*u,_=o*d,m=a*d,y=l*c,v=l*u,b=l*d,x=i.x,M=i.y,S=i.z;return r[0]=(1-(g+m))*x,r[1]=(f+b)*x,r[2]=(p-v)*x,r[3]=0,r[4]=(f-b)*M,r[5]=(1-(h+m))*M,r[6]=(_+y)*M,r[7]=0,r[8]=(p+v)*S,r[9]=(_-y)*S,r[10]=(1-(h+g))*S,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=Qc.set(r[0],r[1],r[2]).length();const o=Qc.set(r[4],r[5],r[6]).length(),a=Qc.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],is.copy(this);const c=1/s,u=1/o,d=1/a;return is.elements[0]*=c,is.elements[1]*=c,is.elements[2]*=c,is.elements[4]*=u,is.elements[5]*=u,is.elements[6]*=u,is.elements[8]*=d,is.elements[9]*=d,is.elements[10]*=d,t.setFromRotationMatrix(is),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o){const a=this.elements,c=2*s/(i-r),u=(t+e)/(t-e),d=(i+r)/(i-r),h=-(o+s)/(o-s),f=-2*o*s/(o-s);return a[0]=2*s/(t-e),a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,r,s,o){const a=this.elements,l=1/(t-e),c=1/(i-r),u=1/(o-s),d=(t+e)*l,h=(i+r)*c,f=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Qc=new A,is=new at,zne=new A(0,0,0),Hne=new A(1,1,1),ia=new A,_g=new A,gr=new A,zL=new at,HL=new ci;let Vne=(()=>{class n{constructor(t=0,i=0,r=0,s=n.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=i,this._z=r,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,i,r,s=this._order){return this._x=t,this._y=i,this._z=r,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,i=this._order,r=!0){const s=t.elements,o=s[0],a=s[4],l=s[8],c=s[1],u=s[5],d=s[9],h=s[2],f=s[6],p=s[10];switch(i){case"XYZ":this._y=Math.asin(Sn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Sn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(l,p),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-h,o),this._z=0);break;case"ZXY":this._x=Math.asin(Sn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-Sn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,p),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Sn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(l,p));break;case"XZY":this._z=Math.asin(-Sn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(l,o)):(this._x=Math.atan2(-d,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,!0===r&&this._onChangeCallback(),this}setFromQuaternion(t,i,r){return zL.makeRotationFromQuaternion(t),this.setFromRotationMatrix(zL,i,r)}setFromVector3(t,i=this._order){return this.set(t.x,t.y,t.z,i)}reorder(t){return HL.setFromEuler(this),this.setFromQuaternion(HL,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],i=0){return t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return n.DEFAULT_ORDER="XYZ",n})();class uM{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let Gne=0;const VL=new A,eu=new ci,xo=new at,vg=new A,gh=new A,Wne=new A,$ne=new ci,GL=new A(1,0,0),WL=new A(0,1,0),$L=new A(0,0,1),jne={type:"added"},jL={type:"removed"};let ei=(()=>{class n extends Xa{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Gne++}),this.uuid=pr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DEFAULT_UP.clone();const t=new A,i=new Vne,r=new ci,s=new A(1,1,1);i._onChange(function o(){r.setFromEuler(i,!1)}),r._onChange(function a(){i.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new at},normalMatrix:{value:new It}}),this.matrix=new at,this.matrixWorld=new at,this.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new uM,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,i){this.quaternion.setFromAxisAngle(t,i)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,i){return eu.setFromAxisAngle(t,i),this.quaternion.multiply(eu),this}rotateOnWorldAxis(t,i){return eu.setFromAxisAngle(t,i),this.quaternion.premultiply(eu),this}rotateX(t){return this.rotateOnAxis(GL,t)}rotateY(t){return this.rotateOnAxis(WL,t)}rotateZ(t){return this.rotateOnAxis($L,t)}translateOnAxis(t,i){return VL.copy(t).applyQuaternion(this.quaternion),this.position.add(VL.multiplyScalar(i)),this}translateX(t){return this.translateOnAxis(GL,t)}translateY(t){return this.translateOnAxis(WL,t)}translateZ(t){return this.translateOnAxis($L,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(xo.copy(this.matrixWorld).invert())}lookAt(t,i,r){t.isVector3?vg.copy(t):vg.set(t,i,r);const s=this.parent;this.updateWorldMatrix(!0,!1),gh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?xo.lookAt(gh,vg,this.up):xo.lookAt(vg,gh,this.up),this.quaternion.setFromRotationMatrix(xo),s&&(xo.extractRotation(s.matrixWorld),eu.setFromRotationMatrix(xo),this.quaternion.premultiply(eu.invert()))}add(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(jne)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const i=this.children.indexOf(t);return-1!==i&&(t.parent=null,this.children.splice(i,1),t.dispatchEvent(jL)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const i=this.children[t];i.parent=null,i.dispatchEvent(jL)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),xo.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),xo.multiply(t.parent.matrixWorld)),t.applyMatrix4(xo),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,i){if(this[t]===i)return this;for(let r=0,s=this.children.length;r<s;r++){const a=this.children[r].getObjectByProperty(t,i);if(void 0!==a)return a}}getObjectsByProperty(t,i){let r=[];this[t]===i&&r.push(this);for(let s=0,o=this.children.length;s<o;s++){const a=this.children[s].getObjectsByProperty(t,i);a.length>0&&(r=r.concat(a))}return r}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(gh,t,Wne),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(gh,$ne,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return t.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(t){t(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverseVisible(t)}traverseAncestors(t){const i=this.parent;null!==i&&(t(i),i.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const i=this.children;for(let r=0,s=i.length;r<s;r++){const o=i[r];(!0===o.matrixWorldAutoUpdate||!0===t)&&o.updateMatrixWorld(t)}}updateWorldMatrix(t,i){const r=this.parent;if(!0===t&&null!==r&&!0===r.matrixWorldAutoUpdate&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===i){const s=this.children;for(let o=0,a=s.length;o<a;o++){const l=s[o];!0===l.matrixWorldAutoUpdate&&l.updateWorldMatrix(!1,!0)}}}toJSON(t){const i=void 0===t||"string"==typeof t,r={};i&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const s={};function o(l,c){return void 0===l[c.uuid]&&(l[c.uuid]=c.toJSON(t)),c.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=o(t.geometries,this.geometry);const l=this.geometry.parameters;if(void 0!==l&&void 0!==l.shapes){const c=l.shapes;if(Array.isArray(c))for(let u=0,d=c.length;u<d;u++)o(t.shapes,c[u]);else o(t.shapes,c)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(o(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const l=[];for(let c=0,u=this.material.length;c<u;c++)l.push(o(t.materials,this.material[c]));s.material=l}else s.material=o(t.materials,this.material);if(this.children.length>0){s.children=[];for(let l=0;l<this.children.length;l++)s.children.push(this.children[l].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let l=0;l<this.animations.length;l++)s.animations.push(o(t.animations,this.animations[l]))}if(i){const l=a(t.geometries),c=a(t.materials),u=a(t.textures),d=a(t.images),h=a(t.shapes),f=a(t.skeletons),p=a(t.animations),g=a(t.nodes);l.length>0&&(r.geometries=l),c.length>0&&(r.materials=c),u.length>0&&(r.textures=u),d.length>0&&(r.images=d),h.length>0&&(r.shapes=h),f.length>0&&(r.skeletons=f),p.length>0&&(r.animations=p),g.length>0&&(r.nodes=g)}return r.object=s,r;function a(l){const c=[];for(const u in l){const d=l[u];delete d.metadata,c.push(d)}return c}}clone(t){return(new this.constructor).copy(this,t)}copy(t,i=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===i)for(let r=0;r<t.children.length;r++)this.add(t.children[r].clone());return this}}return n.DEFAULT_UP=new A(0,1,0),n.DEFAULT_MATRIX_AUTO_UPDATE=!0,n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,n})();const rs=new A,wo=new A,dM=new A,Mo=new A,tu=new A,nu=new A,XL=new A,hM=new A,fM=new A,pM=new A;let yg=!1;class _r{constructor(e=new A,t=new A,i=new A){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),rs.subVectors(e,t),r.cross(rs);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){rs.subVectors(r,t),wo.subVectors(i,t),dM.subVectors(e,t);const o=rs.dot(rs),a=rs.dot(wo),l=rs.dot(dM),c=wo.dot(wo),u=wo.dot(dM),d=o*c-a*a;if(0===d)return s.set(-2,-1,-1);const h=1/d,f=(c*l-a*u)*h,p=(o*u-a*l)*h;return s.set(1-f-p,p,f)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Mo),Mo.x>=0&&Mo.y>=0&&Mo.x+Mo.y<=1}static getUV(e,t,i,r,s,o,a,l){return!1===yg&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),yg=!0),this.getInterpolation(e,t,i,r,s,o,a,l)}static getInterpolation(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,Mo),l.setScalar(0),l.addScaledVector(s,Mo.x),l.addScaledVector(o,Mo.y),l.addScaledVector(a,Mo.z),l}static isFrontFacing(e,t,i,r){return rs.subVectors(i,t),wo.subVectors(e,t),rs.cross(wo).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return rs.subVectors(this.c,this.b),wo.subVectors(this.a,this.b),.5*rs.cross(wo).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return _r.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return _r.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return!1===yg&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),yg=!0),_r.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}getInterpolation(e,t,i,r,s){return _r.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return _r.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return _r.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;tu.subVectors(r,i),nu.subVectors(s,i),hM.subVectors(e,i);const l=tu.dot(hM),c=nu.dot(hM);if(l<=0&&c<=0)return t.copy(i);fM.subVectors(e,r);const u=tu.dot(fM),d=nu.dot(fM);if(u>=0&&d<=u)return t.copy(r);const h=l*d-u*c;if(h<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(i).addScaledVector(tu,o);pM.subVectors(e,s);const f=tu.dot(pM),p=nu.dot(pM);if(p>=0&&f<=p)return t.copy(s);const g=f*c-l*p;if(g<=0&&c>=0&&p<=0)return a=c/(c-p),t.copy(i).addScaledVector(nu,a);const _=u*p-f*d;if(_<=0&&d-u>=0&&f-p>=0)return XL.subVectors(s,r),a=(d-u)/(d-u+(f-p)),t.copy(r).addScaledVector(XL,a);const m=1/(_+g+h);return o=g*m,a=h*m,t.copy(i).addScaledVector(tu,o).addScaledVector(nu,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Xne=0;class ss extends Xa{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Xne++}),this.uuid=pr(),this.name="",this.type="Material",this.blending=Nc,this.side=mo,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=tL,this.blendDst=nL,this.blendEquation=Bc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Uw,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const i=e[t];if(void 0===i){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(i.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(i.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Nc&&(i.blending=this.blending),this.side!==mo&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(i.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(i.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=this.flatShading),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),!1===this.fog&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData),t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(null!==t){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}const qL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},os={h:0,s:0,l:0},bg={h:0,s:0,l:0};function mM(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+6*(e-n)*(2/3-t):n}class Ae{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===t&&void 0===i?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ot){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,es.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=es.workingColorSpace){return this.r=e,this.g=t,this.b=i,es.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=es.workingColorSpace){if(e=Jw(e,1),t=Sn(t,0,1),i=Sn(i,0,1),0===t)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=mM(o,s,e+1/3),this.g=mM(o,s,e),this.b=mM(o,s,e-1/3)}return es.toWorkingColorSpace(this,r),this}setStyle(e,t=ot){function i(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[2];switch(r[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(3===o)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(6===o)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=ot){const i=qL[e.toLowerCase()];return void 0!==i?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=jc(e.r),this.g=jc(e.g),this.b=jc(e.b),this}copyLinearToSRGB(e){return this.r=tM(e.r),this.g=tM(e.g),this.b=tM(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ot){return es.fromWorkingColorSpace(xi.copy(this),e),65536*Math.round(Sn(255*xi.r,0,255))+256*Math.round(Sn(255*xi.g,0,255))+Math.round(Sn(255*xi.b,0,255))}getHexString(e=ot){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=es.workingColorSpace){es.fromWorkingColorSpace(xi.copy(this),t);const i=xi.r,r=xi.g,s=xi.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case i:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-i)/d+2;break;case s:l=(i-r)/d+4}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=es.workingColorSpace){return es.fromWorkingColorSpace(xi.copy(this),t),e.r=xi.r,e.g=xi.g,e.b=xi.b,e}getStyle(e=ot){es.fromWorkingColorSpace(xi.copy(this),e);const t=xi.r,i=xi.g,r=xi.b;return e!==ot?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*i)},${Math.round(255*r)})`}offsetHSL(e,t,i){return this.getHSL(os),os.h+=e,os.s+=t,os.l+=i,this.setHSL(os.h,os.s,os.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(os),e.getHSL(bg);const i=dh(os.h,bg.h,t),r=dh(os.s,bg.s,t),s=dh(os.l,bg.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const xi=new Ae;Ae.NAMES=qL;class Fr extends ss{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ae(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=og,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Wn=new A,xg=new se;class Cn{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=i,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,i=this.count;t<i;t++)xg.fromBufferAttribute(this,t),xg.applyMatrix3(e),this.setXY(t,xg.x,xg.y);else if(3===this.itemSize)for(let t=0,i=this.count;t<i;t++)Wn.fromBufferAttribute(this,t),Wn.applyMatrix3(e),this.setXYZ(t,Wn.x,Wn.y,Wn.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Wn.fromBufferAttribute(this,t),Wn.applyMatrix4(e),this.setXYZ(t,Wn.x,Wn.y,Wn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Wn.fromBufferAttribute(this,t),Wn.applyNormalMatrix(e),this.setXYZ(t,Wn.x,Wn.y,Wn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Wn.fromBufferAttribute(this,t),Wn.transformDirection(e),this.setXYZ(t,Wn.x,Wn.y,Wn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=mr(t,this.array)),t}setX(e,t){return this.normalized&&(t=yt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=mr(t,this.array)),t}setY(e,t){return this.normalized&&(t=yt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=mr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=yt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=mr(t,this.array)),t}setW(e,t){return this.normalized&&(t=yt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=yt(t,this.array),i=yt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=yt(t,this.array),i=yt(i,this.array),r=yt(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=yt(t,this.array),i=yt(i,this.array),r=yt(r,this.array),s=yt(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class YL extends Cn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class KL extends Cn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class He extends Cn{constructor(e,t,i){super(new Float32Array(e),t,i)}}let Yne=0;const Nr=new at,gM=new ei,iu=new A,vr=new ns,vh=new ns,ti=new A;class Et extends Xa{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Yne++}),this.uuid=pr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(LL(e)?KL:YL)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const s=(new It).getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Nr.makeRotationFromQuaternion(e),this.applyMatrix4(Nr),this}rotateX(e){return Nr.makeRotationX(e),this.applyMatrix4(Nr),this}rotateY(e){return Nr.makeRotationY(e),this.applyMatrix4(Nr),this}rotateZ(e){return Nr.makeRotationZ(e),this.applyMatrix4(Nr),this}translate(e,t,i){return Nr.makeTranslation(e,t,i),this.applyMatrix4(Nr),this}scale(e,t,i){return Nr.makeScale(e,t,i),this.applyMatrix4(Nr),this}lookAt(e){return gM.lookAt(e),gM.updateMatrix(),this.applyMatrix4(gM.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(iu).negate(),this.translate(iu.x,iu.y,iu.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new He(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new ns);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new A(-1/0,-1/0,-1/0),new A(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++)vr.setFromBufferAttribute(t[i]),this.morphTargetsRelative?(ti.addVectors(this.boundingBox.min,vr.min),this.boundingBox.expandByPoint(ti),ti.addVectors(this.boundingBox.max,vr.max),this.boundingBox.expandByPoint(ti)):(this.boundingBox.expandByPoint(vr.min),this.boundingBox.expandByPoint(vr.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new As);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new A,1/0);if(e){const i=this.boundingSphere.center;if(vr.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++)vh.setFromBufferAttribute(t[s]),this.morphTargetsRelative?(ti.addVectors(vr.min,vh.min),vr.expandByPoint(ti),ti.addVectors(vr.max,vh.max),vr.expandByPoint(ti)):(vr.expandByPoint(vh.min),vr.expandByPoint(vh.max));vr.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)ti.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(ti));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)ti.fromBufferAttribute(a,c),l&&(iu.fromBufferAttribute(e,c),ti.add(iu)),r=Math.max(r,i.distanceToSquared(ti))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Cn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let E=0;E<a;E++)c[E]=new A,u[E]=new A;const d=new A,h=new A,f=new A,p=new se,g=new se,_=new se,m=new A,y=new A;function v(E,L,V){d.fromArray(r,3*E),h.fromArray(r,3*L),f.fromArray(r,3*V),p.fromArray(o,2*E),g.fromArray(o,2*L),_.fromArray(o,2*V),h.sub(d),f.sub(d),g.sub(p),_.sub(p);const I=1/(g.x*_.y-_.x*g.y);isFinite(I)&&(m.copy(h).multiplyScalar(_.y).addScaledVector(f,-g.y).multiplyScalar(I),y.copy(f).multiplyScalar(g.x).addScaledVector(h,-_.x).multiplyScalar(I),c[E].add(m),c[L].add(m),c[V].add(m),u[E].add(y),u[L].add(y),u[V].add(y))}let b=this.groups;0===b.length&&(b=[{start:0,count:i.length}]);for(let E=0,L=b.length;E<L;++E){const V=b[E],I=V.start;for(let U=I,F=I+V.count;U<F;U+=3)v(i[U+0],i[U+1],i[U+2])}const x=new A,M=new A,S=new A,C=new A;function w(E){S.fromArray(s,3*E),C.copy(S);const L=c[E];x.copy(L),x.sub(S.multiplyScalar(S.dot(L))).normalize(),M.crossVectors(C,L);const I=M.dot(u[E])<0?-1:1;l[4*E]=x.x,l[4*E+1]=x.y,l[4*E+2]=x.z,l[4*E+3]=I}for(let E=0,L=b.length;E<L;++E){const V=b[E],I=V.start;for(let U=I,F=I+V.count;U<F;U+=3)w(i[U+0]),w(i[U+1]),w(i[U+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let i=this.getAttribute("normal");if(void 0===i)i=new Cn(new Float32Array(3*t.count),3),this.setAttribute("normal",i);else for(let h=0,f=i.count;h<f;h++)i.setXYZ(h,0,0,0);const r=new A,s=new A,o=new A,a=new A,l=new A,c=new A,u=new A,d=new A;if(e)for(let h=0,f=e.count;h<f;h+=3){const p=e.getX(h+0),g=e.getX(h+1),_=e.getX(h+2);r.fromBufferAttribute(t,p),s.fromBufferAttribute(t,g),o.fromBufferAttribute(t,_),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),a.fromBufferAttribute(i,p),l.fromBufferAttribute(i,g),c.fromBufferAttribute(i,_),a.add(u),l.add(u),c.add(u),i.setXYZ(p,a.x,a.y,a.z),i.setXYZ(g,l.x,l.y,l.z),i.setXYZ(_,c.x,c.y,c.z)}else for(let h=0,f=t.count;h<f;h+=3)r.fromBufferAttribute(t,h+0),s.fromBufferAttribute(t,h+1),o.fromBufferAttribute(t,h+2),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),i.setXYZ(h+0,u.x,u.y,u.z),i.setXYZ(h+1,u.x,u.y,u.z),i.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)ti.fromBufferAttribute(e,t),ti.normalize(),e.setXYZ(t,ti.x,ti.y,ti.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,h=new c.constructor(l.length*u);let f=0,p=0;for(let g=0,_=l.length;g<_;g++){f=a.isInterleavedBufferAttribute?l[g]*a.data.stride+a.offset:l[g]*u;for(let m=0;m<u;m++)h[p++]=c[f++]}return new Cn(h,u,d)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Et,i=this.index.array,r=this.attributes;for(const a in r){const c=e(r[a],i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const f=e(c[u],i);l.push(f)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const l=this.parameters;for(const c in l)void 0!==l[c]&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i)e.data.attributes[l]=i[l].toJSON(e.data);const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,h=c.length;d<h;d++)u.push(c[d].toJSON(e.data));u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;null!==i&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r)this.setAttribute(c,r[c].clone(t));const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let h=0,f=d.length;h<f;h++)u.push(d[h].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const l=e.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const ZL=new at,Ds=new gg,wg=new As,JL=new A,ru=new A,su=new A,ou=new A,_M=new A,Mg=new A,Eg=new se,Sg=new se,Cg=new se,QL=new A,eF=new A,tF=new A,Tg=new A,Ag=new A;class wi extends ei{constructor(e=new Et,t=new Fr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(i.attributes.position,e);const a=this.morphTargetInfluences;if(s&&a){Mg.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l];0!==u&&(_M.fromBufferAttribute(s[l],e),Mg.addScaledVector(o?_M:_M.sub(t),u))}t.add(Mg)}return t}raycast(e,t){const i=this.geometry,s=this.matrixWorld;void 0!==this.material&&(null===i.boundingSphere&&i.computeBoundingSphere(),wg.copy(i.boundingSphere),wg.applyMatrix4(s),Ds.copy(e.ray).recast(e.near),(!1!==wg.containsPoint(Ds.origin)||!(null===Ds.intersectSphere(wg,JL)||Ds.origin.distanceToSquared(JL)>(e.far-e.near)**2))&&(ZL.copy(s).invert(),Ds.copy(e.ray).applyMatrix4(ZL),(null===i.boundingBox||!1!==Ds.intersectsBox(i.boundingBox))&&this._computeIntersections(e,t)))}_computeIntersections(e,t){let i;const r=this.geometry,s=this.material,o=r.index,a=r.attributes.position,l=r.attributes.uv,c=r.attributes.uv1,u=r.attributes.normal,d=r.groups,h=r.drawRange;if(null!==o)if(Array.isArray(s))for(let f=0,p=d.length;f<p;f++){const g=d[f],_=s[g.materialIndex];for(let v=Math.max(g.start,h.start),b=Math.min(o.count,Math.min(g.start+g.count,h.start+h.count));v<b;v+=3){const x=o.getX(v),M=o.getX(v+1),S=o.getX(v+2);i=Dg(this,_,e,Ds,l,c,u,x,M,S),i&&(i.faceIndex=Math.floor(v/3),i.face.materialIndex=g.materialIndex,t.push(i))}}else for(let g=Math.max(0,h.start),_=Math.min(o.count,h.start+h.count);g<_;g+=3){const m=o.getX(g),y=o.getX(g+1),v=o.getX(g+2);i=Dg(this,s,e,Ds,l,c,u,m,y,v),i&&(i.faceIndex=Math.floor(g/3),t.push(i))}else if(void 0!==a)if(Array.isArray(s))for(let f=0,p=d.length;f<p;f++){const g=d[f],_=s[g.materialIndex];for(let v=Math.max(g.start,h.start),b=Math.min(a.count,Math.min(g.start+g.count,h.start+h.count));v<b;v+=3)i=Dg(this,_,e,Ds,l,c,u,v,v+1,v+2),i&&(i.faceIndex=Math.floor(v/3),i.face.materialIndex=g.materialIndex,t.push(i))}else for(let g=Math.max(0,h.start),_=Math.min(a.count,h.start+h.count);g<_;g+=3)i=Dg(this,s,e,Ds,l,c,u,g,g+1,g+2),i&&(i.faceIndex=Math.floor(g/3),t.push(i))}}function Dg(n,e,t,i,r,s,o,a,l,c){n.getVertexPosition(a,ru),n.getVertexPosition(l,su),n.getVertexPosition(c,ou);const u=function Kne(n,e,t,i,r,s,o,a){let l;if(l=e.side===Zi?i.intersectTriangle(o,s,r,!0,a):i.intersectTriangle(r,s,o,e.side===mo,a),null===l)return null;Ag.copy(a),Ag.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(Ag);return c<t.near||c>t.far?null:{distance:c,point:Ag.clone(),object:n}}(n,e,t,i,ru,su,ou,Tg);if(u){r&&(Eg.fromBufferAttribute(r,a),Sg.fromBufferAttribute(r,l),Cg.fromBufferAttribute(r,c),u.uv=_r.getInterpolation(Tg,ru,su,ou,Eg,Sg,Cg,new se)),s&&(Eg.fromBufferAttribute(s,a),Sg.fromBufferAttribute(s,l),Cg.fromBufferAttribute(s,c),u.uv1=_r.getInterpolation(Tg,ru,su,ou,Eg,Sg,Cg,new se),u.uv2=u.uv1),o&&(QL.fromBufferAttribute(o,a),eF.fromBufferAttribute(o,l),tF.fromBufferAttribute(o,c),u.normal=_r.getInterpolation(Tg,ru,su,ou,QL,eF,tF,new A),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const d={a,b:l,c,normal:new A,materialIndex:0};_r.getNormal(ru,su,ou,d.normal),u.face=d}return u}class au extends Et{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let h=0,f=0;function p(g,_,m,y,v,b,x,M,S,C,w){const E=b/S,L=x/C,V=b/2,I=x/2,N=M/2,U=S+1,F=C+1;let G=0,W=0;const q=new A;for(let ee=0;ee<F;ee++){const be=ee*L-I;for(let ge=0;ge<U;ge++)q[g]=(ge*E-V)*y,q[_]=be*v,q[m]=N,c.push(q.x,q.y,q.z),q[g]=0,q[_]=0,q[m]=M>0?1:-1,u.push(q.x,q.y,q.z),d.push(ge/S),d.push(1-ee/C),G+=1}for(let ee=0;ee<C;ee++)for(let be=0;be<S;be++){const K=h+be+U*(ee+1),J=h+(be+1)+U*(ee+1),_e=h+(be+1)+U*ee;l.push(h+be+U*ee,K,_e),l.push(K,J,_e),W+=6}a.addGroup(f,W,w),f+=W,h+=G}p("z","y","x",-1,-1,i,t,e,o,s,0),p("z","y","x",1,-1,i,t,-e,o,s,1),p("x","z","y",1,1,e,i,t,r,o,2),p("x","z","y",1,-1,e,i,-t,r,o,3),p("x","y","z",1,-1,e,t,i,r,s,4),p("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new He(c,3)),this.setAttribute("normal",new He(u,3)),this.setAttribute("uv",new He(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new au(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function lu(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():e[t][i]=Array.isArray(r)?r.slice():r}}return e}function ki(n){const e={};for(let t=0;t<n.length;t++){const i=lu(n[t]);for(const r in i)e[r]=i[r]}return e}function nF(n){return null===n.getRenderTarget()?n.outputColorSpace:Ts}const Jne={clone:lu,merge:ki};class ra extends ss{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=lu(e.uniforms),this.uniformsGroups=function Zne(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;t.uniforms[r]=o&&o.isTexture?{type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?{type:"c",value:o.getHex()}:o&&o.isVector2?{type:"v2",value:o.toArray()}:o&&o.isVector3?{type:"v3",value:o.toArray()}:o&&o.isVector4?{type:"v4",value:o.toArray()}:o&&o.isMatrix3?{type:"m3",value:o.toArray()}:o&&o.isMatrix4?{type:"m4",value:o.toArray()}:{value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)!0===this.extensions[r]&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class vM extends ei{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new at,this.projectionMatrix=new at,this.projectionMatrixInverse=new at}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class ni extends vM{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Wc*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*qa*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Wc*Math.atan(Math.tan(.5*qa*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*qa*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;0!==a&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class tie extends ei{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i;const r=new ni(-90,1,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const s=new ni(-90,1,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new ni(-90,1,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new ni(-90,1,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new ni(-90,1,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const c=new ni(-90,1,e,t);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,-1),this.add(c)}update(e,t){null===this.parent&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,l,c]=this.children,u=e.getRenderTarget(),d=e.toneMapping,h=e.xr.enabled;e.toneMapping=go,e.xr.enabled=!1;const f=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=f,e.setRenderTarget(i,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=d,e.xr.enabled=h,i.texture.needsPMREMUpdate=!0}}class Pg extends ts{constructor(e,t,i,r,s,o,a,l,c,u){super(e=void 0!==e?e:[],t=void 0!==t?t:Ba,i,r,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class nie extends Ya{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];void 0!==t.encoding&&(fh("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Wa?ot:ja),this.texture=new Pg(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:En}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i_uniforms={tEquirect:{value:null}},i_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",r=new au(5,5,5),s=new ra({name:"CubemapFromEquirect",uniforms:lu(i_uniforms),vertexShader:i_vertexShader,fragmentShader:i_fragmentShader,side:Zi,blending:Jo});s.uniforms.tEquirect.value=t;const o=new wi(r,s),a=t.minFilter;return t.minFilter===_o&&(t.minFilter=En),new tie(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const yM=new A,iie=new A,rie=new It;class Ja{constructor(e=new A(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=yM.subVectors(i,t).cross(iie.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(yM),r=this.normal.dot(i);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||rie.getNormalMatrix(e),r=this.coplanarPoint(yM).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Qa=new As,Ig=new A;class bM{constructor(e=new Ja,t=new Ja,i=new Ja,r=new Ja,s=new Ja,o=new Ja){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],c=i[5],u=i[6],d=i[7],h=i[8],f=i[9],p=i[10],g=i[11],_=i[12],m=i[13],y=i[14],v=i[15];return t[0].setComponents(a-r,d-l,g-h,v-_).normalize(),t[1].setComponents(a+r,d+l,g+h,v+_).normalize(),t[2].setComponents(a+s,d+c,g+f,v+m).normalize(),t[3].setComponents(a-s,d-c,g-f,v-m).normalize(),t[4].setComponents(a-o,d-u,g-p,v-y).normalize(),t[5].setComponents(a+o,d+u,g+p,v+y).normalize(),this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),Qa.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),Qa.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Qa)}intersectsSprite(e){return Qa.center.set(0,0,0),Qa.radius=.7071067811865476,Qa.applyMatrix4(e.matrixWorld),this.intersectsSphere(Qa)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Ig.x=r.normal.x>0?e.max.x:e.min.x,Ig.y=r.normal.y>0?e.max.y:e.min.y,Ig.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Ig)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function iF(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==t&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function sie(n,e){const t=e.isWebGL2,i=new WeakMap;return{get:function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)},remove:function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u&&(n.deleteBuffer(u.buffer),i.delete(c))},update:function l(c,u){if(c.isGLBufferAttribute){const h=i.get(c);return void((!h||h.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version}))}c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);void 0===d?i.set(c,function r(c,u){const d=c.array,h=c.usage,f=n.createBuffer();let p;if(n.bindBuffer(u,f),n.bufferData(u,d,h),c.onUploadCallback(),d instanceof Float32Array)p=n.FLOAT;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute){if(!t)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");p=n.HALF_FLOAT}else p=n.UNSIGNED_SHORT;else if(d instanceof Int16Array)p=n.SHORT;else if(d instanceof Uint32Array)p=n.UNSIGNED_INT;else if(d instanceof Int32Array)p=n.INT;else if(d instanceof Int8Array)p=n.BYTE;else if(d instanceof Uint8Array)p=n.UNSIGNED_BYTE;else{if(!(d instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);p=n.UNSIGNED_BYTE}return{buffer:f,type:p,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}(c,u)):d.version<c.version&&(function s(c,u,d){const h=u.array,f=u.updateRange;n.bindBuffer(d,c),-1===f.count?n.bufferSubData(d,0,h):(t?n.bufferSubData(d,f.offset*h.BYTES_PER_ELEMENT,h,f.offset,f.count):n.bufferSubData(d,f.offset*h.BYTES_PER_ELEMENT,h.subarray(f.offset,f.offset+f.count)),f.count=-1),u.onUploadCallback()}(d.buffer,c,u),d.version=c.version)}}}class Rg extends Et{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,d=e/a,h=t/l,f=[],p=[],g=[],_=[];for(let m=0;m<u;m++){const y=m*h-o;for(let v=0;v<c;v++)p.push(v*d-s,-y,0),g.push(0,0,1),_.push(v/a),_.push(1-m/l)}for(let m=0;m<l;m++)for(let y=0;y<a;y++){const b=y+c*(m+1),x=y+1+c*(m+1),M=y+1+c*m;f.push(y+c*m,b,M),f.push(b,x,M)}this.setIndex(f),this.setAttribute("position",new He(p,3)),this.setAttribute("normal",new He(g,3)),this.setAttribute("uv",new He(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Rg(e.width,e.height,e.widthSegments,e.heightSegments)}}const xt={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, vMapUv );\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_NORMALMAP_TANGENTSPACE\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#ifdef USE_UV\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},Se={common:{diffuse:{value:new Ae(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new It},alphaMap:{value:null},alphaMapTransform:{value:new It},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new It}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new It}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new It}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new It},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new It},normalScale:{value:new se(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new It},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new It}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new It}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new It}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ae(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ae(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new It}},sprite:{diffuse:{value:new Ae(16777215)},opacity:{value:1},center:{value:new se(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new It},alphaMap:{value:null},alphaTest:{value:0}}},Ps={basic:{uniforms:ki([Se.common,Se.specularmap,Se.envmap,Se.aomap,Se.lightmap,Se.fog]),vertexShader:xt.meshbasic_vert,fragmentShader:xt.meshbasic_frag},lambert:{uniforms:ki([Se.common,Se.specularmap,Se.envmap,Se.aomap,Se.lightmap,Se.emissivemap,Se.bumpmap,Se.normalmap,Se.displacementmap,Se.fog,Se.lights,{emissive:{value:new Ae(0)}}]),vertexShader:xt.meshlambert_vert,fragmentShader:xt.meshlambert_frag},phong:{uniforms:ki([Se.common,Se.specularmap,Se.envmap,Se.aomap,Se.lightmap,Se.emissivemap,Se.bumpmap,Se.normalmap,Se.displacementmap,Se.fog,Se.lights,{emissive:{value:new Ae(0)},specular:{value:new Ae(1118481)},shininess:{value:30}}]),vertexShader:xt.meshphong_vert,fragmentShader:xt.meshphong_frag},standard:{uniforms:ki([Se.common,Se.envmap,Se.aomap,Se.lightmap,Se.emissivemap,Se.bumpmap,Se.normalmap,Se.displacementmap,Se.roughnessmap,Se.metalnessmap,Se.fog,Se.lights,{emissive:{value:new Ae(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:xt.meshphysical_vert,fragmentShader:xt.meshphysical_frag},toon:{uniforms:ki([Se.common,Se.aomap,Se.lightmap,Se.emissivemap,Se.bumpmap,Se.normalmap,Se.displacementmap,Se.gradientmap,Se.fog,Se.lights,{emissive:{value:new Ae(0)}}]),vertexShader:xt.meshtoon_vert,fragmentShader:xt.meshtoon_frag},matcap:{uniforms:ki([Se.common,Se.bumpmap,Se.normalmap,Se.displacementmap,Se.fog,{matcap:{value:null}}]),vertexShader:xt.meshmatcap_vert,fragmentShader:xt.meshmatcap_frag},points:{uniforms:ki([Se.points,Se.fog]),vertexShader:xt.points_vert,fragmentShader:xt.points_frag},dashed:{uniforms:ki([Se.common,Se.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:xt.linedashed_vert,fragmentShader:xt.linedashed_frag},depth:{uniforms:ki([Se.common,Se.displacementmap]),vertexShader:xt.depth_vert,fragmentShader:xt.depth_frag},normal:{uniforms:ki([Se.common,Se.bumpmap,Se.normalmap,Se.displacementmap,{opacity:{value:1}}]),vertexShader:xt.meshnormal_vert,fragmentShader:xt.meshnormal_frag},sprite:{uniforms:ki([Se.sprite,Se.fog]),vertexShader:xt.sprite_vert,fragmentShader:xt.sprite_frag},background:{uniforms:{uvTransform:{value:new It},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:xt.background_vert,fragmentShader:xt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:xt.backgroundCube_vert,fragmentShader:xt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:xt.cube_vert,fragmentShader:xt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:xt.equirect_vert,fragmentShader:xt.equirect_frag},distanceRGBA:{uniforms:ki([Se.common,Se.displacementmap,{referencePosition:{value:new A},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:xt.distanceRGBA_vert,fragmentShader:xt.distanceRGBA_frag},shadow:{uniforms:ki([Se.lights,Se.fog,{color:{value:new Ae(0)},opacity:{value:1}}]),vertexShader:xt.shadow_vert,fragmentShader:xt.shadow_frag}};Ps.physical={uniforms:ki([Ps.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new It},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new It},clearcoatNormalScale:{value:new se(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new It},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new It},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new It},sheen:{value:0},sheenColor:{value:new Ae(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new It},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new It},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new It},transmissionSamplerSize:{value:new se},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new It},attenuationDistance:{value:0},attenuationColor:{value:new Ae(0)},specularColor:{value:new Ae(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new It},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new It}}]),vertexShader:xt.meshphysical_vert,fragmentShader:xt.meshphysical_frag};const Og={r:0,b:0,g:0};function tse(n,e,t,i,r,s,o){const a=new Ae(0);let c,u,l=!0===s?0:1,d=null,h=0,f=null;function g(_,m){_.getRGB(Og,nF(n)),i.buffers.color.setClear(Og.r,Og.g,Og.b,m,o)}return{getClearColor:function(){return a},setClearColor:function(_,m=1){a.set(_),l=m,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,g(a,l)},render:function p(_,m){let y=!1,v=!0===m.isScene?m.background:null;switch(v&&v.isTexture&&(v=(m.backgroundBlurriness>0?t:e).get(v)),null===v?g(a,l):v&&v.isColor&&(g(v,1),y=!0),n.xr.getEnvironmentBlendMode()){case"opaque":y=!0;break;case"additive":i.buffers.color.setClear(0,0,0,1,o),y=!0;break;case"alpha-blend":i.buffers.color.setClear(0,0,0,0,o),y=!0}(n.autoClear||y)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),v&&(v.isCubeTexture||v.mapping===oh)?(void 0===u&&(u=new wi(new au(1,1,1),new ra({name:"BackgroundCubeMaterial",uniforms:lu(Ps.backgroundCube.uniforms),vertexShader:Ps.backgroundCube.vertexShader,fragmentShader:Ps.backgroundCube.fragmentShader,side:Zi,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(M,S,C){this.matrixWorld.copyPosition(C.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=v,u.material.uniforms.flipEnvMap.value=v.isCubeTexture&&!1===v.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=m.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,u.material.toneMapped=v.colorSpace!==ot,(d!==v||h!==v.version||f!==n.toneMapping)&&(u.material.needsUpdate=!0,d=v,h=v.version,f=n.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null)):v&&v.isTexture&&(void 0===c&&(c=new wi(new Rg(2,2),new ra({name:"BackgroundMaterial",uniforms:lu(Ps.background.uniforms),vertexShader:Ps.background.vertexShader,fragmentShader:Ps.background.fragmentShader,side:mo,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=v,c.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,c.material.toneMapped=v.colorSpace!==ot,!0===v.matrixAutoUpdate&&v.updateMatrix(),c.material.uniforms.uvTransform.value.copy(v.matrix),(d!==v||h!==v.version||f!==n.toneMapping)&&(c.material.needsUpdate=!0,d=v,h=v.version,f=n.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}}}function nse(n,e,t,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||null!==s,a={},l=_(null);let c=l,u=!1;function f(N){return i.isWebGL2?n.bindVertexArray(N):s.bindVertexArrayOES(N)}function p(N){return i.isWebGL2?n.deleteVertexArray(N):s.deleteVertexArrayOES(N)}function _(N){const U=[],F=[],G=[];for(let W=0;W<r;W++)U[W]=0,F[W]=0,G[W]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:U,enabledAttributes:F,attributeDivisors:G,object:N,attributes:{},index:null}}function v(){const N=c.newAttributes;for(let U=0,F=N.length;U<F;U++)N[U]=0}function b(N){x(N,0)}function x(N,U){const G=c.enabledAttributes,W=c.attributeDivisors;c.newAttributes[N]=1,0===G[N]&&(n.enableVertexAttribArray(N),G[N]=1),W[N]!==U&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](N,U),W[N]=U)}function M(){const N=c.newAttributes,U=c.enabledAttributes;for(let F=0,G=U.length;F<G;F++)U[F]!==N[F]&&(n.disableVertexAttribArray(F),U[F]=0)}function S(N,U,F,G,W,q){!0!==i.isWebGL2||F!==n.INT&&F!==n.UNSIGNED_INT?n.vertexAttribPointer(N,U,F,G,W,q):n.vertexAttribIPointer(N,U,F,W,q)}function V(){I(),u=!0,c!==l&&(c=l,f(c.object))}function I(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function d(N,U,F,G,W){let q=!1;if(o){const ee=function g(N,U,F){const G=!0===F.wireframe;let W=a[N.id];void 0===W&&(W={},a[N.id]=W);let q=W[U.id];void 0===q&&(q={},W[U.id]=q);let ee=q[G];return void 0===ee&&(ee=_(function h(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}()),q[G]=ee),ee}(G,F,U);c!==ee&&(c=ee,f(c.object)),q=function m(N,U,F,G){const W=c.attributes,q=U.attributes;let ee=0;const be=F.getAttributes();for(const ge in be)if(be[ge].location>=0){const J=W[ge];let _e=q[ge];if(void 0===_e&&("instanceMatrix"===ge&&N.instanceMatrix&&(_e=N.instanceMatrix),"instanceColor"===ge&&N.instanceColor&&(_e=N.instanceColor)),void 0===J||J.attribute!==_e||_e&&J.data!==_e.data)return!0;ee++}return c.attributesNum!==ee||c.index!==G}(N,G,F,W),q&&function y(N,U,F,G){const W={},q=U.attributes;let ee=0;const be=F.getAttributes();for(const ge in be)if(be[ge].location>=0){let J=q[ge];void 0===J&&("instanceMatrix"===ge&&N.instanceMatrix&&(J=N.instanceMatrix),"instanceColor"===ge&&N.instanceColor&&(J=N.instanceColor));const _e={};_e.attribute=J,J&&J.data&&(_e.data=J.data),W[ge]=_e,ee++}c.attributes=W,c.attributesNum=ee,c.index=G}(N,G,F,W)}else{const ee=!0===U.wireframe;(c.geometry!==G.id||c.program!==F.id||c.wireframe!==ee)&&(c.geometry=G.id,c.program=F.id,c.wireframe=ee,q=!0)}null!==W&&t.update(W,n.ELEMENT_ARRAY_BUFFER),(q||u)&&(u=!1,function C(N,U,F,G){if(!1===i.isWebGL2&&(N.isInstancedMesh||G.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;v();const W=G.attributes,q=F.getAttributes(),ee=U.defaultAttributeValues;for(const be in q){const ge=q[be];if(ge.location>=0){let K=W[be];if(void 0===K&&("instanceMatrix"===be&&N.instanceMatrix&&(K=N.instanceMatrix),"instanceColor"===be&&N.instanceColor&&(K=N.instanceColor)),void 0!==K){const J=K.normalized,_e=K.itemSize,ye=t.get(K);if(void 0===ye)continue;const R=ye.buffer,Ue=ye.type,Oe=ye.bytesPerElement;if(K.isInterleavedBufferAttribute){const he=K.data,Ie=he.stride,le=K.offset;if(he.isInstancedInterleavedBuffer){for(let te=0;te<ge.locationSize;te++)x(ge.location+te,he.meshPerAttribute);!0!==N.isInstancedMesh&&void 0===G._maxInstanceCount&&(G._maxInstanceCount=he.meshPerAttribute*he.count)}else for(let te=0;te<ge.locationSize;te++)b(ge.location+te);n.bindBuffer(n.ARRAY_BUFFER,R);for(let te=0;te<ge.locationSize;te++)S(ge.location+te,_e/ge.locationSize,Ue,J,Ie*Oe,(le+_e/ge.locationSize*te)*Oe)}else{if(K.isInstancedBufferAttribute){for(let he=0;he<ge.locationSize;he++)x(ge.location+he,K.meshPerAttribute);!0!==N.isInstancedMesh&&void 0===G._maxInstanceCount&&(G._maxInstanceCount=K.meshPerAttribute*K.count)}else for(let he=0;he<ge.locationSize;he++)b(ge.location+he);n.bindBuffer(n.ARRAY_BUFFER,R);for(let he=0;he<ge.locationSize;he++)S(ge.location+he,_e/ge.locationSize,Ue,J,_e*Oe,_e/ge.locationSize*he*Oe)}}else if(void 0!==ee){const J=ee[be];if(void 0!==J)switch(J.length){case 2:n.vertexAttrib2fv(ge.location,J);break;case 3:n.vertexAttrib3fv(ge.location,J);break;case 4:n.vertexAttrib4fv(ge.location,J);break;default:n.vertexAttrib1fv(ge.location,J)}}}}M()}(N,U,F,G),null!==W&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(W).buffer))},reset:V,resetDefaultState:I,dispose:function w(){V();for(const N in a){const U=a[N];for(const F in U){const G=U[F];for(const W in G)p(G[W].object),delete G[W];delete U[F]}delete a[N]}},releaseStatesOfGeometry:function E(N){if(void 0===a[N.id])return;const U=a[N.id];for(const F in U){const G=U[F];for(const W in G)p(G[W].object),delete G[W];delete U[F]}delete a[N.id]},releaseStatesOfProgram:function L(N){for(const U in a){const F=a[U];if(void 0===F[N.id])continue;const G=F[N.id];for(const W in G)p(G[W].object),delete G[W];delete F[N.id]}},initAttributes:v,enableAttribute:b,disableUnusedAttributes:M}}function ise(n,e,t,i){const r=i.isWebGL2;let s;this.setMode=function o(c){s=c},this.render=function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)},this.renderInstances=function l(c,u,d){if(0===d)return;let h,f;if(r)h=n,f="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),f="drawArraysInstancedANGLE",null===h)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[f](s,c,u,d),t.update(u,s,d)}}function rse(n,e,t){let i;function s(S){if("highp"===S){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";S="mediump"}return"mediump"===S&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&"WebGL2RenderingContext"===n.constructor.name;let a=void 0!==t.precision?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=!0===t.logarithmicDepthBuffer,d=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),h=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),f=n.getParameter(n.MAX_TEXTURE_SIZE),p=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),g=n.getParameter(n.MAX_VERTEX_ATTRIBS),_=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),m=n.getParameter(n.MAX_VARYING_VECTORS),y=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),v=h>0,b=o||e.has("OES_texture_float");return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:function r(){if(void 0!==i)return i;if(!0===e.has("EXT_texture_filter_anisotropic")){const S=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(S.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:h,maxTextureSize:f,maxCubemapSize:p,maxAttributes:g,maxVertexUniforms:_,maxVaryings:m,maxFragmentUniforms:y,vertexTextures:v,floatFragmentTextures:b,floatVertexTextures:v&&b,maxSamples:o?n.getParameter(n.MAX_SAMPLES):0}}function sse(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new Ja,a=new It,l={value:null,needsUpdate:!1};function u(d,h,f,p){const g=null!==d?d.length:0;let _=null;if(0!==g){if(_=l.value,!0!==p||null===_){const m=f+4*g,y=h.matrixWorldInverse;a.getNormalMatrix(y),(null===_||_.length<m)&&(_=new Float32Array(m));for(let v=0,b=f;v!==g;++v,b+=4)o.copy(d[v]).applyMatrix4(y,a),o.normal.toArray(_,b),_[b+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,_}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h){const f=0!==d.length||h||0!==i||r;return r=h,i=d.length,f},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,h){t=u(d,h,0)},this.setState=function(d,h,f){const p=d.clippingPlanes,g=d.clipIntersection,_=d.clipShadows,m=n.get(d);if(!r||null===p||0===p.length||s&&!_)s?u(null):function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}();else{const y=s?0:i,v=4*y;let b=m.clippingState||null;l.value=b,b=u(p,h,v,f);for(let x=0;x!==v;++x)b[x]=t[x];m.clippingState=b,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=y}}}function ose(n){let e=new WeakMap;function t(o,a){return a===ag?o.mapping=Ba:a===lg&&(o.mapping=Ua),o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);void 0!==l&&(e.delete(a),l.dispose())}return{get:function i(o){if(o&&o.isTexture&&!1===o.isRenderTargetTexture){const a=o.mapping;if(a===ag||a===lg){if(e.has(o))return t(e.get(o).texture,o.mapping);{const l=o.image;if(l&&l.height>0){const c=new nie(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}return null}}}return o},dispose:function s(){e=new WeakMap}}}class kg extends vM{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(null!==this.view&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const rF=[.125,.215,.35,.446,.526,.582],xM=new kg,sF=new Ae;let wM=null;const tl=(1+Math.sqrt(5))/2,hu=1/tl,oF=[new A(1,1,1),new A(-1,1,1),new A(1,1,-1),new A(-1,1,-1),new A(0,tl,hu),new A(0,tl,-hu),new A(hu,0,tl),new A(-hu,0,tl),new A(tl,hu,0),new A(-tl,hu,0)];class aF{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){wM=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=uF(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=cF(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(wM),e.scissorTest=!1,Lg(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(e.mapping===Ba||e.mapping===Ua?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),wM=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:En,minFilter:En,generateMipmaps:!1,type:ch,format:Lr,colorSpace:Ts,depthBuffer:!1},r=lF(e,t,i);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=lF(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function ase(n){const e=[],t=[],i=[];let r=n;const s=n-4+1+rF.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-4?l=rF[o-n+4-1]:0===o&&(l=0),i.push(l);const c=1/(a-2),u=-c,d=1+c,h=[u,u,d,u,d,d,u,u,d,d,u,d],f=6,p=6,g=3,_=2,m=1,y=new Float32Array(g*p*f),v=new Float32Array(_*p*f),b=new Float32Array(m*p*f);for(let M=0;M<f;M++){const S=M%3*2/3-1,C=M>2?0:-1;y.set([S,C,0,S+2/3,C,0,S+2/3,C+1,0,S,C,0,S+2/3,C+1,0,S,C+1,0],g*p*M),v.set(h,_*p*M),b.set([M,M,M,M,M,M],m*p*M)}const x=new Et;x.setAttribute("position",new Cn(y,g)),x.setAttribute("uv",new Cn(v,_)),x.setAttribute("faceIndex",new Cn(b,m)),e.push(x),r>4&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}(s)),this._blurMaterial=function lse(n,e,t){const i=new Float32Array(20),r=new A(0,1,0);return new ra({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:Jo,depthTest:!1,depthWrite:!1})}(s,e,t)}return r}_compileMaterial(e){const t=new wi(this._lodPlanes[0],e);this._renderer.compile(t,xM)}_sceneToCubeUV(e,t,i,r){const a=new ni(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,h=u.toneMapping;u.getClearColor(sF),u.toneMapping=go,u.autoClear=!1;const f=new Fr({name:"PMREM.Background",side:Zi,depthWrite:!1,depthTest:!1}),p=new wi(new au,f);let g=!1;const _=e.background;_?_.isColor&&(f.color.copy(_),e.background=null,g=!0):(f.color.copy(sF),g=!0);for(let m=0;m<6;m++){const y=m%3;0===y?(a.up.set(0,l[m],0),a.lookAt(c[m],0,0)):1===y?(a.up.set(0,0,l[m]),a.lookAt(0,c[m],0)):(a.up.set(0,l[m],0),a.lookAt(0,0,c[m]));const v=this._cubeSize;Lg(r,y*v,m>2?v:0,v,v),u.setRenderTarget(r),g&&u.render(p,a),u.render(e,a)}p.geometry.dispose(),p.material.dispose(),u.toneMapping=h,u.autoClear=d,e.background=_}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Ba||e.mapping===Ua;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=uF()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=cF());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new wi(this._lodPlanes[0],s);s.uniforms.envMap.value=e;const l=this._cubeSize;Lg(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,xM)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]);this._blur(e,r-1,r,s,oF[(r-1)%oF.length])}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const d=new wi(this._lodPlanes[r],c),h=c.uniforms,f=this._sizeLods[i]-1,p=isFinite(s)?Math.PI/(2*f):2*Math.PI/39,g=s/p,_=isFinite(s)?1+Math.floor(3*g):20;_>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to 20`);const m=[];let y=0;for(let S=0;S<20;++S){const C=S/g,w=Math.exp(-C*C/2);m.push(w),0===S?y+=w:S<_&&(y+=2*w)}for(let S=0;S<m.length;S++)m[S]=m[S]/y;h.envMap.value=e.texture,h.samples.value=_,h.weights.value=m,h.latitudinal.value="latitudinal"===o,a&&(h.poleAxis.value=a);const{_lodMax:v}=this;h.dTheta.value=p,h.mipInt.value=v-i;const b=this._sizeLods[r];Lg(t,3*b*(r>v-4?r-v+4:0),4*(this._cubeSize-b),3*b,2*b),l.setRenderTarget(t),l.render(d,xM)}}function lF(n,e,t){const i=new Ya(n,e,t);return i.texture.mapping=oh,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Lg(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function cF(){return new ra({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:Jo,depthTest:!1,depthWrite:!1})}function uF(){return new ra({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:Jo,depthTest:!1,depthWrite:!1})}function cse(n){let e=new WeakMap,t=null;function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);void 0!==c&&(e.delete(l),c.dispose())}return{get:function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===ag||l===lg,u=l===Ba||l===Ua;if(c||u){if(a.isRenderTargetTexture&&!0===a.needsPMREMUpdate){a.needsPMREMUpdate=!1;let d=e.get(a);return null===t&&(t=new aF(n)),d=c?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||u&&d&&function r(a){let l=0;for(let u=0;u<6;u++)void 0!==a[u]&&l++;return 6===l}(d)){null===t&&(t=new aF(n));const h=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,h),a.addEventListener("dispose",s),h.texture}return null}}}return a},dispose:function o(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function use(n){const e={};function t(i){if(void 0!==e[i])return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return null!==t(i)},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return null===r&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function dse(n,e,t,i){const r={},s=new WeakMap;function o(d){const h=d.target;null!==h.index&&e.remove(h.index);for(const p in h.attributes)e.remove(h.attributes[p]);h.removeEventListener("dispose",o),delete r[h.id];const f=s.get(h);f&&(e.remove(f),s.delete(h)),i.releaseStatesOfGeometry(h),!0===h.isInstancedBufferGeometry&&delete h._maxInstanceCount,t.memory.geometries--}function c(d){const h=[],f=d.index,p=d.attributes.position;let g=0;if(null!==f){const y=f.array;g=f.version;for(let v=0,b=y.length;v<b;v+=3){const x=y[v+0],M=y[v+1],S=y[v+2];h.push(x,M,M,S,S,x)}}else{g=p.version;for(let v=0,b=p.array.length/3-1;v<b;v+=3){const x=v+0,M=v+1,S=v+2;h.push(x,M,M,S,S,x)}}const _=new(LL(h)?KL:YL)(h,1);_.version=g;const m=s.get(d);m&&e.remove(m),s.set(d,_)}return{get:function a(d,h){return!0===r[h.id]||(h.addEventListener("dispose",o),r[h.id]=!0,t.memory.geometries++),h},update:function l(d){const h=d.attributes;for(const p in h)e.update(h[p],n.ARRAY_BUFFER);const f=d.morphAttributes;for(const p in f){const g=f[p];for(let _=0,m=g.length;_<m;_++)e.update(g[_],n.ARRAY_BUFFER)}},getWireframeAttribute:function u(d){const h=s.get(d);if(h){const f=d.index;null!==f&&h.version<f.version&&c(d)}else c(d);return s.get(d)}}}function hse(n,e,t,i){const r=i.isWebGL2;let s,a,l;this.setMode=function o(h){s=h},this.setIndex=function c(h){a=h.type,l=h.bytesPerElement},this.render=function u(h,f){n.drawElements(s,f,a,h*l),t.update(f,s,1)},this.renderInstances=function d(h,f,p){if(0===p)return;let g,_;if(r)g=n,_="drawElementsInstanced";else if(g=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",null===g)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");g[_](s,f,a,h*l,p),t.update(f,s,p)}}function fse(n){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o)}}}}function pse(n,e){return n[0]-e[0]}function mse(n,e){return Math.abs(e[1])-Math.abs(n[1])}function gse(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new Kt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];return{update:function l(c,u,d){const h=c.morphTargetInfluences;if(!0===e.isWebGL2){const f=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,p=void 0!==f?f.length:0;let g=s.get(u);if(void 0===g||g.count!==p){let N=function(){V.dispose(),s.delete(u),u.removeEventListener("dispose",N)};void 0!==g&&g.texture.dispose();const y=void 0!==u.morphAttributes.position,v=void 0!==u.morphAttributes.normal,b=void 0!==u.morphAttributes.color,x=u.morphAttributes.position||[],M=u.morphAttributes.normal||[],S=u.morphAttributes.color||[];let C=0;!0===y&&(C=1),!0===v&&(C=2),!0===b&&(C=3);let w=u.attributes.position.count*C,E=1;w>e.maxTextureSize&&(E=Math.ceil(w/e.maxTextureSize),w=e.maxTextureSize);const L=new Float32Array(w*E*4*p),V=new iM(L,w,E,p);V.type=Qo,V.needsUpdate=!0;const I=4*C;for(let U=0;U<p;U++){const F=x[U],G=M[U],W=S[U],q=w*E*4*U;for(let ee=0;ee<F.count;ee++){const be=ee*I;!0===y&&(o.fromBufferAttribute(F,ee),L[q+be+0]=o.x,L[q+be+1]=o.y,L[q+be+2]=o.z,L[q+be+3]=0),!0===v&&(o.fromBufferAttribute(G,ee),L[q+be+4]=o.x,L[q+be+5]=o.y,L[q+be+6]=o.z,L[q+be+7]=0),!0===b&&(o.fromBufferAttribute(W,ee),L[q+be+8]=o.x,L[q+be+9]=o.y,L[q+be+10]=o.z,L[q+be+11]=4===W.itemSize?o.w:1)}}g={count:p,texture:V,size:new se(w,E)},s.set(u,g),u.addEventListener("dispose",N)}let _=0;for(let y=0;y<h.length;y++)_+=h[y];const m=u.morphTargetsRelative?1:1-_;d.getUniforms().setValue(n,"morphTargetBaseInfluence",m),d.getUniforms().setValue(n,"morphTargetInfluences",h),d.getUniforms().setValue(n,"morphTargetsTexture",g.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",g.size)}else{const f=void 0===h?0:h.length;let p=i[u.id];if(void 0===p||p.length!==f){p=[];for(let v=0;v<f;v++)p[v]=[v,0];i[u.id]=p}for(let v=0;v<f;v++){const b=p[v];b[0]=v,b[1]=h[v]}p.sort(mse);for(let v=0;v<8;v++)v<f&&p[v][1]?(a[v][0]=p[v][0],a[v][1]=p[v][1]):(a[v][0]=Number.MAX_SAFE_INTEGER,a[v][1]=0);a.sort(pse);const g=u.morphAttributes.position,_=u.morphAttributes.normal;let m=0;for(let v=0;v<8;v++){const b=a[v],x=b[0],M=b[1];x!==Number.MAX_SAFE_INTEGER&&M?(g&&u.getAttribute("morphTarget"+v)!==g[x]&&u.setAttribute("morphTarget"+v,g[x]),_&&u.getAttribute("morphNormal"+v)!==_[x]&&u.setAttribute("morphNormal"+v,_[x]),r[v]=M,m+=M):(g&&!0===u.hasAttribute("morphTarget"+v)&&u.deleteAttribute("morphTarget"+v),_&&!0===u.hasAttribute("morphNormal"+v)&&u.deleteAttribute("morphNormal"+v),r[v]=0)}const y=u.morphTargetsRelative?1:1-m;d.getUniforms().setValue(n,"morphTargetBaseInfluence",y),d.getUniforms().setValue(n,"morphTargetInfluences",r)}}}}function _se(n,e,t,i){let r=new WeakMap;function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),null!==c.instanceColor&&t.remove(c.instanceColor)}return{update:function s(l){const c=i.render.frame,d=e.get(l,l.geometry);return r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(!1===l.hasEventListener("dispose",a)&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,n.ARRAY_BUFFER),null!==l.instanceColor&&t.update(l.instanceColor,n.ARRAY_BUFFER)),d},dispose:function o(){r=new WeakMap}}}const dF=new ts,hF=new iM,fF=new BL,pF=new Pg,mF=[],gF=[],_F=new Float32Array(16),vF=new Float32Array(9),yF=new Float32Array(4);function fu(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=mF[r];if(void 0===s&&(s=new Float32Array(r),mF[r]=s),0!==e){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Zn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Jn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function Fg(n,e){let t=gF[e];void 0===t&&(t=new Int32Array(e),gF[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function vse(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function yse(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Zn(t,e))return;n.uniform2fv(this.addr,e),Jn(t,e)}}function bse(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Zn(t,e))return;n.uniform3fv(this.addr,e),Jn(t,e)}}function xse(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Zn(t,e))return;n.uniform4fv(this.addr,e),Jn(t,e)}}function wse(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(Zn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Jn(t,e)}else{if(Zn(t,i))return;yF.set(i),n.uniformMatrix2fv(this.addr,!1,yF),Jn(t,i)}}function Mse(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(Zn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Jn(t,e)}else{if(Zn(t,i))return;vF.set(i),n.uniformMatrix3fv(this.addr,!1,vF),Jn(t,i)}}function Ese(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(Zn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Jn(t,e)}else{if(Zn(t,i))return;_F.set(i),n.uniformMatrix4fv(this.addr,!1,_F),Jn(t,i)}}function Sse(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Cse(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Zn(t,e))return;n.uniform2iv(this.addr,e),Jn(t,e)}}function Tse(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Zn(t,e))return;n.uniform3iv(this.addr,e),Jn(t,e)}}function Ase(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Zn(t,e))return;n.uniform4iv(this.addr,e),Jn(t,e)}}function Dse(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Pse(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Zn(t,e))return;n.uniform2uiv(this.addr,e),Jn(t,e)}}function Ise(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Zn(t,e))return;n.uniform3uiv(this.addr,e),Jn(t,e)}}function Rse(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Zn(t,e))return;n.uniform4uiv(this.addr,e),Jn(t,e)}}function Ose(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||dF,r)}function kse(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||fF,r)}function Lse(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||pF,r)}function Fse(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||hF,r)}function Bse(n,e){n.uniform1fv(this.addr,e)}function Use(n,e){const t=fu(e,this.size,2);n.uniform2fv(this.addr,t)}function zse(n,e){const t=fu(e,this.size,3);n.uniform3fv(this.addr,t)}function Hse(n,e){const t=fu(e,this.size,4);n.uniform4fv(this.addr,t)}function Vse(n,e){const t=fu(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Gse(n,e){const t=fu(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Wse(n,e){const t=fu(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function $se(n,e){n.uniform1iv(this.addr,e)}function jse(n,e){n.uniform2iv(this.addr,e)}function Xse(n,e){n.uniform3iv(this.addr,e)}function qse(n,e){n.uniform4iv(this.addr,e)}function Yse(n,e){n.uniform1uiv(this.addr,e)}function Kse(n,e){n.uniform2uiv(this.addr,e)}function Zse(n,e){n.uniform3uiv(this.addr,e)}function Jse(n,e){n.uniform4uiv(this.addr,e)}function Qse(n,e,t){const i=this.cache,r=e.length,s=Fg(t,r);Zn(i,s)||(n.uniform1iv(this.addr,s),Jn(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||dF,s[o])}function eoe(n,e,t){const i=this.cache,r=e.length,s=Fg(t,r);Zn(i,s)||(n.uniform1iv(this.addr,s),Jn(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||fF,s[o])}function toe(n,e,t){const i=this.cache,r=e.length,s=Fg(t,r);Zn(i,s)||(n.uniform1iv(this.addr,s),Jn(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||pF,s[o])}function noe(n,e,t){const i=this.cache,r=e.length,s=Fg(t,r);Zn(i,s)||(n.uniform1iv(this.addr,s),Jn(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||hF,s[o])}class roe{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=function Nse(n){switch(n){case 5126:return vse;case 35664:return yse;case 35665:return bse;case 35666:return xse;case 35674:return wse;case 35675:return Mse;case 35676:return Ese;case 5124:case 35670:return Sse;case 35667:case 35671:return Cse;case 35668:case 35672:return Tse;case 35669:case 35673:return Ase;case 5125:return Dse;case 36294:return Pse;case 36295:return Ise;case 36296:return Rse;case 35678:case 36198:case 36298:case 36306:case 35682:return Ose;case 35679:case 36299:case 36307:return kse;case 35680:case 36300:case 36308:case 36293:return Lse;case 36289:case 36303:case 36311:case 36292:return Fse}}(t.type)}}class soe{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=function ioe(n){switch(n){case 5126:return Bse;case 35664:return Use;case 35665:return zse;case 35666:return Hse;case 35674:return Vse;case 35675:return Gse;case 35676:return Wse;case 5124:case 35670:return $se;case 35667:case 35671:return jse;case 35668:case 35672:return Xse;case 35669:case 35673:return qse;case 5125:return Yse;case 36294:return Kse;case 36295:return Zse;case 36296:return Jse;case 35678:case 36198:case 36298:case 36306:case 35682:return Qse;case 35679:case 36299:case 36307:return eoe;case 35680:case 36300:case 36308:case 36293:return toe;case 36289:case 36303:case 36311:case 36292:return noe}}(t.type)}}class ooe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const EM=/(\w+)(\])?(\[|\.)?/g;function bF(n,e){n.seq.push(e),n.map[e.id]=e}function aoe(n,e,t){const i=n.name,r=i.length;for(EM.lastIndex=0;;){const s=EM.exec(i);let a=s[1];const c=s[3];if("]"===s[2]&&(a|=0),void 0===c||"["===c&&EM.lastIndex+2===r){bF(t,void 0===c?new roe(a,n,e):new soe(a,n,e));break}{let d=t.map[a];void 0===d&&(d=new ooe(a),bF(t,d)),t=d}}}class Ng{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r);aoe(s,e.getUniformLocation(t,s.name),this)}}setValue(e,t,i,r){const s=this.map[t];void 0!==s&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];void 0!==r&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];!1!==l.needsUpdate&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function xF(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let loe=0;function wF(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&""===r)return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+"\n\n"+r+"\n\n"+function coe(n,e){const t=n.split("\n"),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join("\n")}(n.getShaderSource(e),o)}return r}function doe(n,e){const t=function uoe(n){switch(n){case Ts:return["Linear","( value )"];case ot:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function hoe(n,e){let t;switch(e){case Gte:t="Linear";break;case Wte:t="Reinhard";break;case $te:t="OptimizedCineon";break;case jte:t="ACESFilmic";break;case Xte:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function yh(n){return""!==n}function MF(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function EF(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const goe=/^[ \t]*#include +<([\w\d./]+)>/gm;function SM(n){return n.replace(goe,_oe)}function _oe(n,e){const t=xt[e];if(void 0===t)throw new Error("Can not resolve #include <"+e+">");return SM(t)}const voe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function SF(n){return n.replace(voe,yoe)}function yoe(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function CF(n){let e="precision "+n.precision+" float;\nprecision "+n.precision+" int;";return"highp"===n.precision?e+="\n#define HIGH_PRECISION":"mediump"===n.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(e+="\n#define LOW_PRECISION"),e}function Soe(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=function boe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Yk?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===xte?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===po&&(e="SHADOWMAP_TYPE_VSM"),e}(t),c=function xoe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Ba:case Ua:e="ENVMAP_TYPE_CUBE";break;case oh:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),u=function woe(n){let e="ENVMAP_MODE_REFLECTION";return n.envMap&&n.envMapMode===Ua&&(e="ENVMAP_MODE_REFRACTION"),e}(t),d=function Moe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case og:e="ENVMAP_BLENDING_MULTIPLY";break;case Hte:e="ENVMAP_BLENDING_MIX";break;case Vte:e="ENVMAP_BLENDING_ADD"}return e}(t),h=function Eoe(n){const e=n.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}(t),f=t.isWebGL2?"":function foe(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||"physical"===n.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(yh).join("\n")}(t),p=function poe(n){const e=[];for(const t in n){const i=n[t];!1!==i&&e.push("#define "+t+" "+i)}return e.join("\n")}(s),g=r.createProgram();let _,m,y=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(_=[p].filter(yh).join("\n"),_.length>0&&(_+="\n"),m=[f,p].filter(yh).join("\n"),m.length>0&&(m+="\n")):(_=[CF(t),"#define SHADER_NAME "+t.shaderName,p,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(yh).join("\n"),m=[f,CF(t),"#define SHADER_NAME "+t.shaderName,p,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==go?"#define TONE_MAPPING":"",t.toneMapping!==go?xt.tonemapping_pars_fragment:"",t.toneMapping!==go?hoe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",xt.encodings_pars_fragment,doe("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(yh).join("\n")),o=SM(o),o=MF(o,t),o=EF(o,t),a=SM(a),a=MF(a,t),a=EF(a,t),o=SF(o),a=SF(a),t.isWebGL2&&!0!==t.isRawShaderMaterial&&(y="#version 300 es\n",_=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+_,m=["#define varying in",t.glslVersion===IL?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===IL?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+m);const b=y+m+a,x=xF(r,r.VERTEX_SHADER,y+_+o),M=xF(r,r.FRAGMENT_SHADER,b);if(r.attachShader(g,x),r.attachShader(g,M),void 0!==t.index0AttributeName?r.bindAttribLocation(g,0,t.index0AttributeName):!0===t.morphTargets&&r.bindAttribLocation(g,0,"position"),r.linkProgram(g),n.debug.checkShaderErrors){const w=r.getProgramInfoLog(g).trim(),E=r.getShaderInfoLog(x).trim(),L=r.getShaderInfoLog(M).trim();let V=!0,I=!0;if(!1===r.getProgramParameter(g,r.LINK_STATUS))if(V=!1,"function"==typeof n.debug.onShaderError)n.debug.onShaderError(r,g,x,M);else{const N=wF(r,x,"vertex"),U=wF(r,M,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(g,r.VALIDATE_STATUS)+"\n\nProgram Info Log: "+w+"\n"+N+"\n"+U)}else""!==w?console.warn("THREE.WebGLProgram: Program Info Log:",w):(""===E||""===L)&&(I=!1);I&&(this.diagnostics={runnable:V,programLog:w,vertexShader:{log:E,prefix:_},fragmentShader:{log:L,prefix:m}})}let S,C;return r.deleteShader(x),r.deleteShader(M),this.getUniforms=function(){return void 0===S&&(S=new Ng(r,g)),S},this.getAttributes=function(){return void 0===C&&(C=function moe(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}(r,g)),C},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(g),this.program=void 0},this.name=t.shaderName,this.id=loe++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=x,this.fragmentShader=M,this}let Coe=0;class Toe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const i=e.fragmentShader,r=this._getShaderStage(e.vertexShader),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(s)&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return void 0===i&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return void 0===i&&(i=new Aoe(e),t.set(e,i)),i}}class Aoe{constructor(e){this.id=Coe++,this.code=e,this.usedTimes=0}}function Doe(n,e,t,i,r,s,o){const a=new uM,l=new Toe,c=[],u=r.isWebGL2,d=r.logarithmicDepthBuffer,h=r.vertexTextures;let f=r.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(w){return 1===w?"uv1":2===w?"uv2":3===w?"uv3":"uv"}return{getParameters:function _(w,E,L,V,I){const N=V.fog,U=I.geometry,G=(w.isMeshStandardMaterial?t:e).get(w.envMap||(w.isMeshStandardMaterial?V.environment:null)),W=G&&G.mapping===oh?G.image.height:null,q=p[w.type];null!==w.precision&&(f=r.getMaxPrecision(w.precision),f!==w.precision&&console.warn("THREE.WebGLProgram.getParameters:",w.precision,"not supported, using",f,"instead."));const ee=U.morphAttributes.position||U.morphAttributes.normal||U.morphAttributes.color,be=void 0!==ee?ee.length:0;let K,J,_e,ye,ge=0;if(void 0!==U.morphAttributes.position&&(ge=1),void 0!==U.morphAttributes.normal&&(ge=2),void 0!==U.morphAttributes.color&&(ge=3),q){const en=Ps[q];K=en.vertexShader,J=en.fragmentShader}else K=w.vertexShader,J=w.fragmentShader,l.update(w),_e=l.getVertexShaderID(w),ye=l.getFragmentShaderID(w);const R=n.getRenderTarget(),Ue=!0===I.isInstancedMesh,Oe=!!w.map,Ie=!!G,le=!!w.aoMap,te=!!w.lightMap,de=!!w.bumpMap,Pe=!!w.normalMap,xe=!!w.displacementMap,je=!!w.emissiveMap,Ye=!!w.metalnessMap,Ge=!!w.roughnessMap,ht=w.clearcoat>0,St=w.iridescence>0,P=w.sheen>0,T=w.transmission>0,Z=ht&&!!w.clearcoatMap,oe=ht&&!!w.clearcoatNormalMap,fe=ht&&!!w.clearcoatRoughnessMap,Ce=St&&!!w.iridescenceMap,k=St&&!!w.iridescenceThicknessMap,ae=P&&!!w.sheenColorMap,Q=P&&!!w.sheenRoughnessMap,Te=!!w.specularMap,ze=!!w.specularColorMap,Xe=!!w.specularIntensityMap,Ne=T&&!!w.transmissionMap,We=T&&!!w.thicknessMap,Ct=!!w.alphaMap,B=!!w.extensions,ne=!!U.attributes.uv1,me=!!U.attributes.uv2,Be=!!U.attributes.uv3;return{isWebGL2:u,shaderID:q,shaderName:w.type,vertexShader:K,fragmentShader:J,defines:w.defines,customVertexShaderID:_e,customFragmentShaderID:ye,isRawShaderMaterial:!0===w.isRawShaderMaterial,glslVersion:w.glslVersion,precision:f,instancing:Ue,instancingColor:Ue&&null!==I.instanceColor,supportsVertexTextures:h,outputColorSpace:null===R?n.outputColorSpace:!0===R.isXRRenderTarget?R.texture.colorSpace:Ts,map:Oe,matcap:!!w.matcap,envMap:Ie,envMapMode:Ie&&G.mapping,envMapCubeUVHeight:W,aoMap:le,lightMap:te,bumpMap:de,normalMap:Pe,displacementMap:h&&xe,emissiveMap:je,normalMapObjectSpace:Pe&&w.normalMapType===mne,normalMapTangentSpace:Pe&&w.normalMapType===$a,metalnessMap:Ye,roughnessMap:Ge,clearcoat:ht,clearcoatMap:Z,clearcoatNormalMap:oe,clearcoatRoughnessMap:fe,iridescence:St,iridescenceMap:Ce,iridescenceThicknessMap:k,sheen:P,sheenColorMap:ae,sheenRoughnessMap:Q,specularMap:Te,specularColorMap:ze,specularIntensityMap:Xe,transmission:T,transmissionMap:Ne,thicknessMap:We,gradientMap:!!w.gradientMap,opaque:!1===w.transparent&&w.blending===Nc,alphaMap:Ct,alphaTest:w.alphaTest>0,combine:w.combine,mapUv:Oe&&g(w.map.channel),aoMapUv:le&&g(w.aoMap.channel),lightMapUv:te&&g(w.lightMap.channel),bumpMapUv:de&&g(w.bumpMap.channel),normalMapUv:Pe&&g(w.normalMap.channel),displacementMapUv:xe&&g(w.displacementMap.channel),emissiveMapUv:je&&g(w.emissiveMap.channel),metalnessMapUv:Ye&&g(w.metalnessMap.channel),roughnessMapUv:Ge&&g(w.roughnessMap.channel),clearcoatMapUv:Z&&g(w.clearcoatMap.channel),clearcoatNormalMapUv:oe&&g(w.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:fe&&g(w.clearcoatRoughnessMap.channel),iridescenceMapUv:Ce&&g(w.iridescenceMap.channel),iridescenceThicknessMapUv:k&&g(w.iridescenceThicknessMap.channel),sheenColorMapUv:ae&&g(w.sheenColorMap.channel),sheenRoughnessMapUv:Q&&g(w.sheenRoughnessMap.channel),specularMapUv:Te&&g(w.specularMap.channel),specularColorMapUv:ze&&g(w.specularColorMap.channel),specularIntensityMapUv:Xe&&g(w.specularIntensityMap.channel),transmissionMapUv:Ne&&g(w.transmissionMap.channel),thicknessMapUv:We&&g(w.thicknessMap.channel),alphaMapUv:Ct&&g(w.alphaMap.channel),vertexTangents:Pe&&!!U.attributes.tangent,vertexColors:w.vertexColors,vertexAlphas:!0===w.vertexColors&&!!U.attributes.color&&4===U.attributes.color.itemSize,vertexUv1s:ne,vertexUv2s:me,vertexUv3s:Be,pointsUvs:!0===I.isPoints&&!!U.attributes.uv&&(Oe||Ct),fog:!!N,useFog:!0===w.fog,fogExp2:N&&N.isFogExp2,flatShading:!0===w.flatShading,sizeAttenuation:!0===w.sizeAttenuation,logarithmicDepthBuffer:d,skinning:!0===I.isSkinnedMesh,morphTargets:void 0!==U.morphAttributes.position,morphNormals:void 0!==U.morphAttributes.normal,morphColors:void 0!==U.morphAttributes.color,morphTargetsCount:be,morphTextureStride:ge,numDirLights:E.directional.length,numPointLights:E.point.length,numSpotLights:E.spot.length,numSpotLightMaps:E.spotLightMap.length,numRectAreaLights:E.rectArea.length,numHemiLights:E.hemi.length,numDirLightShadows:E.directionalShadowMap.length,numPointLightShadows:E.pointShadowMap.length,numSpotLightShadows:E.spotShadowMap.length,numSpotLightShadowsWithMaps:E.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:w.dithering,shadowMapEnabled:n.shadowMap.enabled&&L.length>0,shadowMapType:n.shadowMap.type,toneMapping:w.toneMapped?n.toneMapping:go,useLegacyLights:n.useLegacyLights,premultipliedAlpha:w.premultipliedAlpha,doubleSided:w.side===Cs,flipSided:w.side===Zi,useDepthPacking:w.depthPacking>=0,depthPacking:w.depthPacking||0,index0AttributeName:w.index0AttributeName,extensionDerivatives:B&&!0===w.extensions.derivatives,extensionFragDepth:B&&!0===w.extensions.fragDepth,extensionDrawBuffers:B&&!0===w.extensions.drawBuffers,extensionShaderTextureLOD:B&&!0===w.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),customProgramCacheKey:w.customProgramCacheKey()}},getProgramCacheKey:function m(w){const E=[];if(w.shaderID?E.push(w.shaderID):(E.push(w.customVertexShaderID),E.push(w.customFragmentShaderID)),void 0!==w.defines)for(const L in w.defines)E.push(L),E.push(w.defines[L]);return!1===w.isRawShaderMaterial&&(function y(w,E){w.push(E.precision),w.push(E.outputColorSpace),w.push(E.envMapMode),w.push(E.envMapCubeUVHeight),w.push(E.mapUv),w.push(E.alphaMapUv),w.push(E.lightMapUv),w.push(E.aoMapUv),w.push(E.bumpMapUv),w.push(E.normalMapUv),w.push(E.displacementMapUv),w.push(E.emissiveMapUv),w.push(E.metalnessMapUv),w.push(E.roughnessMapUv),w.push(E.clearcoatMapUv),w.push(E.clearcoatNormalMapUv),w.push(E.clearcoatRoughnessMapUv),w.push(E.iridescenceMapUv),w.push(E.iridescenceThicknessMapUv),w.push(E.sheenColorMapUv),w.push(E.sheenRoughnessMapUv),w.push(E.specularMapUv),w.push(E.specularColorMapUv),w.push(E.specularIntensityMapUv),w.push(E.transmissionMapUv),w.push(E.thicknessMapUv),w.push(E.combine),w.push(E.fogExp2),w.push(E.sizeAttenuation),w.push(E.morphTargetsCount),w.push(E.morphAttributeCount),w.push(E.numDirLights),w.push(E.numPointLights),w.push(E.numSpotLights),w.push(E.numSpotLightMaps),w.push(E.numHemiLights),w.push(E.numRectAreaLights),w.push(E.numDirLightShadows),w.push(E.numPointLightShadows),w.push(E.numSpotLightShadows),w.push(E.numSpotLightShadowsWithMaps),w.push(E.shadowMapType),w.push(E.toneMapping),w.push(E.numClippingPlanes),w.push(E.numClipIntersection),w.push(E.depthPacking)}(E,w),function v(w,E){a.disableAll(),E.isWebGL2&&a.enable(0),E.supportsVertexTextures&&a.enable(1),E.instancing&&a.enable(2),E.instancingColor&&a.enable(3),E.matcap&&a.enable(4),E.envMap&&a.enable(5),E.normalMapObjectSpace&&a.enable(6),E.normalMapTangentSpace&&a.enable(7),E.clearcoat&&a.enable(8),E.iridescence&&a.enable(9),E.alphaTest&&a.enable(10),E.vertexColors&&a.enable(11),E.vertexAlphas&&a.enable(12),E.vertexUv1s&&a.enable(13),E.vertexUv2s&&a.enable(14),E.vertexUv3s&&a.enable(15),E.vertexTangents&&a.enable(16),w.push(a.mask),a.disableAll(),E.fog&&a.enable(0),E.useFog&&a.enable(1),E.flatShading&&a.enable(2),E.logarithmicDepthBuffer&&a.enable(3),E.skinning&&a.enable(4),E.morphTargets&&a.enable(5),E.morphNormals&&a.enable(6),E.morphColors&&a.enable(7),E.premultipliedAlpha&&a.enable(8),E.shadowMapEnabled&&a.enable(9),E.useLegacyLights&&a.enable(10),E.doubleSided&&a.enable(11),E.flipSided&&a.enable(12),E.useDepthPacking&&a.enable(13),E.dithering&&a.enable(14),E.transmission&&a.enable(15),E.sheen&&a.enable(16),E.opaque&&a.enable(17),E.pointsUvs&&a.enable(18),w.push(a.mask)}(E,w),E.push(n.outputColorSpace)),E.push(w.customProgramCacheKey),E.join()},getUniforms:function b(w){const E=p[w.type];let L;return L=E?Jne.clone(Ps[E].uniforms):w.uniforms,L},acquireProgram:function x(w,E){let L;for(let V=0,I=c.length;V<I;V++){const N=c[V];if(N.cacheKey===E){L=N,++L.usedTimes;break}}return void 0===L&&(L=new Soe(n,E,w,s),c.push(L)),L},releaseProgram:function M(w){if(0==--w.usedTimes){const E=c.indexOf(w);c[E]=c[c.length-1],c.pop(),w.destroy()}},releaseShaderCache:function S(w){l.remove(w)},programs:c,dispose:function C(){l.dispose()}}}function Poe(){let n=new WeakMap;return{get:function e(s){let o=n.get(s);return void 0===o&&(o={},n.set(s,o)),o},remove:function t(s){n.delete(s)},update:function i(s,o,a){n.get(s)[o]=a},dispose:function r(){n=new WeakMap}}}function Ioe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function TF(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function AF(){const n=[];let e=0;const t=[],i=[],r=[];function o(d,h,f,p,g,_){let m=n[e];return void 0===m?(m={id:d.id,object:d,geometry:h,material:f,groupOrder:p,renderOrder:d.renderOrder,z:g,group:_},n[e]=m):(m.id=d.id,m.object=d,m.geometry=h,m.material=f,m.groupOrder=p,m.renderOrder=d.renderOrder,m.z=g,m.group=_),e++,m}return{opaque:t,transmissive:i,transparent:r,init:function s(){e=0,t.length=0,i.length=0,r.length=0},push:function a(d,h,f,p,g,_){const m=o(d,h,f,p,g,_);f.transmission>0?i.push(m):!0===f.transparent?r.push(m):t.push(m)},unshift:function l(d,h,f,p,g,_){const m=o(d,h,f,p,g,_);f.transmission>0?i.unshift(m):!0===f.transparent?r.unshift(m):t.unshift(m)},finish:function u(){for(let d=e,h=n.length;d<h;d++){const f=n[d];if(null===f.id)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}},sort:function c(d,h){t.length>1&&t.sort(d||Ioe),i.length>1&&i.sort(h||TF),r.length>1&&r.sort(h||TF)}}}function Roe(){let n=new WeakMap;return{get:function e(i,r){const s=n.get(i);let o;return void 0===s?(o=new AF,n.set(i,[o])):r>=s.length?(o=new AF,s.push(o)):o=s[r],o},dispose:function t(){n=new WeakMap}}}function Ooe(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new A,color:new Ae};break;case"SpotLight":t={position:new A,direction:new A,color:new Ae,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new A,color:new Ae,distance:0,decay:0};break;case"HemisphereLight":t={direction:new A,skyColor:new Ae,groundColor:new Ae};break;case"RectAreaLight":t={color:new Ae,position:new A,halfWidth:new A,halfHeight:new A}}return n[e.id]=t,t}}}let Loe=0;function Foe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Noe(n,e){const t=new Ooe,i=function koe(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new se};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new se,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)r.probe.push(new A);const s=new A,o=new at,a=new at;return{setup:function l(u,d){let h=0,f=0,p=0;for(let L=0;L<9;L++)r.probe[L].set(0,0,0);let g=0,_=0,m=0,y=0,v=0,b=0,x=0,M=0,S=0,C=0;u.sort(Foe);const w=!0===d?Math.PI:1;for(let L=0,V=u.length;L<V;L++){const I=u[L],N=I.color,U=I.intensity,F=I.distance,G=I.shadow&&I.shadow.map?I.shadow.map.texture:null;if(I.isAmbientLight)h+=N.r*U*w,f+=N.g*U*w,p+=N.b*U*w;else if(I.isLightProbe)for(let W=0;W<9;W++)r.probe[W].addScaledVector(I.sh.coefficients[W],U);else if(I.isDirectionalLight){const W=t.get(I);if(W.color.copy(I.color).multiplyScalar(I.intensity*w),I.castShadow){const q=I.shadow,ee=i.get(I);ee.shadowBias=q.bias,ee.shadowNormalBias=q.normalBias,ee.shadowRadius=q.radius,ee.shadowMapSize=q.mapSize,r.directionalShadow[g]=ee,r.directionalShadowMap[g]=G,r.directionalShadowMatrix[g]=I.shadow.matrix,b++}r.directional[g]=W,g++}else if(I.isSpotLight){const W=t.get(I);W.position.setFromMatrixPosition(I.matrixWorld),W.color.copy(N).multiplyScalar(U*w),W.distance=F,W.coneCos=Math.cos(I.angle),W.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),W.decay=I.decay,r.spot[m]=W;const q=I.shadow;if(I.map&&(r.spotLightMap[S]=I.map,S++,q.updateMatrices(I),I.castShadow&&C++),r.spotLightMatrix[m]=q.matrix,I.castShadow){const ee=i.get(I);ee.shadowBias=q.bias,ee.shadowNormalBias=q.normalBias,ee.shadowRadius=q.radius,ee.shadowMapSize=q.mapSize,r.spotShadow[m]=ee,r.spotShadowMap[m]=G,M++}m++}else if(I.isRectAreaLight){const W=t.get(I);W.color.copy(N).multiplyScalar(U),W.halfWidth.set(.5*I.width,0,0),W.halfHeight.set(0,.5*I.height,0),r.rectArea[y]=W,y++}else if(I.isPointLight){const W=t.get(I);if(W.color.copy(I.color).multiplyScalar(I.intensity*w),W.distance=I.distance,W.decay=I.decay,I.castShadow){const q=I.shadow,ee=i.get(I);ee.shadowBias=q.bias,ee.shadowNormalBias=q.normalBias,ee.shadowRadius=q.radius,ee.shadowMapSize=q.mapSize,ee.shadowCameraNear=q.camera.near,ee.shadowCameraFar=q.camera.far,r.pointShadow[_]=ee,r.pointShadowMap[_]=G,r.pointShadowMatrix[_]=I.shadow.matrix,x++}r.point[_]=W,_++}else if(I.isHemisphereLight){const W=t.get(I);W.skyColor.copy(I.color).multiplyScalar(U*w),W.groundColor.copy(I.groundColor).multiplyScalar(U*w),r.hemi[v]=W,v++}}y>0&&(e.isWebGL2||!0===n.has("OES_texture_float_linear")?(r.rectAreaLTC1=Se.LTC_FLOAT_1,r.rectAreaLTC2=Se.LTC_FLOAT_2):!0===n.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=Se.LTC_HALF_1,r.rectAreaLTC2=Se.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=h,r.ambient[1]=f,r.ambient[2]=p;const E=r.hash;(E.directionalLength!==g||E.pointLength!==_||E.spotLength!==m||E.rectAreaLength!==y||E.hemiLength!==v||E.numDirectionalShadows!==b||E.numPointShadows!==x||E.numSpotShadows!==M||E.numSpotMaps!==S)&&(r.directional.length=g,r.spot.length=m,r.rectArea.length=y,r.point.length=_,r.hemi.length=v,r.directionalShadow.length=b,r.directionalShadowMap.length=b,r.pointShadow.length=x,r.pointShadowMap.length=x,r.spotShadow.length=M,r.spotShadowMap.length=M,r.directionalShadowMatrix.length=b,r.pointShadowMatrix.length=x,r.spotLightMatrix.length=M+S-C,r.spotLightMap.length=S,r.numSpotLightShadowsWithMaps=C,E.directionalLength=g,E.pointLength=_,E.spotLength=m,E.rectAreaLength=y,E.hemiLength=v,E.numDirectionalShadows=b,E.numPointShadows=x,E.numSpotShadows=M,E.numSpotMaps=S,r.version=Loe++)},setupView:function c(u,d){let h=0,f=0,p=0,g=0,_=0;const m=d.matrixWorldInverse;for(let y=0,v=u.length;y<v;y++){const b=u[y];if(b.isDirectionalLight){const x=r.directional[h];x.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),x.direction.sub(s),x.direction.transformDirection(m),h++}else if(b.isSpotLight){const x=r.spot[p];x.position.setFromMatrixPosition(b.matrixWorld),x.position.applyMatrix4(m),x.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),x.direction.sub(s),x.direction.transformDirection(m),p++}else if(b.isRectAreaLight){const x=r.rectArea[g];x.position.setFromMatrixPosition(b.matrixWorld),x.position.applyMatrix4(m),a.identity(),o.copy(b.matrixWorld),o.premultiply(m),a.extractRotation(o),x.halfWidth.set(.5*b.width,0,0),x.halfHeight.set(0,.5*b.height,0),x.halfWidth.applyMatrix4(a),x.halfHeight.applyMatrix4(a),g++}else if(b.isPointLight){const x=r.point[f];x.position.setFromMatrixPosition(b.matrixWorld),x.position.applyMatrix4(m),f++}else if(b.isHemisphereLight){const x=r.hemi[_];x.direction.setFromMatrixPosition(b.matrixWorld),x.direction.transformDirection(m),_++}}},state:r}}function DF(n,e){const t=new Noe(n,e),i=[],r=[];return{init:function s(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:function l(d){t.setup(i,d)},setupLightsView:function c(d){t.setupView(i,d)},pushLight:function o(d){i.push(d)},pushShadow:function a(d){r.push(d)}}}function Boe(n,e){let t=new WeakMap;return{get:function i(s,o=0){const a=t.get(s);let l;return void 0===a?(l=new DF(n,e),t.set(s,[l])):o>=a.length?(l=new DF(n,e),a.push(l)):l=a[o],l},dispose:function r(){t=new WeakMap}}}class PF extends ss{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class IF extends ss{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Uoe="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",zoe="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function Hoe(n,e,t){let i=new bM;const r=new se,s=new se,o=new Kt,a=new PF({depthPacking:pne}),l=new IF,c={},u=t.maxTextureSize,d={[mo]:Zi,[Zi]:mo,[Cs]:Cs},h=new ra({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new se},radius:{value:4}},vertexShader:Uoe,fragmentShader:zoe}),f=h.clone();f.defines.HORIZONTAL_PASS=1;const p=new Et;p.setAttribute("position",new Cn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new wi(p,h),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Yk;let m=this.type;function y(x,M){const S=e.update(g);h.defines.VSM_SAMPLES!==x.blurSamples&&(h.defines.VSM_SAMPLES=x.blurSamples,f.defines.VSM_SAMPLES=x.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),null===x.mapPass&&(x.mapPass=new Ya(r.x,r.y)),h.uniforms.shadow_pass.value=x.map.texture,h.uniforms.resolution.value=x.mapSize,h.uniforms.radius.value=x.radius,n.setRenderTarget(x.mapPass),n.clear(),n.renderBufferDirect(M,null,S,h,g,null),f.uniforms.shadow_pass.value=x.mapPass.texture,f.uniforms.resolution.value=x.mapSize,f.uniforms.radius.value=x.radius,n.setRenderTarget(x.map),n.clear(),n.renderBufferDirect(M,null,S,f,g,null)}function v(x,M,S,C){let w=null;const E=!0===S.isPointLight?x.customDistanceMaterial:x.customDepthMaterial;if(void 0!==E)w=E;else if(w=!0===S.isPointLight?l:a,n.localClippingEnabled&&!0===M.clipShadows&&Array.isArray(M.clippingPlanes)&&0!==M.clippingPlanes.length||M.displacementMap&&0!==M.displacementScale||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0){const L=w.uuid,V=M.uuid;let I=c[L];void 0===I&&(I={},c[L]=I);let N=I[V];void 0===N&&(N=w.clone(),I[V]=N),w=N}return w.visible=M.visible,w.wireframe=M.wireframe,w.side=C===po?null!==M.shadowSide?M.shadowSide:M.side:null!==M.shadowSide?M.shadowSide:d[M.side],w.alphaMap=M.alphaMap,w.alphaTest=M.alphaTest,w.map=M.map,w.clipShadows=M.clipShadows,w.clippingPlanes=M.clippingPlanes,w.clipIntersection=M.clipIntersection,w.displacementMap=M.displacementMap,w.displacementScale=M.displacementScale,w.displacementBias=M.displacementBias,w.wireframeLinewidth=M.wireframeLinewidth,w.linewidth=M.linewidth,!0===S.isPointLight&&!0===w.isMeshDistanceMaterial&&(n.properties.get(w).light=S),w}function b(x,M,S,C,w){if(!1===x.visible)return;if(x.layers.test(M.layers)&&(x.isMesh||x.isLine||x.isPoints)&&(x.castShadow||x.receiveShadow&&w===po)&&(!x.frustumCulled||i.intersectsObject(x))){x.modelViewMatrix.multiplyMatrices(S.matrixWorldInverse,x.matrixWorld);const V=e.update(x),I=x.material;if(Array.isArray(I)){const N=V.groups;for(let U=0,F=N.length;U<F;U++){const G=N[U],W=I[G.materialIndex];if(W&&W.visible){const q=v(x,W,C,w);n.renderBufferDirect(S,null,V,q,x,G)}}}else if(I.visible){const N=v(x,I,C,w);n.renderBufferDirect(S,null,V,N,x,null)}}const L=x.children;for(let V=0,I=L.length;V<I;V++)b(L[V],M,S,C,w)}this.render=function(x,M,S){if(!1===_.enabled||!1===_.autoUpdate&&!1===_.needsUpdate||0===x.length)return;const C=n.getRenderTarget(),w=n.getActiveCubeFace(),E=n.getActiveMipmapLevel(),L=n.state;L.setBlending(Jo),L.buffers.color.setClear(1,1,1,1),L.buffers.depth.setTest(!0),L.setScissorTest(!1);const V=m!==po&&this.type===po,I=m===po&&this.type!==po;for(let N=0,U=x.length;N<U;N++){const F=x[N],G=F.shadow;if(void 0===G){console.warn("THREE.WebGLShadowMap:",F,"has no shadow.");continue}if(!1===G.autoUpdate&&!1===G.needsUpdate)continue;r.copy(G.mapSize);const W=G.getFrameExtents();if(r.multiply(W),s.copy(G.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/W.x),r.x=s.x*W.x,G.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/W.y),r.y=s.y*W.y,G.mapSize.y=s.y)),null===G.map||!0===V||!0===I){const ee=this.type!==po?{minFilter:On,magFilter:On}:{};null!==G.map&&G.map.dispose(),G.map=new Ya(r.x,r.y,ee),G.map.texture.name=F.name+".shadowMap",G.camera.updateProjectionMatrix()}n.setRenderTarget(G.map),n.clear();const q=G.getViewportCount();for(let ee=0;ee<q;ee++){const be=G.getViewport(ee);o.set(s.x*be.x,s.y*be.y,s.x*be.z,s.y*be.w),L.viewport(o),G.updateMatrices(F,ee),i=G.getFrustum(),b(M,S,G.camera,F,this.type)}!0!==G.isPointLightShadow&&this.type===po&&y(G,S),G.needsUpdate=!1}m=this.type,_.needsUpdate=!1,n.setRenderTarget(C,w,E)}}function Voe(n,e,t){const i=t.isWebGL2,a=new function r(){let B=!1;const ne=new Kt;let me=null;const Be=new Kt(0,0,0,0);return{setMask:function(qe){me!==qe&&!B&&(n.colorMask(qe,qe,qe,qe),me=qe)},setLocked:function(qe){B=qe},setClear:function(qe,en,tn,Mi,ua){!0===ua&&(qe*=Mi,en*=Mi,tn*=Mi),ne.set(qe,en,tn,Mi),!1===Be.equals(ne)&&(n.clearColor(qe,en,tn,Mi),Be.copy(ne))},reset:function(){B=!1,me=null,Be.set(-1,0,0,0)}}},l=new function s(){let B=!1,ne=null,me=null,Be=null;return{setTest:function(qe){qe?R(n.DEPTH_TEST):Ue(n.DEPTH_TEST)},setMask:function(qe){ne!==qe&&!B&&(n.depthMask(qe),ne=qe)},setFunc:function(qe){if(me!==qe){switch(qe){case kte:n.depthFunc(n.NEVER);break;case Lte:n.depthFunc(n.ALWAYS);break;case Fte:n.depthFunc(n.LESS);break;case Uw:n.depthFunc(n.LEQUAL);break;case Nte:n.depthFunc(n.EQUAL);break;case Bte:n.depthFunc(n.GEQUAL);break;case Ute:n.depthFunc(n.GREATER);break;case zte:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}me=qe}},setLocked:function(qe){B=qe},setClear:function(qe){Be!==qe&&(n.clearDepth(qe),Be=qe)},reset:function(){B=!1,ne=null,me=null,Be=null}}},c=new function o(){let B=!1,ne=null,me=null,Be=null,qe=null,en=null,tn=null,Mi=null,ua=null;return{setTest:function(Fn){B||(Fn?R(n.STENCIL_TEST):Ue(n.STENCIL_TEST))},setMask:function(Fn){ne!==Fn&&!B&&(n.stencilMask(Fn),ne=Fn)},setFunc:function(Fn,zr,ks){(me!==Fn||Be!==zr||qe!==ks)&&(n.stencilFunc(Fn,zr,ks),me=Fn,Be=zr,qe=ks)},setOp:function(Fn,zr,ks){(en!==Fn||tn!==zr||Mi!==ks)&&(n.stencilOp(Fn,zr,ks),en=Fn,tn=zr,Mi=ks)},setLocked:function(Fn){B=Fn},setClear:function(Fn){ua!==Fn&&(n.clearStencil(Fn),ua=Fn)},reset:function(){B=!1,ne=null,me=null,Be=null,qe=null,en=null,tn=null,Mi=null,ua=null}}},u=new WeakMap,d=new WeakMap;let h={},f={},p=new WeakMap,g=[],_=null,m=!1,y=null,v=null,b=null,x=null,M=null,S=null,C=null,w=!1,E=null,L=null,V=null,I=null,N=null;const U=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let F=!1,G=0;const W=n.getParameter(n.VERSION);-1!==W.indexOf("WebGL")?(G=parseFloat(/^WebGL (\d)/.exec(W)[1]),F=G>=1):-1!==W.indexOf("OpenGL ES")&&(G=parseFloat(/^OpenGL ES (\d)/.exec(W)[1]),F=G>=2);let q=null,ee={};const be=n.getParameter(n.SCISSOR_BOX),ge=n.getParameter(n.VIEWPORT),K=(new Kt).fromArray(be),J=(new Kt).fromArray(ge);function _e(B,ne,me,Be){const qe=new Uint8Array(4),en=n.createTexture();n.bindTexture(B,en),n.texParameteri(B,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(B,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let tn=0;tn<me;tn++)!i||B!==n.TEXTURE_3D&&B!==n.TEXTURE_2D_ARRAY?n.texImage2D(ne+tn,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,qe):n.texImage3D(ne,0,n.RGBA,1,1,Be,0,n.RGBA,n.UNSIGNED_BYTE,qe);return en}const ye={};function R(B){!0!==h[B]&&(n.enable(B),h[B]=!0)}function Ue(B){!1!==h[B]&&(n.disable(B),h[B]=!1)}ye[n.TEXTURE_2D]=_e(n.TEXTURE_2D,n.TEXTURE_2D,1),ye[n.TEXTURE_CUBE_MAP]=_e(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(ye[n.TEXTURE_2D_ARRAY]=_e(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ye[n.TEXTURE_3D]=_e(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),R(n.DEPTH_TEST),l.setFunc(Uw),xe(!1),je(qk),R(n.CULL_FACE),de(Jo);const le={[Bc]:n.FUNC_ADD,[Mte]:n.FUNC_SUBTRACT,[Ete]:n.FUNC_REVERSE_SUBTRACT};if(i)le[Qk]=n.MIN,le[eL]=n.MAX;else{const B=e.get("EXT_blend_minmax");null!==B&&(le[Qk]=B.MIN_EXT,le[eL]=B.MAX_EXT)}const te={[Ste]:n.ZERO,[Cte]:n.ONE,[Tte]:n.SRC_COLOR,[tL]:n.SRC_ALPHA,[Ote]:n.SRC_ALPHA_SATURATE,[Ite]:n.DST_COLOR,[Dte]:n.DST_ALPHA,[Ate]:n.ONE_MINUS_SRC_COLOR,[nL]:n.ONE_MINUS_SRC_ALPHA,[Rte]:n.ONE_MINUS_DST_COLOR,[Pte]:n.ONE_MINUS_DST_ALPHA};function de(B,ne,me,Be,qe,en,tn,Mi){if(B!==Jo){if(!1===m&&(R(n.BLEND),m=!0),B===wte)qe=qe||ne,en=en||me,tn=tn||Be,(ne!==v||qe!==M)&&(n.blendEquationSeparate(le[ne],le[qe]),v=ne,M=qe),(me!==b||Be!==x||en!==S||tn!==C)&&(n.blendFuncSeparate(te[me],te[Be],te[en],te[tn]),b=me,x=Be,S=en,C=tn),y=B,w=!1;else if(B!==y||Mi!==w){if((v!==Bc||M!==Bc)&&(n.blendEquation(n.FUNC_ADD),v=Bc,M=Bc),Mi)switch(B){case Nc:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Kk:n.blendFunc(n.ONE,n.ONE);break;case Zk:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Jk:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",B)}else switch(B){case Nc:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Kk:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case Zk:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Jk:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",B)}b=null,x=null,S=null,C=null,y=B,w=Mi}}else!0===m&&(Ue(n.BLEND),m=!1)}function xe(B){E!==B&&(n.frontFace(B?n.CW:n.CCW),E=B)}function je(B){B!==yte?(R(n.CULL_FACE),B!==L&&n.cullFace(B===qk?n.BACK:B===bte?n.FRONT:n.FRONT_AND_BACK)):Ue(n.CULL_FACE),L=B}function Ge(B,ne,me){B?(R(n.POLYGON_OFFSET_FILL),(I!==ne||N!==me)&&(n.polygonOffset(ne,me),I=ne,N=me)):Ue(n.POLYGON_OFFSET_FILL)}return{buffers:{color:a,depth:l,stencil:c},enable:R,disable:Ue,bindFramebuffer:function Oe(B,ne){return f[B]!==ne&&(n.bindFramebuffer(B,ne),f[B]=ne,i&&(B===n.DRAW_FRAMEBUFFER&&(f[n.FRAMEBUFFER]=ne),B===n.FRAMEBUFFER&&(f[n.DRAW_FRAMEBUFFER]=ne)),!0)},drawBuffers:function he(B,ne){let me=g,Be=!1;if(B)if(me=p.get(ne),void 0===me&&(me=[],p.set(ne,me)),B.isWebGLMultipleRenderTargets){const qe=B.texture;if(me.length!==qe.length||me[0]!==n.COLOR_ATTACHMENT0){for(let en=0,tn=qe.length;en<tn;en++)me[en]=n.COLOR_ATTACHMENT0+en;me.length=qe.length,Be=!0}}else me[0]!==n.COLOR_ATTACHMENT0&&(me[0]=n.COLOR_ATTACHMENT0,Be=!0);else me[0]!==n.BACK&&(me[0]=n.BACK,Be=!0);Be&&(t.isWebGL2?n.drawBuffers(me):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(me))},useProgram:function Ie(B){return _!==B&&(n.useProgram(B),_=B,!0)},setBlending:de,setMaterial:function Pe(B,ne){B.side===Cs?Ue(n.CULL_FACE):R(n.CULL_FACE);let me=B.side===Zi;ne&&(me=!me),xe(me),B.blending===Nc&&!1===B.transparent?de(Jo):de(B.blending,B.blendEquation,B.blendSrc,B.blendDst,B.blendEquationAlpha,B.blendSrcAlpha,B.blendDstAlpha,B.premultipliedAlpha),l.setFunc(B.depthFunc),l.setTest(B.depthTest),l.setMask(B.depthWrite),a.setMask(B.colorWrite);const Be=B.stencilWrite;c.setTest(Be),Be&&(c.setMask(B.stencilWriteMask),c.setFunc(B.stencilFunc,B.stencilRef,B.stencilFuncMask),c.setOp(B.stencilFail,B.stencilZFail,B.stencilZPass)),Ge(B.polygonOffset,B.polygonOffsetFactor,B.polygonOffsetUnits),!0===B.alphaToCoverage?R(n.SAMPLE_ALPHA_TO_COVERAGE):Ue(n.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:xe,setCullFace:je,setLineWidth:function Ye(B){B!==V&&(F&&n.lineWidth(B),V=B)},setPolygonOffset:Ge,setScissorTest:function ht(B){B?R(n.SCISSOR_TEST):Ue(n.SCISSOR_TEST)},activeTexture:function St(B){void 0===B&&(B=n.TEXTURE0+U-1),q!==B&&(n.activeTexture(B),q=B)},bindTexture:function P(B,ne,me){void 0===me&&(me=null===q?n.TEXTURE0+U-1:q);let Be=ee[me];void 0===Be&&(Be={type:void 0,texture:void 0},ee[me]=Be),(Be.type!==B||Be.texture!==ne)&&(q!==me&&(n.activeTexture(me),q=me),n.bindTexture(B,ne||ye[B]),Be.type=B,Be.texture=ne)},unbindTexture:function T(){const B=ee[q];void 0!==B&&void 0!==B.type&&(n.bindTexture(B.type,null),B.type=void 0,B.texture=void 0)},compressedTexImage2D:function Z(){try{n.compressedTexImage2D.apply(n,arguments)}catch(B){console.error("THREE.WebGLState:",B)}},compressedTexImage3D:function oe(){try{n.compressedTexImage3D.apply(n,arguments)}catch(B){console.error("THREE.WebGLState:",B)}},texImage2D:function ze(){try{n.texImage2D.apply(n,arguments)}catch(B){console.error("THREE.WebGLState:",B)}},texImage3D:function Xe(){try{n.texImage3D.apply(n,arguments)}catch(B){console.error("THREE.WebGLState:",B)}},updateUBOMapping:function ft(B,ne){let me=d.get(ne);void 0===me&&(me=new WeakMap,d.set(ne,me));let Be=me.get(B);void 0===Be&&(Be=n.getUniformBlockIndex(ne,B.name),me.set(B,Be))},uniformBlockBinding:function Ct(B,ne){const Be=d.get(ne).get(B);u.get(ne)!==Be&&(n.uniformBlockBinding(ne,Be,B.__bindingPointIndex),u.set(ne,Be))},texStorage2D:function Q(){try{n.texStorage2D.apply(n,arguments)}catch(B){console.error("THREE.WebGLState:",B)}},texStorage3D:function Te(){try{n.texStorage3D.apply(n,arguments)}catch(B){console.error("THREE.WebGLState:",B)}},texSubImage2D:function fe(){try{n.texSubImage2D.apply(n,arguments)}catch(B){console.error("THREE.WebGLState:",B)}},texSubImage3D:function Ce(){try{n.texSubImage3D.apply(n,arguments)}catch(B){console.error("THREE.WebGLState:",B)}},compressedTexSubImage2D:function k(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(B){console.error("THREE.WebGLState:",B)}},compressedTexSubImage3D:function ae(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(B){console.error("THREE.WebGLState:",B)}},scissor:function Ne(B){!1===K.equals(B)&&(n.scissor(B.x,B.y,B.z,B.w),K.copy(B))},viewport:function We(B){!1===J.equals(B)&&(n.viewport(B.x,B.y,B.z,B.w),J.copy(B))},reset:function Ln(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),!0===i&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),h={},q=null,ee={},f={},p=new WeakMap,g=[],_=null,m=!1,y=null,v=null,b=null,x=null,M=null,S=null,C=null,w=!1,E=null,L=null,V=null,I=null,N=null,K.set(0,0,n.canvas.width,n.canvas.height),J.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}}}function Goe(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,d=r.maxSamples,h=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,f=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let g;const _=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function y(P,T){return m?new OffscreenCanvas(P,T):hh("canvas")}function v(P,T,Z,oe){let fe=1;if((P.width>oe||P.height>oe)&&(fe=oe/Math.max(P.width,P.height)),fe<1||!0===T){if(typeof HTMLImageElement<"u"&&P instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&P instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&P instanceof ImageBitmap){const Ce=T?kL:Math.floor,k=Ce(fe*P.width),ae=Ce(fe*P.height);void 0===g&&(g=y(k,ae));const Q=Z?y(k,ae):g;return Q.width=k,Q.height=ae,Q.getContext("2d").drawImage(P,0,0,k,ae),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+P.width+"x"+P.height+") to ("+k+"x"+ae+")."),Q}return"data"in P&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+P.width+"x"+P.height+")."),P}return P}function b(P){return Qw(P.width)&&Qw(P.height)}function M(P,T){return P.generateMipmaps&&T&&P.minFilter!==On&&P.minFilter!==En}function S(P){n.generateMipmap(P)}function C(P,T,Z,oe,fe=!1){if(!1===a)return T;if(null!==P){if(void 0!==n[P])return n[P];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+P+"'")}let Ce=T;return T===n.RED&&(Z===n.FLOAT&&(Ce=n.R32F),Z===n.HALF_FLOAT&&(Ce=n.R16F),Z===n.UNSIGNED_BYTE&&(Ce=n.R8)),T===n.RG&&(Z===n.FLOAT&&(Ce=n.RG32F),Z===n.HALF_FLOAT&&(Ce=n.RG16F),Z===n.UNSIGNED_BYTE&&(Ce=n.RG8)),T===n.RGBA&&(Z===n.FLOAT&&(Ce=n.RGBA32F),Z===n.HALF_FLOAT&&(Ce=n.RGBA16F),Z===n.UNSIGNED_BYTE&&(Ce=oe===ot&&!1===fe?n.SRGB8_ALPHA8:n.RGBA8),Z===n.UNSIGNED_SHORT_4_4_4_4&&(Ce=n.RGBA4),Z===n.UNSIGNED_SHORT_5_5_5_1&&(Ce=n.RGB5_A1)),(Ce===n.R16F||Ce===n.R32F||Ce===n.RG16F||Ce===n.RG32F||Ce===n.RGBA16F||Ce===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ce}function w(P,T,Z){return!0===M(P,Z)||P.isFramebufferTexture&&P.minFilter!==On&&P.minFilter!==En?Math.log2(Math.max(T.width,T.height))+1:void 0!==P.mipmaps&&P.mipmaps.length>0?P.mipmaps.length:P.isCompressedTexture&&Array.isArray(P.image)?T.mipmaps.length:1}function E(P){return P===On||P===cg||P===lh?n.NEAREST:n.LINEAR}function L(P){const T=P.target;T.removeEventListener("dispose",L),function I(P){const T=i.get(P);if(void 0===T.__webglInit)return;const Z=P.source,oe=_.get(Z);if(oe){const fe=oe[T.__cacheKey];fe.usedTimes--,0===fe.usedTimes&&N(P),0===Object.keys(oe).length&&_.delete(Z)}i.remove(P)}(T),T.isVideoTexture&&p.delete(T)}function V(P){const T=P.target;T.removeEventListener("dispose",V),function U(P){const T=P.texture,Z=i.get(P),oe=i.get(T);if(void 0!==oe.__webglTexture&&(n.deleteTexture(oe.__webglTexture),o.memory.textures--),P.depthTexture&&P.depthTexture.dispose(),P.isWebGLCubeRenderTarget)for(let fe=0;fe<6;fe++)n.deleteFramebuffer(Z.__webglFramebuffer[fe]),Z.__webglDepthbuffer&&n.deleteRenderbuffer(Z.__webglDepthbuffer[fe]);else{if(n.deleteFramebuffer(Z.__webglFramebuffer),Z.__webglDepthbuffer&&n.deleteRenderbuffer(Z.__webglDepthbuffer),Z.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Z.__webglMultisampledFramebuffer),Z.__webglColorRenderbuffer)for(let fe=0;fe<Z.__webglColorRenderbuffer.length;fe++)Z.__webglColorRenderbuffer[fe]&&n.deleteRenderbuffer(Z.__webglColorRenderbuffer[fe]);Z.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Z.__webglDepthRenderbuffer)}if(P.isWebGLMultipleRenderTargets)for(let fe=0,Ce=T.length;fe<Ce;fe++){const k=i.get(T[fe]);k.__webglTexture&&(n.deleteTexture(k.__webglTexture),o.memory.textures--),i.remove(T[fe])}i.remove(T),i.remove(P)}(T)}function N(P){const T=i.get(P);n.deleteTexture(T.__webglTexture),delete _.get(P.source)[T.__cacheKey],o.memory.textures--}let F=0;function ee(P,T){const Z=i.get(P);if(P.isVideoTexture&&function ht(P){const T=o.render.frame;p.get(P)!==T&&(p.set(P,T),P.update())}(P),!1===P.isRenderTargetTexture&&P.version>0&&Z.__version!==P.version){const oe=P.image;if(null===oe)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==oe.complete)return void Ue(Z,P,T);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.bindTexture(n.TEXTURE_2D,Z.__webglTexture,n.TEXTURE0+T)}const J={[za]:n.REPEAT,[yi]:n.CLAMP_TO_EDGE,[ah]:n.MIRRORED_REPEAT},_e={[On]:n.NEAREST,[cg]:n.NEAREST_MIPMAP_NEAREST,[lh]:n.NEAREST_MIPMAP_LINEAR,[En]:n.LINEAR,[Hw]:n.LINEAR_MIPMAP_NEAREST,[_o]:n.LINEAR_MIPMAP_LINEAR};function ye(P,T,Z){if(Z?(n.texParameteri(P,n.TEXTURE_WRAP_S,J[T.wrapS]),n.texParameteri(P,n.TEXTURE_WRAP_T,J[T.wrapT]),(P===n.TEXTURE_3D||P===n.TEXTURE_2D_ARRAY)&&n.texParameteri(P,n.TEXTURE_WRAP_R,J[T.wrapR]),n.texParameteri(P,n.TEXTURE_MAG_FILTER,_e[T.magFilter]),n.texParameteri(P,n.TEXTURE_MIN_FILTER,_e[T.minFilter])):(n.texParameteri(P,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(P,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(P===n.TEXTURE_3D||P===n.TEXTURE_2D_ARRAY)&&n.texParameteri(P,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(T.wrapS!==yi||T.wrapT!==yi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(P,n.TEXTURE_MAG_FILTER,E(T.magFilter)),n.texParameteri(P,n.TEXTURE_MIN_FILTER,E(T.minFilter)),T.minFilter!==On&&T.minFilter!==En&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===e.has("EXT_texture_filter_anisotropic")){const oe=e.get("EXT_texture_filter_anisotropic");if(T.magFilter===On||T.minFilter!==lh&&T.minFilter!==_o||T.type===Qo&&!1===e.has("OES_texture_float_linear")||!1===a&&T.type===ch&&!1===e.has("OES_texture_half_float_linear"))return;(T.anisotropy>1||i.get(T).__currentAnisotropy)&&(n.texParameterf(P,oe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(T.anisotropy,r.getMaxAnisotropy())),i.get(T).__currentAnisotropy=T.anisotropy)}}function R(P,T){let Z=!1;void 0===P.__webglInit&&(P.__webglInit=!0,T.addEventListener("dispose",L));const oe=T.source;let fe=_.get(oe);void 0===fe&&(fe={},_.set(oe,fe));const Ce=function q(P){const T=[];return T.push(P.wrapS),T.push(P.wrapT),T.push(P.wrapR||0),T.push(P.magFilter),T.push(P.minFilter),T.push(P.anisotropy),T.push(P.internalFormat),T.push(P.format),T.push(P.type),T.push(P.generateMipmaps),T.push(P.premultiplyAlpha),T.push(P.flipY),T.push(P.unpackAlignment),T.push(P.colorSpace),T.join()}(T);if(Ce!==P.__cacheKey){void 0===fe[Ce]&&(fe[Ce]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,Z=!0),fe[Ce].usedTimes++;const k=fe[P.__cacheKey];void 0!==k&&(fe[P.__cacheKey].usedTimes--,0===k.usedTimes&&N(T)),P.__cacheKey=Ce,P.__webglTexture=fe[Ce].texture}return Z}function Ue(P,T,Z){let oe=n.TEXTURE_2D;(T.isDataArrayTexture||T.isCompressedArrayTexture)&&(oe=n.TEXTURE_2D_ARRAY),T.isData3DTexture&&(oe=n.TEXTURE_3D);const fe=R(P,T),Ce=T.source;t.bindTexture(oe,P.__webglTexture,n.TEXTURE0+Z);const k=i.get(Ce);if(Ce.version!==k.__version||!0===fe){t.activeTexture(n.TEXTURE0+Z),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,T.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,T.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,T.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const ae=function x(P){return!a&&(P.wrapS!==yi||P.wrapT!==yi||P.minFilter!==On&&P.minFilter!==En)}(T)&&!1===b(T.image);let Q=v(T.image,ae,!1,u);Q=St(T,Q);const Te=b(Q)||a,ze=s.convert(T.format,T.colorSpace);let We,Xe=s.convert(T.type),Ne=C(T.internalFormat,ze,Xe,T.colorSpace);ye(oe,T,Te);const ft=T.mipmaps,Ct=a&&!0!==T.isVideoTexture,Ln=void 0===k.__version||!0===fe,B=w(T,Q,Te);if(T.isDepthTexture)Ne=n.DEPTH_COMPONENT,a?Ne=T.type===Qo?n.DEPTH_COMPONENT32F:T.type===Va?n.DEPTH_COMPONENT24:T.type===Uc?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT16:T.type===Qo&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),T.format===Ga&&Ne===n.DEPTH_COMPONENT&&T.type!==iL&&T.type!==Va&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),T.type=Va,Xe=s.convert(T.type)),T.format===zc&&Ne===n.DEPTH_COMPONENT&&(Ne=n.DEPTH_STENCIL,T.type!==Uc&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),T.type=Uc,Xe=s.convert(T.type))),Ln&&(Ct?t.texStorage2D(n.TEXTURE_2D,1,Ne,Q.width,Q.height):t.texImage2D(n.TEXTURE_2D,0,Ne,Q.width,Q.height,0,ze,Xe,null));else if(T.isDataTexture)if(ft.length>0&&Te){Ct&&Ln&&t.texStorage2D(n.TEXTURE_2D,B,Ne,ft[0].width,ft[0].height);for(let ne=0,me=ft.length;ne<me;ne++)We=ft[ne],Ct?t.texSubImage2D(n.TEXTURE_2D,ne,0,0,We.width,We.height,ze,Xe,We.data):t.texImage2D(n.TEXTURE_2D,ne,Ne,We.width,We.height,0,ze,Xe,We.data);T.generateMipmaps=!1}else Ct?(Ln&&t.texStorage2D(n.TEXTURE_2D,B,Ne,Q.width,Q.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,Q.width,Q.height,ze,Xe,Q.data)):t.texImage2D(n.TEXTURE_2D,0,Ne,Q.width,Q.height,0,ze,Xe,Q.data);else if(T.isCompressedTexture)if(T.isCompressedArrayTexture){Ct&&Ln&&t.texStorage3D(n.TEXTURE_2D_ARRAY,B,Ne,ft[0].width,ft[0].height,Q.depth);for(let ne=0,me=ft.length;ne<me;ne++)We=ft[ne],T.format!==Lr?null!==ze?Ct?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,ne,0,0,0,We.width,We.height,Q.depth,ze,We.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,ne,Ne,We.width,We.height,Q.depth,0,We.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ct?t.texSubImage3D(n.TEXTURE_2D_ARRAY,ne,0,0,0,We.width,We.height,Q.depth,ze,Xe,We.data):t.texImage3D(n.TEXTURE_2D_ARRAY,ne,Ne,We.width,We.height,Q.depth,0,ze,Xe,We.data)}else{Ct&&Ln&&t.texStorage2D(n.TEXTURE_2D,B,Ne,ft[0].width,ft[0].height);for(let ne=0,me=ft.length;ne<me;ne++)We=ft[ne],T.format!==Lr?null!==ze?Ct?t.compressedTexSubImage2D(n.TEXTURE_2D,ne,0,0,We.width,We.height,ze,We.data):t.compressedTexImage2D(n.TEXTURE_2D,ne,Ne,We.width,We.height,0,We.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ct?t.texSubImage2D(n.TEXTURE_2D,ne,0,0,We.width,We.height,ze,Xe,We.data):t.texImage2D(n.TEXTURE_2D,ne,Ne,We.width,We.height,0,ze,Xe,We.data)}else if(T.isDataArrayTexture)Ct?(Ln&&t.texStorage3D(n.TEXTURE_2D_ARRAY,B,Ne,Q.width,Q.height,Q.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Q.width,Q.height,Q.depth,ze,Xe,Q.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,Ne,Q.width,Q.height,Q.depth,0,ze,Xe,Q.data);else if(T.isData3DTexture)Ct?(Ln&&t.texStorage3D(n.TEXTURE_3D,B,Ne,Q.width,Q.height,Q.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Q.width,Q.height,Q.depth,ze,Xe,Q.data)):t.texImage3D(n.TEXTURE_3D,0,Ne,Q.width,Q.height,Q.depth,0,ze,Xe,Q.data);else if(T.isFramebufferTexture){if(Ln)if(Ct)t.texStorage2D(n.TEXTURE_2D,B,Ne,Q.width,Q.height);else{let ne=Q.width,me=Q.height;for(let Be=0;Be<B;Be++)t.texImage2D(n.TEXTURE_2D,Be,Ne,ne,me,0,ze,Xe,null),ne>>=1,me>>=1}}else if(ft.length>0&&Te){Ct&&Ln&&t.texStorage2D(n.TEXTURE_2D,B,Ne,ft[0].width,ft[0].height);for(let ne=0,me=ft.length;ne<me;ne++)We=ft[ne],Ct?t.texSubImage2D(n.TEXTURE_2D,ne,0,0,ze,Xe,We):t.texImage2D(n.TEXTURE_2D,ne,Ne,ze,Xe,We);T.generateMipmaps=!1}else Ct?(Ln&&t.texStorage2D(n.TEXTURE_2D,B,Ne,Q.width,Q.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,ze,Xe,Q)):t.texImage2D(n.TEXTURE_2D,0,Ne,ze,Xe,Q);M(T,Te)&&S(oe),k.__version=Ce.version,T.onUpdate&&T.onUpdate(T)}P.__version=T.version}function he(P,T,Z,oe,fe){const Ce=s.convert(Z.format,Z.colorSpace),k=s.convert(Z.type),ae=C(Z.internalFormat,Ce,k,Z.colorSpace);i.get(T).__hasExternalTextures||(fe===n.TEXTURE_3D||fe===n.TEXTURE_2D_ARRAY?t.texImage3D(fe,0,ae,T.width,T.height,T.depth,0,Ce,k,null):t.texImage2D(fe,0,ae,T.width,T.height,0,Ce,k,null)),t.bindFramebuffer(n.FRAMEBUFFER,P),Ge(T)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,oe,fe,i.get(Z).__webglTexture,0,Ye(T)):(fe===n.TEXTURE_2D||fe>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&fe<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,oe,fe,i.get(Z).__webglTexture,0),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ie(P,T,Z){if(n.bindRenderbuffer(n.RENDERBUFFER,P),T.depthBuffer&&!T.stencilBuffer){let oe=n.DEPTH_COMPONENT16;if(Z||Ge(T)){const fe=T.depthTexture;fe&&fe.isDepthTexture&&(fe.type===Qo?oe=n.DEPTH_COMPONENT32F:fe.type===Va&&(oe=n.DEPTH_COMPONENT24));const Ce=Ye(T);Ge(T)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ce,oe,T.width,T.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Ce,oe,T.width,T.height)}else n.renderbufferStorage(n.RENDERBUFFER,oe,T.width,T.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,P)}else if(T.depthBuffer&&T.stencilBuffer){const oe=Ye(T);Z&&!1===Ge(T)?n.renderbufferStorageMultisample(n.RENDERBUFFER,oe,n.DEPTH24_STENCIL8,T.width,T.height):Ge(T)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,oe,n.DEPTH24_STENCIL8,T.width,T.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,T.width,T.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,P)}else{const oe=!0===T.isWebGLMultipleRenderTargets?T.texture:[T.texture];for(let fe=0;fe<oe.length;fe++){const Ce=oe[fe],k=s.convert(Ce.format,Ce.colorSpace),ae=s.convert(Ce.type),Q=C(Ce.internalFormat,k,ae,Ce.colorSpace),Te=Ye(T);Z&&!1===Ge(T)?n.renderbufferStorageMultisample(n.RENDERBUFFER,Te,Q,T.width,T.height):Ge(T)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Te,Q,T.width,T.height):n.renderbufferStorage(n.RENDERBUFFER,Q,T.width,T.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function te(P){const T=i.get(P),Z=!0===P.isWebGLCubeRenderTarget;if(P.depthTexture&&!T.__autoAllocateDepthBuffer){if(Z)throw new Error("target.depthTexture not supported in Cube render targets");!function le(P,T){if(T&&T.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,P),!T.depthTexture||!T.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(T.depthTexture).__webglTexture||T.depthTexture.image.width!==T.width||T.depthTexture.image.height!==T.height)&&(T.depthTexture.image.width=T.width,T.depthTexture.image.height=T.height,T.depthTexture.needsUpdate=!0),ee(T.depthTexture,0);const oe=i.get(T.depthTexture).__webglTexture,fe=Ye(T);if(T.depthTexture.format===Ga)Ge(T)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,oe,0,fe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,oe,0);else{if(T.depthTexture.format!==zc)throw new Error("Unknown depthTexture format");Ge(T)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,oe,0,fe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,oe,0)}}(T.__webglFramebuffer,P)}else if(Z){T.__webglDepthbuffer=[];for(let oe=0;oe<6;oe++)t.bindFramebuffer(n.FRAMEBUFFER,T.__webglFramebuffer[oe]),T.__webglDepthbuffer[oe]=n.createRenderbuffer(),Ie(T.__webglDepthbuffer[oe],P,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,T.__webglFramebuffer),T.__webglDepthbuffer=n.createRenderbuffer(),Ie(T.__webglDepthbuffer,P,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ye(P){return Math.min(d,P.samples)}function Ge(P){const T=i.get(P);return a&&P.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==T.__useRenderToTexture}function St(P,T){const Z=P.colorSpace,oe=P.format,fe=P.type;return!0===P.isCompressedTexture||P.format===Zw||Z!==Ts&&Z!==ja&&(Z===ot?!1===a?!0===e.has("EXT_sRGB")&&oe===Lr?(P.format=Zw,P.minFilter=En,P.generateMipmaps=!1):T=NL.sRGBToLinear(T):(oe!==Lr||fe!==Ha)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Z)),T}this.allocateTextureUnit=function W(){const P=F;return P>=l&&console.warn("THREE.WebGLTextures: Trying to use "+P+" texture units while this GPU supports only "+l),F+=1,P},this.resetTextureUnits=function G(){F=0},this.setTexture2D=ee,this.setTexture2DArray=function be(P,T){const Z=i.get(P);P.version>0&&Z.__version!==P.version?Ue(Z,P,T):t.bindTexture(n.TEXTURE_2D_ARRAY,Z.__webglTexture,n.TEXTURE0+T)},this.setTexture3D=function ge(P,T){const Z=i.get(P);P.version>0&&Z.__version!==P.version?Ue(Z,P,T):t.bindTexture(n.TEXTURE_3D,Z.__webglTexture,n.TEXTURE0+T)},this.setTextureCube=function K(P,T){const Z=i.get(P);P.version>0&&Z.__version!==P.version?function Oe(P,T,Z){if(6!==T.image.length)return;const oe=R(P,T),fe=T.source;t.bindTexture(n.TEXTURE_CUBE_MAP,P.__webglTexture,n.TEXTURE0+Z);const Ce=i.get(fe);if(fe.version!==Ce.__version||!0===oe){t.activeTexture(n.TEXTURE0+Z),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,T.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,T.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,T.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const k=T.isCompressedTexture||T.image[0].isCompressedTexture,ae=T.image[0]&&T.image[0].isDataTexture,Q=[];for(let ne=0;ne<6;ne++)Q[ne]=k||ae?ae?T.image[ne].image:T.image[ne]:v(T.image[ne],!1,!0,c),Q[ne]=St(T,Q[ne]);const Te=Q[0],ze=b(Te)||a,Xe=s.convert(T.format,T.colorSpace),Ne=s.convert(T.type),We=C(T.internalFormat,Xe,Ne,T.colorSpace),ft=a&&!0!==T.isVideoTexture,Ct=void 0===Ce.__version||!0===oe;let B,Ln=w(T,Te,ze);if(ye(n.TEXTURE_CUBE_MAP,T,ze),k){ft&&Ct&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Ln,We,Te.width,Te.height);for(let ne=0;ne<6;ne++){B=Q[ne].mipmaps;for(let me=0;me<B.length;me++){const Be=B[me];T.format!==Lr?null!==Xe?ft?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,me,0,0,Be.width,Be.height,Xe,Be.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,me,We,Be.width,Be.height,0,Be.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ft?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,me,0,0,Be.width,Be.height,Xe,Ne,Be.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,me,We,Be.width,Be.height,0,Xe,Ne,Be.data)}}}else{B=T.mipmaps,ft&&Ct&&(B.length>0&&Ln++,t.texStorage2D(n.TEXTURE_CUBE_MAP,Ln,We,Q[0].width,Q[0].height));for(let ne=0;ne<6;ne++)if(ae){ft?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,0,0,0,Q[ne].width,Q[ne].height,Xe,Ne,Q[ne].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,0,We,Q[ne].width,Q[ne].height,0,Xe,Ne,Q[ne].data);for(let me=0;me<B.length;me++){const qe=B[me].image[ne].image;ft?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,me+1,0,0,qe.width,qe.height,Xe,Ne,qe.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,me+1,We,qe.width,qe.height,0,Xe,Ne,qe.data)}}else{ft?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,0,0,0,Xe,Ne,Q[ne]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,0,We,Xe,Ne,Q[ne]);for(let me=0;me<B.length;me++){const Be=B[me];ft?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,me+1,0,0,Xe,Ne,Be.image[ne]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,me+1,We,Xe,Ne,Be.image[ne])}}}M(T,ze)&&S(n.TEXTURE_CUBE_MAP),Ce.__version=fe.version,T.onUpdate&&T.onUpdate(T)}P.__version=T.version}(Z,P,T):t.bindTexture(n.TEXTURE_CUBE_MAP,Z.__webglTexture,n.TEXTURE0+T)},this.rebindTextures=function de(P,T,Z){const oe=i.get(P);void 0!==T&&he(oe.__webglFramebuffer,P,P.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D),void 0!==Z&&te(P)},this.setupRenderTarget=function Pe(P){const T=P.texture,Z=i.get(P),oe=i.get(T);P.addEventListener("dispose",V),!0!==P.isWebGLMultipleRenderTargets&&(void 0===oe.__webglTexture&&(oe.__webglTexture=n.createTexture()),oe.__version=T.version,o.memory.textures++);const fe=!0===P.isWebGLCubeRenderTarget,Ce=!0===P.isWebGLMultipleRenderTargets,k=b(P)||a;if(fe){Z.__webglFramebuffer=[];for(let ae=0;ae<6;ae++)Z.__webglFramebuffer[ae]=n.createFramebuffer()}else{if(Z.__webglFramebuffer=n.createFramebuffer(),Ce)if(r.drawBuffers){const ae=P.texture;for(let Q=0,Te=ae.length;Q<Te;Q++){const ze=i.get(ae[Q]);void 0===ze.__webglTexture&&(ze.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&P.samples>0&&!1===Ge(P)){const ae=Ce?T:[T];Z.__webglMultisampledFramebuffer=n.createFramebuffer(),Z.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Z.__webglMultisampledFramebuffer);for(let Q=0;Q<ae.length;Q++){const Te=ae[Q];Z.__webglColorRenderbuffer[Q]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Z.__webglColorRenderbuffer[Q]);const ze=s.convert(Te.format,Te.colorSpace),Xe=s.convert(Te.type),Ne=C(Te.internalFormat,ze,Xe,Te.colorSpace,!0===P.isXRRenderTarget),We=Ye(P);n.renderbufferStorageMultisample(n.RENDERBUFFER,We,Ne,P.width,P.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Q,n.RENDERBUFFER,Z.__webglColorRenderbuffer[Q])}n.bindRenderbuffer(n.RENDERBUFFER,null),P.depthBuffer&&(Z.__webglDepthRenderbuffer=n.createRenderbuffer(),Ie(Z.__webglDepthRenderbuffer,P,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(fe){t.bindTexture(n.TEXTURE_CUBE_MAP,oe.__webglTexture),ye(n.TEXTURE_CUBE_MAP,T,k);for(let ae=0;ae<6;ae++)he(Z.__webglFramebuffer[ae],P,T,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ae);M(T,k)&&S(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Ce){const ae=P.texture;for(let Q=0,Te=ae.length;Q<Te;Q++){const ze=ae[Q],Xe=i.get(ze);t.bindTexture(n.TEXTURE_2D,Xe.__webglTexture),ye(n.TEXTURE_2D,ze,k),he(Z.__webglFramebuffer,P,ze,n.COLOR_ATTACHMENT0+Q,n.TEXTURE_2D),M(ze,k)&&S(n.TEXTURE_2D)}t.unbindTexture()}else{let ae=n.TEXTURE_2D;(P.isWebGL3DRenderTarget||P.isWebGLArrayRenderTarget)&&(a?ae=P.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(ae,oe.__webglTexture),ye(ae,T,k),he(Z.__webglFramebuffer,P,T,n.COLOR_ATTACHMENT0,ae),M(T,k)&&S(ae),t.unbindTexture()}P.depthBuffer&&te(P)},this.updateRenderTargetMipmap=function xe(P){const T=b(P)||a,Z=!0===P.isWebGLMultipleRenderTargets?P.texture:[P.texture];for(let oe=0,fe=Z.length;oe<fe;oe++){const Ce=Z[oe];if(M(Ce,T)){const k=P.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,ae=i.get(Ce).__webglTexture;t.bindTexture(k,ae),S(k),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function je(P){if(a&&P.samples>0&&!1===Ge(P)){const T=P.isWebGLMultipleRenderTargets?P.texture:[P.texture],Z=P.width,oe=P.height;let fe=n.COLOR_BUFFER_BIT;const Ce=[],k=P.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ae=i.get(P),Q=!0===P.isWebGLMultipleRenderTargets;if(Q)for(let Te=0;Te<T.length;Te++)t.bindFramebuffer(n.FRAMEBUFFER,ae.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Te,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,ae.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Te,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,ae.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ae.__webglFramebuffer);for(let Te=0;Te<T.length;Te++){Ce.push(n.COLOR_ATTACHMENT0+Te),P.depthBuffer&&Ce.push(k);const ze=void 0!==ae.__ignoreDepthValues&&ae.__ignoreDepthValues;if(!1===ze&&(P.depthBuffer&&(fe|=n.DEPTH_BUFFER_BIT),P.stencilBuffer&&(fe|=n.STENCIL_BUFFER_BIT)),Q&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ae.__webglColorRenderbuffer[Te]),!0===ze&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[k]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[k])),Q){const Xe=i.get(T[Te]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Xe,0)}n.blitFramebuffer(0,0,Z,oe,0,0,Z,oe,fe,n.NEAREST),f&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ce)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Q)for(let Te=0;Te<T.length;Te++){t.bindFramebuffer(n.FRAMEBUFFER,ae.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Te,n.RENDERBUFFER,ae.__webglColorRenderbuffer[Te]);const ze=i.get(T[Te]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,ae.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Te,n.TEXTURE_2D,ze,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ae.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=te,this.setupFrameBufferTexture=he,this.useMultisampledRTT=Ge}function Woe(n,e,t){const i=t.isWebGL2;return{convert:function r(s,o=ja){let a;if(s===Ha)return n.UNSIGNED_BYTE;if(s===Zte)return n.UNSIGNED_SHORT_4_4_4_4;if(s===Jte)return n.UNSIGNED_SHORT_5_5_5_1;if(s===qte)return n.BYTE;if(s===Yte)return n.SHORT;if(s===iL)return n.UNSIGNED_SHORT;if(s===Kte)return n.INT;if(s===Va)return n.UNSIGNED_INT;if(s===Qo)return n.FLOAT;if(s===ch)return i?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(s===Qte)return n.ALPHA;if(s===Lr)return n.RGBA;if(s===ene)return n.LUMINANCE;if(s===tne)return n.LUMINANCE_ALPHA;if(s===Ga)return n.DEPTH_COMPONENT;if(s===zc)return n.DEPTH_STENCIL;if(s===Zw)return a=e.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(s===nne)return n.RED;if(s===ine)return n.RED_INTEGER;if(s===rne)return n.RG;if(s===sne)return n.RG_INTEGER;if(s===one)return n.RGBA_INTEGER;if(s===Vw||s===Gw||s===Ww||s===$w)if(o===ot){if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(s===Vw)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Gw)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Ww)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===$w)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=e.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(s===Vw)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Gw)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Ww)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===$w)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(s===rL||s===sL||s===oL||s===aL){if(a=e.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(s===rL)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===sL)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===oL)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===aL)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(s===ane)return a=e.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===lL||s===cL){if(a=e.get("WEBGL_compressed_texture_etc"),null===a)return null;if(s===lL)return o===ot?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===cL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(s===uL||s===dL||s===hL||s===fL||s===pL||s===mL||s===gL||s===_L||s===vL||s===yL||s===bL||s===xL||s===wL||s===ML){if(a=e.get("WEBGL_compressed_texture_astc"),null===a)return null;if(s===uL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===dL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===hL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===fL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===pL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===mL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===gL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===_L)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===vL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===yL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===bL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===xL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===wL)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===ML)return o===ot?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(s===jw){if(a=e.get("EXT_texture_compression_bptc"),null===a)return null;if(s===jw)return o===ot?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(s===lne||s===EL||s===SL||s===CL){if(a=e.get("EXT_texture_compression_rgtc"),null===a)return null;if(s===jw)return a.COMPRESSED_RED_RGTC1_EXT;if(s===EL)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===SL)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===CL)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return s===Uc?i?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0!==n[s]?n[s]:null}}}class $oe extends ni{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class sa extends ei{constructor(){super(),this.isGroup=!0,this.type="Group"}}const joe={type:"move"};class CM{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new sa,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new sa,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new A,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new A),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new sa,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new A,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new A),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(c&&e.hand){o=!0;for(const g of e.hand.values()){const _=t.getJointPose(g,i),m=this._getHandJoint(c,g);null!==_&&(m.matrix.fromArray(_.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.matrixWorldNeedsUpdate=!0,m.jointRadius=_.radius),m.visible=null!==_}const h=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),f=.02,p=.005;c.inputState.pinching&&h>f+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=f-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==l&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),null!==s&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));null!==a&&(r=t.getPose(e.targetRaySpace,i),null===r&&null!==s&&(r=s),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(joe)))}return null!==a&&(a.visible=null!==r),null!==l&&(l.visible=null!==s),null!==c&&(c.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const i=new sa;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class Xoe extends ts{constructor(e,t,i,r,s,o,a,l,c,u){if((u=void 0!==u?u:Ga)!==Ga&&u!==zc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&u===Ga&&(i=Va),void 0===i&&u===zc&&(i=Uc),super(null,r,s,o,a,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:On,this.minFilter=void 0!==l?l:On,this.flipY=!1,this.generateMipmaps=!1}}class qoe extends Xa{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,d=null,h=null,f=null,p=null;const g=t.getContextAttributes();let _=null,m=null;const y=[],v=[],b=new Set,x=new Map,M=new ni;M.layers.enable(1),M.viewport=new Kt;const S=new ni;S.layers.enable(2),S.viewport=new Kt;const C=[M,S],w=new $oe;w.layers.enable(1),w.layers.enable(2);let E=null,L=null;function V(K){const J=v.indexOf(K.inputSource);if(-1===J)return;const _e=y[J];void 0!==_e&&(_e.update(K.inputSource,K.frame,c||o),_e.dispatchEvent({type:K.type,data:K.inputSource}))}function I(){r.removeEventListener("select",V),r.removeEventListener("selectstart",V),r.removeEventListener("selectend",V),r.removeEventListener("squeeze",V),r.removeEventListener("squeezestart",V),r.removeEventListener("squeezeend",V),r.removeEventListener("end",I),r.removeEventListener("inputsourceschange",N);for(let K=0;K<y.length;K++){const J=v[K];null!==J&&(v[K]=null,y[K].disconnect(J))}E=null,L=null,e.setRenderTarget(_),f=null,h=null,d=null,r=null,m=null,ge.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function N(K){for(let J=0;J<K.removed.length;J++){const _e=K.removed[J],ye=v.indexOf(_e);ye>=0&&(v[ye]=null,y[ye].disconnect(_e))}for(let J=0;J<K.added.length;J++){const _e=K.added[J];let ye=v.indexOf(_e);if(-1===ye){for(let Ue=0;Ue<y.length;Ue++){if(Ue>=v.length){v.push(_e),ye=Ue;break}if(null===v[Ue]){v[Ue]=_e,ye=Ue;break}}if(-1===ye)break}const R=y[ye];R&&R.connect(_e)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(K){let J=y[K];return void 0===J&&(J=new CM,y[K]=J),J.getTargetRaySpace()},this.getControllerGrip=function(K){let J=y[K];return void 0===J&&(J=new CM,y[K]=J),J.getGripSpace()},this.getHand=function(K){let J=y[K];return void 0===J&&(J=new CM,y[K]=J),J.getHandSpace()},this.setFramebufferScaleFactor=function(K){s=K,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(K){a=K,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(K){c=K},this.getBaseLayer=function(){return null!==h?h:f},this.getBinding=function(){return d},this.getFrame=function(){return p},this.getSession=function(){return r},this.setSession=function(){var K=Bt(function*(J){if(r=J,null!==r){if(_=e.getRenderTarget(),r.addEventListener("select",V),r.addEventListener("selectstart",V),r.addEventListener("selectend",V),r.addEventListener("squeeze",V),r.addEventListener("squeezestart",V),r.addEventListener("squeezeend",V),r.addEventListener("end",I),r.addEventListener("inputsourceschange",N),!0!==g.xrCompatible&&(yield t.makeXRCompatible()),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2)f=new XRWebGLLayer(r,t,{antialias:void 0!==r.renderState.layers||g.antialias,alpha:!0,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s}),r.updateRenderState({baseLayer:f}),m=new Ya(f.framebufferWidth,f.framebufferHeight,{format:Lr,type:Ha,colorSpace:e.outputColorSpace,stencilBuffer:g.stencil});else{let _e=null,ye=null,R=null;g.depth&&(R=g.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,_e=g.stencil?zc:Ga,ye=g.stencil?Uc:Va);const Ue={colorFormat:t.RGBA8,depthFormat:R,scaleFactor:s};d=new XRWebGLBinding(r,t),h=d.createProjectionLayer(Ue),r.updateRenderState({layers:[h]}),m=new Ya(h.textureWidth,h.textureHeight,{format:Lr,type:Ha,depthTexture:new Xoe(h.textureWidth,h.textureHeight,ye,void 0,void 0,void 0,void 0,void 0,void 0,_e),stencilBuffer:g.stencil,colorSpace:e.outputColorSpace,samples:g.antialias?4:0}),e.properties.get(m).__ignoreDepthValues=h.ignoreDepthValues}m.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=yield r.requestReferenceSpace(a),ge.setContext(r),ge.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}});return function(J){return K.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode};const U=new A,F=new A;function W(K,J){null===J?K.matrixWorld.copy(K.matrix):K.matrixWorld.multiplyMatrices(J.matrixWorld,K.matrix),K.matrixWorldInverse.copy(K.matrixWorld).invert()}this.updateCamera=function(K){if(null===r)return;w.near=S.near=M.near=K.near,w.far=S.far=M.far=K.far,(E!==w.near||L!==w.far)&&(r.updateRenderState({depthNear:w.near,depthFar:w.far}),E=w.near,L=w.far);const J=K.parent,_e=w.cameras;W(w,J);for(let ye=0;ye<_e.length;ye++)W(_e[ye],J);2===_e.length?function G(K,J,_e){U.setFromMatrixPosition(J.matrixWorld),F.setFromMatrixPosition(_e.matrixWorld);const ye=U.distanceTo(F),R=J.projectionMatrix.elements,Ue=_e.projectionMatrix.elements,Oe=R[14]/(R[10]-1),he=R[14]/(R[10]+1),Ie=(R[9]+1)/R[5],le=(R[9]-1)/R[5],te=(R[8]-1)/R[0],de=(Ue[8]+1)/Ue[0],Pe=Oe*te,xe=Oe*de,je=ye/(-te+de),Ye=je*-te;J.matrixWorld.decompose(K.position,K.quaternion,K.scale),K.translateX(Ye),K.translateZ(je),K.matrixWorld.compose(K.position,K.quaternion,K.scale),K.matrixWorldInverse.copy(K.matrixWorld).invert();const Ge=Oe+je,ht=he+je;K.projectionMatrix.makePerspective(Pe-Ye,xe+(ye-Ye),Ie*he/ht*Ge,le*he/ht*Ge,Ge,ht),K.projectionMatrixInverse.copy(K.projectionMatrix).invert()}(w,M,S):w.projectionMatrix.copy(M.projectionMatrix),function q(K,J,_e){null===_e?K.matrix.copy(J.matrixWorld):(K.matrix.copy(_e.matrixWorld),K.matrix.invert(),K.matrix.multiply(J.matrixWorld)),K.matrix.decompose(K.position,K.quaternion,K.scale),K.updateMatrixWorld(!0);const ye=K.children;for(let R=0,Ue=ye.length;R<Ue;R++)ye[R].updateMatrixWorld(!0);K.projectionMatrix.copy(J.projectionMatrix),K.projectionMatrixInverse.copy(J.projectionMatrixInverse),K.isPerspectiveCamera&&(K.fov=2*Wc*Math.atan(1/K.projectionMatrix.elements[5]),K.zoom=1)}(K,w,J)},this.getCamera=function(){return w},this.getFoveation=function(){if(null!==h||null!==f)return l},this.setFoveation=function(K){l=K,null!==h&&(h.fixedFoveation=K),null!==f&&void 0!==f.fixedFoveation&&(f.fixedFoveation=K)},this.getPlanes=function(){return b};let ee=null;const ge=new iF;ge.setAnimationLoop(function be(K,J){if(u=J.getViewerPose(c||o),p=J,null!==u){const _e=u.views;null!==f&&(e.setRenderTargetFramebuffer(m,f.framebuffer),e.setRenderTarget(m));let ye=!1;_e.length!==w.cameras.length&&(w.cameras.length=0,ye=!0);for(let R=0;R<_e.length;R++){const Ue=_e[R];let Oe=null;if(null!==f)Oe=f.getViewport(Ue);else{const Ie=d.getViewSubImage(h,Ue);Oe=Ie.viewport,0===R&&(e.setRenderTargetTextures(m,Ie.colorTexture,h.ignoreDepthValues?void 0:Ie.depthStencilTexture),e.setRenderTarget(m))}let he=C[R];void 0===he&&(he=new ni,he.layers.enable(R),he.viewport=new Kt,C[R]=he),he.matrix.fromArray(Ue.transform.matrix),he.matrix.decompose(he.position,he.quaternion,he.scale),he.projectionMatrix.fromArray(Ue.projectionMatrix),he.projectionMatrixInverse.copy(he.projectionMatrix).invert(),he.viewport.set(Oe.x,Oe.y,Oe.width,Oe.height),0===R&&(w.matrix.copy(he.matrix),w.matrix.decompose(w.position,w.quaternion,w.scale)),!0===ye&&w.cameras.push(he)}}for(let _e=0;_e<y.length;_e++){const ye=v[_e],R=y[_e];null!==ye&&void 0!==R&&R.update(ye,J,c||o)}if(ee&&ee(K,J),J.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:J.detectedPlanes});let _e=null;for(const ye of b)J.detectedPlanes.has(ye)||(null===_e&&(_e=[]),_e.push(ye));if(null!==_e)for(const ye of _e)b.delete(ye),x.delete(ye),i.dispatchEvent({type:"planeremoved",data:ye});for(const ye of J.detectedPlanes)if(b.has(ye)){const R=x.get(ye);ye.lastChangedTime>R&&(x.set(ye,ye.lastChangedTime),i.dispatchEvent({type:"planechanged",data:ye}))}else b.add(ye),x.set(ye,J.lastChangedTime),i.dispatchEvent({type:"planeadded",data:ye})}p=null}),this.setAnimationLoop=function(K){ee=K},this.dispose=function(){}}}function Yoe(n,e){function t(_,m){!0===_.matrixAutoUpdate&&_.updateMatrix(),m.value.copy(_.matrix)}function s(_,m){_.opacity.value=m.opacity,m.color&&_.diffuse.value.copy(m.color),m.emissive&&_.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(_.map.value=m.map,t(m.map,_.mapTransform)),m.alphaMap&&(_.alphaMap.value=m.alphaMap,t(m.alphaMap,_.alphaMapTransform)),m.bumpMap&&(_.bumpMap.value=m.bumpMap,t(m.bumpMap,_.bumpMapTransform),_.bumpScale.value=m.bumpScale,m.side===Zi&&(_.bumpScale.value*=-1)),m.normalMap&&(_.normalMap.value=m.normalMap,t(m.normalMap,_.normalMapTransform),_.normalScale.value.copy(m.normalScale),m.side===Zi&&_.normalScale.value.negate()),m.displacementMap&&(_.displacementMap.value=m.displacementMap,t(m.displacementMap,_.displacementMapTransform),_.displacementScale.value=m.displacementScale,_.displacementBias.value=m.displacementBias),m.emissiveMap&&(_.emissiveMap.value=m.emissiveMap,t(m.emissiveMap,_.emissiveMapTransform)),m.specularMap&&(_.specularMap.value=m.specularMap,t(m.specularMap,_.specularMapTransform)),m.alphaTest>0&&(_.alphaTest.value=m.alphaTest);const y=e.get(m).envMap;if(y&&(_.envMap.value=y,_.flipEnvMap.value=y.isCubeTexture&&!1===y.isRenderTargetTexture?-1:1,_.reflectivity.value=m.reflectivity,_.ior.value=m.ior,_.refractionRatio.value=m.refractionRatio),m.lightMap){_.lightMap.value=m.lightMap;const v=!0===n.useLegacyLights?Math.PI:1;_.lightMapIntensity.value=m.lightMapIntensity*v,t(m.lightMap,_.lightMapTransform)}m.aoMap&&(_.aoMap.value=m.aoMap,_.aoMapIntensity.value=m.aoMapIntensity,t(m.aoMap,_.aoMapTransform))}return{refreshFogUniforms:function i(_,m){m.color.getRGB(_.fogColor.value,nF(n)),m.isFog?(_.fogNear.value=m.near,_.fogFar.value=m.far):m.isFogExp2&&(_.fogDensity.value=m.density)},refreshMaterialUniforms:function r(_,m,y,v,b){m.isMeshBasicMaterial||m.isMeshLambertMaterial?s(_,m):m.isMeshToonMaterial?(s(_,m),function d(_,m){m.gradientMap&&(_.gradientMap.value=m.gradientMap)}(_,m)):m.isMeshPhongMaterial?(s(_,m),function u(_,m){_.specular.value.copy(m.specular),_.shininess.value=Math.max(m.shininess,1e-4)}(_,m)):m.isMeshStandardMaterial?(s(_,m),function h(_,m){_.metalness.value=m.metalness,m.metalnessMap&&(_.metalnessMap.value=m.metalnessMap,t(m.metalnessMap,_.metalnessMapTransform)),_.roughness.value=m.roughness,m.roughnessMap&&(_.roughnessMap.value=m.roughnessMap,t(m.roughnessMap,_.roughnessMapTransform)),e.get(m).envMap&&(_.envMapIntensity.value=m.envMapIntensity)}(_,m),m.isMeshPhysicalMaterial&&function f(_,m,y){_.ior.value=m.ior,m.sheen>0&&(_.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),_.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(_.sheenColorMap.value=m.sheenColorMap,t(m.sheenColorMap,_.sheenColorMapTransform)),m.sheenRoughnessMap&&(_.sheenRoughnessMap.value=m.sheenRoughnessMap,t(m.sheenRoughnessMap,_.sheenRoughnessMapTransform))),m.clearcoat>0&&(_.clearcoat.value=m.clearcoat,_.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(_.clearcoatMap.value=m.clearcoatMap,t(m.clearcoatMap,_.clearcoatMapTransform)),m.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap,t(m.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),m.clearcoatNormalMap&&(_.clearcoatNormalMap.value=m.clearcoatNormalMap,t(m.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),m.side===Zi&&_.clearcoatNormalScale.value.negate())),m.iridescence>0&&(_.iridescence.value=m.iridescence,_.iridescenceIOR.value=m.iridescenceIOR,_.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(_.iridescenceMap.value=m.iridescenceMap,t(m.iridescenceMap,_.iridescenceMapTransform)),m.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=m.iridescenceThicknessMap,t(m.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),m.transmission>0&&(_.transmission.value=m.transmission,_.transmissionSamplerMap.value=y.texture,_.transmissionSamplerSize.value.set(y.width,y.height),m.transmissionMap&&(_.transmissionMap.value=m.transmissionMap,t(m.transmissionMap,_.transmissionMapTransform)),_.thickness.value=m.thickness,m.thicknessMap&&(_.thicknessMap.value=m.thicknessMap,t(m.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=m.attenuationDistance,_.attenuationColor.value.copy(m.attenuationColor)),_.specularIntensity.value=m.specularIntensity,_.specularColor.value.copy(m.specularColor),m.specularColorMap&&(_.specularColorMap.value=m.specularColorMap,t(m.specularColorMap,_.specularColorMapTransform)),m.specularIntensityMap&&(_.specularIntensityMap.value=m.specularIntensityMap,t(m.specularIntensityMap,_.specularIntensityMapTransform))}(_,m,b)):m.isMeshMatcapMaterial?(s(_,m),function p(_,m){m.matcap&&(_.matcap.value=m.matcap)}(_,m)):m.isMeshDepthMaterial?s(_,m):m.isMeshDistanceMaterial?(s(_,m),function g(_,m){const y=e.get(m).light;_.referencePosition.value.setFromMatrixPosition(y.matrixWorld),_.nearDistance.value=y.shadow.camera.near,_.farDistance.value=y.shadow.camera.far}(_,m)):m.isMeshNormalMaterial?s(_,m):m.isLineBasicMaterial?(function o(_,m){_.diffuse.value.copy(m.color),_.opacity.value=m.opacity,m.map&&(_.map.value=m.map,t(m.map,_.mapTransform))}(_,m),m.isLineDashedMaterial&&function a(_,m){_.dashSize.value=m.dashSize,_.totalSize.value=m.dashSize+m.gapSize,_.scale.value=m.scale}(_,m)):m.isPointsMaterial?function l(_,m,y,v){_.diffuse.value.copy(m.color),_.opacity.value=m.opacity,_.size.value=m.size*y,_.scale.value=.5*v,m.map&&(_.map.value=m.map,t(m.map,_.uvTransform)),m.alphaMap&&(_.alphaMap.value=m.alphaMap),m.alphaTest>0&&(_.alphaTest.value=m.alphaTest)}(_,m,y,v):m.isSpriteMaterial?function c(_,m){_.diffuse.value.copy(m.color),_.opacity.value=m.opacity,_.rotation.value=m.rotation,m.map&&(_.map.value=m.map,t(m.map,_.mapTransform)),m.alphaMap&&(_.alphaMap.value=m.alphaMap),m.alphaTest>0&&(_.alphaTest.value=m.alphaTest)}(_,m):m.isShadowMaterial?(_.color.value.copy(m.color),_.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}}}function Koe(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function f(y,v,b){const x=y.value;if(void 0===b[v]){if("number"==typeof x)b[v]=x;else{const M=Array.isArray(x)?x:[x],S=[];for(let C=0;C<M.length;C++)S.push(M[C].clone());b[v]=S}return!0}if("number"==typeof x){if(b[v]!==x)return b[v]=x,!0}else{const M=Array.isArray(b[v])?b[v]:[b[v]],S=Array.isArray(x)?x:[x];for(let C=0;C<M.length;C++){const w=M[C];if(!1===w.equals(S[C]))return w.copy(S[C]),!0}}return!1}function g(y){const v={boundary:0,storage:0};return"number"==typeof y?(v.boundary=4,v.storage=4):y.isVector2?(v.boundary=8,v.storage=8):y.isVector3||y.isColor?(v.boundary=16,v.storage=12):y.isVector4?(v.boundary=16,v.storage=16):y.isMatrix3?(v.boundary=48,v.storage=48):y.isMatrix4?(v.boundary=64,v.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),v}function _(y){const v=y.target;v.removeEventListener("dispose",_);const b=o.indexOf(v.__bindingPointIndex);o.splice(b,1),n.deleteBuffer(r[v.id]),delete r[v.id],delete s[v.id]}return{bind:function l(y,v){i.uniformBlockBinding(y,v.program)},update:function c(y,v){let b=r[y.id];void 0===b&&(function p(y){const v=y.uniforms;let b=0;let M=0;for(let S=0,C=v.length;S<C;S++){const w=v[S],E={boundary:0,storage:0},L=Array.isArray(w.value)?w.value:[w.value];for(let V=0,I=L.length;V<I;V++){const U=g(L[V]);E.boundary+=U.boundary,E.storage+=U.storage}w.__data=new Float32Array(E.storage/Float32Array.BYTES_PER_ELEMENT),w.__offset=b,S>0&&(M=b%16,0!==M&&16-M-E.boundary<0&&(b+=16-M,w.__offset=b)),b+=E.storage}M=b%16,M>0&&(b+=16-M),y.__size=b,y.__cache={}}(y),b=function u(y){const v=function d(){for(let y=0;y<a;y++)if(-1===o.indexOf(y))return o.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();y.__bindingPointIndex=v;const b=n.createBuffer(),x=y.__size,M=y.usage;return n.bindBuffer(n.UNIFORM_BUFFER,b),n.bufferData(n.UNIFORM_BUFFER,x,M),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,v,b),b}(y),r[y.id]=b,y.addEventListener("dispose",_)),i.updateUBOMapping(y,v.program);const M=e.render.frame;s[y.id]!==M&&(function h(y){const b=y.uniforms,x=y.__cache;n.bindBuffer(n.UNIFORM_BUFFER,r[y.id]);for(let M=0,S=b.length;M<S;M++){const C=b[M];if(!0===f(C,M,x)){const w=C.__offset,E=Array.isArray(C.value)?C.value:[C.value];let L=0;for(let V=0;V<E.length;V++){const I=E[V],N=g(I);"number"==typeof I?(C.__data[0]=I,n.bufferSubData(n.UNIFORM_BUFFER,w+L,C.__data)):I.isMatrix3?(C.__data[0]=I.elements[0],C.__data[1]=I.elements[1],C.__data[2]=I.elements[2],C.__data[3]=I.elements[0],C.__data[4]=I.elements[3],C.__data[5]=I.elements[4],C.__data[6]=I.elements[5],C.__data[7]=I.elements[0],C.__data[8]=I.elements[6],C.__data[9]=I.elements[7],C.__data[10]=I.elements[8],C.__data[11]=I.elements[0]):(I.toArray(C.__data,L),L+=N.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,w,C.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}(y),s[y.id]=M)},dispose:function m(){for(const y in r)n.deleteBuffer(r[y]);o=[],r={},s={}}}}function Zoe(){const n=hh("canvas");return n.style.display="block",n}class RF{constructor(e={}){const{canvas:t=Zoe(),context:i=null,depth:r=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1}=e;let h;this.isWebGLRenderer=!0,h=null!==i?i.getContextAttributes().alpha:o;let f=null,p=null;const g=[],_=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=ot,this.useLegacyLights=!0,this.toneMapping=go,this.toneMappingExposure=1;const m=this;let y=!1,v=0,b=0,x=null,M=-1,S=null;const C=new Kt,w=new Kt;let E=null,L=t.width,V=t.height,I=1,N=null,U=null;const F=new Kt(0,0,L,V),G=new Kt(0,0,L,V);let W=!1;const q=new bM;let ee=!1,be=!1,ge=null;const K=new at,J=new A,_e={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ye(){return null===x?I:1}let Oe,he,Ie,le,te,de,Pe,xe,je,Ye,Ge,ht,St,P,T,Z,oe,fe,Ce,k,ae,Q,Te,ze,R=i;function Ue(D,Y){for(let ie=0;ie<D.length;ie++){const re=t.getContext(D[ie],Y);if(null!==re)return re}return null}try{const D={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r152"),t.addEventListener("webglcontextlost",We,!1),t.addEventListener("webglcontextrestored",ft,!1),t.addEventListener("webglcontextcreationerror",Ct,!1),null===R){const Y=["webgl2","webgl","experimental-webgl"];if(!0===m.isWebGL1Renderer&&Y.shift(),R=Ue(Y,D),null===R)throw Ue(Y)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===R.getShaderPrecisionFormat&&(R.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(D){throw console.error("THREE.WebGLRenderer: "+D.message),D}function Xe(){Oe=new use(R),he=new rse(R,Oe,e),Oe.init(he),Q=new Woe(R,Oe,he),Ie=new Voe(R,Oe,he),le=new fse(R),te=new Poe,de=new Goe(R,Oe,Ie,te,he,Q,le),Pe=new ose(m),xe=new cse(m),je=new sie(R,he),Te=new nse(R,Oe,je,he),Ye=new dse(R,je,le,Te),Ge=new _se(R,Ye,je,le),Ce=new gse(R,he,de),Z=new sse(te),ht=new Doe(m,Pe,xe,Oe,he,Te,Z),St=new Yoe(m,te),P=new Roe,T=new Boe(Oe,he),fe=new tse(m,Pe,xe,Ie,Ge,h,l),oe=new Hoe(m,Ge,he),ze=new Koe(R,le,he,Ie),k=new ise(R,Oe,le,he),ae=new hse(R,Oe,le,he),le.programs=ht.programs,m.capabilities=he,m.extensions=Oe,m.properties=te,m.renderLists=P,m.shadowMap=oe,m.state=Ie,m.info=le}Xe();const Ne=new qoe(m,R);function We(D){D.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function ft(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const D=le.autoReset,Y=oe.enabled,ie=oe.autoUpdate,j=oe.needsUpdate,re=oe.type;Xe(),le.autoReset=D,oe.enabled=Y,oe.autoUpdate=ie,oe.needsUpdate=j,oe.type=re}function Ct(D){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",D.statusMessage)}function Ln(D){const Y=D.target;Y.removeEventListener("dispose",Ln),function B(D){(function ne(D){const Y=te.get(D).programs;void 0!==Y&&(Y.forEach(function(ie){ht.releaseProgram(ie)}),D.isShaderMaterial&&ht.releaseShaderCache(D))})(D),te.remove(D)}(Y)}this.xr=Ne,this.getContext=function(){return R},this.getContextAttributes=function(){return R.getContextAttributes()},this.forceContextLoss=function(){const D=Oe.get("WEBGL_lose_context");D&&D.loseContext()},this.forceContextRestore=function(){const D=Oe.get("WEBGL_lose_context");D&&D.restoreContext()},this.getPixelRatio=function(){return I},this.setPixelRatio=function(D){void 0!==D&&(I=D,this.setSize(L,V,!1))},this.getSize=function(D){return D.set(L,V)},this.setSize=function(D,Y,ie=!0){Ne.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(L=D,V=Y,t.width=Math.floor(D*I),t.height=Math.floor(Y*I),!0===ie&&(t.style.width=D+"px",t.style.height=Y+"px"),this.setViewport(0,0,D,Y))},this.getDrawingBufferSize=function(D){return D.set(L*I,V*I).floor()},this.setDrawingBufferSize=function(D,Y,ie){L=D,V=Y,I=ie,t.width=Math.floor(D*ie),t.height=Math.floor(Y*ie),this.setViewport(0,0,D,Y)},this.getCurrentViewport=function(D){return D.copy(C)},this.getViewport=function(D){return D.copy(F)},this.setViewport=function(D,Y,ie,j){D.isVector4?F.set(D.x,D.y,D.z,D.w):F.set(D,Y,ie,j),Ie.viewport(C.copy(F).multiplyScalar(I).floor())},this.getScissor=function(D){return D.copy(G)},this.setScissor=function(D,Y,ie,j){D.isVector4?G.set(D.x,D.y,D.z,D.w):G.set(D,Y,ie,j),Ie.scissor(w.copy(G).multiplyScalar(I).floor())},this.getScissorTest=function(){return W},this.setScissorTest=function(D){Ie.setScissorTest(W=D)},this.setOpaqueSort=function(D){N=D},this.setTransparentSort=function(D){U=D},this.getClearColor=function(D){return D.copy(fe.getClearColor())},this.setClearColor=function(){fe.setClearColor.apply(fe,arguments)},this.getClearAlpha=function(){return fe.getClearAlpha()},this.setClearAlpha=function(){fe.setClearAlpha.apply(fe,arguments)},this.clear=function(D=!0,Y=!0,ie=!0){let j=0;D&&(j|=R.COLOR_BUFFER_BIT),Y&&(j|=R.DEPTH_BUFFER_BIT),ie&&(j|=R.STENCIL_BUFFER_BIT),R.clear(j)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",We,!1),t.removeEventListener("webglcontextrestored",ft,!1),t.removeEventListener("webglcontextcreationerror",Ct,!1),P.dispose(),T.dispose(),te.dispose(),Pe.dispose(),xe.dispose(),Ge.dispose(),Te.dispose(),ze.dispose(),ht.dispose(),Ne.dispose(),Ne.removeEventListener("sessionstart",qe),Ne.removeEventListener("sessionend",en),ge&&(ge.dispose(),ge=null),tn.stop()},this.renderBufferDirect=function(D,Y,ie,j,re,Ke){null===Y&&(Y=_e);const rt=re.isMesh&&re.matrixWorld.determinant()<0,pt=function Cce(D,Y,ie,j,re){!0!==Y.isScene&&(Y=_e),de.resetTextureUnits();const Ke=Y.fog,pt=null===x?m.outputColorSpace:!0===x.isXRRenderTarget?x.texture.colorSpace:Ts,wt=(j.isMeshStandardMaterial?xe:Pe).get(j.envMap||(j.isMeshStandardMaterial?Y.environment:null)),Dt=!0===j.vertexColors&&!!ie.attributes.color&&4===ie.attributes.color.itemSize,Pt=!!j.normalMap&&!!ie.attributes.tangent,Rt=!!ie.morphAttributes.position,Zt=!!ie.morphAttributes.normal,Fi=!!ie.morphAttributes.color,as=j.toneMapped?m.toneMapping:go,fl=ie.morphAttributes.position||ie.morphAttributes.normal||ie.morphAttributes.color,$n=void 0!==fl?fl.length:0,Ft=te.get(j),SE=p.state.lights;!0!==ee||!0!==be&&D===S||Z.setState(j,D,D===S&&j.id===M);let ii=!1;j.version===Ft.__version?(Ft.needsLights&&Ft.lightsStateVersion!==SE.state.version||Ft.outputColorSpace!==pt||re.isInstancedMesh&&!1===Ft.instancing||!re.isInstancedMesh&&!0===Ft.instancing||re.isSkinnedMesh&&!1===Ft.skinning||!re.isSkinnedMesh&&!0===Ft.skinning||Ft.envMap!==wt||!0===j.fog&&Ft.fog!==Ke||void 0!==Ft.numClippingPlanes&&(Ft.numClippingPlanes!==Z.numPlanes||Ft.numIntersection!==Z.numIntersection)||Ft.vertexAlphas!==Dt||Ft.vertexTangents!==Pt||Ft.morphTargets!==Rt||Ft.morphNormals!==Zt||Ft.morphColors!==Fi||Ft.toneMapping!==as||!0===he.isWebGL2&&Ft.morphTargetsCount!==$n)&&(ii=!0):(ii=!0,Ft.__version=j.version);let pl=Ft.currentProgram;!0===ii&&(pl=m_(j,Y,re));let n2=!1,Vh=!1,CE=!1;const Ni=pl.getUniforms(),ml=Ft.uniforms;if(Ie.useProgram(pl.program)&&(n2=!0,Vh=!0,CE=!0),j.id!==M&&(M=j.id,Vh=!0),n2||S!==D){if(Ni.setValue(R,"projectionMatrix",D.projectionMatrix),he.logarithmicDepthBuffer&&Ni.setValue(R,"logDepthBufFC",2/(Math.log(D.far+1)/Math.LN2)),S!==D&&(S=D,Vh=!0,CE=!0),j.isShaderMaterial||j.isMeshPhongMaterial||j.isMeshToonMaterial||j.isMeshStandardMaterial||j.envMap){const yr=Ni.map.cameraPosition;void 0!==yr&&yr.setValue(R,J.setFromMatrixPosition(D.matrixWorld))}(j.isMeshPhongMaterial||j.isMeshToonMaterial||j.isMeshLambertMaterial||j.isMeshBasicMaterial||j.isMeshStandardMaterial||j.isShaderMaterial)&&Ni.setValue(R,"isOrthographic",!0===D.isOrthographicCamera),(j.isMeshPhongMaterial||j.isMeshToonMaterial||j.isMeshLambertMaterial||j.isMeshBasicMaterial||j.isMeshStandardMaterial||j.isShaderMaterial||j.isShadowMaterial||re.isSkinnedMesh)&&Ni.setValue(R,"viewMatrix",D.matrixWorldInverse)}if(re.isSkinnedMesh){Ni.setOptional(R,re,"bindMatrix"),Ni.setOptional(R,re,"bindMatrixInverse");const yr=re.skeleton;yr&&(he.floatVertexTextures?(null===yr.boneTexture&&yr.computeBoneTexture(),Ni.setValue(R,"boneTexture",yr.boneTexture,de),Ni.setValue(R,"boneTextureSize",yr.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const TE=ie.morphAttributes;if((void 0!==TE.position||void 0!==TE.normal||void 0!==TE.color&&!0===he.isWebGL2)&&Ce.update(re,ie,pl),(Vh||Ft.receiveShadow!==re.receiveShadow)&&(Ft.receiveShadow=re.receiveShadow,Ni.setValue(R,"receiveShadow",re.receiveShadow)),j.isMeshGouraudMaterial&&null!==j.envMap&&(ml.envMap.value=wt,ml.flipEnvMap.value=wt.isCubeTexture&&!1===wt.isRenderTargetTexture?-1:1),Vh&&(Ni.setValue(R,"toneMappingExposure",m.toneMappingExposure),Ft.needsLights&&function Tce(D,Y){D.ambientLightColor.needsUpdate=Y,D.lightProbe.needsUpdate=Y,D.directionalLights.needsUpdate=Y,D.directionalLightShadows.needsUpdate=Y,D.pointLights.needsUpdate=Y,D.pointLightShadows.needsUpdate=Y,D.spotLights.needsUpdate=Y,D.spotLightShadows.needsUpdate=Y,D.rectAreaLights.needsUpdate=Y,D.hemisphereLights.needsUpdate=Y}(ml,CE),Ke&&!0===j.fog&&St.refreshFogUniforms(ml,Ke),St.refreshMaterialUniforms(ml,j,I,V,ge),Ng.upload(R,Ft.uniformsList,ml,de)),j.isShaderMaterial&&!0===j.uniformsNeedUpdate&&(Ng.upload(R,Ft.uniformsList,ml,de),j.uniformsNeedUpdate=!1),j.isSpriteMaterial&&Ni.setValue(R,"center",re.center),Ni.setValue(R,"modelViewMatrix",re.modelViewMatrix),Ni.setValue(R,"normalMatrix",re.normalMatrix),Ni.setValue(R,"modelMatrix",re.matrixWorld),j.isShaderMaterial||j.isRawShaderMaterial){const yr=j.uniformsGroups;for(let AE=0,Dce=yr.length;AE<Dce;AE++)if(he.isWebGL2){const r2=yr[AE];ze.update(r2,pl),ze.bind(r2,pl)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return pl}(D,Y,ie,j,re);Ie.setMaterial(j,rt);let wt=ie.index,Dt=1;!0===j.wireframe&&(wt=Ye.getWireframeAttribute(ie),Dt=2);const Pt=ie.drawRange,Rt=ie.attributes.position;let Zt=Pt.start*Dt,Fi=(Pt.start+Pt.count)*Dt;null!==Ke&&(Zt=Math.max(Zt,Ke.start*Dt),Fi=Math.min(Fi,(Ke.start+Ke.count)*Dt)),null!==wt?(Zt=Math.max(Zt,0),Fi=Math.min(Fi,wt.count)):null!=Rt&&(Zt=Math.max(Zt,0),Fi=Math.min(Fi,Rt.count));const as=Fi-Zt;if(as<0||as===1/0)return;Te.setup(re,j,pt,ie,wt);let fl,$n=k;if(null!==wt&&(fl=je.get(wt),$n=ae,$n.setIndex(fl)),re.isMesh)!0===j.wireframe?(Ie.setLineWidth(j.wireframeLinewidth*ye()),$n.setMode(R.LINES)):$n.setMode(R.TRIANGLES);else if(re.isLine){let Ft=j.linewidth;void 0===Ft&&(Ft=1),Ie.setLineWidth(Ft*ye()),$n.setMode(re.isLineSegments?R.LINES:re.isLineLoop?R.LINE_LOOP:R.LINE_STRIP)}else re.isPoints?$n.setMode(R.POINTS):re.isSprite&&$n.setMode(R.TRIANGLES);if(re.isInstancedMesh)$n.renderInstances(Zt,as,re.count);else if(ie.isInstancedBufferGeometry){const SE=Math.min(ie.instanceCount,void 0!==ie._maxInstanceCount?ie._maxInstanceCount:1/0);$n.renderInstances(Zt,as,SE)}else $n.render(Zt,as)},this.compile=function(D,Y){function ie(j,re,Ke){!0===j.transparent&&j.side===Cs&&!1===j.forceSinglePass?(j.side=Zi,j.needsUpdate=!0,m_(j,re,Ke),j.side=mo,j.needsUpdate=!0,m_(j,re,Ke),j.side=Cs):m_(j,re,Ke)}p=T.get(D),p.init(),_.push(p),D.traverseVisible(function(j){j.isLight&&j.layers.test(Y.layers)&&(p.pushLight(j),j.castShadow&&p.pushShadow(j))}),p.setupLights(m.useLegacyLights),D.traverse(function(j){const re=j.material;if(re)if(Array.isArray(re))for(let Ke=0;Ke<re.length;Ke++)ie(re[Ke],D,j);else ie(re,D,j)}),_.pop(),p=null};let me=null;function qe(){tn.stop()}function en(){tn.start()}const tn=new iF;function Mi(D,Y,ie,j){if(!1===D.visible)return;if(D.layers.test(Y.layers))if(D.isGroup)ie=D.renderOrder;else if(D.isLOD)!0===D.autoUpdate&&D.update(Y);else if(D.isLight)p.pushLight(D),D.castShadow&&p.pushShadow(D);else if(D.isSprite){if(!D.frustumCulled||q.intersectsSprite(D)){j&&J.setFromMatrixPosition(D.matrixWorld).applyMatrix4(K);const rt=Ge.update(D),pt=D.material;pt.visible&&f.push(D,rt,pt,ie,J.z,null)}}else if((D.isMesh||D.isLine||D.isPoints)&&(!D.frustumCulled||q.intersectsObject(D))){D.isSkinnedMesh&&D.skeleton.frame!==le.render.frame&&(D.skeleton.update(),D.skeleton.frame=le.render.frame);const rt=Ge.update(D),pt=D.material;if(j&&(null===rt.boundingSphere&&rt.computeBoundingSphere(),J.copy(rt.boundingSphere.center).applyMatrix4(D.matrixWorld).applyMatrix4(K)),Array.isArray(pt)){const wt=rt.groups;for(let Dt=0,Pt=wt.length;Dt<Pt;Dt++){const Rt=wt[Dt],Zt=pt[Rt.materialIndex];Zt&&Zt.visible&&f.push(D,rt,Zt,ie,J.z,Rt)}}else pt.visible&&f.push(D,rt,pt,ie,J.z,null)}const Ke=D.children;for(let rt=0,pt=Ke.length;rt<pt;rt++)Mi(Ke[rt],Y,ie,j)}function ua(D,Y,ie,j){const re=D.opaque,Ke=D.transmissive,rt=D.transparent;p.setupLightsView(ie),!0===ee&&Z.setGlobalState(m.clippingPlanes,ie),Ke.length>0&&function Fn(D,Y,ie,j){if(null===ge){const pt=he.isWebGL2;ge=new Ya(1024,1024,{generateMipmaps:!0,type:Oe.has("EXT_color_buffer_half_float")?ch:Ha,minFilter:_o,samples:pt&&!0===a?4:0})}const re=m.getRenderTarget();m.setRenderTarget(ge),m.clear();const Ke=m.toneMapping;m.toneMapping=go,zr(D,ie,j),de.updateMultisampleRenderTarget(ge),de.updateRenderTargetMipmap(ge);let rt=!1;for(let pt=0,wt=Y.length;pt<wt;pt++){const Dt=Y[pt],Pt=Dt.object,Rt=Dt.geometry,Zt=Dt.material,Fi=Dt.group;if(Zt.side===Cs&&Pt.layers.test(j.layers)){const as=Zt.side;Zt.side=Zi,Zt.needsUpdate=!0,ks(Pt,ie,j,Rt,Zt,Fi),Zt.side=as,Zt.needsUpdate=!0,rt=!0}}!0===rt&&(de.updateMultisampleRenderTarget(ge),de.updateRenderTargetMipmap(ge)),m.setRenderTarget(re),m.toneMapping=Ke}(re,Ke,Y,ie),j&&Ie.viewport(C.copy(j)),re.length>0&&zr(re,Y,ie),Ke.length>0&&zr(Ke,Y,ie),rt.length>0&&zr(rt,Y,ie),Ie.buffers.depth.setTest(!0),Ie.buffers.depth.setMask(!0),Ie.buffers.color.setMask(!0),Ie.setPolygonOffset(!1)}function zr(D,Y,ie){const j=!0===Y.isScene?Y.overrideMaterial:null;for(let re=0,Ke=D.length;re<Ke;re++){const rt=D[re],pt=rt.object,wt=rt.geometry,Dt=null===j?rt.material:j,Pt=rt.group;pt.layers.test(ie.layers)&&ks(pt,Y,ie,wt,Dt,Pt)}}function ks(D,Y,ie,j,re,Ke){D.onBeforeRender(m,Y,ie,j,re,Ke),D.modelViewMatrix.multiplyMatrices(ie.matrixWorldInverse,D.matrixWorld),D.normalMatrix.getNormalMatrix(D.modelViewMatrix),re.onBeforeRender(m,Y,ie,j,D,Ke),!0===re.transparent&&re.side===Cs&&!1===re.forceSinglePass?(re.side=Zi,re.needsUpdate=!0,m.renderBufferDirect(ie,Y,j,re,D,Ke),re.side=mo,re.needsUpdate=!0,m.renderBufferDirect(ie,Y,j,re,D,Ke),re.side=Cs):m.renderBufferDirect(ie,Y,j,re,D,Ke),D.onAfterRender(m,Y,ie,j,re,Ke)}function m_(D,Y,ie){!0!==Y.isScene&&(Y=_e);const j=te.get(D),re=p.state.lights,rt=re.state.version,pt=ht.getParameters(D,re.state,p.state.shadowsArray,Y,ie),wt=ht.getProgramCacheKey(pt);let Dt=j.programs;j.environment=D.isMeshStandardMaterial?Y.environment:null,j.fog=Y.fog,j.envMap=(D.isMeshStandardMaterial?xe:Pe).get(D.envMap||j.environment),void 0===Dt&&(D.addEventListener("dispose",Ln),Dt=new Map,j.programs=Dt);let Pt=Dt.get(wt);if(void 0!==Pt){if(j.currentProgram===Pt&&j.lightsStateVersion===rt)return t2(D,pt),Pt}else pt.uniforms=ht.getUniforms(D),D.onBuild(ie,pt,m),D.onBeforeCompile(pt,m),Pt=ht.acquireProgram(pt,wt),Dt.set(wt,Pt),j.uniforms=pt.uniforms;const Rt=j.uniforms;(!D.isShaderMaterial&&!D.isRawShaderMaterial||!0===D.clipping)&&(Rt.clippingPlanes=Z.uniform),t2(D,pt),j.needsLights=function Ace(D){return D.isMeshLambertMaterial||D.isMeshToonMaterial||D.isMeshPhongMaterial||D.isMeshStandardMaterial||D.isShadowMaterial||D.isShaderMaterial&&!0===D.lights}(D),j.lightsStateVersion=rt,j.needsLights&&(Rt.ambientLightColor.value=re.state.ambient,Rt.lightProbe.value=re.state.probe,Rt.directionalLights.value=re.state.directional,Rt.directionalLightShadows.value=re.state.directionalShadow,Rt.spotLights.value=re.state.spot,Rt.spotLightShadows.value=re.state.spotShadow,Rt.rectAreaLights.value=re.state.rectArea,Rt.ltc_1.value=re.state.rectAreaLTC1,Rt.ltc_2.value=re.state.rectAreaLTC2,Rt.pointLights.value=re.state.point,Rt.pointLightShadows.value=re.state.pointShadow,Rt.hemisphereLights.value=re.state.hemi,Rt.directionalShadowMap.value=re.state.directionalShadowMap,Rt.directionalShadowMatrix.value=re.state.directionalShadowMatrix,Rt.spotShadowMap.value=re.state.spotShadowMap,Rt.spotLightMatrix.value=re.state.spotLightMatrix,Rt.spotLightMap.value=re.state.spotLightMap,Rt.pointShadowMap.value=re.state.pointShadowMap,Rt.pointShadowMatrix.value=re.state.pointShadowMatrix);const Zt=Pt.getUniforms(),Fi=Ng.seqWithValue(Zt.seq,Rt);return j.currentProgram=Pt,j.uniformsList=Fi,Pt}function t2(D,Y){const ie=te.get(D);ie.outputColorSpace=Y.outputColorSpace,ie.instancing=Y.instancing,ie.skinning=Y.skinning,ie.morphTargets=Y.morphTargets,ie.morphNormals=Y.morphNormals,ie.morphColors=Y.morphColors,ie.morphTargetsCount=Y.morphTargetsCount,ie.numClippingPlanes=Y.numClippingPlanes,ie.numIntersection=Y.numClipIntersection,ie.vertexAlphas=Y.vertexAlphas,ie.vertexTangents=Y.vertexTangents,ie.toneMapping=Y.toneMapping}tn.setAnimationLoop(function Be(D){me&&me(D)}),typeof self<"u"&&tn.setContext(self),this.setAnimationLoop=function(D){me=D,Ne.setAnimationLoop(D),null===D?tn.stop():tn.start()},Ne.addEventListener("sessionstart",qe),Ne.addEventListener("sessionend",en),this.render=function(D,Y){if(void 0===Y||!0===Y.isCamera){if(!0!==y){if(!0===D.matrixWorldAutoUpdate&&D.updateMatrixWorld(),null===Y.parent&&!0===Y.matrixWorldAutoUpdate&&Y.updateMatrixWorld(),!0===Ne.enabled&&!0===Ne.isPresenting&&(!0===Ne.cameraAutoUpdate&&Ne.updateCamera(Y),Y=Ne.getCamera()),!0===D.isScene&&D.onBeforeRender(m,D,Y,x),p=T.get(D,_.length),p.init(),_.push(p),K.multiplyMatrices(Y.projectionMatrix,Y.matrixWorldInverse),q.setFromProjectionMatrix(K),be=this.localClippingEnabled,ee=Z.init(this.clippingPlanes,be),f=P.get(D,g.length),f.init(),g.push(f),Mi(D,Y,0,m.sortObjects),f.finish(),!0===m.sortObjects&&f.sort(N,U),!0===ee&&Z.beginShadows(),oe.render(p.state.shadowsArray,D,Y),!0===ee&&Z.endShadows(),!0===this.info.autoReset&&this.info.reset(),fe.render(f,D),p.setupLights(m.useLegacyLights),Y.isArrayCamera){const j=Y.cameras;for(let re=0,Ke=j.length;re<Ke;re++){const rt=j[re];ua(f,D,rt,rt.viewport)}}else ua(f,D,Y);null!==x&&(de.updateMultisampleRenderTarget(x),de.updateRenderTargetMipmap(x)),!0===D.isScene&&D.onAfterRender(m,D,Y),Te.resetDefaultState(),M=-1,S=null,_.pop(),p=_.length>0?_[_.length-1]:null,g.pop(),f=g.length>0?g[g.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return x},this.setRenderTargetTextures=function(D,Y,ie){te.get(D.texture).__webglTexture=Y,te.get(D.depthTexture).__webglTexture=ie;const j=te.get(D);j.__hasExternalTextures=!0,j.__hasExternalTextures&&(j.__autoAllocateDepthBuffer=void 0===ie,j.__autoAllocateDepthBuffer||!0===Oe.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),j.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(D,Y){const ie=te.get(D);ie.__webglFramebuffer=Y,ie.__useDefaultFramebuffer=void 0===Y},this.setRenderTarget=function(D,Y=0,ie=0){x=D,v=Y,b=ie;let j=!0,re=null,Ke=!1,rt=!1;if(D){const wt=te.get(D);void 0!==wt.__useDefaultFramebuffer?(Ie.bindFramebuffer(R.FRAMEBUFFER,null),j=!1):void 0===wt.__webglFramebuffer?de.setupRenderTarget(D):wt.__hasExternalTextures&&de.rebindTextures(D,te.get(D.texture).__webglTexture,te.get(D.depthTexture).__webglTexture);const Dt=D.texture;(Dt.isData3DTexture||Dt.isDataArrayTexture||Dt.isCompressedArrayTexture)&&(rt=!0);const Pt=te.get(D).__webglFramebuffer;D.isWebGLCubeRenderTarget?(re=Pt[Y],Ke=!0):re=he.isWebGL2&&D.samples>0&&!1===de.useMultisampledRTT(D)?te.get(D).__webglMultisampledFramebuffer:Pt,C.copy(D.viewport),w.copy(D.scissor),E=D.scissorTest}else C.copy(F).multiplyScalar(I).floor(),w.copy(G).multiplyScalar(I).floor(),E=W;if(Ie.bindFramebuffer(R.FRAMEBUFFER,re)&&he.drawBuffers&&j&&Ie.drawBuffers(D,re),Ie.viewport(C),Ie.scissor(w),Ie.setScissorTest(E),Ke){const wt=te.get(D.texture);R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_CUBE_MAP_POSITIVE_X+Y,wt.__webglTexture,ie)}else if(rt){const wt=te.get(D.texture);R.framebufferTextureLayer(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,wt.__webglTexture,ie||0,Y||0)}M=-1},this.readRenderTargetPixels=function(D,Y,ie,j,re,Ke,rt){if(!D||!D.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let pt=te.get(D).__webglFramebuffer;if(D.isWebGLCubeRenderTarget&&void 0!==rt&&(pt=pt[rt]),pt){Ie.bindFramebuffer(R.FRAMEBUFFER,pt);try{const wt=D.texture,Dt=wt.format,Pt=wt.type;if(Dt!==Lr&&Q.convert(Dt)!==R.getParameter(R.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const Rt=Pt===ch&&(Oe.has("EXT_color_buffer_half_float")||he.isWebGL2&&Oe.has("EXT_color_buffer_float"));if(!(Pt===Ha||Q.convert(Pt)===R.getParameter(R.IMPLEMENTATION_COLOR_READ_TYPE)||Pt===Qo&&(he.isWebGL2||Oe.has("OES_texture_float")||Oe.has("WEBGL_color_buffer_float"))||Rt))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Y>=0&&Y<=D.width-j&&ie>=0&&ie<=D.height-re&&R.readPixels(Y,ie,j,re,Q.convert(Dt),Q.convert(Pt),Ke)}finally{const wt=null!==x?te.get(x).__webglFramebuffer:null;Ie.bindFramebuffer(R.FRAMEBUFFER,wt)}}},this.copyFramebufferToTexture=function(D,Y,ie=0){const j=Math.pow(2,-ie),re=Math.floor(Y.image.width*j),Ke=Math.floor(Y.image.height*j);de.setTexture2D(Y,0),R.copyTexSubImage2D(R.TEXTURE_2D,ie,0,0,D.x,D.y,re,Ke),Ie.unbindTexture()},this.copyTextureToTexture=function(D,Y,ie,j=0){const re=Y.image.width,Ke=Y.image.height,rt=Q.convert(ie.format),pt=Q.convert(ie.type);de.setTexture2D(ie,0),R.pixelStorei(R.UNPACK_FLIP_Y_WEBGL,ie.flipY),R.pixelStorei(R.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ie.premultiplyAlpha),R.pixelStorei(R.UNPACK_ALIGNMENT,ie.unpackAlignment),Y.isDataTexture?R.texSubImage2D(R.TEXTURE_2D,j,D.x,D.y,re,Ke,rt,pt,Y.image.data):Y.isCompressedTexture?R.compressedTexSubImage2D(R.TEXTURE_2D,j,D.x,D.y,Y.mipmaps[0].width,Y.mipmaps[0].height,rt,Y.mipmaps[0].data):R.texSubImage2D(R.TEXTURE_2D,j,D.x,D.y,rt,pt,Y.image),0===j&&ie.generateMipmaps&&R.generateMipmap(R.TEXTURE_2D),Ie.unbindTexture()},this.copyTextureToTexture3D=function(D,Y,ie,j,re=0){if(m.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const Ke=D.max.x-D.min.x+1,rt=D.max.y-D.min.y+1,pt=D.max.z-D.min.z+1,wt=Q.convert(j.format),Dt=Q.convert(j.type);let Pt;if(j.isData3DTexture)de.setTexture3D(j,0),Pt=R.TEXTURE_3D;else{if(!j.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");de.setTexture2DArray(j,0),Pt=R.TEXTURE_2D_ARRAY}R.pixelStorei(R.UNPACK_FLIP_Y_WEBGL,j.flipY),R.pixelStorei(R.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),R.pixelStorei(R.UNPACK_ALIGNMENT,j.unpackAlignment);const Rt=R.getParameter(R.UNPACK_ROW_LENGTH),Zt=R.getParameter(R.UNPACK_IMAGE_HEIGHT),Fi=R.getParameter(R.UNPACK_SKIP_PIXELS),as=R.getParameter(R.UNPACK_SKIP_ROWS),fl=R.getParameter(R.UNPACK_SKIP_IMAGES),$n=ie.isCompressedTexture?ie.mipmaps[0]:ie.image;R.pixelStorei(R.UNPACK_ROW_LENGTH,$n.width),R.pixelStorei(R.UNPACK_IMAGE_HEIGHT,$n.height),R.pixelStorei(R.UNPACK_SKIP_PIXELS,D.min.x),R.pixelStorei(R.UNPACK_SKIP_ROWS,D.min.y),R.pixelStorei(R.UNPACK_SKIP_IMAGES,D.min.z),ie.isDataTexture||ie.isData3DTexture?R.texSubImage3D(Pt,re,Y.x,Y.y,Y.z,Ke,rt,pt,wt,Dt,$n.data):ie.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),R.compressedTexSubImage3D(Pt,re,Y.x,Y.y,Y.z,Ke,rt,pt,wt,$n.data)):R.texSubImage3D(Pt,re,Y.x,Y.y,Y.z,Ke,rt,pt,wt,Dt,$n),R.pixelStorei(R.UNPACK_ROW_LENGTH,Rt),R.pixelStorei(R.UNPACK_IMAGE_HEIGHT,Zt),R.pixelStorei(R.UNPACK_SKIP_PIXELS,Fi),R.pixelStorei(R.UNPACK_SKIP_ROWS,as),R.pixelStorei(R.UNPACK_SKIP_IMAGES,fl),0===re&&j.generateMipmaps&&R.generateMipmap(Pt),Ie.unbindTexture()},this.initTexture=function(D){D.isCubeTexture?de.setTextureCube(D,0):D.isData3DTexture?de.setTexture3D(D,0):D.isDataArrayTexture||D.isCompressedArrayTexture?de.setTexture2DArray(D,0):de.setTexture2D(D,0),Ie.unbindTexture()},this.resetState=function(){v=0,b=0,x=null,Ie.reset(),Te.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===ot?Wa:3e3}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Wa?ot:Ts}}(class Joe extends RF{}).prototype.isWebGL1Renderer=!0;class OF extends ei{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class DM{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=pr()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=pr()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=pr()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Li=new A;class nl{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Li.fromBufferAttribute(this,t),Li.applyMatrix4(e),this.setXYZ(t,Li.x,Li.y,Li.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Li.fromBufferAttribute(this,t),Li.applyNormalMatrix(e),this.setXYZ(t,Li.x,Li.y,Li.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Li.fromBufferAttribute(this,t),Li.transformDirection(e),this.setXYZ(t,Li.x,Li.y,Li.z);return this}setX(e,t){return this.normalized&&(t=yt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=yt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=yt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=yt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=mr(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=mr(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=mr(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=mr(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=yt(t,this.array),i=yt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=yt(t,this.array),i=yt(i,this.array),r=yt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=yt(t,this.array),i=yt(i,this.array),r=yt(r,this.array),s=yt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Cn(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new nl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const UF=new A,zF=new Kt,HF=new Kt,tae=new A,VF=new at,vu=new A;class GF extends wi{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new at,this.bindMatrixInverse=new at,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;null===this.boundingBox&&(this.boundingBox=new ns),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)vu.fromBufferAttribute(t,i),this.applyBoneTransform(i,vu),this.boundingBox.expandByPoint(vu)}computeBoundingSphere(){const e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new As),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)vu.fromBufferAttribute(t,i),this.applyBoneTransform(i,vu),this.boundingSphere.expandByPoint(vu)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Kt,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;zF.fromBufferAttribute(r.attributes.skinIndex,e),HF.fromBufferAttribute(r.attributes.skinWeight,e),UF.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=HF.getComponent(s);if(0!==o){const a=zF.getComponent(s);VF.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(tae.copy(UF).applyMatrix4(VF),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class IM extends ei{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Mh extends ts{constructor(e=null,t=1,i=1,r,s,o,a,l,c=On,u=On,d,h){super(null,o,a,l,c,u,r,s,d,h),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const WF=new at,nae=new at;class Vg{constructor(e=[],t=[]){this.uuid=pr(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new at)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new at;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++)WF.multiplyMatrices(e[s]?e[s].matrixWorld:nae,t[s]),WF.toArray(i,16*s);null!==r&&(r.needsUpdate=!0)}clone(){return new Vg(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=OL(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Mh(t,e,e,Lr,Qo);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];void 0===o&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new IM),this.bones.push(o),this.boneInverses.push((new at).fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++)e.bones.push(t[r].uuid),e.boneInverses.push(i[r].toArray());return e}}class Eh extends Cn{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const yu=new at,$F=new at,Gg=[],jF=new ns,iae=new at,Sh=new wi,Ch=new As;class XF extends wi{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Eh(new Float32Array(16*i),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,iae)}computeBoundingBox(){const e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new ns),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,yu),jF.copy(e.boundingBox).applyMatrix4(yu),this.boundingBox.union(jF)}computeBoundingSphere(){const e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new As),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,yu),Ch.copy(e.boundingSphere).applyMatrix4(yu),this.boundingSphere.union(Ch)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Sh.geometry=this.geometry,Sh.material=this.material,void 0!==Sh.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),Ch.copy(this.boundingSphere),Ch.applyMatrix4(i),!1!==e.ray.intersectsSphere(Ch)))for(let s=0;s<r;s++){this.getMatrixAt(s,yu),$F.multiplyMatrices(i,yu),Sh.matrixWorld=$F,Sh.raycast(e,Gg);for(let o=0,a=Gg.length;o<a;o++){const l=Gg[o];l.instanceId=s,l.object=this,t.push(l)}Gg.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new Eh(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Qi extends ss{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ae(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const qF=new A,YF=new A,KF=new at,RM=new gg,Wg=new As;class il extends ei{constructor(e=new Et,t=new Qi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)qF.fromBufferAttribute(t,r-1),YF.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=qF.distanceTo(YF);e.setAttribute("lineDistance",new He(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),Wg.copy(i.boundingSphere),Wg.applyMatrix4(r),Wg.radius+=s,!1===e.ray.intersectsSphere(Wg))return;KF.copy(r).invert(),RM.copy(e.ray).applyMatrix4(KF);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new A,u=new A,d=new A,h=new A,f=this.isLineSegments?2:1,p=i.index,_=i.attributes.position;if(null!==p)for(let v=Math.max(0,o.start),b=Math.min(p.count,o.start+o.count)-1;v<b;v+=f){const x=p.getX(v),M=p.getX(v+1);if(c.fromBufferAttribute(_,x),u.fromBufferAttribute(_,M),RM.distanceSqToSegment(c,u,h,d)>l)continue;h.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(h);C<e.near||C>e.far||t.push({distance:C,point:d.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}else for(let v=Math.max(0,o.start),b=Math.min(_.count,o.start+o.count)-1;v<b;v+=f){if(c.fromBufferAttribute(_,v),u.fromBufferAttribute(_,v+1),RM.distanceSqToSegment(c,u,h,d)>l)continue;h.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(h);M<e.near||M>e.far||t.push({distance:M,point:d.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const ZF=new A,JF=new A;class OM extends il{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)ZF.fromBufferAttribute(t,r),JF.fromBufferAttribute(t,r+1),i[r]=0===r?0:i[r-1],i[r+1]=i[r]+ZF.distanceTo(JF);e.setAttribute("lineDistance",new He(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class QF extends il{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class kM extends ss{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ae(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const eN=new at,LM=new gg,$g=new As,jg=new A;class tN extends ei{constructor(e=new Et,t=new kM){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),$g.copy(i.boundingSphere),$g.applyMatrix4(r),$g.radius+=s,!1===e.ray.intersectsSphere($g))return;eN.copy(r).invert(),LM.copy(e.ray).applyMatrix4(eN);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,d=i.attributes.position;if(null!==c)for(let p=Math.max(0,o.start),g=Math.min(c.count,o.start+o.count);p<g;p++){const _=c.getX(p);jg.fromBufferAttribute(d,_),nN(jg,_,l,r,e,t,this)}else for(let p=Math.max(0,o.start),g=Math.min(d.count,o.start+o.count);p<g;p++)jg.fromBufferAttribute(d,p),nN(jg,p,l,r,e,t,this)}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function nN(n,e,t,i,r,s,o){const a=LM.distanceSqToPoint(n);if(a<t){const l=new A;LM.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class r_ extends ss{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ae(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ae(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$a,this.normalScale=new se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class oa extends r_{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new se(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Sn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ae(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ae(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ae(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}function Br(n,e,t){return rE(n)?new n.constructor(n.subarray(e,void 0!==t?t:n.length)):n.slice(e,t)}function ol(n,e,t){return!n||!t&&n.constructor===e?n:"number"==typeof e.BYTES_PER_ELEMENT?new e(n):Array.prototype.slice.call(n)}function rE(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function gN(n){const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(function e(r,s){return n[r]-n[s]}),i}function sE(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function oE(n,e,t,i){let r=1,s=n[0];for(;void 0!==s&&void 0===s[i];)s=n[r++];if(void 0===s)return;let o=s[i];if(void 0!==o)if(Array.isArray(o))do{o=s[i],void 0!==o&&(e.push(s.time),t.push.apply(t,o)),s=n[r++]}while(void 0!==s);else if(void 0!==o.toArray)do{o=s[i],void 0!==o&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++]}while(void 0!==s);else do{o=s[i],void 0!==o&&(e.push(s.time),t.push(o)),s=n[r++]}while(void 0!==s)}class Oh{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(void 0===r){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(e>=s)break e;{const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0}}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Yae extends Oh{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:s=e,a=2*t-i;break;case 2402:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(void 0===l)switch(this.getSettings_().endingEnd){case 2401:o=e,l=2*i-t;break;case 2402:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=.5*(i-t),u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,h=this._weightPrev,f=this._weightNext,p=(i-t)/(r-t),g=p*p,_=g*p,m=-h*_+2*h*g-h*p,y=(1+h)*_+(-1.5-2*h)*g+(-.5+h)*p+1,v=(-1-f)*_+(1.5+f)*g+.5*p,b=f*_-f*g;for(let x=0;x!==a;++x)s[x]=m*o[u+x]+y*o[c+x]+v*o[l+x]+b*o[d+x];return s}}class _N extends Oh{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(i-t)/(r-t),d=1-u;for(let h=0;h!==a;++h)s[h]=o[c+h]*d+o[l+h]*u;return s}}class Kae extends Oh{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Rs{constructor(e,t,i,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ol(t,this.TimeBufferType),this.values=ol(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:ol(e.times,Array),values:ol(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new Kae(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new _N(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Yae(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case uh:t=this.InterpolantFactoryMethodDiscrete;break;case Hc:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return uh;case this.InterpolantFactoryMethodLinear:return Hc;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;-1!==o&&i[o]>t;)--o;if(++o,0!==s||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Br(i,s,o),this.values=Br(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if("number"==typeof l&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(null!==o&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(void 0!==r&&rE(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Br(this.times),t=Br(this.values),i=this.getValueSize(),r=2302===this.getInterpolation(),s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a];if(c!==e[a+1]&&(1!==a||c!==e[0]))if(r)l=!0;else{const d=a*i,h=d-i,f=d+i;for(let p=0;p!==i;++p){const g=t[d+p];if(g!==t[h+p]||g!==t[f+p]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*i,h=o*i;for(let f=0;f!==i;++f)t[h+f]=t[d+f]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Br(e,0,o),this.values=Br(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=Br(this.times,0),t=Br(this.values,0),r=new(0,this.constructor)(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Rs.prototype.TimeBufferType=Float32Array,Rs.prototype.ValueBufferType=Float32Array,Rs.prototype.DefaultInterpolation=Hc;class wu extends Rs{}wu.prototype.ValueTypeName="bool",wu.prototype.ValueBufferType=Array,wu.prototype.DefaultInterpolation=uh,wu.prototype.InterpolantFactoryMethodLinear=void 0,wu.prototype.InterpolantFactoryMethodSmooth=void 0;class vN extends Rs{}vN.prototype.ValueTypeName="color";class kh extends Rs{}kh.prototype.ValueTypeName="number";class Zae extends Oh{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let u=c+a;c!==u;c+=4)ci.slerpFlat(s,0,o,c-a,o,c,l);return s}}class al extends Rs{InterpolantFactoryMethodLinear(e){return new Zae(this.times,this.values,this.getValueSize(),e)}}al.prototype.ValueTypeName="quaternion",al.prototype.DefaultInterpolation=Hc,al.prototype.InterpolantFactoryMethodSmooth=void 0;class Mu extends Rs{}Mu.prototype.ValueTypeName="string",Mu.prototype.ValueBufferType=Array,Mu.prototype.DefaultInterpolation=uh,Mu.prototype.InterpolantFactoryMethodLinear=void 0,Mu.prototype.InterpolantFactoryMethodSmooth=void 0;class Lh extends Rs{}Lh.prototype.ValueTypeName="vector";class Fh{constructor(e,t=-1,i,r=2500){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=pr(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(Qae(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(Rs.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=gN(l);l=sE(l,1,u),c=sE(c,1,u),!r&&0===l[0]&&(l.push(s),c.push(c[0])),o.push(new kh(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;Array.isArray(e)||(i=e.geometry&&e.geometry.animations||e.animations);for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let h=r[d];h||(r[d]=h=[]),h.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,h,f,p,g){if(0!==f.length){const _=[],m=[];oE(f,_,m,p),0!==_.length&&g.push(new d(h,_,m))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const h=c[d].keys;if(h&&0!==h.length)if(h[0].morphTargets){const f={};let p;for(p=0;p<h.length;p++)if(h[p].morphTargets)for(let g=0;g<h[p].morphTargets.length;g++)f[h[p].morphTargets[g]]=-1;for(const g in f){const _=[],m=[];for(let y=0;y!==h[p].morphTargets.length;++y){const v=h[p];_.push(v.time),m.push(v.morphTarget===g?1:0)}r.push(new kh(".morphTargetInfluence["+g+"]",_,m))}l=f.length*o}else{const f=".bones["+t[d].name+"]";i(Lh,f+".position",h,"pos",r),i(al,f+".quaternion",h,"rot",r),i(Lh,f+".scale",h,"scl",r)}}return 0===r.length?null:new this(s,l,r,a)}resetDuration(){let t=0;for(let i=0,r=this.tracks.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Qae(n){if(void 0===n.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function Jae(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return kh;case"vector":case"vector2":case"vector3":case"vector4":return Lh;case"color":return vN;case"quaternion":return al;case"bool":case"boolean":return wu;case"string":return Mu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}(n.type);if(void 0===n.times){const t=[],i=[];oE(n.keys,t,i,"value"),n.times=t,n.values=i}return void 0!==e.parse?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Eu={enabled:!1,files:{},add:function(n,e){!1!==this.enabled&&(this.files[n]=e)},get:function(n){if(!1!==this.enabled)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class aE{constructor(e,t,i){const r=this;let l,s=!1,o=0,a=0;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(u){a++,!1===s&&void 0!==r.onStart&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,void 0!==r.onProgress&&r.onProgress(u,o,a),o===a&&(s=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(u){void 0!==r.onError&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return-1!==d&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,h=c.length;d<h;d+=2){const f=c[d],p=c[d+1];if(f.global&&(f.lastIndex=0),f.test(u))return p}return null}}}const ele=new aE;class Nh{constructor(e){this.manager=void 0!==e?e:ele,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Co={};class tle extends Error{constructor(e,t){super(e),this.response=t}}class Os extends Nh{constructor(e){super(e)}load(e,t,i,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Eu.get(e);if(void 0!==s)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(void 0!==Co[e])return void Co[e].push({onLoad:t,onProgress:i,onError:r});Co[e]=[],Co[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(200===c.status||0===c.status){if(0===c.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||void 0===c.body||void 0===c.body.getReader)return c;const u=Co[e],d=c.body.getReader(),h=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),f=h?parseInt(h):0,p=0!==f;let g=0;const _=new ReadableStream({start(m){!function y(){d.read().then(({done:v,value:b})=>{if(v)m.close();else{g+=b.byteLength;const x=new ProgressEvent("progress",{lengthComputable:p,loaded:g,total:f});for(let M=0,S=u.length;M<S;M++){const C=u[M];C.onProgress&&C.onProgress(x)}m.enqueue(b),y()}})}()}});return new Response(_)}throw new tle(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>(new DOMParser).parseFromString(u,a));case"json":return c.json();default:if(void 0===a)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),h=d&&d[1]?d[1].toLowerCase():void 0,f=new TextDecoder(h);return c.arrayBuffer().then(p=>f.decode(p))}}}).then(c=>{Eu.add(e,c);const u=Co[e];delete Co[e];for(let d=0,h=u.length;d<h;d++){const f=u[d];f.onLoad&&f.onLoad(c)}}).catch(c=>{const u=Co[e];if(void 0===u)throw this.manager.itemError(e),c;delete Co[e];for(let d=0,h=u.length;d<h;d++){const f=u[d];f.onError&&f.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class s_ extends Nh{constructor(e){super(e)}load(e,t,i,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Eu.get(e);if(void 0!==o)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=hh("img");function l(){u(),Eu.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(d){u(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class nle extends Nh{constructor(e){super(e)}load(e,t,i,r){const s=new ts,o=new s_(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,void 0!==t&&t(s)},i,r),s}}class o_ extends ei{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ae(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}const lE=new at,yN=new A,bN=new A;class cE{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new se(512,512),this.map=null,this.mapPass=null,this.matrix=new at,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new bM,this._frameExtents=new se(1,1),this._viewportCount=1,this._viewports=[new Kt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;yN.setFromMatrixPosition(e.matrixWorld),t.position.copy(yN),bN.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(bN),t.updateMatrixWorld(),lE.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(lE),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(lE)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class rle extends cE{constructor(){super(new ni(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=2*Wc*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class xN extends o_{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(ei.DEFAULT_UP),this.updateMatrix(),this.target=new ei,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new rle}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const wN=new at,Bh=new A,uE=new A;class sle extends cE{constructor(){super(new ni(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new se(4,2),this._viewportCount=6,this._viewports=[new Kt(2,1,1,1),new Kt(0,1,1,1),new Kt(3,1,1,1),new Kt(1,1,1,1),new Kt(3,0,1,1),new Kt(1,0,1,1)],this._cubeDirections=[new A(1,0,0),new A(-1,0,0),new A(0,0,1),new A(0,0,-1),new A(0,1,0),new A(0,-1,0)],this._cubeUps=[new A(0,1,0),new A(0,1,0),new A(0,1,0),new A(0,1,0),new A(0,0,1),new A(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Bh.setFromMatrixPosition(e.matrixWorld),i.position.copy(Bh),uE.copy(i.position),uE.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(uE),i.updateMatrixWorld(),r.makeTranslation(-Bh.x,-Bh.y,-Bh.z),wN.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(wN)}}class Su extends o_{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new sle}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class ole extends cE{constructor(){super(new kg(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class dE extends o_{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(ei.DEFAULT_UP),this.updateMatrix(),this.target=new ei,this.shadow=new ole}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class MN extends o_{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Uh{static decodeText(e){if(typeof TextDecoder<"u")return(new TextDecoder).decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class fle extends Nh{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Eu.get(e);if(void 0!==o)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Eu.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}const fE="\\[\\]\\.:\\/",vle=new RegExp("["+fE+"]","g"),pE="[^"+fE+"]",yle="[^"+fE.replace("\\.","")+"]",Ele=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",pE)+/(WCOD+)?/.source.replace("WCOD",yle)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",pE)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",pE)+"$"),Sle=["material","materials","bones","map"];class Cle{constructor(e,t,i){const r=i||ln.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}let ln=(()=>{class n{constructor(t,i,r){this.path=i,this.parsedPath=r||n.parseTrackName(i),this.node=n.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,i,r){return t&&t.isAnimationObjectGroup?new n.Composite(t,i,r):new n(t,i,r)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(vle,"")}static parseTrackName(t){const i=Ele.exec(t);if(null===i)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const r={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},s=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){const o=r.nodeName.substring(s+1);-1!==Sle.indexOf(o)&&(r.nodeName=r.nodeName.substring(0,s),r.objectName=o)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return r}static findNode(t,i){if(void 0===i||""===i||"."===i||-1===i||i===t.name||i===t.uuid)return t;if(t.skeleton){const r=t.skeleton.getBoneByName(i);if(void 0!==r)return r}if(t.children){const r=function(o){for(let a=0;a<o.length;a++){const l=o[a];if(l.name===i||l.uuid===i)return l;const c=r(l.children);if(c)return c}return null},s=r(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,i){t[i]=this.targetObject[this.propertyName]}_getValue_array(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)t[i++]=r[s]}_getValue_arrayElement(t,i){t[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,i){this.resolvedProperty.toArray(t,i)}_setValue_direct(t,i){this.targetObject[this.propertyName]=t[i]}_setValue_direct_setNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[i++]}_setValue_array_setNeedsUpdate(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,i){this.resolvedProperty[this.propertyIndex]=t[i]}_setValue_arrayElement_setNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,i){this.resolvedProperty.fromArray(t,i)}_setValue_fromArray_setNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,i){this.bind(),this.getValue(t,i)}_setValue_unbound(t,i){this.bind(),this.setValue(t,i)}bind(){let t=this.node;const i=this.parsedPath,r=i.objectName,s=i.propertyName;let o=i.propertyIndex;if(t||(t=n.findNode(this.rootNode,i.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(r){let u=i.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let d=0;d<t.length;d++)if(t[d].name===u){u=d;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==u){if(void 0===t[u])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[u]}}const a=t[s];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+i.nodeName+"."+s+" but it wasn't found.",t);let l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===s){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else void 0!==a.fromArray&&void 0!==a.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=s;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=Cle,n})();ln.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},ln.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},ln.prototype.GetterByBindingType=[ln.prototype._getValue_direct,ln.prototype._getValue_array,ln.prototype._getValue_arrayElement,ln.prototype._getValue_toArray],ln.prototype.SetterByBindingTypeAndVersioning=[[ln.prototype._setValue_direct,ln.prototype._setValue_direct_setNeedsUpdate,ln.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[ln.prototype._setValue_array,ln.prototype._setValue_array_setNeedsUpdate,ln.prototype._setValue_array_setMatrixWorldNeedsUpdate],[ln.prototype._setValue_arrayElement,ln.prototype._setValue_arrayElement_setNeedsUpdate,ln.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[ln.prototype._setValue_fromArray,ln.prototype._setValue_fromArray_setNeedsUpdate,ln.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);class kN{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Sn(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}function WN(n,e){if(e===hne)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===Yw||e===AL){let t=n.getIndex();if(null===t){const o=[],a=n.getAttribute("position");if(void 0===a)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n;for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}const i=t.count-2,r=[];if(e===Yw)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2==0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"152"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="152");class Rle extends Nh{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Nle(t)}),this.register(function(t){return new Wle(t)}),this.register(function(t){return new $le(t)}),this.register(function(t){return new jle(t)}),this.register(function(t){return new Ule(t)}),this.register(function(t){return new zle(t)}),this.register(function(t){return new Hle(t)}),this.register(function(t){return new Vle(t)}),this.register(function(t){return new Fle(t)}),this.register(function(t){return new Gle(t)}),this.register(function(t){return new Ble(t)}),this.register(function(t){return new kle(t)}),this.register(function(t){return new Xle(t)}),this.register(function(t){return new qle(t)})}load(e,t,i,r){const s=this;let o;o=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:Uh.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Os(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={},l=new TextDecoder;if("string"==typeof e)s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(l.decode(new Uint8Array(e,0,4))===$N){try{o[Lt.KHR_BINARY_GLTF]=new Yle(e)}catch(d){return void(r&&r(d))}s=JSON.parse(o[Lt.KHR_BINARY_GLTF].content)}else s=JSON.parse(l.decode(e));else s=e;if(void 0===s.asset||s.asset.version[0]<2)return void(r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const c=new lce(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const d=this.pluginCallbacks[u](c);a[d.name]=d,o[d.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const d=s.extensionsUsed[u],h=s.extensionsRequired||[];switch(d){case Lt.KHR_MATERIALS_UNLIT:o[d]=new Lle;break;case Lt.KHR_DRACO_MESH_COMPRESSION:o[d]=new Kle(s,this.dracoLoader);break;case Lt.KHR_TEXTURE_TRANSFORM:o[d]=new Zle;break;case Lt.KHR_MESH_QUANTIZATION:o[d]=new Jle;break;default:h.indexOf(d)>=0&&void 0===a[d]&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function Ole(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Lt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class kle{constructor(e){this.parser=e,this.name=Lt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&void 0!==s.extensions[this.name].light&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new Ae(16777215);void 0!==l.color&&u.fromArray(l.color);const d=void 0!==l.range?l.range:0;switch(l.type){case"directional":c=new dE(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new Su(u),c.distance=d;break;case"spot":c=new xN(u),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=void 0!==l.spot.innerConeAngle?l.spot.innerConeAngle:0,l.spot.outerConeAngle=void 0!==l.spot.outerConeAngle?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,ca(c,l),void 0!==l.intensity&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(i,r),r}getDependency(e,t){if("light"===e)return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return void 0===a?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class Lle{constructor(){this.name=Lt.KHR_MATERIALS_UNLIT}getMaterialType(){return Fr}extendParams(e,t,i){const r=[];e.color=new Ae(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}void 0!==s.baseColorTexture&&r.push(i.assignTexture(e,"map",s.baseColorTexture,ot))}return Promise.all(r)}}class Fle{constructor(e){this.parser=e,this.name=Lt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return void 0!==s&&(t.emissiveIntensity=s),Promise.resolve()}}class Nle{constructor(e){this.parser=e,this.name=Lt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?oa:null}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(void 0!==o.clearcoatFactor&&(t.clearcoat=o.clearcoatFactor),void 0!==o.clearcoatTexture&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),void 0!==o.clearcoatRoughnessFactor&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),void 0!==o.clearcoatRoughnessTexture&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),void 0!==o.clearcoatNormalTexture&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),void 0!==o.clearcoatNormalTexture.scale)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new se(a,a)}return Promise.all(s)}}class Ble{constructor(e){this.parser=e,this.name=Lt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?oa:null}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return void 0!==o.iridescenceFactor&&(t.iridescence=o.iridescenceFactor),void 0!==o.iridescenceTexture&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),void 0!==o.iridescenceIor&&(t.iridescenceIOR=o.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==o.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),void 0!==o.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),void 0!==o.iridescenceThicknessTexture&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Ule{constructor(e){this.parser=e,this.name=Lt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?oa:null}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Ae(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];return void 0!==o.sheenColorFactor&&t.sheenColor.fromArray(o.sheenColorFactor),void 0!==o.sheenRoughnessFactor&&(t.sheenRoughness=o.sheenRoughnessFactor),void 0!==o.sheenColorTexture&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,ot)),void 0!==o.sheenRoughnessTexture&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class zle{constructor(e){this.parser=e,this.name=Lt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?oa:null}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return void 0!==o.transmissionFactor&&(t.transmission=o.transmissionFactor),void 0!==o.transmissionTexture&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Hle{constructor(e){this.parser=e,this.name=Lt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?oa:null}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=void 0!==o.thicknessFactor?o.thicknessFactor:0,void 0!==o.thicknessTexture&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Ae(a[0],a[1],a[2]),Promise.all(s)}}class Vle{constructor(e){this.parser=e,this.name=Lt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?oa:null}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=void 0!==s.ior?s.ior:1.5,Promise.resolve()}}class Gle{constructor(e){this.parser=e,this.name=Lt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?oa:null}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=void 0!==o.specularFactor?o.specularFactor:1,void 0!==o.specularTexture&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Ae(a[0],a[1],a[2]),void 0!==o.specularColorTexture&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,ot)),Promise.all(s)}}class Wle{constructor(e){this.parser=e,this.name=Lt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class $le{constructor(e){this.parser=e,this.name=Lt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);null!==c&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported}}class jle{constructor(e){this.parser=e,this.name=Lt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);null!==c&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported}}class Xle{constructor(e){this.name=Lt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const u=r.count,d=r.byteStride,h=new Uint8Array(a,r.byteOffset||0,r.byteLength||0);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,d,h,r.mode,r.filter).then(function(f){return f.buffer}):o.ready.then(function(){const f=new ArrayBuffer(u*d);return o.decodeGltfBuffer(new Uint8Array(f),u,d,h,r.mode,r.filter),f})})}return null}}class qle{constructor(e){this.name=Lt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||void 0===i.mesh)return null;const r=t.meshes[i.mesh];for(const c of r.primitives)if(c.mode!==Ur.TRIANGLES&&c.mode!==Ur.TRIANGLE_STRIP&&c.mode!==Ur.TRIANGLE_FAN&&void 0!==c.mode)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),d=u.isGroup?u.children:[u],h=c[0].count,f=[];for(const p of d){const g=new at,_=new A,m=new ci,y=new A(1,1,1),v=new XF(p.geometry,p.material,h);for(let b=0;b<h;b++)l.TRANSLATION&&_.fromBufferAttribute(l.TRANSLATION,b),l.ROTATION&&m.fromBufferAttribute(l.ROTATION,b),l.SCALE&&y.fromBufferAttribute(l.SCALE,b),v.setMatrixAt(b,g.compose(_,m,y));for(const b in l)"TRANSLATION"!==b&&"ROTATION"!==b&&"SCALE"!==b&&p.geometry.setAttribute(b,l[b]);ei.prototype.copy.call(v,p),this.parser.assignFinalMaterial(v),f.push(v)}return u.isGroup?(u.clear(),u.add(...f),u):f[0]}))}}const $N="glTF";class Yle{constructor(e){this.name=Lt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,12),i=new TextDecoder;if(this.header={magic:i.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==$N)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-12,s=new DataView(e,12);let o=0;for(;o<r;){const a=s.getUint32(o,!0);o+=4;const l=s.getUint32(o,!0);if(o+=4,1313821514===l){const c=new Uint8Array(e,12+o,a);this.content=i.decode(c)}else if(5130562===l){const c=12+o;this.body=e.slice(c,c+a)}o+=a}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Kle{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Lt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const d=xE[u]||u.toLowerCase();a[d]=o[u]}for(const u in e.attributes){const d=xE[u]||u.toLowerCase();if(void 0!==o[u]){const h=i.accessors[e.attributes[u]];c[d]=Cu[h.componentType].name,l[d]=!0===h.normalized}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(d){r.decodeDracoFile(u,function(h){for(const f in h.attributes){const g=l[f];void 0!==g&&(h.attributes[f].normalized=g)}d(h)},a,c)})})}}class Zle{constructor(){this.name=Lt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(void 0===t.texCoord||t.texCoord===e.channel)&&void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Jle{constructor(){this.name=Lt.KHR_MESH_QUANTIZATION}}class XN extends Oh{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=2*a,c=3*a,u=r-t,d=(i-t)/u,h=d*d,f=h*d,p=e*c,g=p-c,_=-2*f+3*h,m=f-h,y=1-_,v=m-h+d;for(let b=0;b!==a;b++)s[b]=y*o[g+b+a]+v*(o[g+b+l]*u)+_*o[p+b+a]+m*(o[p+b]*u);return s}}const Qle=new ci;class ece extends XN{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return Qle.fromArray(s).normalize().toArray(s),s}}const Ur={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Cu={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},qN={9728:On,9729:En,9984:cg,9985:Hw,9986:lh,9987:_o},YN={33071:yi,33648:ah,10497:za},bE={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},xE={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},la={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},tce={CUBICSPLINE:void 0,LINEAR:Hc,STEP:uh};function Hh(n,e,t){for(const i in t.extensions)void 0===n[i]&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function ca(n,e){void 0!==e.extras&&("object"==typeof e.extras?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function rce(n,e){if(n.updateMorphTargets(),void 0!==e.weights)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function sce(n){const e=n.extensions&&n.extensions[Lt.KHR_DRACO_MESH_COMPRESSION];let t;return t=e?"draco:"+e.bufferView+":"+e.indices+":"+KN(e.attributes):n.indices+":"+KN(n.attributes)+":"+n.mode,t}function KN(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function ME(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const ace=new at;class lce{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Ole,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&(i=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),this.textureLoader=typeof createImageBitmap>"u"||i||r&&s<98?new nle(this.options.manager):new fle(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Os(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};Hh(s,a,r),ca(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];void 0!==o.mesh&&(this._addNodeRef(this.meshCache,o.mesh),void 0!==o.skin&&(i[o.mesh].isSkinnedMesh=!0)),void 0!==o.camera&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);null!=l&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e)}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this;t=Promise.all((this.json[e+("mesh"===e?"es":"s")]||[]).map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[Lt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(Uh.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const s=t.byteOffset||0;return i.slice(s,s+(t.byteLength||0))})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse){const o=bE[r.type],l=!0===r.normalized,c=new(0,Cu[r.componentType])(r.count*o);return Promise.resolve(new Cn(c,o,l))}const s=[];return s.push(void 0!==r.bufferView?this.getDependency("bufferView",r.bufferView):null),void 0!==r.sparse&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=bE[r.type],c=Cu[r.componentType],u=c.BYTES_PER_ELEMENT,h=r.byteOffset||0,f=void 0!==r.bufferView?i.bufferViews[r.bufferView].byteStride:void 0,p=!0===r.normalized;let g,_;if(f&&f!==u*l){const m=Math.floor(h/f),y="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+m+":"+r.count;let v=t.cache.get(y);v||(g=new c(a,m*f,r.count*f/u),v=new DM(g,f/u),t.cache.add(y,v)),_=new nl(v,l,h%f/u,p)}else g=null===a?new c(r.count*l):new c(a,h,r.count*l),_=new Cn(g,l,p);if(void 0!==r.sparse){const b=r.sparse.values.byteOffset||0,x=new(0,Cu[r.sparse.indices.componentType])(o[1],r.sparse.indices.byteOffset||0,r.sparse.count*bE.SCALAR),M=new c(o[2],b,r.sparse.count*l);null!==a&&(_=new Cn(_.array.slice(),_.itemSize,_.normalized));for(let S=0,C=x.length;S<C;S++){const w=x[S];if(_.setX(w,M[S*l]),l>=2&&_.setY(w,M[S*l+1]),l>=3&&_.setZ(w,M[S*l+2]),l>=4&&_.setW(w,M[S*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return _})}loadTexture(e){const t=this.json,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=this.options.manager.getHandler(o.uri);null!==l&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,i).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",""===u.name&&"string"==typeof a.uri&&!1===a.uri.startsWith("data:image/")&&(u.name=a.uri);const h=(s.samplers||{})[o.sampler]||{};return u.magFilter=qN[h.magFilter]||En,u.minFilter=qN[h.minFilter]||_o,u.wrapS=YN[h.wrapS]||za,u.wrapT=YN[h.wrapT]||za,r.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this.json,s=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then(d=>d.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(void 0!==o.bufferView)l=this.getDependency("bufferView",o.bufferView).then(function(d){c=!0;const h=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(h),l});else if(void 0===o.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(h,f){let p=h;!0===t.isImageBitmapLoader&&(p=function(g){const _=new ts(g);_.needsUpdate=!0,h(_)}),t.load(Uh.resolveURL(d,s.path),p,void 0,f)})}).then(function(d){return!0===c&&a.revokeObjectURL(l),d.userData.mimeType=o.mimeType||function oce(n){return n.search(/\.jpe?g($|\?)/i)>0||0===n.search(/^data\:image\/jpeg/)?"image/jpeg":n.search(/\.webp($|\?)/i)>0||0===n.search(/^data\:image\/webp/)?"image/webp":"image/png"}(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(void 0!==i.texCoord&&i.texCoord>0&&((o=o.clone()).channel=i.texCoord),s.extensions[Lt.KHR_TEXTURE_TRANSFORM]){const a=void 0!==i.extensions?i.extensions[Lt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Lt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return void 0!==r&&(o.colorSpace=r),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=void 0===t.attributes.tangent,s=void 0!==t.attributes.color,o=void 0===t.attributes.normal;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new kM,ss.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Qi,ss.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return r_}loadMaterial(e){const t=this,r=this.extensions,s=this.json.materials[e];let o;const a={},c=[];if((s.extensions||{})[Lt.KHR_MATERIALS_UNLIT]){const d=r[Lt.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),c.push(d.extendParams(a,s,t))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new Ae(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const h=d.baseColorFactor;a.color.fromArray(h),a.opacity=h[3]}void 0!==d.baseColorTexture&&c.push(t.assignTexture(a,"map",d.baseColorTexture,ot)),a.metalness=void 0!==d.metallicFactor?d.metallicFactor:1,a.roughness=void 0!==d.roughnessFactor?d.roughnessFactor:1,void 0!==d.metallicRoughnessTexture&&(c.push(t.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,a)})))}!0===s.doubleSided&&(a.side=Cs);const u=s.alphaMode||"OPAQUE";if("BLEND"===u?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,"MASK"===u&&(a.alphaTest=void 0!==s.alphaCutoff?s.alphaCutoff:.5)),void 0!==s.normalTexture&&o!==Fr&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new se(1,1),void 0!==s.normalTexture.scale)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}return void 0!==s.occlusionTexture&&o!==Fr&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),void 0!==s.occlusionTexture.strength&&(a.aoMapIntensity=s.occlusionTexture.strength)),void 0!==s.emissiveFactor&&o!==Fr&&(a.emissive=(new Ae).fromArray(s.emissiveFactor)),void 0!==s.emissiveTexture&&o!==Fr&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,ot)),Promise.all(c).then(function(){const d=new o(a);return s.name&&(d.name=s.name),ca(d,s),t.associations.set(d,{materials:e}),s.extensions&&Hh(r,d,s),d})}createUniqueName(e){const t=ln.sanitizeNodeName(e||"");let i=t;for(let r=1;this.nodeNamesUsed[i];++r)i=t+"_"+r;return this.nodeNamesUsed[i]=!0,i}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[Lt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return ZN(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=sce(c),d=r[u];if(d)o.push(d.promise);else{let h;h=c.extensions&&c.extensions[Lt.KHR_DRACO_MESH_COMPRESSION]?s(c):ZN(new Et,c,t),r[u]={primitive:c,promise:h},o.push(h)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.extensions,s=this.json.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=void 0===o[l].material?(void 0===(n=this.cache).DefaultMaterial&&(n.DefaultMaterial=new r_({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:mo})),n.DefaultMaterial):this.getDependency("material",o[l].material);a.push(u)}var n;return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let f=0,p=u.length;f<p;f++){const g=u[f],_=o[f];let m;const y=c[f];if(_.mode===Ur.TRIANGLES||_.mode===Ur.TRIANGLE_STRIP||_.mode===Ur.TRIANGLE_FAN||void 0===_.mode)m=!0===s.isSkinnedMesh?new GF(g,y):new wi(g,y),!0===m.isSkinnedMesh&&m.normalizeSkinWeights(),_.mode===Ur.TRIANGLE_STRIP?m.geometry=WN(m.geometry,AL):_.mode===Ur.TRIANGLE_FAN&&(m.geometry=WN(m.geometry,Yw));else if(_.mode===Ur.LINES)m=new OM(g,y);else if(_.mode===Ur.LINE_STRIP)m=new il(g,y);else if(_.mode===Ur.LINE_LOOP)m=new QF(g,y);else{if(_.mode!==Ur.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);m=new tN(g,y)}Object.keys(m.geometry.morphAttributes).length>0&&rce(m,s),m.name=t.createUniqueName(s.name||"mesh_"+e),ca(m,s),_.extensions&&Hh(r,m,_),t.assignFinalMaterial(m),d.push(m)}for(let f=0,p=d.length;f<p;f++)t.associations.set(d[f],{meshes:e,primitives:f});if(1===d.length)return d[0];const h=new sa;t.associations.set(h,{meshes:e});for(let f=0,p=d.length;f<p;f++)h.add(d[f]);return h})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(r)return"perspective"===i.type?t=new ni(Pne_radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===i.type&&(t=new kg(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),ca(t,i),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return i.push(void 0!==t.inverseBindMatrices?this.getDependency("accessor",t.inverseBindMatrices):null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const d=o[c];if(d){a.push(d);const h=new at;null!==s&&h.fromArray(s.array,16*c),l.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new Vg(a,l)})}loadAnimation(e){const i=this.json.animations[e],r=i.name?i.name:"animation_"+e,s=[],o=[],a=[],l=[],c=[];for(let u=0,d=i.channels.length;u<d;u++){const h=i.channels[u],f=i.samplers[h.sampler],p=h.target,_=void 0!==i.parameters?i.parameters[f.input]:f.input,m=void 0!==i.parameters?i.parameters[f.output]:f.output;void 0!==p.node&&(s.push(this.getDependency("node",p.node)),o.push(this.getDependency("accessor",_)),a.push(this.getDependency("accessor",m)),l.push(f),c.push(p))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(u){const d=u[0],h=u[1],f=u[2],p=u[3],g=u[4],_=[];for(let m=0,y=d.length;m<y;m++){const v=d[m],b=h[m],x=f[m],M=p[m],S=g[m];if(void 0===v)continue;let C;switch(v.updateMatrix(),la[S.path]){case la.weights:C=kh;break;case la.rotation:C=al;break;default:C=Lh}const w=v.name?v.name:v.uuid,E=void 0!==M.interpolation?tce[M.interpolation]:Hc,L=[];la[S.path]===la.weights?v.traverse(function(I){I.morphTargetInfluences&&L.push(I.name?I.name:I.uuid)}):L.push(w);let V=x.array;if(x.normalized){const I=ME(V.constructor),N=new Float32Array(V.length);for(let U=0,F=V.length;U<F;U++)N[U]=V[U]*I;V=N}for(let I=0,N=L.length;I<N;I++){const U=new C(L[I]+"."+la[S.path],b.array,V,E);"CUBICSPLINE"===M.interpolation&&(U.createInterpolant=function(G){return new(this instanceof al?ece:XN)(this.times,this.values,this.getValueSize()/3,G)},U.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),_.push(U)}}return new Fh(r,void 0,_)})}createNodeMesh(e){const i=this,r=this.json.nodes[e];return void 0===r.mesh?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return void 0!==r.weights&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const i=this,r=this.json.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let c=0,u=a.length;c<u;c++)o.push(i.getDependency("node",a[c]));const l=void 0===r.skin?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],d=c[1],h=c[2];null!==h&&u.traverse(function(f){f.isSkinnedMesh&&f.bind(h,ace)});for(let f=0,p=d.length;f<p;f++)u.add(d[f]);return u})}_loadNodeShallow(e){const i=this.extensions,r=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];const s=this.json.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),void 0!==s.camera&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(u=!0===s.isBone?new IM:c.length>1?new sa:1===c.length?c[0]:new ei,u!==c[0])for(let d=0,h=c.length;d<h;d++)u.add(c[d]);if(s.name&&(u.userData.name=s.name,u.name=o),ca(u,s),s.extensions&&Hh(i,u,s),void 0!==s.matrix){const d=new at;d.fromArray(s.matrix),u.applyMatrix4(d)}else void 0!==s.translation&&u.position.fromArray(s.translation),void 0!==s.rotation&&u.quaternion.fromArray(s.rotation),void 0!==s.scale&&u.scale.fromArray(s.scale);return r.associations.has(u)||r.associations.set(u,{}),r.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new sa;i.name&&(s.name=r.createUniqueName(i.name)),ca(s,i),i.extensions&&Hh(t,s,i);const o=i.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,d=l.length;u<d;u++)s.add(l[u]);return r.associations=(u=>{const d=new Map;for(const[h,f]of r.associations)(h instanceof ss||h instanceof ts)&&d.set(h,f);return u.traverse(h=>{const f=r.associations.get(h);null!=f&&d.set(h,f)}),d})(s),s})}}function ZN(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=xE[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(void 0!==e.indices&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return ca(n,e),function cce(n,e,t){const i=e.attributes,r=new ns;if(void 0===i.POSITION)return;{const a=t.json.accessors[i.POSITION],l=a.min,c=a.max;if(void 0===l||void 0===c)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(r.set(new A(l[0],l[1],l[2]),new A(c[0],c[1],c[2])),a.normalized){const u=ME(Cu[a.componentType]);r.min.multiplyScalar(u),r.max.multiplyScalar(u)}}const s=e.targets;if(void 0!==s){const a=new A,l=new A;for(let c=0,u=s.length;c<u;c++){const d=s[c];if(void 0!==d.POSITION){const h=t.json.accessors[d.POSITION],f=h.min,p=h.max;if(void 0!==f&&void 0!==p){if(l.setX(Math.max(Math.abs(f[0]),Math.abs(p[0]))),l.setY(Math.max(Math.abs(f[1]),Math.abs(p[1]))),l.setZ(Math.max(Math.abs(f[2]),Math.abs(p[2]))),h.normalized){const g=ME(Cu[h.componentType]);l.multiplyScalar(g)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new As;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}(n,e,t),Promise.all(r).then(function(){return void 0!==e.targets?function ice(n,e,t){let i=!1,r=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(void 0!==d.POSITION&&(i=!0),void 0!==d.NORMAL&&(r=!0),void 0!==d.COLOR_0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(i){const h=void 0!==d.POSITION?t.getDependency("accessor",d.POSITION):n.attributes.position;o.push(h)}if(r){const h=void 0!==d.NORMAL?t.getDependency("accessor",d.NORMAL):n.attributes.normal;a.push(h)}if(s){const h=void 0!==d.COLOR_0?t.getDependency("accessor",d.COLOR_0):n.attributes.color;l.push(h)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const d=c[1],h=c[2];return i&&(n.morphAttributes.position=c[0]),r&&(n.morphAttributes.normal=d),s&&(n.morphAttributes.color=h),n.morphTargetsRelative=!0,n})}(n,e.targets,t):n})}const JN={type:"change"},EE={type:"start"},QN={type:"end"};class uce extends Xa{constructor(e,t){super(),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new A,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Lc.ROTATE,MIDDLE:Lc.DOLLY,RIGHT:Lc.PAN},this.touches={ONE:Fc.ROTATE,TWO:Fc.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return a.phi},this.getAzimuthalAngle=function(){return a.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(k){k.addEventListener("keydown",ht),this._domElementKeyEvents=k},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",ht),this._domElementKeyEvents=null},this.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(JN),i.update(),s=r.NONE},this.update=function(){const k=new A,ae=(new ci).setFromUnitVectors(e.up,new A(0,1,0)),Q=ae.clone().invert(),Te=new A,ze=new ci,Xe=2*Math.PI;return function(){const We=i.object.position;k.copy(We).sub(i.target),k.applyQuaternion(ae),a.setFromVector3(k),i.autoRotate&&s===r.NONE&&w(function S(){return 2*Math.PI/60/60*i.autoRotateSpeed}()),i.enableDamping?(a.theta+=l.theta*i.dampingFactor,a.phi+=l.phi*i.dampingFactor):(a.theta+=l.theta,a.phi+=l.phi);let ft=i.minAzimuthAngle,Ct=i.maxAzimuthAngle;return isFinite(ft)&&isFinite(Ct)&&(ft<-Math.PI?ft+=Xe:ft>Math.PI&&(ft-=Xe),Ct<-Math.PI?Ct+=Xe:Ct>Math.PI&&(Ct-=Xe),a.theta=ft<=Ct?Math.max(ft,Math.min(Ct,a.theta)):a.theta>(ft+Ct)/2?Math.max(ft,a.theta):Math.min(Ct,a.theta)),a.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,a.phi)),a.makeSafe(),a.radius*=c,a.radius=Math.max(i.minDistance,Math.min(i.maxDistance,a.radius)),!0===i.enableDamping?i.target.addScaledVector(u,i.dampingFactor):i.target.add(u),k.setFromSpherical(a),k.applyQuaternion(Q),We.copy(i.target).add(k),i.object.lookAt(i.target),!0===i.enableDamping?(l.theta*=1-i.dampingFactor,l.phi*=1-i.dampingFactor,u.multiplyScalar(1-i.dampingFactor)):(l.set(0,0,0),u.set(0,0,0)),c=1,!!(d||Te.distanceToSquared(i.object.position)>o||8*(1-ze.dot(i.object.quaternion))>o)&&(i.dispatchEvent(JN),Te.copy(i.object.position),ze.copy(i.object.quaternion),d=!1,!0)}}(),this.dispose=function(){i.domElement.removeEventListener("contextmenu",T),i.domElement.removeEventListener("pointerdown",de),i.domElement.removeEventListener("pointercancel",xe),i.domElement.removeEventListener("wheel",Ge),i.domElement.removeEventListener("pointermove",Pe),i.domElement.removeEventListener("pointerup",xe),null!==i._domElementKeyEvents&&(i._domElementKeyEvents.removeEventListener("keydown",ht),i._domElementKeyEvents=null)};const i=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=r.NONE;const o=1e-6,a=new kN,l=new kN;let c=1;const u=new A;let d=!1;const h=new se,f=new se,p=new se,g=new se,_=new se,m=new se,y=new se,v=new se,b=new se,x=[],M={};function C(){return Math.pow(.95,i.zoomSpeed)}function w(k){l.theta-=k}function E(k){l.phi-=k}const L=function(){const k=new A;return function(Q,Te){k.setFromMatrixColumn(Te,0),k.multiplyScalar(-Q),u.add(k)}}(),V=function(){const k=new A;return function(Q,Te){!0===i.screenSpacePanning?k.setFromMatrixColumn(Te,1):(k.setFromMatrixColumn(Te,0),k.crossVectors(i.object.up,k)),k.multiplyScalar(Q),u.add(k)}}(),I=function(){const k=new A;return function(Q,Te){const ze=i.domElement;if(i.object.isPerspectiveCamera){k.copy(i.object.position).sub(i.target);let Ne=k.length();Ne*=Math.tan(i.object.fov/2*Math.PI/180),L(2*Q*Ne/ze.clientHeight,i.object.matrix),V(2*Te*Ne/ze.clientHeight,i.object.matrix)}else i.object.isOrthographicCamera?(L(Q*(i.object.right-i.object.left)/i.object.zoom/ze.clientWidth,i.object.matrix),V(Te*(i.object.top-i.object.bottom)/i.object.zoom/ze.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function N(k){i.object.isPerspectiveCamera?c/=k:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*k)),i.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function U(k){i.object.isPerspectiveCamera?c*=k:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/k)),i.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function F(k){h.set(k.clientX,k.clientY)}function W(k){g.set(k.clientX,k.clientY)}function J(){1===x.length?h.set(x[0].pageX,x[0].pageY):h.set(.5*(x[0].pageX+x[1].pageX),.5*(x[0].pageY+x[1].pageY))}function _e(){1===x.length?g.set(x[0].pageX,x[0].pageY):g.set(.5*(x[0].pageX+x[1].pageX),.5*(x[0].pageY+x[1].pageY))}function ye(){const k=x[0].pageX-x[1].pageX,ae=x[0].pageY-x[1].pageY,Q=Math.sqrt(k*k+ae*ae);y.set(0,Q)}function Oe(k){if(1==x.length)f.set(k.pageX,k.pageY);else{const Q=Ce(k);f.set(.5*(k.pageX+Q.x),.5*(k.pageY+Q.y))}p.subVectors(f,h).multiplyScalar(i.rotateSpeed);const ae=i.domElement;w(2*Math.PI*p.x/ae.clientHeight),E(2*Math.PI*p.y/ae.clientHeight),h.copy(f)}function he(k){if(1===x.length)_.set(k.pageX,k.pageY);else{const ae=Ce(k);_.set(.5*(k.pageX+ae.x),.5*(k.pageY+ae.y))}m.subVectors(_,g).multiplyScalar(i.panSpeed),I(m.x,m.y),g.copy(_)}function Ie(k){const ae=Ce(k),Q=k.pageX-ae.x,Te=k.pageY-ae.y,ze=Math.sqrt(Q*Q+Te*Te);v.set(0,ze),b.set(0,Math.pow(v.y/y.y,i.zoomSpeed)),N(b.y),y.copy(v)}function de(k){!1!==i.enabled&&(0===x.length&&(i.domElement.setPointerCapture(k.pointerId),i.domElement.addEventListener("pointermove",Pe),i.domElement.addEventListener("pointerup",xe)),function Z(k){x.push(k)}(k),"touch"===k.pointerType?function St(k){switch(fe(k),x.length){case 1:switch(i.touches.ONE){case Fc.ROTATE:if(!1===i.enableRotate)return;J(),s=r.TOUCH_ROTATE;break;case Fc.PAN:if(!1===i.enablePan)return;_e(),s=r.TOUCH_PAN;break;default:s=r.NONE}break;case 2:switch(i.touches.TWO){case Fc.DOLLY_PAN:if(!1===i.enableZoom&&!1===i.enablePan)return;(function R(){i.enableZoom&&ye(),i.enablePan&&_e()})(),s=r.TOUCH_DOLLY_PAN;break;case Fc.DOLLY_ROTATE:if(!1===i.enableZoom&&!1===i.enableRotate)return;(function Ue(){i.enableZoom&&ye(),i.enableRotate&&J()})(),s=r.TOUCH_DOLLY_ROTATE;break;default:s=r.NONE}break;default:s=r.NONE}s!==r.NONE&&i.dispatchEvent(EE)}(k):function je(k){let ae;switch(k.button){case 0:ae=i.mouseButtons.LEFT;break;case 1:ae=i.mouseButtons.MIDDLE;break;case 2:ae=i.mouseButtons.RIGHT;break;default:ae=-1}switch(ae){case Lc.DOLLY:if(!1===i.enableZoom)return;(function G(k){y.set(k.clientX,k.clientY)})(k),s=r.DOLLY;break;case Lc.ROTATE:if(k.ctrlKey||k.metaKey||k.shiftKey){if(!1===i.enablePan)return;W(k),s=r.PAN}else{if(!1===i.enableRotate)return;F(k),s=r.ROTATE}break;case Lc.PAN:if(k.ctrlKey||k.metaKey||k.shiftKey){if(!1===i.enableRotate)return;F(k),s=r.ROTATE}else{if(!1===i.enablePan)return;W(k),s=r.PAN}break;default:s=r.NONE}s!==r.NONE&&i.dispatchEvent(EE)}(k))}function Pe(k){!1!==i.enabled&&("touch"===k.pointerType?function P(k){switch(fe(k),s){case r.TOUCH_ROTATE:if(!1===i.enableRotate)return;Oe(k),i.update();break;case r.TOUCH_PAN:if(!1===i.enablePan)return;he(k),i.update();break;case r.TOUCH_DOLLY_PAN:if(!1===i.enableZoom&&!1===i.enablePan)return;(function le(k){i.enableZoom&&Ie(k),i.enablePan&&he(k)})(k),i.update();break;case r.TOUCH_DOLLY_ROTATE:if(!1===i.enableZoom&&!1===i.enableRotate)return;(function te(k){i.enableZoom&&Ie(k),i.enableRotate&&Oe(k)})(k),i.update();break;default:s=r.NONE}}(k):function Ye(k){switch(s){case r.ROTATE:if(!1===i.enableRotate)return;!function q(k){f.set(k.clientX,k.clientY),p.subVectors(f,h).multiplyScalar(i.rotateSpeed);const ae=i.domElement;w(2*Math.PI*p.x/ae.clientHeight),E(2*Math.PI*p.y/ae.clientHeight),h.copy(f),i.update()}(k);break;case r.DOLLY:if(!1===i.enableZoom)return;!function ee(k){v.set(k.clientX,k.clientY),b.subVectors(v,y),b.y>0?N(C()):b.y<0&&U(C()),y.copy(v),i.update()}(k);break;case r.PAN:if(!1===i.enablePan)return;!function be(k){_.set(k.clientX,k.clientY),m.subVectors(_,g).multiplyScalar(i.panSpeed),I(m.x,m.y),g.copy(_),i.update()}(k)}}(k))}function xe(k){(function oe(k){delete M[k.pointerId];for(let ae=0;ae<x.length;ae++)if(x[ae].pointerId==k.pointerId)return void x.splice(ae,1)})(k),0===x.length&&(i.domElement.releasePointerCapture(k.pointerId),i.domElement.removeEventListener("pointermove",Pe),i.domElement.removeEventListener("pointerup",xe)),i.dispatchEvent(QN),s=r.NONE}function Ge(k){!1===i.enabled||!1===i.enableZoom||s!==r.NONE||(k.preventDefault(),i.dispatchEvent(EE),function ge(k){k.deltaY<0?U(C()):k.deltaY>0&&N(C()),i.update()}(k),i.dispatchEvent(QN))}function ht(k){!1===i.enabled||!1===i.enablePan||function K(k){let ae=!1;switch(k.code){case i.keys.UP:k.ctrlKey||k.metaKey||k.shiftKey?E(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):I(0,i.keyPanSpeed),ae=!0;break;case i.keys.BOTTOM:k.ctrlKey||k.metaKey||k.shiftKey?E(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):I(0,-i.keyPanSpeed),ae=!0;break;case i.keys.LEFT:k.ctrlKey||k.metaKey||k.shiftKey?w(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):I(i.keyPanSpeed,0),ae=!0;break;case i.keys.RIGHT:k.ctrlKey||k.metaKey||k.shiftKey?w(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):I(-i.keyPanSpeed,0),ae=!0}ae&&(k.preventDefault(),i.update())}(k)}function T(k){!1!==i.enabled&&k.preventDefault()}function fe(k){let ae=M[k.pointerId];void 0===ae&&(ae=new se,M[k.pointerId]=ae),ae.set(k.pageX,k.pageY)}function Ce(k){return M[(k.pointerId===x[0].pointerId?x[1]:x[0]).pointerId]}i.domElement.addEventListener("contextmenu",T),i.domElement.addEventListener("pointerdown",de),i.domElement.addEventListener("pointercancel",xe),i.domElement.addEventListener("wheel",Ge,{passive:!1}),this.update()}}const dce=["canvas"];function hce(n,e){if(1&n){const t=Sr();O(0,"button",15),$e("click",function(){const s=Hi(t).$implicit;return Vi(sn(2).setResolution(s))}),X(1),z()}if(2&n){const t=e.$implicit;we("cdkMenuItemChecked",sn(2).resolution===t),Me(1),Oo(" ",t," ")}}function fce(n,e){if(1&n&&(O(0,"div",13),Nn(1,hce,2,2,"button",14),z()),2&n){const t=sn();Me(1),we("ngForOf",t.Resolutions)}}let pce=(()=>{class n{constructor(t){this.backend=t,this.file="",this.doRotate=!1,this.fieldOfView=1,this.resolution=1,this.nearClippingPane=1,this.farClippingPane=1e3,this.positions=[new Mj({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"})],this.Resolutions=[.1,.25,.5,.75,1],this.modelLoader=new Rle}ngAfterViewInit(){this.backend.isHardwareAccelerationEnabled?(this._createScene(),this._createRenderer(),this._createControls(),this._loadModel()):this._shouldEnableHardwareAcceleration()}ngOnDestroy(){cancelAnimationFrame(this.renderId)}get canvas(){return this.canvasRef.nativeElement}get viewPort(){return document.getElementById("viewport")}get aspectRatio(){return this.viewPort.clientWidth/this.viewPort.clientHeight}get isFullscreen(){return window.innerWidth===screen.width&&window.innerHeight===screen.height&&this.viewPort.clientWidth===screen.width&&this.viewPort.clientHeight===screen.height}onResize(){this.renderer.setSize(this.viewPort.clientWidth,this.viewPort.clientHeight),this.camera.aspect=this.aspectRatio,this.camera.updateProjectionMatrix()}onFullscreenChanged(t){this.isFullscreen||this.leaveFullscreen()}_createControls(){this.controler=new uce(this.camera,this.renderer.domElement),this.controler.autoRotate=this.doRotate,this.controler.enableZoom=!0,this.controler.enablePan=!0,this.controler.update()}_createScene(){this.scene=new OF,this.scene.background=new Ae(13948120),this.camera=new ni(this.fieldOfView,this.aspectRatio,this.nearClippingPane,this.farClippingPane),this.camera.position.set(200,200,200),this.camera.lookAt(0,0,0),this.ambientLight=new MN(0,100),this.scene.add(this.ambientLight),this.directionalLight=new dE(16768772,.4),this.directionalLight.position.set(0,1,0),this.directionalLight.castShadow=!0,this.scene.add(this.directionalLight),this.light1=new Su(4929308,10),this.light1.position.set(0,200,400),this.scene.add(this.light1),this.light2=new Su(4929308,10),this.light2.position.set(500,100,0),this.scene.add(this.light2),this.light3=new Su(4929308,10),this.light3.position.set(0,100,-500),this.scene.add(this.light3),this.light4=new Su(4929308,10),this.light4.position.set(-500,300,500),this.scene.add(this.light4)}_createRenderer(){this.renderer=new RF({canvas:this.canvas,antialias:!0}),this.renderer.setPixelRatio(devicePixelRatio*this.resolution),this.renderer.setSize(this.canvas.clientWidth,this.canvas.clientHeight);let t=this;!function i(){t.renderer.render(t.scene,t.camera),t.renderId=requestAnimationFrame(i)}()}_loadModel(){let t=document.getElementById("loader"),i=document.getElementById("loading-state"),r=document.getElementById("loader-bar"),s=document.getElementById("loader-bar-progress");this.modelLoader.load(this.file,a=>{(new ns).setFromObject(a.scene).getCenter(a.scene.position),a.scene.position.multiplyScalar(-1),this.scene.add(a.scene)});const o=new aE;this.modelLoader.manager=o,o.onStart=function(a,l,c){},o.onLoad=function(){t.style.opacity="0",t.style.visibility="hidden"},o.onProgress=function(a,l,c){s.style.width=String(l/c*100)+"%"},o.onError=function(a){r.style.display="none",i.innerText="Error"}}_shouldEnableHardwareAcceleration(){let t=document.getElementById("loading-state");document.getElementById("loader-bar").style.display="none",t.innerText='Please turn on "Hardware Acceleration"'}setResolution(t){this.renderer.setPixelRatio(devicePixelRatio*t),this.resolution=t}toggleFullscreen(){this.isFullscreen?this.leaveFullscreen():this.enterFullscreen(),window.dispatchEvent(new Event("resize"))}enterFullscreen(){let t=document.getElementById("topbar");const i=document.documentElement;i.requestFullscreen?i.requestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.msRequestFullscreen&&i.msRequestFullscreen(),t.style.marginTop="-100%",t.style.visibility="hidden",this.viewPort.classList.add("fullscreen"),window.dispatchEvent(new Event("resize"))}leaveFullscreen(){let t=document.getElementById("topbar");const i=document;i.exitFullscreen?i.exitFullscreen():i.mozCancelFullScreen?i.mozCancelFullScreen():i.webkitExitFullscreen?i.webkitExitFullscreen():i.msExitFullscreen&&i.msExitFullscreen(),t.style.marginTop="unset",t.style.visibility="visible",this.viewPort.classList.remove("fullscreen"),window.dispatchEvent(new Event("resize"))}}return n.\u0275fac=function(t){return new(t||n)(H(Na))},n.\u0275cmp=Yt({type:n,selectors:[["app-model-viewer"]],viewQuery:function(t,i){if(1&t&&Lo(dce,5),2&t){let r;Pi(r=Ii())&&(i.canvasRef=r.first)}},hostBindings:function(t,i){1&t&&$e("resize",function(){return i.onResize()},0,zl)("fullscreenchange",function(){return i.onFullscreenChanged()},!1,Hl)("mozfullscreenchange",function(){return i.onFullscreenChanged()},!1,Hl)("webkitfullscreenchange",function(){return i.onFullscreenChanged()},!1,Hl)("msfullscreenchange",function(){return i.onFullscreenChanged()},!1,Hl)},inputs:{file:"file",doRotate:"doRotate",fieldOfView:"fieldOfView",resolution:"resolution",nearClippingPane:["nearClipping","nearClippingPane"],farClippingPane:["farClipping","farClippingPane"]},decls:15,vars:5,consts:[["id","viewport"],["id","model-viewer"],["canvas",""],["id","loader"],[1,"center"],["id","loading-state"],["id","loader-bar"],["id","loader-bar-progress"],["id","viewport-bottom"],["id","model-tools"],["id","setting",1,"fa","fa-gear",3,"cdkMenuTriggerFor","cdkMenuPosition"],["id","expand",3,"click"],["Settings",""],["cdkMenu","",1,"ContextMenu"],["class","ContextMenu-Item","cdkMenuItemCheckbox","",3,"cdkMenuItemChecked","click",4,"ngFor","ngForOf"],["cdkMenuItemCheckbox","",1,"ContextMenu-Item",3,"cdkMenuItemChecked","click"]],template:function(t,i){if(1&t&&(O(0,"div",0),Re(1,"canvas",1,2),O(3,"div",3)(4,"div",4)(5,"p",5),X(6," Loading 3D model... "),z(),O(7,"div",6),Re(8,"div",7),z()()(),O(9,"div",8)(10,"div",9),Re(11,"a",10),O(12,"a",11),$e("click",function(){return i.toggleFullscreen()}),z()()()(),Nn(13,fce,2,1,"ng-template",null,12,No)),2&t){const r=qs(14);Me(11),we("cdkMenuTriggerFor",r)("cdkMenuPosition",i.positions),Me(1),hy("fa ",i.isFullscreen?"fa-compress":"fa-expand","")}},dependencies:[Ep,kd,YI,sm],styles:["*[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.fa[_ngcontent-%COMP%]{width:30px;height:30px;font-size:21px;text-align:center;text-decoration:none;border-radius:50%;padding:5px}.center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}#viewport[_ngcontent-%COMP%]{width:100%;aspect-ratio:16/9;border-radius:var(--rounded);overflow:hidden;position:relative}#model-viewer[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;cursor:grab;background-color:#d4d4d8}#model-viewer[_ngcontent-%COMP%]:active{cursor:grabbing}#loader[_ngcontent-%COMP%]{width:100%;height:100%;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);position:absolute;top:0;left:0;margin:0;opacity:1;visibility:visible;z-index:500;transition:opacity 1s ease-in-out,visibility 1s ease-in-out}#loading-state[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin:0;text-align:center;color:var(--dark1)}#loader-bar[_ngcontent-%COMP%]{width:100%;height:5px;background-color:var(--alpha-dark);border-radius:100px;margin-top:5px;overflow:hidden}#loader-bar-progress[_ngcontent-%COMP%]{width:0%;height:100%;background-color:var(--scheme-color);border-radius:100px;transition:width .5s ease-in-out}#viewport-bottom[_ngcontent-%COMP%]{width:100%;height:20%;position:absolute;left:0;bottom:0;background:linear-gradient(0deg,rgba(0,0,0,.3) 0%,rgba(0,0,0,.2) 25%,rgba(0,0,0,0) 100%);opacity:0;z-index:1000}#viewport-details[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;bottom:0;background:linear-gradient(0deg,rgba(0,0,0,.3) 0%,rgba(0,0,0,.2) 5%,rgba(0,0,0,0) 20%,rgba(0,0,0,0) 80%,rgba(0,0,0,.2) 95%,rgba(0,0,0,.3) 100%);opacity:0;z-index:1000}#viewport-bottom[_ngcontent-%COMP%]:hover{opacity:1}#model-tools[_ngcontent-%COMP%]{width:auto;height:auto;border-radius:100px;position:absolute;right:0;bottom:0;margin:5px;padding:5px;gap:8px;display:flex;justify-content:right;align-items:center}#model-tools[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{cursor:pointer;background-color:transparent;color:var(--white1);transition:scale .1s ease}#model-tools[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:hover{background-color:var(--alpha-dark)}#model-tools[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:active{scale:.95}#viewport.fullscreen[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:0;position:fixed;top:0;left:0;z-index:9999}#viewport.fullscreen[_ngcontent-%COMP%]   #model-tools[_ngcontent-%COMP%]{margin:20px}@media only screen and (max-width: 900px){#viewport[_ngcontent-%COMP%]{border-radius:0}}@media only screen and (max-width: 900px) and (min-height: 1200px){#viewport[_ngcontent-%COMP%]{aspect-ratio:3/4}}@media only screen and (max-width: 900px) and (max-height: 1200px){#viewport[_ngcontent-%COMP%]{aspect-ratio:4/3}}@media only screen and (max-width: 900px) and (max-height: 900px){#viewport[_ngcontent-%COMP%]{aspect-ratio:16/9}}@media only screen and (max-width: 900px) and (max-height: 600px){#viewport[_ngcontent-%COMP%]{aspect-ratio:2.35/1}}@media only screen and (max-width: 600px) and (min-height: 1200px){#viewport[_ngcontent-%COMP%]{aspect-ratio:9/16}}@media only screen and (max-width: 600px) and (max-height: 1200px){#viewport[_ngcontent-%COMP%]{aspect-ratio:2/3}}@media only screen and (max-width: 600px) and (max-height: 900px){#viewport[_ngcontent-%COMP%]{aspect-ratio:4/5}}@media only screen and (max-width: 600px) and (max-height: 600px){#viewport[_ngcontent-%COMP%]{aspect-ratio:4/3}}"]}),n})();const mce=[{path:"",component:uee,data:{title:"Home",description:"Hi I'm Stamp, nice to meet you!",Image:"assets/images/profile.jpg"}},{path:"aboutme",component:cee,data:{title:"About me",description:"Hi I'm Stamp, nice to meet you!",Image:"assets/images/profile.jpg"}},{path:"contact",component:pee,data:{title:"Contact me",description:"Feel free to contact me!",Image:"assets/images/profile.jpg"}},{path:"resume",component:pte,data:{title:"Resume",description:"Stamp's resume is here!",Image:"assets/images/profile.jpg"}},{path:"3d",component:vte},{path:"3d/:model",component:(()=>{class n{constructor(t,i,r){this.router=t,this.activatedRoute=i,this.backend=r,this.model=""}ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.model=t.get("model")}),this.backend.isFileExist(`assets/3D/${this.model}/obj.gltf`)||this.router.navigateByUrl("404")}}return n.\u0275fac=function(t){return new(t||n)(H(wn),H(qo),H(Na))},n.\u0275cmp=Yt({type:n,selectors:[["app-model-details"]],decls:7,vars:3,consts:[["id","modelcontent",1,"d-column"],["id","viewer",1,"d-row"],[3,"file","resolution"],["id","details",1,"d-row"]],template:function(t,i){1&t&&(O(0,"app-page")(1,"div",0)(2,"div",1),Re(3,"app-model-viewer",2),z(),O(4,"div",3)(5,"h1"),X(6),z()()()()),2&t&&(Me(3),qf("file","assets/3D/",i.model,"/obj.gltf"),we("resolution",1),Me(3),tc(i.model))},dependencies:[Oc,pce],styles:['*[_ngcontent-%COMP%]{transition:all .2s ease-in-out}#modelcontent[_ngcontent-%COMP%]{width:85%;height:auto;margin-top:50px;position:relative;overflow:hidden}#viewer[_ngcontent-%COMP%]{width:65%}#details[_ngcontent-%COMP%]{width:35%;height:100%;padding-left:20px}.d-row[_ngcontent-%COMP%]{float:left}.d-column[_ngcontent-%COMP%]{width:100%}.d-column[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}h1[_ngcontent-%COMP%]{width:100%;margin:0}@media only screen and (max-width: 1200px){#modelcontent[_ngcontent-%COMP%]{width:90%}#viewer[_ngcontent-%COMP%]{width:70%}#details[_ngcontent-%COMP%]{width:30%;padding-left:16px;font-size:smaller}}@media only screen and (max-width: 900px){#modelcontent[_ngcontent-%COMP%]{width:100%;margin-top:0}.d-column[_ngcontent-%COMP%]{justify-content:center}.d-column[_ngcontent-%COMP%]:after{display:flex;flex-direction:column;clear:unset}.d-row[_ngcontent-%COMP%]{float:unset}#viewer[_ngcontent-%COMP%], #details[_ngcontent-%COMP%]{width:100%}#details[_ngcontent-%COMP%]{margin-top:20px;padding-left:0}}']}),n})()},{path:"404",component:mee,data:{title:"Hmmm 404",description:"What are you looking for?"}},{path:"**",redirectTo:"404"}];let gce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ut({imports:[pk.forRoot(mce),pk]}),n})();const e2=function(n){return{right:n}},p_=function(n){return{checked:n}};function _ce(n,e){if(1&n){const t=Sr();O(0,"div",17),Re(1,"span",14),O(2,"button",15),$e("click",function(){return Hi(t),Vi(sn().theme.is_dark=!1)}),X(3," Light "),z(),O(4,"button",15),$e("click",function(){return Hi(t),Vi(sn().theme.is_dark=!0)}),X(5," Dark "),z()()}if(2&n){const t=sn();Me(1),we("ngClass",Qt(3,e2,t.theme.is_dark)),Me(1),we("ngClass",Qt(5,p_,!t.theme.is_dark)),Me(2),we("ngClass",Qt(7,p_,t.theme.is_dark))}}const vce=function(n,e){return{"darkpage-header":n,"whitepage-header":e}},yce=function(n){return{"sliver border":n}},Tu=function(n){return{active:n}},bce=function(n,e){return{"darkpage-nav":n,"whitepage-nav":e}};let xce=(()=>{class n{constructor(t,i,r){this.theme=t,this.router=i,this.backend=r,this.is_open=!1}ngAfterViewInit(){const t=document.getElementById("topbar"),i=document.getElementById("mobile-nav-wrapper");this.router.events.subscribe(()=>{t.classList.remove("floating"),setTimeout(()=>{i.classList.remove("open")},250)})}OnResize(t){window.innerWidth>900&&this.CloseNav()}OnTouchStart(t){this.tsX=t.touches[0].clientX,this.tsY=t.touches[0].clientY}OnTouchMove(t){window}OnTouchEnd(t){let i=t.changedTouches[0].clientX;this.tsX>i+50&&this.tsX>window.innerWidth-20?this.OpenNav():this.tsX<i-50&&this.CloseNav()}isActive(t){return document.location.pathname.endsWith(t)}ToogleTheme(){this.theme.is_dark=!this.theme.is_dark}OpenNav(){window.innerWidth<=900&&document.getElementById("mobile-nav-bg").classList.add("open")}CloseNav(){document.getElementById("mobile-nav-bg").classList.remove("open")}closeModal(t){document.getElementById(t).classList.remove("open")}openModal(t){const i=document.getElementById(t);i.classList.add("open"),i.addEventListener("click",()=>{i.classList.remove("open"),"sidebar-nav"===t&&(this.is_open=!1)});const r=Array.from(i.querySelectorAll(`#${t} > *`));for(let s of r)s.addEventListener("click",o=>{o.stopPropagation?o.stopPropagation():o.cancelBubble=!0})}}return n.\u0275fac=function(t){return new(t||n)(H(hr),H(wn),H(Na))},n.\u0275cmp=Yt({type:n,selectors:[["app-topbar"]],hostBindings:function(t,i){1&t&&$e("resize",function(){return i.OnResize()},0,zl)("touchstart",function(s){return i.OnTouchStart(s)},!1,zl)("touchmove",function(s){return i.OnTouchMove(s)},!1,zl)("touchend",function(s){return i.OnTouchEnd(s)},!1,zl)},decls:38,vars:39,consts:[["id","topbar-wrapper",1,"glass",3,"ngClass","contextmenu"],["id","topbar",3,"ngClass"],["topbar",""],[3,"ngClass","click"],["id","option-btn","mat-button","",3,"cdkMenuTriggerFor"],[1,"clickable"],["id","mobile-nav-open","mat-icon-button","",3,"click"],["id","fake-scroll-track",1,"long"],["id","mobile-nav-wrapper",1,"modal-bg",3,"click"],["id","mobile-nav",1,"glass",3,"ngClass","contextmenu"],[1,"modal-close",3,"click"],[1,"top-nav"],[1,"bottom-nav"],[1,"nav-button","row","clickable","checktype-wrapper"],[1,"checktype-indicator",3,"ngClass"],[1,"styled-button",3,"ngClass","click"],["Option",""],["cdkMenu","",1,"ContextMenu","row","clickable","checktype-wrapper"]],template:function(t,i){if(1&t&&(O(0,"header",0),$e("contextmenu",function(){return!1}),O(1,"div",1,2)(3,"nav")(4,"a",3),$e("click",function(){return i.router.navigateByUrl("aboutme")}),X(5,"About me"),z(),O(6,"a",3),$e("click",function(){return i.router.navigateByUrl("resume")}),X(7,"Resume"),z(),O(8,"a",3),$e("click",function(){return i.router.navigateByUrl("contact")}),X(9,"Contact"),z()(),O(10,"button",4)(11,"mat-icon",5),X(12,"more_vert"),z()(),O(13,"button",6),$e("click",function(){return i.openModal("mobile-nav-wrapper")}),O(14,"mat-icon"),X(15,"menu"),z()()(),Re(16,"div",7),z(),O(17,"div",8),$e("click",function(){return i.closeModal("mobile-nav-wrapper")}),O(18,"div",9),$e("contextmenu",function(){return!1}),O(19,"button",10),$e("click",function(){return i.closeModal("mobile-nav-wrapper")}),O(20,"mat-icon"),X(21,"close"),z()(),O(22,"div",11)(23,"button",3),$e("click",function(){return i.router.navigateByUrl("aboutme")}),X(24," About me "),z(),O(25,"button",3),$e("click",function(){return i.router.navigateByUrl("resume")}),X(26," Resume "),z(),O(27,"button",3),$e("click",function(){return i.router.navigateByUrl("contact")}),X(28," Contact "),z()(),O(29,"div",12)(30,"div",13),Re(31,"span",14),O(32,"button",15),$e("click",function(){return i.theme.is_dark=!1}),X(33," Light "),z(),O(34,"button",15),$e("click",function(){return i.theme.is_dark=!0}),X(35," Dark "),z()()()()(),Nn(36,_ce,6,9,"ng-template",null,16,No)),2&t){const r=qs(37);we("ngClass",mi(13,vce,i.theme.is_dark,!i.theme.is_dark)),Me(1),we("ngClass",Qt(16,yce,i.theme.is_portrait||i.backend.isMobile)),Me(3),we("ngClass",Qt(18,Tu,i.isActive("aboutme"))),Me(2),we("ngClass",Qt(20,Tu,i.isActive("resume"))),Me(2),we("ngClass",Qt(22,Tu,i.isActive("contact"))),Me(2),we("cdkMenuTriggerFor",r),Me(8),we("ngClass",mi(24,bce,i.theme.is_dark,!i.theme.is_dark)),Me(5),we("ngClass",Qt(27,Tu,i.isActive("aboutme"))),Me(2),we("ngClass",Qt(29,Tu,i.isActive("resume"))),Me(2),we("ngClass",Qt(31,Tu,i.isActive("contact"))),Me(4),we("ngClass",Qt(33,e2,i.theme.is_dark)),Me(1),we("ngClass",Qt(35,p_,!i.theme.is_dark)),Me(2),we("ngClass",Qt(37,p_,i.theme.is_dark))}},dependencies:[Ar,kd,sm,a9],styles:["*[_ngcontent-%COMP%]{transition:all .2s ease-in-out}header[_ngcontent-%COMP%]{width:calc(100% - var(--scroll-w));height:60px;position:fixed;display:flex;flex-direction:row-reverse;top:0;left:0;z-index:1000}header[_ngcontent-%COMP%]:has(#topbar.sliver.pin){position:absolute;transform:translateY(-100%)}button[_ngcontent-%COMP%]{box-shadow:unset;font-weight:unset;min-width:unset;min-height:unset;height:min-content;border:none;background-color:transparent}#option-btn[_ngcontent-%COMP%]{width:30px;margin-left:20px;margin-right:20px;font-size:15px;padding:0}#option-btn[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{font-size:20px;display:flex;align-items:center}.modal-close[_ngcontent-%COMP%]{left:14px!important;top:12px!important}nav[_ngcontent-%COMP%]{height:50%;display:flex;align-items:center;margin-left:25px;margin-right:25px;gap:25px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:400;font-size:15px;text-underline-offset:2px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}#topbar[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:right;align-items:center;border-bottom:1px solid transparent}.whitepage-header[_ngcontent-%COMP%]{background-color:var(--white3-alpha);color:var(--dark2)}.whitepage-header[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:not(.active, [_ngcontent-%COMP%]:hover:not(#option-btn)){color:var(--dark2)}.whitepage-header[_ngcontent-%COMP%] > .sliver.border[_ngcontent-%COMP%]:not(.floating){border-bottom:1px solid var(--little-dark)!important}.whitepage-header[_ngcontent-%COMP%] > .floating[_ngcontent-%COMP%]{box-shadow:0 1px 5px #0000001a;border-bottom:1px solid transparent}.darkpage-header[_ngcontent-%COMP%]{background-color:var(--dark1-alpha);color:var(--white3)}.darkpage-header[_ngcontent-%COMP%] > #topbar[_ngcontent-%COMP%]{border-bottom:1px solid var(--dark1)}.darkpage-header[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:not(.active, [_ngcontent-%COMP%]:hover:not(#option-btn)){color:var(--white3)}.darkpage-header[_ngcontent-%COMP%] > .sliver.border[_ngcontent-%COMP%], .darkpage-header[_ngcontent-%COMP%] > .floating[_ngcontent-%COMP%]{border-bottom:1px solid var(--alpha-white)!important}.active[_ngcontent-%COMP%]{color:var(--scheme-color)}button[mat-icon-button][_ngcontent-%COMP%]{align-items:center}#mobile-nav-open[_ngcontent-%COMP%]{width:auto;margin-right:5px;font-size:20px;display:none}#mobile-nav-open[_ngcontent-%COMP%]:focus{color:unset}#mobile-nav-wrapper[_ngcontent-%COMP%]{width:100dvw;height:100dvh;position:fixed;top:0;right:0;padding:0;z-index:9999;display:flex;justify-content:right;transition:width 0s,opacity .2s ease-in-out,visibility .2s ease-in-out}#mobile-nav[_ngcontent-%COMP%]{box-shadow:-1px 0 10px #0000001a;width:50%;max-width:300px;min-width:150px;height:100dvh;min-height:300px;display:none;flex-direction:column;position:relative;padding:56px 18px 18px;gap:12px;margin-right:-100%;overflow-y:scroll}.top-nav[_ngcontent-%COMP%], .bottom-nav[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:8px;padding:8px 0}.top-nav[_ngcontent-%COMP%]{min-height:400px;flex:1}.bottom-nav[_ngcontent-%COMP%]{padding-bottom:0}.darkpage-nav[_ngcontent-%COMP%]:not(.glass)   .bottom-nav[_ngcontent-%COMP%]{border-top:1px solid var(--alpha-white)}.whitepage-nav[_ngcontent-%COMP%]:not(.glass)   .bottom-nav[_ngcontent-%COMP%]{border-top:1px solid var(--alpha-dark)}.glass[_ngcontent-%COMP%]   .bottom-nav[_ngcontent-%COMP%]{border-top:1px solid var(--alpha-white)}.top-nav[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .bottom-nav[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%;text-align:left;display:flex;gap:10px;font-size:20px;padding-left:0;padding-right:0}.top-nav[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover, .bottom-nav[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{color:var(--scheme-color)}#mobile-nav-wrapper.open[_ngcontent-%COMP%] > #mobile-nav[_ngcontent-%COMP%]{margin-right:0}#mobile-nav-wrapper.open[_ngcontent-%COMP%]{visibility:hidden}.whitepage-nav[_ngcontent-%COMP%]{background-color:var(--white3);color:var(--dark2)}.whitepage-nav[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:not(.active, [_ngcontent-%COMP%]:hover){color:var(--dark2)}.darkpage-nav[_ngcontent-%COMP%]{background-color:var(--dark2);color:var(--white3)}.darkpage-nav[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:not(.active, [_ngcontent-%COMP%]:hover){color:var(--white3)}.glass.whitepage-nav[_ngcontent-%COMP%]{background-color:var(--alpha-dark);color:var(--white3)}.glass.whitepage-nav[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:not(.active, [_ngcontent-%COMP%]:hover){color:var(--white3)}.glass.darkpage-nav[_ngcontent-%COMP%]{background-color:var(--alpha-dark)}.linebreak[_ngcontent-%COMP%]{width:auto;margin-left:20px;margin-right:20px}.checktype-wrapper[_ngcontent-%COMP%]{width:100%;border:1px solid rgba(255,255,255,.1);border-radius:10px;margin-top:12px;opacity:1}.checktype-wrapper[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{color:#fff;transition:opacity .3s ease-in-out,color .3s ease-in-out!important}.checktype-wrapper[_ngcontent-%COMP%] > .styled-button[_ngcontent-%COMP%]{background:none!important;border:none!important;color:#fff!important;transition:opacity .3s ease-in-out,color .3s ease-in-out!important;display:flex;justify-content:center;align-items:center;font-size:14px}.checktype-wrapper[_ngcontent-%COMP%] > .styled-button[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{position:unset;transform:none}.checktype-wrapper[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:active{scale:1!important}.checktype-wrapper[_ngcontent-%COMP%] > .styled-button.checked[_ngcontent-%COMP%]{color:#fff}.checktype-wrapper[_ngcontent-%COMP%] > .styled-button[_ngcontent-%COMP%]:not(.checked){opacity:.2}@media only screen and (max-width: 1200px){nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], #option-btn[_ngcontent-%COMP%]{font-size:12px}}@media only screen and (max-width: 900px){header[_ngcontent-%COMP%]{width:100%;height:50px}nav[_ngcontent-%COMP%]{gap:20px;margin-left:18px;margin-right:18px;display:none}#option-btn[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;font-size:20px;display:none}#mobile-nav-open[_ngcontent-%COMP%], #mobile-nav[_ngcontent-%COMP%]{display:flex}#mobile-nav-wrapper.open[_ngcontent-%COMP%]{visibility:visible;opacity:1}}@media only screen and (max-width: 600px){header[_ngcontent-%COMP%]{height:46px}nav[_ngcontent-%COMP%]{gap:15px;margin-left:10px;margin-right:10px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-underline-offset:1px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:10px;font-weight:400}#option-btn[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;font-weight:400}.top-nav[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .bottom-nav[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{font-size:16px}}"]}),n})();const wce=function(n,e){return{"dark-theme":n,"white-theme":e}};let Mce=(()=>{class n{constructor(t){this.theme=t}}return n.\u0275fac=function(t){return new(t||n)(H(hr))},n.\u0275cmp=Yt({type:n,selectors:[["app-waves"]],decls:5,vars:4,consts:[["id","waves",3,"ngClass"],["id","wave1",1,"wave"],["id","wave2",1,"wave"],["id","wave3",1,"wave"],["id","wave4",1,"wave"]],template:function(t,i){1&t&&(O(0,"div",0),Re(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),z()),2&t&&we("ngClass",mi(1,wce,i.theme.is_dark,!i.theme.is_dark))},dependencies:[Ar],styles:["#waves[_ngcontent-%COMP%]{width:100vw;position:fixed;left:0;bottom:0;z-index:0;transition:opacity 0s;animation:_ngcontent-%COMP%_onload 0s ease-in .5s forwards;animation-fill-mode:forwards}#waves.white-theme[_ngcontent-%COMP%]{opacity:.3}#waves.dark-theme[_ngcontent-%COMP%]{opacity:.1}.wave[_ngcontent-%COMP%]{width:100%;height:400px;margin-top:auto;position:absolute;left:0;bottom:0;background:url(wave.51e0e5b2e60cf9b4.png);background-size:1000px 400px}.wave#wave1[_ngcontent-%COMP%]{bottom:-15px;z-index:1000;opacity:.8;animation:_ngcontent-%COMP%_animateFw 8s linear infinite}.wave#wave2[_ngcontent-%COMP%]{bottom:-20px;z-index:999;opacity:.4;animation:_ngcontent-%COMP%_animateBw 8s linear infinite}.wave#wave3[_ngcontent-%COMP%]{z-index:1000;opacity:.6;animation:_ngcontent-%COMP%_animateFw 16s linear infinite}.wave#wave4[_ngcontent-%COMP%]{bottom:-10px;z-index:999;opacity:.2;animation:_ngcontent-%COMP%_animateBw 16s linear infinite}@media only screen and (min-height: 1200px){#waves[_ngcontent-%COMP%]{bottom:0}}@media only screen and (max-height: 900px){#waves[_ngcontent-%COMP%]{bottom:-50px}}@media only screen and (max-height: 600px){#waves[_ngcontent-%COMP%]{bottom:-200px}}@keyframes _ngcontent-%COMP%_onload{to{transition:opacity .2s}}@keyframes _ngcontent-%COMP%_animateFw{0%{background-position-x:1000px}to{background-position-x:0px}}@keyframes _ngcontent-%COMP%_animateBw{0%{background-position-x:-1000px}to{background-position-x:0px}}"]}),n})(),Ece=(()=>{class n{constructor(t){this.Theme=t,this.title="resume"}}return n.\u0275fac=function(t){return new(t||n)(H(hr))},n.\u0275cmp=Yt({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,i){1&t&&Re(0,"app-waves")(1,"app-topbar")(2,"router-outlet")},dependencies:[lx,xce,Mce]}),n})(),Sce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$t({type:n,bootstrap:[Ece]}),n.\u0275inj=Ut({providers:[hr,Na],imports:[EP,gce,YX,gj,h7,c6,D6,k6,ZI,aX,qQ,SX,l9,f9,d0]}),n})();m8().bootstrapModule(Sce).catch(n=>console.error(n))}},Nt=>{Nt(Nt.s=978)}]);